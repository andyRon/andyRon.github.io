<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-æœ‰åºæ•°ç»„]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Ordered Array æœ‰åºæ•°ç»„(Ordered Array) è¿™æ˜¯ä¸€ä¸ªå§‹ç»ˆä»ä½åˆ°é«˜æ’åºçš„æ•°ç»„ã€‚ æ¯å½“æ‚¨å‘æ­¤æ•°ç»„æ·»åŠ æ–°å…ƒç´ æ—¶ï¼Œå®ƒéƒ½ä¼šæ’å…¥åˆ°å…¶æ’åºä½ç½®ã€‚ å½“æ‚¨å¸Œæœ›å¯¹æ•°æ®è¿›è¡Œæ’åºå¹¶ä¸”ç›¸å¯¹è¾ƒå°‘åœ°æ’å…¥æ–°å…ƒç´ æ—¶ï¼Œæœ‰åºæ•°ç»„éå¸¸æœ‰ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ¯”æ’åºæ•´ä¸ªæ•°ç»„æ›´å¿«ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦ç»å¸¸æ›´æ”¹æ•°ç»„ï¼Œåˆ™ä½¿ç”¨å¸¸è§„æ•°ç»„å¹¶æ‰‹åŠ¨å¯¹å…¶è¿›è¡Œæ’åºå¯èƒ½ä¼šæ›´å¿«ã€‚ å®ç°æ˜¯éå¸¸åŸºç¡€çš„ã€‚ å®ƒåªæ˜¯Swiftå†…ç½®æ•°ç»„çš„åŒ…è£…å™¨ï¼š 123456789101112131415161718192021222324252627282930313233public struct OrderedArray&lt;T: Comparable&gt; &#123; fileprivate var array = [T]() public init(array: [T]) &#123; self.array = array.sorted() &#125; public var isEmpty: Bool &#123; return array.isEmpty &#125; public var count: Int &#123; return array.count &#125; public subscript(index: Int) -&gt; T &#123; return array[index] &#125; public mutating func removeAtIndex(index: Int) -&gt; T &#123; return array.remove(at: index) &#125; public mutating func removeAll() &#123; array.removeAll() &#125;&#125;extension OrderedArray: CustomStringConvertible &#123; public var description: String &#123; return array.description &#125;&#125; å¦‚æ‚¨æ‰€è§ï¼Œæ‰€æœ‰è¿™äº›æ–¹æ³•åªæ˜¯åœ¨å†…éƒ¨arrayå˜é‡ä¸Šè°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚ å‰©ä¸‹çš„æ˜¯insert()å‡½æ•°ã€‚ è¿™æ˜¯å¯¹å®ƒçš„åˆæ­¥å°è¯•ï¼š 1234567891011121314public mutating func insert(_ newElement: T) -&gt; Int &#123; let i = findInsertionPoint(newElement) array.insert(newElement, at: i) return i&#125;private func findInsertionPoint(_ newElement: T) -&gt; Int &#123; for i in 0..&lt;array.count &#123; if newElement &lt;= array[i] &#123; return i &#125; &#125; return array.count // insert at the end&#125; è¾…åŠ©å‡½æ•°findInsertionPoint()åªæ˜¯éå†æ•´ä¸ªæ•°ç»„ï¼Œå¯»æ‰¾æ’å…¥æ–°å…ƒç´ çš„æ­£ç¡®ä½ç½®ã€‚ æ³¨æ„ï¼š array.insert(... atIndex: array.count) å°†æ–°å¯¹è±¡æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ’å…¥ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°è¿”å›array.countä½œä¸ºç´¢å¼•ã€‚ åœ¨playgroundä¸­æµ‹è¯•ï¼š 123456789var a = OrderedArray&lt;Int&gt;(array: [5, 1, 3, 9, 7, -1])a // [-1, 1, 3, 5, 7, 9]a.insert(4) // inserted at index 3a // [-1, 1, 3, 4, 5, 7, 9]a.insert(-2) // inserted at index 0a.insert(10) // inserted at index 8a // [-2, -1, 1, 3, 4, 5, 7, 9, 10] æ•°ç»„çš„å†…å®¹å°†å§‹ç»ˆä»ä½åˆ°é«˜æ’åºã€‚ ä¸å¹¸çš„æ˜¯ï¼Œå½“å‰çš„findInsertionPoint()å‡½æ•°æœ‰ç‚¹æ…¢ã€‚ åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå®ƒéœ€è¦æ‰«ææ•´ä¸ªæ•°ç»„ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨äºŒåˆ†æœç´¢æŸ¥æ‰¾æ’å…¥ç‚¹æ¥åŠ å¿«é€Ÿåº¦ã€‚ æ–°çš„ç‰ˆæœ¬ï¼š 12345678910111213141516private func findInsertionPoint(_ newElement: T) -&gt; Int &#123; var startIndex = 0 var endIndex = array.count while startIndex &lt; endIndex &#123; let midIndex = startIndex + (endIndex - startIndex) / 2 if array[midIndex] == newElement &#123; return midIndex &#125; else if array[midIndex] &lt; newElement &#123; startIndex = midIndex + 1 &#125; else &#123; endIndex = midIndex &#125; &#125; return startIndex&#125; ä¸å¸¸è§„äºŒåˆ†æœç´¢çš„æœ€å¤§åŒºåˆ«åœ¨äºï¼Œå½“æ‰¾ä¸åˆ°å€¼æ—¶ï¼Œä¸ä¼šè¿”å›nilï¼Œè€Œæ˜¯è¿”å›å…ƒç´ æœ¬èº«æ‰€åœ¨çš„æ•°ç»„ç´¢å¼•ã€‚ è¿™å°±æ˜¯æˆ‘ä»¬æ’å…¥æ–°å¯¹è±¡çš„åœ°æ–¹ã€‚ è¯·æ³¨æ„ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢ä¸ä¼šæ”¹å˜insert()çš„æœ€åæƒ…å†µè¿è¡Œæ—¶å¤æ‚æ€§ã€‚äºŒåˆ†æœç´¢æœ¬èº«åªéœ€è¦O(log n)æ—¶é—´ï¼Œä½†åœ¨æ•°ç»„ä¸­é—´æ’å…¥ä¸€ä¸ªæ–°å¯¹è±¡ä»ç„¶éœ€è¦ç§»åŠ¨å†…å­˜ä¸­çš„æ‰€æœ‰å‰©ä½™å…ƒç´ ã€‚ æ€»çš„æ¥è¯´ï¼Œæ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯O(n)ã€‚ä½†å®é™…ä¸Šè¿™ä¸ªæ–°ç‰ˆæœ¬è‚¯å®šè¦å¿«å¾—å¤šï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹æ•°ç»„ä¸Šã€‚ æ›´å®Œæ•´çš„ä»£ç å¯ä»¥æŸ¥çœ‹Ole Begemannçš„æ’åºæ•°ç»„ã€‚ å¯¹åº”çš„æ–‡ç« è§£é‡Šäº†ä¼˜åŠ¿å’Œæƒè¡¡ã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>æœ‰åºæ•°ç»„</tag>
        <tag>Ordered Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å›ºå®šå¤§å°æ•°ç»„]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%9B%BA%E5%AE%9A%E5%A4%A7%E5%B0%8F%E6%95%B0%E7%BB%84.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Fixed-Size Arrays å›ºå®šå¤§å°æ•°ç»„(Fixed-Size Arrays) æ—©æœŸçš„ç¼–ç¨‹è¯­è¨€æ²¡æœ‰éå¸¸å¥‡ç‰¹çš„æ•°ç»„ã€‚ æ‚¨å°†åˆ›å»ºå…·æœ‰å›ºå®šå¤§å°çš„æ•°ç»„ï¼Œä»é‚£æ—¶èµ·å®ƒå°†æ°¸è¿œä¸ä¼šå¢é•¿æˆ–ç¼©å°ã€‚ ç”šè‡³Cå’ŒObjective-Cä¸­çš„æ ‡å‡†æ•°ç»„ä»ç„¶æ˜¯è¿™ç§ç±»å‹ã€‚ å½“æ‚¨å®šä¹‰è¿™æ ·çš„æ•°ç»„æ—¶ï¼Œ int myArray[10]; ç¼–è¯‘å™¨åˆ†é…ä¸€ä¸ªå¯ä»¥å®¹çº³40ä¸ªå­—èŠ‚çš„è¿ç»­å†…å­˜å—ï¼ˆå‡è®¾intæ˜¯4ä¸ªå­—èŠ‚ï¼‰ï¼š é‚£å°±æ˜¯ä½ çš„æ•°ç»„ã€‚ å®ƒæ€»æ˜¯è¿™ä¹ˆå¤§ã€‚ å¦‚æœä½ éœ€è¦è¶…è¿‡10ä¸ªå…ƒç´ ï¼Œé‚£ä½ å°±ä¸å¹¸äº†â€¦â€¦æ²¡æœ‰ç©ºé—´ã€‚ è¦è·å¾—ä¸€ä¸ªåœ¨è£…æ»¡æ—¶å¢å®¹çš„æ•°ç»„ï¼Œä½ éœ€è¦ä½¿ç”¨åŠ¨æ€æ•°ç»„å¯¹è±¡ï¼Œæ¯”å¦‚åœ¨Objective-Cä¸­çš„NSMutableArrayæˆ–åœ¨C ++ä¸­çš„std::vectorã€‚å½“ç„¶ï¼ŒåƒSwiftè¿™æ ·çš„è¯­è¨€ï¼Œå…¶æ•°ç»„æœ¬èº«å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ å®¹é‡ã€‚ æ—§å¼æ•°ç»„çš„ä¸€ä¸ªä¸»è¦ç¼ºç‚¹æ˜¯å®ƒä»¬ç©ºé—´éœ€æ±‚å¤ªå¤§æˆ–è€…ç©ºé—´ä¸è¶³ã€‚ å¦‚æœå®ƒä»¬å¤ªå¤§ä½ å°±ä¼šæµªè´¹å†…å­˜ã€‚ å¹¶ä¸”æ‚¨éœ€è¦æ³¨æ„ç”±äºç¼“å†²åŒºæº¢å‡ºå¯¼è‡´çš„å®‰å…¨æ¼æ´å’Œå´©æºƒã€‚ æ€»ä¹‹ï¼Œå›ºå®šå¤§å°æ•°ç»„ä¸çµæ´»ï¼Œä½†ä¸ä¼šç•™ä¸‹é”™è¯¯ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘å–œæ¬¢å›ºå®šå¤§å°çš„æ•°ç»„å› ä¸ºå®ƒä»¬ç®€å•ï¼Œå¿«é€Ÿä¸”å¯é¢„æµ‹ã€‚ ä»¥ä¸‹å…¸å‹çš„æ•°ç»„æ“ä½œï¼š åœ¨æœ€åé™„åŠ ä¸€ä¸ªæ–°å…ƒç´  åœ¨å¼€å¤´æˆ–ä¸­é—´æŸå¤„æ’å…¥ä¸€ä¸ªæ–°å…ƒç´  åˆ é™¤å…ƒç´  æŒ‰ç´¢å¼•æŸ¥æ‰¾å…ƒç´  è®¡ç®—æ•°ç»„çš„å¤§å° å¯¹äºå›ºå®šå¤§å°çš„æ•°ç»„ï¼Œåªè¦æ•°ç»„å°šæœªæ»¡ï¼Œåˆ™æ·»åŠ å¾ˆå®¹æ˜“ï¼š æŒ‰ç´¢å¼•æŸ¥æ‰¾ä¹Ÿå¾ˆç®€å•ï¼š è¿™ä¸¤ä¸ªæ“ä½œå¤æ‚åº¦æ˜¯O(1)ï¼Œè¿™æ„å‘³ç€æ‰§è¡Œå®ƒä»¬æ‰€èŠ±è´¹çš„æ—¶é—´ä¸æ•°ç»„çš„å¤§å°æ— å…³ã€‚ å¯¹äºå¯ä»¥å¢é•¿çš„æ•°ç»„ï¼Œå…³äºæ·»åŠ ï¼šå¦‚æœæ•°ç»„å·²æ»¡ï¼Œåˆ™å¿…é¡»åˆ†é…æ–°å†…å­˜å¹¶å°†æ—§å†…å®¹å¤åˆ¶åˆ°æ–°çš„å†…å­˜ç¼“å†²åŒºã€‚ å¹³å‡è€Œè¨€ï¼Œæ·»åŠ ä»ç„¶æ˜¯O(1)æ“ä½œï¼Œä½†æ˜¯åœ¨ä¹‹åå‘ç”Ÿçš„äº‹æƒ…æ˜¯ä¸å¤ªå¯é¢„æµ‹çš„ã€‚ æ˜‚è´µçš„æ“ä½œæ˜¯æ’å…¥å’Œåˆ é™¤ã€‚ å½“ä½ åœ¨ä¸€ä¸ªä¸åœ¨æœ«å°¾çš„æŸä¸ªåœ°æ–¹æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå®ƒéœ€è¦å°†æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†å¾€åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚ è¿™æ¶‰åŠç›¸å¯¹æ˜‚è´µçš„å†…å­˜å¤åˆ¶æ“ä½œã€‚ ä¾‹å¦‚ï¼Œåœ¨æ•°ç»„çš„ä¸­é—´æ’å…¥å€¼7ï¼š å¦‚æœæ‚¨çš„ä»£ç ä½¿ç”¨çš„ç´¢å¼•è¶…è¿‡äº†æ’å…¥ç‚¹ï¼Œä½†è¿™äº›ç´¢å¼•ç°åœ¨å¼•ç”¨äº†é”™è¯¯çš„å¯¹è±¡ã€‚ åˆ é™¤éœ€è¦ç›¸åçš„æ“ä½œï¼š é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¯¹äºNSMutableArrayæˆ–Swiftæ•°ç»„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ æ’å…¥å’Œåˆ é™¤æ˜¯O(n)æ“ä½œ â€”â€” æ•°ç»„è¶Šå¤§ï¼Œæ‰€éœ€çš„æ—¶é—´è¶Šé•¿ã€‚ å›ºå®šå¤§å°æ•°ç»„æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼š æ‚¨äº‹å…ˆçŸ¥é“æ‚¨éœ€è¦çš„æœ€å¤§å…ƒç´ æ•°é‡ã€‚ åœ¨æ¸¸æˆä¸­ï¼Œè¿™å¯èƒ½æ˜¯ä¸€æ¬¡å¯ä»¥æ¿€æ´»çš„ç²¾çµæ•°é‡ã€‚ å¯¹æ­¤åŠ ä»¥é™åˆ¶å¹¶éæ²¡æœ‰é“ç†ã€‚ ï¼ˆå¯¹äºæ¸¸æˆï¼Œæœ€å¥½äº‹å…ˆåˆ†é…ä½ éœ€è¦çš„æ‰€æœ‰å¯¹è±¡ã€‚ï¼‰ æ•°ç»„æ²¡æœ‰å¿…è¦æ’åºï¼Œå³å…ƒç´ çš„é¡ºåºæ— å…³ç´§è¦ã€‚ å¦‚æœæ•°ç»„ä¸éœ€è¦æ’åºï¼Œåˆ™ä¸éœ€è¦insertAt(index)æ“ä½œã€‚ æ‚¨å¯ä»¥ç®€å•åœ°å°†ä»»ä½•æ–°å…ƒç´ é™„åŠ åˆ°æœ«å°¾ï¼Œç›´åˆ°æ•°ç»„å·²æ»¡ã€‚ æ·»åŠ å…ƒç´ çš„ä»£ç å˜ä¸ºï¼š 123456func append(_ newElement: T) &#123; if count &lt; maxSize &#123; array[count] = newElement count += 1 &#125;&#125; countå˜é‡è·Ÿè¸ªæ•°ç»„çš„å¤§å°ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ç´¢å¼•ã€‚ è¿™ä¹Ÿå°±æ˜¯æ‚¨å°†æ’å…¥æ–°å…ƒç´ çš„ç´¢å¼•ã€‚ ç¡®å®šæ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡åªæ˜¯è¯»å–countå˜é‡ï¼ŒO(1)æ“ä½œã€‚ åˆ é™¤å…ƒç´ çš„ä»£ç åŒæ ·ç®€å•ï¼š 1234func removeAt(index: Int) &#123; count -= 1 array[index] = array[count]&#125; è¿™ä¼šå°†æœ€åä¸€ä¸ªå…ƒç´ å¤åˆ¶åˆ°åˆ é™¤çš„å…ƒç´ çš„ä½ç½®ï¼Œç„¶åå‡å°æ•°ç»„çš„å¤§å°ã€‚ è¿™å°±æ˜¯æ•°ç»„ä¸æ’åºçš„åŸå› ã€‚ ä¸ºäº†é¿å…æ˜‚è´µçš„æ•°ç»„å¤åˆ¶ï¼Œæˆ‘ä»¬åªå¤åˆ¶ä¸€ä¸ªå…ƒç´ ï¼Œä½†è¿™ç¡®å®æ”¹å˜äº†å…ƒç´ çš„é¡ºåºã€‚ ç°åœ¨åœ¨æ•°ç»„ä¸­æœ‰ä¸¤ä¸ªå…ƒç´ 6çš„å‰¯æœ¬ï¼Œä½†ä¹‹å‰çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸å†æ˜¯æ´»åŠ¨æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚ å®ƒåªæ˜¯åƒåœ¾æ•°æ® â€”â€” ä¸‹æ¬¡æ·»åŠ æ–°å…ƒç´ æ—¶ï¼Œè¿™ä¸ªæ—§çš„6å°†è¢«è¦†ç›–ã€‚ åœ¨è¿™ä¸¤ä¸ªçº¦æŸæ¡ä»¶ä¸‹ â€”â€” å…ƒç´ æ•°é‡å’Œä¸æ’åºæ•°ç»„çš„é™åˆ¶ â€”â€” å›ºå®šå¤§å°çš„æ•°ç»„ä»ç„¶éå¸¸é€‚åˆåœ¨ç°ä»£è½¯ä»¶ä¸­ä½¿ç”¨ã€‚ è¿™æ˜¯Swiftä¸­çš„ä¸€ä¸ªå®ç°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041struct FixedSizeArray&lt;T&gt; &#123; private var maxSize: Int private var defaultValue: T private var array: [T] private (set) var count = 0 init(maxSize: Int, defaultValue: T) &#123; self.maxSize = maxSize self.defaultValue = defaultValue self.array = [T](repeating: defaultValue, count: maxSize) &#125; subscript(index: Int) -&gt; T &#123; assert(index &gt;= 0) assert(index &lt; count) return array[index] &#125; mutating func append(_ newElement: T) &#123; assert(count &lt; maxSize) array[count] = newElement count += 1 &#125; mutating func removeAt(index: Int) -&gt; T &#123; assert(index &gt;= 0) assert(index &lt; count) count -= 1 let result = array[index] array[index] = array[count] array[count] = defaultValue return result &#125; mutating func removeAll() &#123; for i in 0..&lt;count &#123; array[i] = defaultValue &#125; count = 0 &#125;&#125; åˆ›å»ºæ•°ç»„æ—¶ï¼ŒæŒ‡å®šæœ€å¤§å¤§å°å’Œé»˜è®¤å€¼ï¼š 1var a = FixedSizeArray(maxSize: 10, defaultValue: 0) æ³¨æ„removeAt(index: Int)ç”¨è¿™ä¸ªdefaultValueè¦†ç›–æœ€åä¸€ä¸ªå…ƒç´ æ¥æ¸…ç†ç•™ä¸‹çš„â€œåƒåœ¾â€å¯¹è±¡ã€‚ é€šå¸¸å°†é‡å¤çš„å¯¹è±¡ç•™åœ¨æ•°ç»„ä¸­å¹¶ä¸é‡è¦ï¼Œä½†æ˜¯å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç±»æˆ–ç»“æ„ï¼Œå®ƒå¯èƒ½å…·æœ‰å¯¹å…¶ä»–å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼Œå°†è¿™äº›å¯¹è±¡å½’é›¶æ˜¯å¾ˆå¥½çš„åšæ³•ã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>å›ºå®šå¤§å°æ•°ç»„</tag>
        <tag>Fixed-Size Arrays</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å¿«é€Ÿæ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Quicksort å¿«é€Ÿæ’åº(Quicksort) ç›®æ ‡ï¼šå°†æ•°ç»„ä»ä½åˆ°é«˜ï¼ˆæˆ–ä»é«˜åˆ°ä½ï¼‰æ’åºã€‚ å¿«é€Ÿæ’åºæ˜¯å†å²ä¸Šæœ€ç€åçš„ç®—æ³•ä¹‹ä¸€ã€‚ å®ƒæ˜¯ç”±Tony Hoareäº1959å¹´å‘æ˜çš„ï¼Œå½“æ—¶é€’å½’ä»ç„¶æ˜¯ä¸€ä¸ªç›¸å½“æ¨¡ç³Šçš„æ¦‚å¿µã€‚ è¿™æ˜¯Swiftä¸­çš„ä¸€ä¸ªå®ç°ï¼Œåº”è¯¥å¾ˆå®¹æ˜“ç†è§£ï¼š 12345678910func quicksort&lt;T: Comparable&gt;(_ a: [T]) -&gt; [T] &#123; guard a.count &gt; 1 else &#123; return a &#125; let pivot = a[a.count/2] let less = a.filter &#123; $0 &lt; pivot &#125; let equal = a.filter &#123; $0 == pivot &#125; let greater = a.filter &#123; $0 &gt; pivot &#125; return quicksort(less) + equal + quicksort(greater)&#125; è¯‘æ³¨ï¼špivot ä¸­å¿ƒç‚¹ï¼Œæ¢è½´ï¼ŒåŸºå‡†ã€‚æœ¬æ–‡çš„pivotéƒ½ç¿»è¯‘æˆâ€œåŸºå‡†â€ã€‚ å°†æ­¤ä»£ç æ”¾åœ¨playground è¿›è¡Œæµ‹è¯•ï¼š 12let list = [ 10, 0, 3, 9, 2, 14, 8, 27, 1, 5, 8, -1, 26 ]quicksort(list) è°ˆä¸€è°ˆå·¥ä½œåŸç†ã€‚ ç»™å®šä¸€ä¸ªæ•°ç»„æ—¶ï¼Œquicksort()æ ¹æ®â€œåŸºå‡†â€å˜é‡å°†å®ƒåˆ†æˆä¸‰éƒ¨åˆ†ã€‚è¿™é‡Œï¼ŒåŸºå‡†è¢«è§†ä¸ºæ•°ç»„ä¸­é—´çš„å…ƒç´ ï¼ˆç¨åæ‚¨å°†çœ‹åˆ°é€‰æ‹©åŸºå‡†çš„å…¶ä»–æ–¹æ³•ï¼‰ã€‚ æ¯”åŸºå‡†å…ƒç´ å°çš„æ‰€æœ‰å…ƒç´ éƒ½è¿›å…¥ä¸€ä¸ªåä¸ºlessçš„æ–°æ•°ç»„ã€‚ æ‰€æœ‰ç­‰äºåŸºå‡†å…ƒç´ éƒ½è¿›å…¥equalæ•°ç»„ã€‚ä½ çŒœå¯¹äº†ï¼Œæ‰€æœ‰æ¯”åŸºå‡†æ›´å¤§çš„å…ƒç´ è¿›å…¥ç¬¬ä¸‰ä¸ªæ•°ç»„ï¼Œgreaterã€‚ è¿™å°±æ˜¯æ³›å‹ç±»å‹Tå¿…é¡»ç¬¦åˆComparableåè®®çš„åŸå› ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å°†å…ƒç´ ä¸&lt;ï¼Œ==å’Œ&gt;è¿›è¡Œæ¯”è¾ƒã€‚ ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¿™ä¸‰ä¸ªæ•°ç»„ï¼Œquicksort()é€’å½’åœ°å¯¹lessæ•°ç»„å’Œmoreæ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åå°†é‚£äº›å·²æ’åºçš„å­æ•°ç»„ä¸equalæ•°ç»„ç»„åˆåœ¨ä¸€èµ·ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœã€‚ ä¸€ä¸ªä¾‹å­è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­ã€‚ æ•°ç»„æœ€åˆæ˜¯ï¼š [ 10, 0, 3, 9, 2, 14, 8, 27, 1, 5, 8, -1, 26 ] é¦–å…ˆï¼Œæˆ‘ä»¬é€‰æ‹©åŸºå‡†8ï¼Œå› ä¸ºå®ƒåœ¨æ•°ç»„çš„ä¸­é—´ã€‚ ç°åœ¨æˆ‘ä»¬å°†æ•°ç»„æ‹†åˆ†ä¸ºå°‘ï¼Œç›¸ç­‰å’Œå¤§çš„éƒ¨åˆ†ï¼š less: [ 0, 3, 2, 1, 5, -1 ] equal: [ 8, 8 ] greater: [ 10, 9, 14, 27, 26 ] è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ‹†åˆ†ï¼Œå› ä¸ºlesså’Œgreaterå¤§è‡´åŒ…å«ç›¸åŒæ•°é‡çš„å…ƒç´ ã€‚ æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªå¾ˆå¥½çš„åŸºå‡†ï¼Œå°†æ•°ç»„ä»ä¸­é—´åˆ†å¼€ã€‚ è¯·æ³¨æ„ï¼Œlesså’Œgreateræ•°ç»„å°šæœªæ’åºï¼Œå› æ­¤æˆ‘ä»¬å†æ¬¡è°ƒç”¨quicksort()æ¥æ’åºè¿™ä¸¤ä¸ªå­æ•°ç»„ã€‚è¿™ä¸ä¹‹å‰å®Œå…¨ç›¸åŒï¼šé€‰æ‹©ä¸€ä¸ªä¸­é—´å…ƒç´ å¹¶å°†å­æ•°ç»„åˆ†æˆä¸‰ä¸ªæ›´å°çš„éƒ¨åˆ†ã€‚ æ¥çœ‹çœ‹lessæ•°ç»„ï¼š [ 0, 3, 2, 1, 5, -1 ] åŸºå‡†å…ƒç´ æ˜¯ä¸­é—´çš„1ï¼ˆä½ ä¹Ÿå¯ä»¥é€‰æ‹©2ï¼Œè¿™æ²¡å…³ç³»ï¼‰ã€‚æˆ‘ä»¬å†æ¬¡å›´ç»•åŸºå‡†å…ƒç´ åˆ›å»ºäº†ä¸‰ä¸ªå­æ•°ç»„ï¼š less: [ 0, -1 ] equal: [ 1 ] greater: [ 3, 2, 5 ] æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆï¼Œquicksort()å†æ¬¡åœ¨lesså’Œmoreæ•°ç»„ä¸Šè¢«é€’å½’è°ƒç”¨ã€‚ è®©æˆ‘ä»¬å†çœ‹ä¸€ä¸‹lessï¼š [ 0, -1 ] è¿™æ¬¡åŸºå‡†å…ƒç´ é€‰æ‹©-1ã€‚ ç°åœ¨çš„å­æ•°ç»„æ˜¯ï¼š less: [ ] equal: [ -1 ] greater: [ 0 ] lessæ•°ç»„æ˜¯ç©ºçš„ï¼Œå› ä¸ºæ²¡æœ‰å°äº-1çš„å€¼; å…¶ä»–æ•°ç»„å„åŒ…å«ä¸€ä¸ªå…ƒç´ ã€‚ è¿™æ„å‘³ç€æˆ‘ä»¬å·²ç»å®Œæˆäº†é€’å½’ï¼Œç°åœ¨æˆ‘ä»¬è¿”å›ä»¥å¯¹å‰ä¸€ä¸ªgreateræ•°ç»„è¿›è¡Œæ’åºã€‚ greateræ•°ç»„æ˜¯: [ 3, 2, 5 ] è¿™ä¸ä»¥å‰çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼šæˆ‘ä»¬é€‰æ‹©ä¸­é—´å…ƒç´ 2ä½œä¸ºåŸºå‡†å…ƒç´ ï¼Œå­æ•°ç»„ä¸ºï¼š less: [ ] equal: [ 2 ] greater: [ 3, 5 ] è¯·æ³¨æ„ï¼Œå¦‚æœåœ¨è¿™é‡Œé€‰æ‹©3ä½œä¸ºåŸºå‡†ä¼šæ›´å¥½ â€”â€” ä¼šæ—©ç‚¹å®Œæˆã€‚ ç„¶è€Œç°åœ¨æˆ‘ä»¬å¿…é¡»å†æ¬¡é€’å½’åˆ°greateræ•°ç»„ä»¥ç¡®ä¿å®ƒè¢«æ’åºã€‚è¿™å°±ä½“ç°ï¼Œé€‰æ‹©å¥½çš„åŸºå‡†æœ‰å¤šé‡è¦äº†ã€‚å½“ä½ é€‰æ‹©å¤ªå¤šâ€œbadâ€åŸºå‡†æ—¶ï¼Œå¿«é€Ÿæ’åºå®é™…ä¸Šå˜å¾—éå¸¸æ…¢ã€‚ ä¹‹åä¼šæœ‰æ›´å¤šè¯´æ˜ã€‚ å½“å¯¹greaterå­æ•°ç»„è¿›è¡Œåˆ†åŒºæ—¶ï¼Œæˆ‘ä»¬å‘ç°ï¼š less: [ 3 ] equal: [ 5 ] greater: [ ] ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†è¿™å±‚é€’å½’ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•è¿›ä¸€æ­¥æ‹†åˆ†æ•°ç»„ã€‚ é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰å­æ•°ç»„éƒ½å·²æ’åºã€‚ è¿‡ç¨‹å›¾ï¼š ç°åœ¨ï¼Œå¦‚æœæ‚¨ä»å·¦åˆ°å³é˜…è¯»å½©è‰²æ¡†ï¼Œåˆ™ä¼šè·å¾—å·²æ’åºçš„æ•°ç»„ï¼š [ -1, 0, 1, 2, 3, 5, 8, 8, 9, 10, 14, 26, 27 ] è¿™è¡¨æ˜8æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åˆå§‹åŸºå‡†ï¼Œå› ä¸ºå®ƒä¹Ÿå‡ºç°åœ¨æ’å¥½åºæ•°ç»„çš„ä¸­é—´ã€‚ æˆ‘å¸Œæœ›è¿™å·²ç»æ¸…æ¥šåœ°è¡¨æ˜å¿«é€Ÿæ’åºçš„å·¥ä½œåŸç†äº†ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„å¿«é€Ÿæ’åºä¸æ˜¯å¾ˆå¿«ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹ç›¸åŒçš„æ•°ç»„ä½¿ç”¨filter()ä¸‰æ¬¡ã€‚æœ‰æ›´èªæ˜çš„æ–¹æ³•åˆ†å‰²æ•°ç»„ã€‚ åˆ†åŒºå›´ç»•æ•°æ®å—åˆ’åˆ†æ•°ç»„ç§°ä¸º åˆ†åŒºï¼Œå¹¶ä¸”å­˜åœ¨ä¸€äº›ä¸åŒçš„åˆ†åŒºæ–¹æ¡ˆã€‚å¦‚æœä¸€ä¸ªæ•°ç»„æ˜¯ï¼Œ [ 10, 0, 3, 9, 2, 14, 8, 27, 1, 5, 8, -1, 26 ] ç„¶åæˆ‘ä»¬é€‰æ‹©ä¸­é—´å…ƒç´ 8ä½œä¸ºä¸€ä¸ªæ•°æ®å—ï¼Œç„¶ååˆ†åŒºåæ•°ç»„å¦‚ä¸‹ï¼š [ 0, 3, 2, 1, 5, -1, 8, 8, 10, 9, 14, 27, 26 ] ----------------- ----------------- all elements &lt; 8 all elements &gt; 8 è¦å®ç°ä¸Šé¢æ“ä½œçš„å…³é”®æ˜¯ï¼Œåœ¨åˆ†åŒºä¹‹åï¼ŒåŸºå‡†å…ƒç´ å·²ç»å¤„äºå…¶æœ€ç»ˆæ’åºä½ç½®ã€‚ å…¶ä½™çš„æ•°å­—å°šæœªæ’åºï¼Œå®ƒä»¬åªæ˜¯ä»¥åŸºå‡†æ•°åˆ†åŒºäº†ã€‚ å¿«é€Ÿæ’åºå¯¹æ•°ç»„è¿›è¡Œå¤šæ¬¡åˆ†åŒºï¼Œç›´åˆ°æ‰€æœ‰å€¼éƒ½åœ¨æœ€ç»ˆä½ç½®ã€‚ æ— æ³•ä¿è¯æ¯æ¬¡åˆ†åŒºå°†å…ƒç´ ä¿æŒåœ¨ç›¸åŒçš„ç›¸å¯¹é¡ºåºä¸­ï¼Œå› æ­¤åœ¨ä½¿ç”¨åŸºå‡†â€œ8â€è¿›è¡Œåˆ†åŒºä¹‹åï¼Œä¹Ÿå¯èƒ½å¾—åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹ï¼š [ 3, 0, 5, 2, -1, 1, 8, 8, 14, 26, 10, 27, 9 ] å”¯ä¸€å¯ä»¥ä¿è¯çš„æ˜¯åœ¨åŸºå‡†å…ƒç´ å·¦è¾¹æ˜¯æ‰€æœ‰è¾ƒå°çš„å…ƒç´ ï¼Œè€Œå³è¾¹æ˜¯æ‰€æœ‰è¾ƒå¤§çš„å…ƒç´ ã€‚ å› ä¸ºåˆ†åŒºæ”¹å˜ç›¸ç­‰å…ƒç´ çš„åŸå§‹é¡ºåºï¼Œæ‰€ä»¥å¿«é€Ÿæ’åºä¸ä¼šäº§ç”Ÿâ€œç¨³å®šâ€æ’åºï¼ˆä¸å½’å¹¶æ’åºä¸åŒï¼‰ã€‚ è¿™å¤§éƒ¨åˆ†æ—¶é—´éƒ½ä¸æ˜¯ä»€ä¹ˆå¤§ä¸äº†çš„äº‹ã€‚ Lomutoçš„åˆ†åŒºæ–¹æ¡ˆåœ¨å¿«é€Ÿæ’åºçš„ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘å‘Šè¯‰ä½ ï¼Œåˆ†åŒºæ˜¯é€šè¿‡è°ƒç”¨Swiftçš„filter()å‡½æ•°ä¸‰æ¬¡æ¥å®Œæˆçš„ã€‚ è¿™ä¸æ˜¯å¾ˆé«˜æ•ˆã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´æ™ºèƒ½çš„åˆ†åŒºç®—æ³•ï¼Œå®ƒå¯ä»¥ in placeï¼Œå³é€šè¿‡ä¿®æ”¹åŸå§‹æ•°ç»„ã€‚ è¿™æ˜¯åœ¨Swiftä¸­å®ç°Lomutoçš„åˆ†åŒºæ–¹æ¡ˆï¼š 1234567891011121314func partitionLomuto&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) -&gt; Int &#123; let pivot = a[high] var i = low for j in low..&lt;high &#123; if a[j] &lt;= pivot &#123; (a[i], a[j]) = (a[j], a[i]) i += 1 &#125; &#125; (a[i], a[high]) = (a[high], a[i]) return i&#125; åœ¨playgroundä¸­æµ‹è¯•ï¼š 123var list = [ 10, 0, 3, 9, 2, 14, 26, 27, 1, 5, 8, -1, 8 ]let p = partitionLomuto(&amp;list, low: 0, high: list.count - 1)list // show the results æ³¨æ„listéœ€è¦æ˜¯varï¼Œå› ä¸ºpartitionLomuto()ç›´æ¥æ”¹å˜æ•°ç»„çš„å†…å®¹ï¼ˆä½¿ç”¨inoutå‚æ•°ä¼ é€’ï¼‰ã€‚ è¿™æ¯”åˆ†é…æ–°çš„æ•°ç»„å¯¹è±¡æ›´æœ‰æ•ˆã€‚ lowå’Œhighå‚æ•°æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºå½“åœ¨å¿«é€Ÿæ’åºæ—¶å¹¶ä¸ä¸€å®šæ’åºæ•´ä¸ªæ•°ç»„ï¼Œå¯èƒ½åªæ˜¯åœ¨æŸä¸ªåŒºé—´ã€‚ ä»¥å‰æˆ‘ä»¬ä½¿ç”¨ä¸­é—´æ•°ç»„å…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œç°åœ¨Lomutoæ–¹æ¡ˆçš„åŸºå‡†æ€»æ˜¯ä½¿ç”¨æœ€åå…ƒç´ ï¼Œa [high] ã€‚ å› ä¸ºä¹‹å‰æˆ‘ä»¬ä¸€ç›´åœ¨ä»¥8ä½œä¸ºåŸºå‡†ï¼Œæ‰€ä»¥æˆ‘åœ¨ç¤ºä¾‹ä¸­äº¤æ¢äº†8å’Œ26çš„ä½ç½®ï¼Œä»¥ä¾¿8ä½äºæ•°ç»„çš„æœ€åå¹¶ä¸”åœ¨è¿™é‡Œä¹Ÿç”¨ä½œæ¢åŸºå‡†ã€‚ ç»è¿‡Lomutoæ–¹æ¡ˆåˆ†åŒºåï¼Œæ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š [ 0, 3, 2, 1, 5, 8, -1, 8, 9, 10, 14, 26, 27 ] * å˜é‡pæ˜¯partitionLomuto()çš„è°ƒç”¨çš„è¿”å›å€¼ï¼Œæ˜¯7ã€‚è¿™æ˜¯æ–°æ•°ç»„ä¸­çš„åŸºå‡†å…ƒç´ çš„ç´¢å¼•ï¼ˆç”¨æ˜Ÿå·æ ‡è®°ï¼‰ã€‚ å·¦åˆ†åŒºä»0åˆ°p-1ï¼Œæ˜¯[0,3,2,1,5,8ï¼Œ-1]ã€‚ å³åˆ†åŒºä»p + 1åˆ°ç»“å°¾ï¼Œå¹¶ä¸”æ˜¯[9,10,14,26,27]ï¼ˆå³åˆ†åŒºå·²ç»æ’åºçš„å®å±æ˜¯å·§åˆï¼‰ã€‚ æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿â€¦â€¦å€¼8åœ¨æ•°ç»„ä¸­å‡ºç°ä¸æ­¢ä¸€æ¬¡ã€‚ å…¶ä¸­ä¸€ä¸ª8å¹¶æ²¡æœ‰æ•´é½åœ°åœ¨ä¸­é—´ï¼Œè€Œæ˜¯åœ¨å·¦åˆ†åŒºã€‚ è¿™æ˜¯Lomutoç®—æ³•çš„ä¸€ä¸ªå°ç¼ºç‚¹ï¼Œå¦‚æœå­˜åœ¨å¤§é‡é‡å¤å…ƒç´ ï¼Œå®ƒä¼šä½¿å¿«é€Ÿæ’åºå˜æ…¢ã€‚ é‚£ä¹ˆLomutoç®—æ³•å®é™…ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ é­”æœ¯å‘ç”Ÿåœ¨forå¾ªç¯ä¸­ã€‚ æ­¤å¾ªç¯å°†æ•°ç»„åˆ’åˆ†ä¸ºå››ä¸ªåŒºåŸŸï¼š a [low ... i] åŒ…å« &lt;= pivot çš„æ‰€æœ‰å€¼ a [i + 1 ... j-1] åŒ…å« &gt; pivot çš„æ‰€æœ‰å€¼ a [j ... high-1] æ˜¯æˆ‘ä»¬â€œæœªæŸ¥çœ‹â€çš„å€¼ a [high]æ˜¯åŸºå‡†å€¼ In ASCII art the array is divided up like this:ç”¨ASCIIå­—ç¬¦è¡¨ç¤ºï¼Œæ•°ç»„æŒ‰å¦‚ä¸‹æ–¹å¼åˆ’åˆ†ï¼š [ values &lt;= pivot | values &gt; pivot | not looked at yet | pivot ] low i i+1 j-1 j high-1 high å¾ªç¯ä¾æ¬¡æŸ¥çœ‹ä»lowåˆ°high-1çš„æ¯ä¸ªå…ƒç´ ã€‚ å¦‚æœå½“å‰å…ƒç´ çš„å€¼å°äºæˆ–ç­‰äºåŸºå‡†ï¼Œåˆ™ä½¿ç”¨swapå°†å…¶ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªåŒºåŸŸã€‚ æ³¨æ„ï¼š åœ¨Swiftä¸­ï¼Œç¬¦å·(x, y) = (y, x)æ˜¯åœ¨xå’Œyçš„å€¼ä¹‹é—´æ‰§è¡Œäº¤æ¢çš„ä¾¿æ·æ–¹å¼ã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨swapï¼ˆï¼†xï¼Œï¼†yï¼‰ã€‚ å¾ªç¯ç»“æŸåï¼ŒåŸºå‡†ä»ç„¶æ˜¯æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ æ‰€ä»¥æˆ‘ä»¬å°†å®ƒä¸ç¬¬ä¸€ä¸ªå¤§äºåŸºå‡†çš„å…ƒç´ äº¤æ¢ã€‚ ç°åœ¨ï¼ŒåŸºå‡†ä½äº&lt;=å’Œ&gt;åŒºåŸŸä¹‹é—´ï¼Œå¹¶ä¸”æ•°ç»„å·²æ­£ç¡®åˆ†åŒºã€‚ è®©æˆ‘ä»¬é€æ­¥å®Œæˆè¿™ä¸ªä¾‹å­ã€‚ æˆ‘ä»¬å¼€å§‹çš„æ•°ç»„æ˜¯ï¼š [| 10, 0, 3, 9, 2, 14, 26, 27, 1, 5, 8, -1 | 8 ] low high i j æœ€åˆï¼Œâ€œæœªæŸ¥çœ‹â€åŒºåŸŸä»ç´¢å¼•0å»¶ä¼¸åˆ°11ã€‚åŸºå‡†ä½äºç´¢å¼•12ã€‚â€œvalues &lt;= pivotâ€å’Œâ€œvalues&gt; pivotâ€åŒºåŸŸä¸ºç©ºï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰æŸ¥çœ‹ä»»ä½•å€¼ã€‚ çœ‹ç¬¬ä¸€ä¸ªå€¼ï¼Œ10ã€‚ è¿™æ¯”åŸºå‡†å°å—ï¼Ÿ ä¸ï¼Œè·³åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ [| 10 | 0, 3, 9, 2, 14, 26, 27, 1, 5, 8, -1 | 8 ] low high i j ç°åœ¨â€œæœªæŸ¥çœ‹â€åŒºåŸŸä»ç´¢å¼•1åˆ°11ï¼Œâ€œvalues&gt; pivotâ€åŒºåŸŸåŒ…å«æ•°å­—â€œ10â€ï¼Œâ€œvalues &lt;= pivotâ€ä»ä¸ºç©ºã€‚ çœ‹ç¬¬äºŒä¸ªå€¼ï¼Œ0ã€‚ è¿™æ¯”åŸºå‡†å°å—ï¼Ÿ æ˜¯çš„ï¼Œæ‰€ä»¥å°†10ä¸0äº¤æ¢ï¼Œç„¶åå°†iå‘å‰ç§»åŠ¨ä¸€ä¸ªã€‚ [ 0 | 10 | 3, 9, 2, 14, 26, 27, 1, 5, 8, -1 | 8 ] low high i j ç°åœ¨â€œæœªæŸ¥çœ‹â€åŒºåŸŸä»ç´¢å¼•2åˆ°11ï¼Œâ€œvalues&gt; pivotâ€ä»ç„¶åŒ…å«â€œ10â€ï¼Œâ€œvalues &lt;= pivotâ€åŒ…å«æ•°å­—â€œ0â€ã€‚ çœ‹ç¬¬ä¸‰ä¸ªå€¼ï¼Œ3ã€‚ è¿™æ¯”åŸºå‡†å°ï¼Œæ‰€ä»¥ç”¨10æ¢æ‰å®ƒå¾—åˆ°ï¼š [ 0, 3 | 10 | 9, 2, 14, 26, 27, 1, 5, 8, -1 | 8 ] low high i j â€œvalues &lt;= pivotâ€åŒºåŸŸç°åœ¨æ˜¯[0,3]ã€‚ è®©æˆ‘ä»¬å†åšä¸€æ¬¡â€¦â€¦9å¤§äºæ¢è½´ï¼Œæ‰€ä»¥ç®€å•åœ°å‘å‰è·³ï¼š [ 0, 3 | 10, 9 | 2, 14, 26, 27, 1, 5, 8, -1 | 8 ] low high i j ç°åœ¨â€œvalues&gt; pivotâ€åŒºåŸŸåŒ…å«[10,9]ã€‚ å¦‚æœæˆ‘ä»¬ç»§ç»­è¿™æ ·åšï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°ï¼š [ 0, 3, 2, 1, 5, 8, -1 | 27, 9, 10, 14, 26 | 8 ] low high i j æœ€åè¦åšçš„æ˜¯é€šè¿‡å°†a[i]ä¸a[high]äº¤æ¢æ¥å°†åŸºå‡†æ”¾åˆ°ç‰¹å®šä½ç½®ï¼š [ 0, 3, 2, 1, 5, 8, -1 | 8 | 9, 10, 14, 26, 27 ] low high i j ç„¶åæˆ‘ä»¬è¿”å›iï¼ŒåŸºå‡†å…ƒç´ çš„ç´¢å¼•ã€‚ æ³¨æ„ï¼š å¦‚æœæ‚¨ä»ç„¶ä¸å®Œå…¨æ¸…æ¥šç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘å»ºè®®æ‚¨åœ¨playground è¯•éªŒä¸€ä¸‹ï¼Œä»¥ç¡®åˆ‡äº†è§£å¾ªç¯å¦‚ä½•åˆ›å»ºè¿™å››ä¸ªåŒºåŸŸã€‚ è®©æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªåˆ†åŒºæ–¹æ¡ˆæ¥æ„å»ºå¿«é€Ÿæ’åºã€‚ è¿™æ˜¯ä»£ç ï¼š 1234567func quicksortLomuto&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) &#123; if low &lt; high &#123; let p = partitionLomuto(&amp;a, low: low, high: high) quicksortLomuto(&amp;a, low: low, high: p - 1) quicksortLomuto(&amp;a, low: p + 1, high: high) &#125;&#125; ç°åœ¨è¿™éå¸¸ç®€å•ã€‚ æˆ‘ä»¬é¦–å…ˆè°ƒç”¨partitionLomuto()æ¥ä»¥åŸºå‡†å…ƒç´ ï¼ˆå®ƒå§‹ç»ˆæ˜¯æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰é‡æ–°æ’åºæ•°ç»„ã€‚ ç„¶åæˆ‘ä»¬é€’å½’è°ƒç”¨quicksortLomuto()æ¥å¯¹å·¦å³åˆ†åŒºè¿›è¡Œæ’åºã€‚ è¯•è¯•çœ‹ï¼š 12var list = [ 10, 0, 3, 9, 2, 14, 26, 27, 1, 5, 8, -1, 8 ]quicksortLomuto(&amp;list, low: 0, high: list.count - 1) Lomutoæ–¹æ¡ˆä¸æ˜¯å”¯ä¸€çš„åˆ†åŒºæ–¹æ¡ˆï¼Œä½†å®ƒå¯èƒ½æ˜¯æœ€å®¹æ˜“ç†è§£çš„ã€‚ å®ƒä¸å¦‚Hoareçš„æ–¹æ¡ˆæœ‰æ•ˆï¼Œåè€…éœ€è¦çš„äº¤æ¢æ“ä½œæ›´å°‘ã€‚ Hoareçš„åˆ†åŒºæ–¹æ¡ˆè¿™ç§åˆ†åŒºæ–¹æ¡ˆæ˜¯ç”±å¿«é€Ÿæ’åºçš„å‘æ˜è€…Hoareå®Œæˆçš„ã€‚ ä¸‹é¢æ˜¯ä»£ç ï¼š 12345678910111213141516func partitionHoare&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) -&gt; Int &#123; let pivot = a[low] var i = low - 1 var j = high + 1 while true &#123; repeat &#123; j -= 1 &#125; while a[j] &gt; pivot repeat &#123; i += 1 &#125; while a[i] &lt; pivot if i &lt; j &#123; a.swapAt(i, j) &#125; else &#123; return j &#125; &#125;&#125; åœ¨playgroundä¸­æµ‹è¯•ï¼š 123var list = [ 8, 0, 3, 9, 2, 14, 10, 27, 1, 5, 8, -1, 26 ]let p = partitionHoare(&amp;list, low: 0, high: list.count - 1)list // show the results æ³¨æ„ï¼Œä½¿ç”¨Hoareçš„æ–¹æ¡ˆï¼ŒåŸºå‡†æ€»æ˜¯æ•°ç»„ä¸­çš„ first å…ƒç´ ï¼Œa [low]ã€‚ åŒæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨8ä½œä¸ºåŸºå‡†å…ƒç´ ã€‚ç»“æœæ˜¯ï¼š [ -1, 0, 3, 8, 2, 5, 1, 27, 10, 14, 9, 8, 26 ] è¯·æ³¨æ„ï¼Œè¿™æ¬¡åŸºå‡†æ ¹æœ¬ä¸åœ¨ä¸­é—´ã€‚ ä¸Lomutoçš„æ–¹æ¡ˆä¸åŒï¼Œè¿”å›å€¼ä¸ä¸€å®šæ˜¯æ–°æ•°ç»„ä¸­åŸºå‡†å…ƒç´ çš„ç´¢å¼•ã€‚ ç»“æœï¼Œæ•°ç»„è¢«åˆ’åˆ†ä¸ºåŒºåŸŸ[low ... p]å’Œ[p + 1 ... high]ã€‚ è¿™é‡Œï¼Œè¿”å›å€¼pæ˜¯6ï¼Œå› æ­¤ä¸¤ä¸ªåˆ†åŒºæ˜¯[-1,0,3,8,2,5,1]å’Œ[27,10,14,9,8,26]ã€‚ ç”±äºå­˜åœ¨è¿™äº›å·®å¼‚ï¼ŒHoareå¿«é€Ÿæ’åºçš„å®æ–½ç•¥æœ‰ä¸åŒï¼š 1234567func quicksortHoare&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) &#123; if low &lt; high &#123; let p = partitionHoare(&amp;a, low: low, high: high) quicksortHoare(&amp;a, low: low, high: p) quicksortHoare(&amp;a, low: p + 1, high: high) &#125;&#125; Hoareçš„åˆ†åŒºæ–¹æ¡ˆæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿæˆ‘å°†æŠŠå®ƒä½œä¸ºç»ƒä¹ è®©è¯»è€…è‡ªå·±å¼„æ¸…æ¥šã€‚:-) é€‰æ‹©ä¸€ä¸ªå¥½çš„åŸºå‡†Lomutoçš„åˆ†åŒºæ–¹æ¡ˆæ€»æ˜¯ä¸ºåŸºå‡†é€‰æ‹©æœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚ Hoareçš„åˆ†åŒºæ–¹æ¡ˆä½¿ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ ä½†è¿™éƒ½ä¸èƒ½ä¿è¯è¿™äº›åŸºå‡†æ˜¯å¥½çš„ã€‚ ä»¥ä¸‹æ˜¯ä¸ºåŸºå‡†é€‰æ‹©é”™è¯¯å€¼æ—¶ä¼šå‘ç”Ÿçš„æƒ…å†µã€‚ å¦‚æœä¸€ä¸ªæ•°ç»„æ˜¯ï¼š [ 7, 6, 5, 4, 3, 2, 1 ] æˆ‘ä»¬ä½¿ç”¨Lomutoçš„æ–¹æ¡ˆã€‚ åŸºå‡†æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ1ã€‚ åˆ†åŒºåï¼š less than pivot: [ ] equal to pivot: [ 1 ] greater than pivot: [ 7, 6, 5, 4, 3, 2 ] ç°åœ¨ä»¥é€’å½’æ–¹å¼å¯¹â€œæ›´å¤§çš„â€å­æ•°ç»„è¿›è¡Œåˆ†åŒºï¼Œå¾—åˆ°ï¼š less than pivot: [ ] equal to pivot: [ 2 ] greater than pivot: [ 7, 6, 5, 4, 3 ] å†æ¬¡ï¼š less than pivot: [ ] equal to pivot: [ 3 ] greater than pivot: [ 7, 6, 5, 4 ] ç­‰ç­‰ã€‚ã€‚ã€‚ è¿™å¹¶ä¸å¥½ï¼Œå› ä¸ºè¿™æ ·çš„å¿«é€Ÿæ’åºå¯èƒ½æ¯”æ’å…¥æ’åºæ›´æ…¢ã€‚ ä¸ºäº†ä½¿å¿«é€Ÿæ’åºé«˜æ•ˆï¼Œéœ€è¦å°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå¤§çº¦ç›¸ç­‰çš„éƒ¨åˆ†ã€‚ è¿™ä¸ªä¾‹å­çš„æœ€ä½³åŸºå‡†æ˜¯4ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°ï¼š less than pivot: [ 3, 2, 1 ] equal to pivot: [ 4 ] greater than pivot: [ 7, 6, 5 ] æ‚¨å¯èƒ½è®¤ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬åº”è¯¥å§‹ç»ˆé€‰æ‹©ä¸­é—´å…ƒç´ è€Œä¸æ˜¯ç¬¬ä¸€ä¸ªæˆ–æœ€åä¸€ä¸ªï¼Œä½†æƒ³è±¡åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š [ 7, 6, 5, 1, 4, 3, 2 ] ç°åœ¨ï¼Œä¸­é—´å…ƒç´ æ˜¯1ï¼Œå®ƒç»™å‡ºäº†ä¸å‰ä¸€ä¸ªä¾‹å­ç›¸åŒçš„ç³Ÿç³•ç»“æœã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼ŒåŸºå‡†æ˜¯æ‚¨è¦åˆ†åŒºçš„æ•°ç»„çš„ ä¸­ä½æ•°ï¼ˆè¯‘æ³¨ï¼šå¤§å°åœ¨ä¸­é—´çš„ï¼‰ å…ƒç´ ï¼Œå³ä½äºæ’ç©åºæ•°ç»„ä¸­é—´çš„å…ƒç´ ã€‚å½“ç„¶ï¼Œåœ¨ä½ å¯¹æ•°ç»„è¿›è¡Œæ’åºä¹‹å‰ï¼Œä½ ä¸ä¼šçŸ¥é“ä¸­ä½æ•°æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥è¿™å°±å›åˆ° é¸¡è›‹å’Œé¸¡ é—®é¢˜äº†ã€‚ç„¶è€Œï¼Œæœ‰ä¸€äº›æŠ€å·§å¯ä»¥æ”¹è¿›ã€‚ ä¸€ä¸ªæŠ€å·§æ˜¯â€œä¸‰ä¸ªä¸­é—´å€¼â€ï¼Œæ‚¨å¯ä»¥åœ¨æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªï¼Œä¸­é—´å’Œæœ€åä¸€ä¸ªçš„ä¸­ä½æ•°ã€‚ ä»ç†è®ºä¸Šè®²ï¼Œè¿™é€šå¸¸å¯ä»¥å¾ˆå¥½åœ°æ¥è¿‘çœŸå®çš„ä¸­ä½æ•°ã€‚ å¦ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯éšæœºé€‰æ‹©åŸºå‡†ã€‚ æœ‰æ—¶è¿™å¯èƒ½ä¼šé€‰æ‹©æ¬¡ä¼˜çš„åŸºå‡†ï¼Œä½†å¹³å‡è€Œè¨€ï¼Œè¿™ä¼šäº§ç”Ÿéå¸¸å¥½çš„ç»“æœã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨éšæœºé€‰æ‹©çš„åŸºå‡†è¿›è¡Œå¿«é€Ÿæ’åºï¼š 1234567891011func quicksortRandom&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) &#123; if low &lt; high &#123; let pivotIndex = random(min: low, max: high) // 1 (a[pivotIndex], a[high]) = (a[high], a[pivotIndex]) // 2 let p = partitionLomuto(&amp;a, low: low, high: high) quicksortRandom(&amp;a, low: low, high: p - 1) quicksortRandom(&amp;a, low: p + 1, high: high) &#125;&#125; ä¸ä¹‹å‰æœ‰ä¸¤ä¸ªé‡è¦çš„åŒºåˆ«ï¼š random(min:max:)å‡½æ•°è¿”å›min...maxèŒƒå›´å†…çš„æ•´æ•°ï¼Œè¿™æ˜¯æˆ‘ä»¬åŸºå‡†çš„ç´¢å¼•ã€‚ å› ä¸ºLomutoæ–¹æ¡ˆæœŸæœ›a[high]æˆä¸ºåŸºå‡†ï¼Œæˆ‘ä»¬å°†a[pivotIndex]ä¸a[high]äº¤æ¢ï¼Œå°†åŸºå‡†å…ƒç´ æ”¾åœ¨æœ«å°¾ï¼Œç„¶åå†è°ƒç”¨partitionLomuto()ã€‚ åœ¨ç±»ä¼¼æ’åºå‡½æ•°ä¸­ä½¿ç”¨éšæœºæ•°ä¼¼ä¹å¾ˆå¥‡æ€ªï¼Œä½†è®©å¿«é€Ÿæ’åºåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½èƒ½æœ‰æ•ˆåœ°è¿è¡Œï¼Œè¿™æ˜¯æœ‰å¿…è¦çš„ã€‚ åçš„åŸºå‡†ï¼Œå¿«é€Ÿæ’åºçš„è¡¨ç°å¯èƒ½éå¸¸ç³Ÿç³•ï¼ŒO(n^2)ã€‚ ä½†æ˜¯å¦‚æœå¹³å‡é€‰æ‹©å¥½çš„åŸºå‡†ï¼Œä¾‹å¦‚ä½¿ç”¨éšæœºæ•°ç”Ÿæˆå™¨ï¼Œé¢„æœŸçš„è¿è¡Œæ—¶é—´å°†å˜ä¸ºO(nlogn)ï¼Œè¿™æ˜¯å¥½çš„æ’åºç®—æ³•ã€‚ è·å…°å›½æ——ğŸ‡³ğŸ‡±åˆ†åŒºè¿˜æœ‰æ›´å¤šæ”¹è¿›ï¼ åœ¨æˆ‘å‘æ‚¨å±•ç¤ºçš„ç¬¬ä¸€ä¸ªå¿«é€Ÿæ’åºç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªåƒè¿™æ ·åˆ†åŒºçš„æ•°ç»„ï¼š [ values &lt; pivot | values equal to pivot | values &gt; pivot ] ä½†æ˜¯æ­£å¦‚æ‚¨åœ¨Lomutoåˆ†åŒºæ–¹æ¡ˆä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œå¦‚æœå¤šæ¬¡å‡ºç°åŸºå‡†å…ƒç´ ï¼Œåˆ™é‡å¤é¡¹æœ€åä¼šåœ¨å·¦åˆ†åŒºã€‚ è€Œé€šè¿‡Hoareæ–¹æ¡ˆï¼Œé‡å¤åŸºå‡†å…ƒç´ å¯ä»¥éå¸ƒä»»æ„åˆ†åŒºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯â€œè·å…°å›½æ——â€åˆ†åŒºï¼Œä»¥è·å…°å›½æ——æœ‰ä¸‰ä¸ªé¢‘æ®µå‘½åï¼Œå°±åƒæˆ‘ä»¬æƒ³æ‹¥æœ‰ä¸‰ä¸ªåˆ†åŒºä¸€æ ·ã€‚ è¯¥æ–¹æ¡ˆçš„ä»£ç æ˜¯ï¼š 123456789101112131415161718192021func partitionDutchFlag&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int, pivotIndex: Int) -&gt; (Int, Int) &#123; let pivot = a[pivotIndex] var smaller = low var equal = low var larger = high while equal &lt;= larger &#123; if a[equal] &lt; pivot &#123; swap(&amp;a, smaller, equal) smaller += 1 equal += 1 &#125; else if a[equal] == pivot &#123; equal += 1 &#125; else &#123; swap(&amp;a, equal, larger) larger -= 1 &#125; &#125; return (smaller, larger)&#125; è¿™ä¸Lomutoæ–¹æ¡ˆçš„å·¥ä½œæ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯å¾ªç¯å°†æ•°ç»„åˆ’åˆ†ä¸ºå››ä¸ªï¼ˆå¯èƒ½ä¸ºç©ºï¼‰åŒºåŸŸï¼š [low ... smaller-1] åŒ…å«&lt; pivot çš„æ‰€æœ‰å€¼ [less ... equal-1] åŒ…å« == pivot çš„æ‰€æœ‰å€¼ [equal ... larger]åŒ…å« &gt; pivot çš„æ‰€æœ‰å€¼ [large ... high] æ˜¯æˆ‘ä»¬â€œæœªæŸ¥çœ‹â€çš„å€¼ Note that this doesnâ€™t assume the pivot is in a[high]. Instead, you have to pass in the index of the element you wish to use as a pivot.è¯·æ³¨æ„ï¼Œè¿™å¹¶ä¸å‡è®¾åŸºå‡†å¤„äºa[high]ã€‚ è€Œæ˜¯ï¼Œå¿…é¡»ä¼ å…¥è¦ç”¨ä½œåŸºå‡†çš„å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚ä½•ä½¿ç”¨å®ƒçš„ä¸€ä¸ªä¾‹å­ï¼š 123var list = [ 10, 0, 3, 9, 2, 14, 8, 27, 1, 5, 8, -1, 26 ]partitionDutchFlag(&amp;list, low: 0, high: list.count - 1, pivotIndex: 10)list // show the results åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œæˆ‘ä»¬è¿™æ¬¡ç»™å®ƒçš„å¦ä¸€ä¸ª8çš„ç´¢å¼•ã€‚ ç»“æœæ˜¯ï¼š [ -1, 0, 3, 2, 5, 1, 8, 8, 27, 14, 9, 26, 10 ] æ³¨æ„ä¸¤ä¸ª8ç°åœ¨æ˜¯å¦‚ä½•åœ¨ä¸­é—´çš„ã€‚ partitionDutchFlag()çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œ(6,7)ã€‚ è¿™æ˜¯åŒ…å«åŸºå‡†çš„èŒƒå›´ã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨å¿«é€Ÿæ’åºä¸­ä½¿ç”¨å®ƒï¼š 12345678func quicksortDutchFlag&lt;T: Comparable&gt;(_ a: inout [T], low: Int, high: Int) &#123; if low &lt; high &#123; let pivotIndex = random(min: low, max: high) let (p, q) = partitionDutchFlag(&amp;a, low: low, high: high, pivotIndex: pivotIndex) quicksortDutchFlag(&amp;a, low: low, high: p - 1) quicksortDutchFlag(&amp;a, low: q + 1, high: high) &#125;&#125; å¦‚æœæ•°ç»„åŒ…å«è®¸å¤šé‡å¤å…ƒç´ ï¼Œåˆ™ä½¿ç”¨è·å…°å›½æ——åˆ†åŒºå¯ä»¥æé«˜æ•ˆç‡ã€‚ ï¼ˆè€Œä¸”æˆ‘ä¸åªæ˜¯è¿™ä¹ˆè¯´ï¼Œå› ä¸ºæˆ‘æ˜¯è·å…°äººï¼ï¼‰ æ³¨æ„ï¼š partitionDutchFlag()çš„ä¸Šè¿°å®ç°ä½¿ç”¨è‡ªå®šä¹‰swap()æ¥äº¤æ¢ä¸¤ä¸ªæ•°ç»„å…ƒç´ çš„å†…å®¹ã€‚ ä¸Swiftè‡ªå¸¦çš„swapAt()ä¸åŒï¼Œå½“ä¸¤ä¸ªç´¢å¼•å¼•ç”¨ç›¸åŒçš„æ•°ç»„å…ƒç´ æ—¶ï¼Œè¿™ä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚ 123456&gt; public func swap&lt;T&gt;(_ a: inout [T], _ i: Int, _ j: Int) &#123;&gt; if i != j &#123;&gt; a.swapAt(i, j)&gt; &#125;&gt; &#125;&gt; æ‰©å±•é˜…è¯»å¿«é€Ÿæ’åºçš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>å¿«é€Ÿæ’åº</tag>
        <tag>Quicksort</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸ƒï¼šå…¶å®ƒç±»å‹çš„åŠ¨ç”»]]></title>
    <url>%2F2018%2FiOS-Animation-7-other-Animations.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ å‰é¢å­¦ä¹ å¾ˆå¤šåŠ¨ç”»æ–¹é¢çš„çŸ¥è¯†ï¼Œä½†æœ‰ä¸¤ä¸ªæ›´ä¸“ä¸šçš„ä¸»é¢˜ä¸é€‚åˆå‰é¢çš„ä»»ä½•éƒ¨åˆ†ã€‚ é¢„è§ˆï¼š 26-ç²’å­å‘å°„å™¨ â€”â€” å­¦ä¹ å¦‚ä½•åˆ›å»ºç²’å­å‘å°„å™¨å¹¶åˆ›å»ºä»¥ä¸‹é™é›ªæ•ˆæœã€‚ 27-UIImageViewçš„å¸§åŠ¨ç”» â€”â€” é€šè¿‡å°†å¸§åŠ¨ç”»ä¸ä¼ ç»Ÿè§†å›¾åŠ¨ç”»ç›¸ç»“åˆï¼Œåˆ›å»ºç±»ä¼¼å¡é€šçš„æ•ˆæœã€‚ 26-ç²’å­å‘å°„å™¨ç€‘å¸ƒï¼Œç«ï¼ŒçƒŸå’Œé›¨çš„å½±å“éƒ½æ¶‰åŠå¤§é‡çš„è§†è§‰é¡¹ç›® â€”â€” ç²’å­ â€”â€” å®ƒä»¬å…·æœ‰å…±åŒçš„ç‰©ç†ç‰¹å¾ï¼Œä½†ä»ç„¶å¯èƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„å¤§å°ï¼Œæ–¹å‘ï¼Œæ—‹è½¬å’Œè½¨è¿¹ã€‚ ç²’å­å¯ä»¥å¾ˆå¥½åœ°åˆ›å»ºé€¼çœŸçš„æ•ˆæœï¼Œå› ä¸ºæ¯ä¸ªç²’å­éƒ½å¯ä»¥æ˜¯éšæœºçš„å’Œä¸å¯é¢„æµ‹çš„ï¼Œå°±åƒç‰©ä½“åœ¨è‡ªç„¶ç•Œä¸­ä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œé›·æš´ä¸­çš„æ¯ä¸ªé›¨æ»´å¯èƒ½å…·æœ‰ç‹¬ç‰¹çš„å¤§å°ï¼Œå½¢çŠ¶å’Œé€Ÿåº¦ã€‚ ä»¥ä¸‹æ˜¯ç²’å­å‘å°„å™¨(Particle Emitters)å¯ä»¥å®ç°çš„è§†è§‰æ•ˆæœçš„å‡ ä¸ªç¤ºä¾‹ï¼š åœ¨ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸€ï¼šè§†å›¾åŠ¨ç”»çš„ç¬¬4ã€5ç« èŠ‚çš„Flight Infoé¡¹ç›®ä¸­ä½¿ç”¨è¿‡é›ªèŠ±â„ï¸çš„æ•ˆæœï¼Œä½†æ²¡æœ‰è¯´æ˜æ€ä¹ˆä½¿ç”¨ï¼Œæœ¬ç« å°†å•ç‹¬å­¦ä¹ é›ªèŠ±â„ï¸æ•ˆæœçš„åˆ¶ä½œã€‚ åˆ›å»ºå‘å°„å™¨å±‚æœ¬ç« èŠ‚å°†ä½¿ç”¨CALayerçš„å­ç±»CAEmitterLayeræ¥åˆ›å»ºç²’å­æ•ˆæœã€‚ æ³¨æ„ï¼šæœ‰è®¸å¤šç”¨äºåˆ›å»ºç²’å­æ•ˆæœçš„ç¬¬ä¸‰æ–¹ç±»ï¼Œä½†å®ƒä»¬é€šå¸¸çš„ç›®æ ‡æ˜¯ä¸æ¸¸æˆæ¡†æ¶é›†æˆã€‚ å¯¹äºUIKitåº”ç”¨ç¨‹åºä¸­çš„ç²’å­åŠ¨ç”»ï¼ŒCAEmitterLayeræ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå†…ç½®å¹¶ä¸”æ˜“äºä½¿ç”¨ã€‚ æœ¬ç« èŠ‚çš„å¼€å§‹é¡¹ç›® Snow Sceneã€‚ æ‰“å¼€ViewController.swiftå¹¶å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 1234let rect = CGRect(x: 0.0, y: 100.0, width: view.bounds.width, height: 50.0)let emitter = CAEmitterLayer()emitter.frame = rectview.layer.addSublayer(emitter) æ­¤ä»£ç åˆ›å»ºä¸€ä¸ªæ–°çš„CAEmitterLayerï¼Œå°†å›¾å±‚çš„æ¡†æ¶è®¾ç½®ä¸ºå æ®å±å¹•çš„æ•´ä¸ªå®½åº¦ï¼Œå¹¶å°†å›¾å±‚å®šä½åœ¨å±å¹•é¡¶éƒ¨é™„è¿‘ã€‚æ¥ä¸‹æ¥ï¼Œéœ€è¦è®¾ç½®è¦ä¸ç²’å­æ•ˆæœä¸€èµ·ä½¿ç”¨çš„å‘å°„å™¨ç±»å‹ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()ï¼š 1emitter.emitterShape = kCAEmitterLayerRectangle å‘å°„å™¨çš„å½¢çŠ¶é€šå¸¸ä¼šå½±å“åˆ›å»ºæ–°ç²’å­çš„åŒºåŸŸï¼Œä½†åœ¨æ‚¨åˆ›å»ºç±»ä¼¼3Dçš„ç²’å­ç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼Œå®ƒä¹Ÿä¼šå½±å“å®ƒä»¬çš„zä½ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç§æœ€ç®€å•çš„å‘å°„å™¨å½¢çŠ¶ï¼š 1.ç‚¹å½¢çŠ¶kCAEmitterLayerPointçš„å‘å°„å™¨å½¢çŠ¶ä¼šå¯¼è‡´æ‰€æœ‰ç²’å­åœ¨åŒä¸€ç‚¹åˆ›å»ºï¼šå‘å°„å™¨çš„ä½ç½®ã€‚å¯¹äºæ¶‰åŠç«èŠ±æˆ–çƒŸèŠ±çš„æ•ˆæœï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡åœ¨åŒä¸€ç‚¹åˆ›å»ºæ‰€æœ‰ç²’å­ï¼Œå¹¶ä½¿å®ƒä»¬åœ¨æ¶ˆå¤±å‰æ²¿ä¸åŒæ–¹å‘é£è¡Œæ¥åˆ›å»ºç«èŠ±æ•ˆæœã€‚ 2.çº¿æ¡å½¢çŠ¶kCAEmitterLayerLineå‘å°„å™¨å½¢çŠ¶ï¼Œæ˜¯æ²¿å‘å°„å™¨æ¡†æ¶é¡¶éƒ¨çº¿åˆ›å»ºæ‰€æœ‰ç²’å­ã€‚ è¿™æ˜¯ä¸€ç§å¯ç”¨äºç€‘å¸ƒæ•ˆæœçš„å‘å°„å™¨å½¢çŠ¶ï¼Œæ°´ç²’å­å‡ºç°åœ¨ç€‘å¸ƒçš„é¡¶éƒ¨å¹¶å‘ä¸‹ç§»åŠ¨ï¼š 3.çŸ©å½¢å½¢çŠ¶æœ€åï¼ŒkCAEmitterLayerRectangleï¼Œé€šè¿‡åœ¨ç»™å®šçš„çŸ©å½¢åŒºåŸŸéšæœºåˆ›å»ºç²’å­ï¼š è¿™ç§å‘å°„å™¨å½¢çŠ¶éå¸¸é€‚åˆè®¸å¤šä¸åŒçš„æ•ˆæœï¼ŒåŒ…æ‹¬ç¢³é…¸é¥®æ–™å’Œçˆ†ç±³èŠ±ä¸­çš„æ°”æ³¡ã€‚ ç”±äºç§¯é›ªä»æ•´ä¸ªå¤©ç©ºéšæœºå‡ºç°ï¼ŒçŸ©å½¢å‘å°„å™¨å½¢çŠ¶æ˜¯æœ¬ç« é¡¹ç›®çš„ä¸é”™é€‰æ‹©ã€‚ æ³¨æ„ï¼šè¿˜æœ‰ä¸€äº›å‘å°„å™¨å½¢çŠ¶ - é•¿æ–¹ä½“ï¼Œåœ†å½¢å’Œçƒå½¢ - ä½†è¿™äº›è¶…å‡ºäº†æœ¬ç« çš„èŒƒå›´ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹Appleæ–‡æ¡£ä¸­çš„CAEmitterLayerç±»çš„å®˜æ–¹æ–‡æ¡£Emitter Shapeå‚è€ƒã€‚ æ·»åŠ å‘å°„å™¨å¸§å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„æœ«å°¾ï¼š 12emitter.emitterPosition = CGPoint(x: rect.width/2, y: rect.height/2)emitter.emitterSize = rect.siz ç»„åˆå½¢çŠ¶ï¼Œä½ç½®å’Œå°ºå¯¸å±æ€§å®šä¹‰äº†å‘å°„å™¨æ¡†æ¶ã€‚ åœ¨è¿™é‡Œï¼Œå¯ä»¥å°†å‘å°„å™¨çš„ä½ç½®è®¾ç½®ä¸ºå›¾å±‚çš„ä¸­å¿ƒï¼Œå¹¶å°†å‘å°„å™¨å¤§å°è®¾ç½®ä¸ºç­‰äºå›¾å±‚çš„å¤§å°ã€‚è¿™æ„å‘³ç€å‘å°„å™¨å ç”¨æ•´ä¸ªå±‚å¸§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š åˆ›å»ºå‘å°„å™¨å•å…ƒç°åœ¨å·²é…ç½®äº†å‘å°„å™¨çš„ä½ç½®å’Œå¤§å°ï¼Œå¯ä»¥ç»§ç»­æ·»åŠ å‘å°„å™¨å•å…ƒã€‚ å‘å°„å™¨å•å…ƒæ˜¯è¡¨ç¤ºä¸€ä¸ªç²’å­æºçš„æ•°æ®æ¨¡å‹ã€‚ å®ƒä¸CAEmitterLayeræ˜¯ä¸€ä¸ªå•ç‹¬çš„ç±»ï¼Œå› ä¸ºå•ä¸ªå‘å°„å™¨å±‚å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå•å…ƒã€‚ ä¾‹å¦‚ï¼Œåœ¨çˆ†ç±³èŠ±åŠ¨ç”»ä¸­ï¼Œä½ å¯ä»¥æœ‰ä¸‰ä¸ªä¸åŒçš„å•å…ƒæ¥è¡¨ç¤ºçˆ†ç±³èŠ±çš„ä¸åŒçŠ¶æ€ï¼šå®Œå…¨ç‚¸å¼€ï¼ŒåŠç‚¸å¼€å’Œé‚£äº›é¡½å›ºçš„æœªç‚¸å¼€ï¼š ä¹‹åå°†ä½¿ç”¨ä¸åŒçš„å½¢çŠ¶çš„â„ï¸å›¾ç‰‡ä»£è¡¨ä¸åŒçš„å‘å°„å™¨å•å…ƒ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 12let emitterCell = CAEmitterCell()emitterCell.contents = UIImage(named: "flake.png")?.cgImage åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ‚¨åˆ›å»ºä¸€ä¸ªæ–°å•å…ƒæ ¼å¹¶å°†flake.pngè®¾ç½®ä¸ºå…¶å†…å®¹ã€‚ contentså±æ€§åŒ…å«å°†ä»ä¸­åˆ›å»ºæ–°ç²’å­çš„æ¨¡æ¿ã€‚ä¸‹é¢æ˜¯æ·±è‰²èƒŒæ™¯ä¸Šçš„æ”¾å¤§çš„flake.pngå±å¹•æˆªå›¾ï¼š å‘å°„å™¨å°†åˆ›å»ºæ­¤å›¾åƒçš„å¤šä¸ªä¸åŒå‰¯æœ¬ä»¥æ¨¡ä»¿çœŸå®çš„é›ªèŠ±ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 123emitterCell.birthRate = 20emitterCell.lifetime = 3.5emitter.emitterCells = [emitterCell] ä¸Šé¢çš„ä»£ç è¡¨ç¤ºæ¯ç§’åˆ›å»º20ä¸ªé›ªèŠ±ï¼Œå¹¶å°†å®ƒä»¬ä¿æŒåœ¨å±å¹•ä¸Š3.5ç§’ã€‚ è¿™æ„å‘³ç€åœ¨ä»»ä½•ç»™å®šæ—¶é—´å±å¹•ä¸Šå°†æœ‰70ä¸ªé›ªèŠ±ï¼Œé™¤äº†åŠ¨ç”»çš„æœ€åˆå‡ ç§’ä¹‹å‰ï¼Œæœ€æ—§çš„ç²’å­å¼€å§‹æ¶ˆå¤±ã€‚ æœ€åï¼Œä½¿ç”¨æ‰€æœ‰å‘å°„å™¨å•å…ƒçš„æ•°ç»„è®¾ç½®emitterCellså±æ€§ã€‚ è¯·è®°ä½ï¼Œå¯ä»¥æ‹¥æœ‰å¤šä¸ªå‘å°„å™¨å•å…ƒï¼Œç›®å‰åªæœ‰ä¸€ä¸ªã€‚ ä¸€æ—¦è®¾ç½®äº†å‘å°„å™¨å•å…ƒåˆ—è¡¨ï¼Œå‘å°„å™¨å°±ä¼šå¼€å§‹åˆ›å»ºç²’å­ã€‚ è¿è¡Œï¼Œçœ‹åˆ°æ•ˆæœï¼š flake.pngçš„å¤šä¸ªå‰¯æœ¬åœ¨3.5ç§’åæ˜¾ç¤ºå¹¶æ¶ˆå¤±ã€‚ ç„¶è€Œï¼Œé›ªæ˜¯å¥‡æ€ªçš„é™æ€ â€”â€” â„ï¸æ²¡æœ‰ç§»åŠ¨ã€‚ æ§åˆ¶ç²’å­ç›®å‰ï¼Œé›ªç²’å‡ºç°ï¼Œåœ¨ç©ºä¸­æ¼‚æµ®å‡ ç§’é’Ÿï¼Œç„¶åæ¶ˆå¤±ã€‚ é‚£ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ— èŠ ï¼ ä¸‹ä¸€ä¸ªä»»åŠ¡æ˜¯è®©è¿™äº›æ¼«æ— ç›®çš„çš„ç²’å­ç§»åŠ¨èµ·æ¥ã€‚ æ”¹å˜ç²’å­æ–¹å‘å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 1emitterCell.yAcceleration = 70.0 è¿™å°†åœ¨yæ–¹å‘ä¸Šå¢åŠ ä¸€ç‚¹åŠ é€Ÿåº¦ï¼Œå› æ­¤ç²’å­ä¼šåƒçœŸé›ªä¸€æ ·å‘ä¸‹æ¼‚ç§»ã€‚ è¿è¡Œæ•ˆæœï¼š è¿™çœ‹èµ·æ¥æœ‰ç‚¹åƒé›ª â€”â€” ä½†é›ªå¾ˆå°‘ç›´çº¿ä¸‹é™ã€‚ è¦è§£å†³æ­¤é—®é¢˜ï¼Œå°±è¦å‘ç²’å­æ·»åŠ ä»¥ä¸‹æ°´å¹³åŠ é€Ÿåº¦ï¼š 1emitterCell.xAcceleration = 10.0 è¿è¡Œï¼Œ é›ªèŠ±æœå‘å¯¹è§’çº¿æ–¹å‘ç§»åŠ¨ï¼š ä¸ºäº†äº§ç”Ÿæ¸©å’Œçš„å è½æ•ˆæœï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12emitterCell.velocity = 20.0emitterCell.emissionLongitude = .pi * -0.5 velocityæ˜¯åˆå§‹é€Ÿåº¦ã€‚ å‘å°„ç»åº¦ï¼ˆemissionLongitudeï¼‰æ˜¯ç²’å­çš„åˆå§‹è§’åº¦ï¼Œé€Ÿåº¦å‚æ•°è®¾ç½®ç²’å­çš„åˆå§‹é€Ÿåº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å†æ¬¡è¿è¡Œï¼Œæ•ˆæœï¼š æ¯æ¬¡æ›´æ”¹æ—¶ï¼ŒåŠ¨ç”»çœ‹èµ·æ¥è¶Šæ¥è¶Šå¥½ã€‚ ä½†æ˜¯è¿™äº›ç²’å­çœ‹èµ·æ¥åƒé›ªèŠ±å¤§å°çš„æ€æˆ®æœºå™¨äººä¸€è‡´åœ°ç§»åŠ¨ã€‚ è¿™æ˜¯å› ä¸ºæ¯ä¸ªç²’å­å…·æœ‰å®Œå…¨ç›¸åŒçš„åˆå§‹è§’åº¦ï¼Œé€Ÿåº¦å’ŒåŠ é€Ÿåº¦ã€‚ éœ€è¦ä¸ºç²’å­åˆ›å»ºè¿‡ç¨‹æ·»åŠ ä¸€äº›éšæœºæ€§ã€‚ ä¸ºç²’å­æ·»åŠ éšæœºæ€§å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()ï¼š 1emitterCell.velocityRange = 200.0 è¿™å‘Šè¯‰å‘å°„å™¨éšæœºèŒƒå›´çš„å€¼ã€‚ ç”±äºç²’å­åŠ¨ç”»çš„éšæœºèŒƒå›´åœ¨æœ¬ç« ä¸­ç»å¸¸ä½¿ç”¨ï¼Œå› æ­¤å€¼å¾—èŠ±äº›æ—¶é—´æ¥è§£é‡Šå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æ‰€æœ‰ç²’å­çš„åˆå§‹é€Ÿåº¦éƒ½æ˜¯20; æ·»åŠ é€Ÿåº¦èŒƒå›´ä¸ºæ¯ä¸ªç²’å­åˆ†é…éšæœºé€Ÿåº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æ¯ä¸ªç²’å­çš„é€Ÿåº¦å°†æ˜¯ï¼ˆ20-200ï¼‰= -180å’Œï¼ˆ20 + 200ï¼‰= 220ä¹‹é—´çš„éšæœºå€¼ã€‚å…·æœ‰è´Ÿåˆå§‹é€Ÿåº¦çš„ç²’å­æ ¹æœ¬ä¸ä¼šé£èµ·æ¥; ä¸€æ—¦å®ƒä»¬å‡ºç°åœ¨å±å¹•ä¸Šï¼Œå®ƒä»¬å°±ä¼šå¼€å§‹é£˜è½ã€‚ å…·æœ‰æ­£é€Ÿåº¦çš„ç²’å­å°†é¦–å…ˆé£èµ·ï¼Œç„¶åå‘ä¸‹é£˜è½ã€‚ è¿è¡Œï¼Œæ•ˆæœï¼š å¥½å§ï¼Œé›ªèŠ±æ˜¯éšæœºçš„ï¼šä¸€äº›é›ªèŠ±è·³åˆ°å±å¹•çš„é¡¶éƒ¨è¾¹ç¼˜ï¼Œè€Œå…¶ä»–é›ªèŠ±åˆ™å‡ºç°ï¼Œå¾˜å¾Šä¸€ä¼šå„¿ï¼Œç„¶åå‘ä¸‹é£˜è½ã€‚ è®©åˆå§‹ç²’å­æ–¹å‘ä¹ŸéšæœºåŒ–ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()ï¼š 1emitterCell.emissionRange = .pi * 0.5 æœ€åˆï¼Œæ‰€æœ‰ç²’å­åˆå§‹å‘å°„è§’åº¦æ˜¯-Ï€/ 2ã€‚ ä¸Šé¢çš„ä»£ç è¡Œè¡¨æ˜å‘å°„å™¨åˆå§‹è§’åº¦ä¸ºï¼ˆ-Ï€/ 2 - Ï€/ 2ï¼‰= 180åº¦å’Œï¼ˆ-Ï€/ 2 +Ï€/ 2ï¼‰= 0åº¦èŒƒå›´å†…çš„ä¸€ä¸ªéšæœºè§’åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿è¡Œï¼Œæ•ˆæœï¼š ç°åœ¨è¿™æ˜¯éšæœºçš„ï¼ è™šæ‹Ÿæš´é£é›ªçœŸçš„å˜å¾—ç”ŸåŠ¨èµ·æ¥ã€‚ æ”¹å˜ç²’å­é¢œè‰²CAEmitterLayerçš„è¿˜æœ‰ä¸€ä¸ªä¾¿åˆ©åŠŸèƒ½æ˜¯èƒ½å¤Ÿä¸ºç²’å­è®¾ç½®é¢œè‰²ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥å°†é›ªèŠ±æ·¡è“è‰²è€Œä¸æ˜¯é²œæ˜çš„ç™½è‰²ï¼Œå› ä¸ºè“è‰²é€šå¸¸ä¸é›¨ï¼Œæ°´ï¼Œé›ªæˆ–å†°æœ‰å…³ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 1emitterCell.color = UIColor(red: 0.9, green: 1.0, blue: 1.0, alpha: 1.0).cgColor è¿™ç§å˜åŒ–çœ‹èµ·æ¥å¾ˆæœ‰è¶£ï¼Œä½†æ‰€æœ‰çš„é›ªèŠ±éƒ½æ˜¯ç»Ÿä¸€è“è‰²è°ƒã€‚ å¦‚æœå¯ä»¥éšæœºåŒ–æ¯ä¸ªé›ªèŠ±çš„é¢œè‰²ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿ éœ€è¦åšçš„å°±æ˜¯ä¸ºç²’å­é¢œè‰²å®šä¹‰ä¸‰ä¸ªç‹¬ç«‹çš„èŒƒå›´ï¼šçº¢è‰²ï¼Œç»¿è‰²å’Œè“è‰²å„ä¸€ä¸ªã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„æœ«å°¾ï¼š 123emitterCell.redRange = 0.3emitterCell.greenRange = 0.3emitterCell.blueRange = 0.3 ä¸Šé¢çš„ä»£ç å¾ˆå¥½ç†è§£ï¼šç»¿è‰²å’Œè“è‰²æ˜¯0.7åˆ°1.3ä¹‹é—´çš„éšæœºå€¼ï¼Œä¹Ÿå°±æ˜¯0.7åˆ°1.0ã€‚ ç±»ä¼¼ï¼Œçº¢è‰²ä»‹äº0.6å’Œ1.0ä¹‹é—´ã€‚ è¿è¡Œï¼Œçœ‹åˆ°äº”å½©â„ï¸ï¼š 0.3çš„èŒƒå›´æœ‰ç‚¹å¤§äº†ï¼Œè¿™æ˜¯ä¸ºäº†å±•ç¤ºæ•ˆæœï¼Œä¹‹åå¯ä»¥æ”¹ä¸º0.1ã€‚ éšæœºåŒ–ç²’å­å¤–è§‚å³ä½¿åœ¨æ·»åŠ äº†æ‰€æœ‰è‡ªå®šä¹‰ä¹‹åï¼Œé›ªèŠ±å¤–è§‚çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œç°å®ä¸­ä¸ä¼šæ˜¯è¿™æ ·çš„ã€‚ ä¸‹é¢å°†ä½¿æ¯ä¸ªç²’å­éƒ½æˆä¸ºä¸€ä¸ªç¾ä¸½è€Œç‹¬ç‰¹çš„é›ªèŠ±ã€‚ è®©æ¯ä¸ªé›ªèŠ±å¤§å°æ˜¯éšæœºçš„ï¼Œå°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()ï¼š 12emitterCell.scale = 0.8emitterCell.scaleRange = 0.8 å°†åŸºæœ¬ç²’å­å¤§å°è®¾ç½®ä¸ºåŸå§‹å¤§å°çš„80ï¼…ï¼Œå¤§å°èŒƒå›´åœ¨ 0.0 - 1.6ä¹‹é—´ã€‚ ä¸ä»…å¯ä»¥è®¾ç½®é›ªèŠ±çš„åˆå§‹å¤§å°ï¼Œè¿˜å¯ä»¥åœ¨é›ªèŠ±è½ä¸‹æ—¶ä¿®æ”¹é›ªèŠ±çš„å¤§å°ã€‚åœ¨æ¥è¿‘åœ°é¢æ—¶ï¼Œâ„ï¸åœ¨æ¸©æš–çš„é›¾æ°”ä¸­ä¼šèåŒ–ã€‚ å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°viewDidLoad()ï¼š 1emitterCell.scaleSpeed = -0.15 scaleSpeedå±æ€§è¡¨ç¤ºï¼Œç²’å­æŒ‰æ¯”ä¾‹æ¯ç§’ç¼©å°åŸå§‹å¤§å°çš„15ï¼…ã€‚ å¤§ç²’å­åœ¨ä»è§†çº¿ä¸­æ¶ˆå¤±ä¹‹å‰ä¼šå¤§å¹…æ”¶ç¼©ï¼Œè€Œå°ç²’å­ä¼šåœ¨å®ƒä»¬ç»“æŸå‰å®Œå…¨æ¶ˆå¤±ã€‚ä¸è¦å¿ƒç–¼ï¼Œè¿™åªæ˜¯ç”Ÿæ´»çš„é›ªèŠ±åœˆã€‚ è¿è¡Œï¼Œæ•ˆæœï¼Œè§‚å¯Ÿå•ä¸ªé›ªèŠ±å¤§å°çš„å˜åŒ–ï¼š â„ï¸çœ‹ä¸Šå»æœ‰ç‚¹å°‘ï¼Œä¿®æ”¹birthRateï¼š 1emitterCell.birthRate = 150 è®¾ç½®â„ï¸çš„é€æ˜åº¦ï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 12emitterCell.alphaRange = 0.75emitterCell.alphaSpeed = -0.15 è®¾ç½®äº†ä¸€ä¸ªalphaèŒƒå›´ï¼Œä»0.25åˆ°1.0çš„ä¸Šé™å€¼ã€‚ alphaSpeedä¸scaleSpeedéå¸¸ç›¸ä¼¼ï¼Œå¯ä»¥éšæ—¶é—´æ›´æ”¹ç²’å­çš„alphaå€¼ã€‚ è¿è¡Œï¼ŒæŸ¥çœ‹æ•ˆæœï¼š ç›®å‰å·²ç»æ¶µç›–äº†CAEmitterCellæä¾›çš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œä¸‹é¢å†…å®¹æ˜¯å…³äºâ„ï¸çš„ä¸€äº›ç»†èŠ‚ã€‚ é›ªèŠ±çš„ç»†èŠ‚åœ¨viewDidLoad()ä¸­æ‰¾åˆ°è®¾ç½®emissionLongitudeå¹¶å°†å…¶æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹çš„è¡Œï¼š 1emitterCell.emissionLongitude = -.pi è¯·è®°ä½ï¼Œå‘å°„ç»åº¦æ˜¯ç²’å­çš„èµ·å§‹è§’åº¦ã€‚ è¿™ç§å˜åŒ–ä¼šè®©é›ªèŠ±æ—‹è½¬ä¸€ä¸‹ï¼Œä»¿ä½›è¢«é£å¹ä¸€ä¸‹ä¸€æ ·ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨æ‰¾åˆ°å£°æ˜rectçš„è¡Œå¹¶æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹å®ƒï¼š 1let rect = CGRect(x: 0.0, y: -70.0, width: view.bounds.width, height: 50.0) è¿™ä¼šå°†å‘å°„å™¨ç§»å‡ºå±å¹•ï¼Œç”¨æˆ·å°†æ— æ³•çœ‹åˆ°ç²’å­æ¥è‡ªä½•å¤„ã€‚ä¹‹å‰è®©ç²’å­å‘å°„åœ¨å±å¹•ä¸­ï¼Œæ˜¯ä¸ºäº†å±•ç¤ºè¯´æ˜ã€‚ æœ€åï¼Œå°†ä»¥ä¸‹ä½ä»£ç æ·»åŠ åˆ°viewDidLoad()ä»¥éšæœºåŒ–é›ªèŠ±åœ¨å±å¹•ä¸Šä¿ç•™çš„æ—¶é—´é•¿åº¦ï¼š 1emitterCell.lifetimeRange = 1.0 è¿™ä¼šå°†æ¯ä¸ªé›ªèŠ±çš„ç”Ÿå‘½å‘¨æœŸè®¾ç½®ä¸º2.5åˆ°4.5ç§’ä¹‹é—´çš„éšæœºå€¼ã€‚ è™½ç„¶æœ¬ç« æ˜¯ä¸€CAEmitterLayerä¸ºåŸºç¡€ï¼Œè¯´æ˜äº†åˆ¶ä½œç²’å­æ•ˆæœçš„å¾ˆå¤šç»†èŠ‚ï¼Œä½†æ˜¯æ¯ä¸ªæ¦‚å¿µéƒ½å®Œå…¨é€‚ç”¨äºå…¶ä»–ç²’å­ç³»ç»Ÿã€‚æ— è®ºæ˜¯SpriteKitï¼ŒUnityè¿˜æ˜¯ä»»ä½•å…¶ä»–è‡ªå®šä¹‰ç²’å­å‘å°„å™¨ï¼ŒåŸç†éƒ½åŸºæœ¬ä¸Šå·®ä¸å¤šã€‚ æœ¬ç« ç›®å‰æ•ˆæœï¼š æ·»åŠ æ›´å¤šå•å…ƒè¿™ä¸€éƒ¨åˆ†åªæ˜¯ä¸ºäº†å­¦ä¹ æ›´å¤šç²’å­ç³»ç»Ÿçš„çŸ¥è¯†ï¼ŒçœŸå®çš„é›ªæ™¯ä¸æ˜¯è¿™æ ·çš„ï¼ŒğŸ˜ã€‚ æˆ‘åˆæ·»åŠ äº†ä¸‰ç§ä¸åŒâ„ï¸å•å…ƒï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657//cell #2let cell2 = CAEmitterCell()cell2.contents = UIImage(named: "flake2.png")?.cgImagecell2.birthRate = 50cell2.lifetime = 2.5cell2.lifetimeRange = 1.0cell2.yAcceleration = 50cell2.xAcceleration = 50cell2.velocity = 80cell2.emissionLongitude = .picell2.velocityRange = 20cell2.emissionRange = .pi * 0.25cell2.scale = 0.8cell2.scaleRange = 0.2cell2.scaleSpeed = -0.1cell2.alphaRange = 0.35cell2.alphaSpeed = -0.15cell2.spin = .picell2.spinRange = .pi//cell #3let cell3 = CAEmitterCell()cell3.contents = UIImage(named: "flake3.png")?.cgImagecell3.birthRate = 20cell3.lifetime = 7.5cell3.lifetimeRange = 1.0cell3.yAcceleration = 20cell3.xAcceleration = 10cell3.velocity = 40cell3.emissionLongitude = .picell3.velocityRange = 50cell3.emissionRange = .pi * 0.25cell3.scale = 0.8cell3.scaleRange = 0.2cell3.scaleSpeed = -0.05cell3.alphaRange = 0.5cell3.alphaSpeed = -0.05//cell #4let cell4 = CAEmitterCell()cell4.contents = UIImage(named: "flake4.png")?.cgImagecell4.birthRate = 10cell4.lifetime = 5.5cell4.lifetimeRange = 1.0cell4.yAcceleration = 25cell4.xAcceleration = 30cell4.velocity = 20cell4.emissionLongitude = .picell4.velocityRange = 30cell4.emissionRange = .pi * 0.25cell4.scale = 0.8cell4.scaleRange = 0.2cell4.scaleSpeed = -0.05cell4.alphaRange = 0.5cell4.alphaSpeed = -0.05emitter.emitterCells = [emitterCell, cell2, cell3, cell4] æ³¨ï¼šå¯èƒ½éœ€è¦åœ¨çœŸæœºæ‰èƒ½çœ‹åˆ°æµç•…çš„æ•ˆæœ æ•ˆæœï¼š 27-UIImageViewçš„å¸§åŠ¨ç”»æœ€åä¸€ç« å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ç§éå¸¸ç‰¹æ®Šçš„åŠ¨ç”»äº†ã€‚å¸§åŠ¨ç”»(Frame Animation)æ˜¯æˆ‘ä»¬å°æ—¶å€™å–œæ¬¢çš„åŠ¨ç”»ç±»å‹ï¼Œä»Šå¤©å¯èƒ½ä»ç„¶å¾ˆå–œæ¬¢ï¼›è¿ªæ–¯å°¼çš„Duck Talesï¼ŒHanna-Barberaçš„Tomå’ŒJerryä»¥åŠFlintstonesæ¼«ç”»éƒ½æ˜¯è¿™ç§åˆ›ä½œæ–¹å¼ã€‚ å¸§åŠ¨ç”»ä¹Ÿæ˜¯ç”¨æ¥ä¸ºæ¸¸æˆä¸­çš„è§’è‰²åˆ¶ä½œåŠ¨ç”»çš„åŠ¨ç”»ã€‚ä»…ä»…å°†é™æ€æ¸¸æˆè§’è‰²ä»ä¸€ä¸ªä½ç½®è½¬æ¢ä¸ºå¦ä¸€ä¸ªä½ç½®æ˜¯ä¸å¤Ÿçš„ã€‚éœ€è¦ç§»åŠ¨è§’è‰²çš„è„šæˆ–æ—‹è½¬é£æœºçš„èºæ—‹æ¡¨ä»¥ç»™å‡ºé€¼çœŸçš„è¿åŠ¨æ„Ÿã€‚ è¦åˆ›å»ºè§’è‰²ç§»åŠ¨çš„æ•ˆæœï¼Œå¯ä»¥å°†åŠ¨ç”»åˆ†è§£ä¸ºå¸§ï¼Œè¿™äº›å¸§æ˜¯è¡¨ç¤ºåŠ¨ä½œä¸åŒé˜¶æ®µçš„é™æ­¢å›¾åƒã€‚å½“å¿«é€Ÿæ˜¾ç¤ºå¸§æ—¶ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ˜¾ç¤ºå¸§ï¼Œçœ‹èµ·æ¥è§’è‰²æ­£åœ¨ç§»åŠ¨ï¼š å¼€å§‹é¡¹ç›®æœ¬ç« èŠ‚çš„å¼€å§‹é¡¹ç›® æ˜¯SouthPoleFunï¼Œæ‰“å¼€Main.storyboardæŸ¥çœ‹æœ€åˆçš„æ¸¸æˆåœºæ™¯ï¼š ç»“æ„å¾ˆç®€å•ï¼Œä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡ï¼Œå‘å·¦ã€å‘å³ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªæ»‘åŠ¨æŒ‰é’®ï¼Œä¸€ä¸ªä¼é¹…å›¾åƒè§†å›¾ã€‚ ViewController.swiftä¸­actionLeft(_:)ï¼ŒactionRight(_:)åˆ†åˆ«è¿æ¥å·¦å³ä¸¤ä¸ªæŒ‰é’®ï¼ŒactionSlide(_:)è¿æ¥æ»‘åŠ¨æŒ‰é’®ã€‚penguinå’ŒslideButtonåˆ†åˆ«æ˜¯ä¼é¹…å›¾åƒå’Œæ»‘åŠ¨æŒ‰é’®çš„æ¥å£ã€‚ Images.xcassetsä¸­åŒ…æ‹¬ä¼é¹…ğŸ§ä¸¤å¼ æ»‘åŠ¨å›¾ç‰‡å’Œå››å¼ èµ°åŠ¨å›¾ç‰‡ï¼š è®¾ç½®å¸§åŠ¨ç”»å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°ViewControllerä¸­çš„loadWalkAnimation()æ–¹æ³•ï¼š 123penguin.animationImages = walkFramespenguin.animationDuration = animationDuration / 3penguin.animationRepeatCount = 3 animationImagesï¼šå­˜å‚¨å¸§åŠ¨ç”»çš„æ‰€æœ‰å¸§å›¾åƒã€‚ animationDurationï¼šè¿™å‘Šè¯‰UIKitåŠ¨ç”»çš„ä¸€æ¬¡è¿­ä»£åº”è¯¥æŒç»­å¤šé•¿æ—¶é—´ï¼›å› ä¸ºæ‚¨å°†é‡å¤åŠ¨ç”»ä¸‰æ¬¡ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œæ‰€ä»¥å°†å…¶è®¾ç½®ä¸ºæ€»animationDurationçš„ä¸‰åˆ†ä¹‹ä¸€ã€‚ animationRepeatCountï¼šæ§åˆ¶åŠ¨ç”»çš„é‡å¤æ¬¡æ•°ã€‚ ä¹‹åï¼Œéœ€è¦ä»è§†å›¾æ§åˆ¶å™¨ä¸­çš„viewDidLoad()è°ƒç”¨loadWalkAnimation()ï¼Œä»¥ä¾¿æ¯å½“ç©å®¶ç‚¹å‡»å·¦ç®­å¤´æŒ‰é’®æ—¶å›¾åƒè§†å›¾å°±ä¼šå‡†å¤‡å°±ç»ªã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidLoad()çš„åº•éƒ¨ï¼š 1loadWalkAnimation() å“¦ - ç‚¹å‡»å·¦ç®­å¤´æŒ‰é’®æ—¶æ²¡æœ‰ä»»ä½•ååº”ã€‚ ä½ åšé”™äº†ä»€ä¹ˆå—ï¼Ÿ æ²¡æœ‰; æ‚¨åªä¸ºå¸§åŠ¨ç”»é…ç½®äº†å›¾åƒè§†å›¾ï¼Œä½†æ‚¨ä»æœªå¯åŠ¨è¿‡åŠ¨ç”»ã€‚ å¦‚æœä¸å¯åŠ¨å¸§åŠ¨ç”»ï¼Œå›¾åƒè§†å›¾å°†ç»§ç»­æ˜¾ç¤ºå…¶å›¾åƒå±æ€§çš„å†…å®¹ã€‚æ˜¯æ—¶å€™è®©è¿™åªä¼é¹…è¹’è·šäº†ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionLeft(_:)ï¼š 1isLookingRight = false è¿™æ˜¯å·¦å³æ–¹å‘çš„åˆ¤æ–­ã€‚ç”±äºæ¯æ¬¡æ›´æ”¹ä¼é¹…çš„æ–¹å‘æ—¶éƒ½éœ€è¦æ›´æ–°ä¼é¹…çš„è½¬æ¢å’ŒæŒ‰é’®çš„è½¬æ¢ï¼Œå› æ­¤éœ€è¦å‘isLookingRightæ·»åŠ å±æ€§è§‚å¯Ÿå™¨ï¼š 1234567var isLookingRight: Bool = true &#123; didSet &#123; let xScale: CGFloat = isLookingRight ? 1 : -1 penguin.transform = CGAffineTransform(scaleX: xScale, y: 1) slideButton.transform = penguin.transform &#125;&#125; ä¸Šé¢ä»£ç å°†ä¼é¹…æŒ‰é’®å›¾ç‰‡çš„xè½´åˆ»åº¦è®¾ç½®ä¸º1æˆ–-1ï¼Œå…·ä½“å–å†³äºisLookingRightçš„å€¼ã€‚ ç„¶åè®¾ç½®è¯¥è½¬æ¢ï¼Œæ¥å®ç°ç¿»è½¬è§†å›¾ï¼Œè®©ä¼é¹…å¯ä»¥é¢å‘æ­£ç¡®çš„æ–¹å‘ï¼š ç°åœ¨éœ€è¦è°ƒç”¨åŠ¨ç”»ä»£ç ã€‚ åœ¨actionLeft(_:)ä¸­ç»§ç»­æ·»åŠ ï¼š 1penguin.startAnimating() å½“è°ƒç”¨startAnimating()æ—¶ï¼Œå›¾åƒè§†å›¾ä¼šåœ¨é…ç½®åŠ¨ç”»æ—¶æ’­æ”¾åŠ¨ç”»ï¼šanimationImagesæ•°ç»„ä¸­çš„æ¯ä¸ªå¸§æŒ‰é¡ºåºæ˜¾ç¤ºï¼Œæ€»å…±è¶…è¿‡1ç§’ã€‚è¿è¡Œï¼Œ ç‚¹å‡»å·¦ç®­å¤´æŒ‰é’®ï¼ŒæŸ¥çœ‹ä¼é¹…åœ¨è¡ŒåŠ¨ï¼š è®¾ç½®è§†å›¾åŠ¨ç”»å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionLeft(_:)ï¼š 123UIView.animate(withDuration: animationDuration, delay: 0, options: .curveEaseOut, animations: &#123; self.penguin.center.x -= self.walkSize.width&#125;, completion: nil) ä½¿ç”¨æ­¥è¡Œå›¾åƒçš„å®½åº¦æ¥ç¡®å®šä¼é¹…åœ¨åŠ¨ç”»æ’­æ”¾æ—¶é—´å†…ç§»åŠ¨çš„è·ç¦»ã€‚ è¿è¡Œï¼Œæ•ˆæœï¼š å‘å³æŒ‰é’®å·®ä¸å¤šï¼Œå°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionRight(_:)ï¼š 123456isLookingRight = truepenguin.startAnimating()UIView.animate(withDuration: animationDuration, delay: 0, options: .curveEaseOut, animations: &#123; self.penguin.center.x += self.walkSize.width&#125;, completion: nil) æ»‘åŠ¨å¸§åŠ¨ç”»ä¸ä¹‹å‰å·¦å³ç§»åŠ¨çš„åŠ¨ç”»ç±»ä¼¼ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°loadSlideAnimation()ä»¥åŠ è½½æ–°çš„å¸§åºåˆ—ï¼š 123penguin.animationImages = slideFramespenguin.animationDuration = animationDurationpenguin.animationRepeatCount = 1 å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionSlide(_:)ï¼š 12loadSlideAnimation()penguin.startAnimating() è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ä¼é¹…è·³åˆ°è‡ªå·±è‚šå­ä¸Šæ»‘åŠ¨ã€‚ ä½†åŠ¨ç”»æœ‰ä¸€ç‚¹å¥‡æ€ªï¼Œå› ä¸ºä¸¤ä¸ªåŠ¨ç”»ä¹‹é—´çš„å¸§å›¾åƒä¸åŒï¼š å¼€å§‹å¸§å›¾åƒä¸º108 x 96ï¼Œè€Œæ»‘åŠ¨æ—¶å›¾åƒä¸º93 x 75.å¦‚æœå®ƒä»¬çš„å¤§å°ç›¸åŒï¼Œåˆ™æ¯ä¸ªå›¾åƒä¸­çš„ç©ºç™½ç©ºé—´æœ€ç»ˆä¼šå˜å¤§ã€‚æƒ³è±¡ä¸€ä¸ªå…·æœ‰äº”ä¸ªï¼Œå…­ä¸ªæˆ–æ›´å¤šå¸§åŠ¨ç”»çš„è§’è‰²;ä½ æœ€ç»ˆä¼šå¾—åˆ°å·¨å¤§çš„å›¾åƒå°ºå¯¸ï¼Œä»¥é€‚åº”æ‰€æœ‰å¯èƒ½çš„åŠ¨ç”»å¸§ã€‚ æ³¨æ„ï¼šæ­¤é—®é¢˜çš„ä¸€ä¸ªç®€å•è§£å†³æ–¹æ¡ˆæ˜¯å°†å›¾åƒè§†å›¾çš„å†…å®¹æ¨¡å¼ä»å…¶é»˜è®¤å€¼â€œAspect Fillâ€è®¾ç½®ä¸ºâ€œCenterâ€æˆ–â€œTop Leftâ€ã€‚ä½†è¿™ä¸æ˜¯å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä¸‹é¢å®ç°ä¸€ä¸ªç¨å¾®ä¸åŒä¸”æ›´çµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚ æ‰‹åŠ¨è°ƒæ•´å›¾åƒè§†å›¾çš„å¤§å°å¹¶é‡æ–°å®šä½ï¼Œä»¥åˆ›å»ºæ¼‚äº®æµåŠ¨çš„ç²¾ç¾åŠ¨ç”»ã€‚ é¦–å…ˆï¼Œéœ€è¦åœ¨æ’­æ”¾ä»»ä½•åŠ¨ç”»ä¹‹å‰è®¾ç½®æ‰€éœ€çš„å›¾åƒè§†å›¾å¸§; è¿™å¯ä»¥ç¡®ä¿æ¡†æ¶åœ¨å±å¹•ä¸Šå¯è§æ—¶å°ºå¯¸æ­£ç¡®ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionSlide(_:)ï¼Œå°±åœ¨æ‚¨å¼€å§‹åŠ¨ç”»çš„ä½ç½®ä¹‹å‰ï¼š 1234penguin.frame = CGRect(x: penguin.frame.origin.x, y: penguinY + (walkSize.height - slideSize.height), width: slideSize.width, height: slideSize.height) æ­¤ä»£ç å°†ä¼é¹…å›¾åƒè§†å›¾å‘ä¸‹ç§»åŠ¨ä¸€ç‚¹ä»¥è¡¥å¿å¹»ç¯ç‰‡åŠ¨ç”»çš„è¾ƒçŸ­å¸§ï¼Œå¹¶è°ƒæ•´å›¾åƒè§†å›¾çš„å¤§å°ä»¥åŒ¹é…slideSizeã€‚slideSizeåŒ…å«slide01.pngçš„å¤§å°ï¼›viewDidLoad()å·²åŒ…å«è·å–å›¾åƒçš„ä»£ç ã€‚ ç°åœ¨å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°actionSlide(_:)çš„åº•éƒ¨ï¼š 12345UIView.animate(withDuration: animationDuration - 0.02, delay: 0.0, options: .curveEaseOut, animations: &#123; self.penguin.center.x += self.isLookingRight ? self.slideSize.width : -self.slideSize.width&#125;, completion: &#123; _ in&#125;) åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªè§†å›¾åŠ¨ç”»æ¥ç§»åŠ¨ä¼é¹…å›¾åƒè§†å›¾å¹¶æ¨¡æ‹Ÿè·³è½¬åŠ¨ä½œã€‚ åœ¨ä¸Šé¢çš„é¢å®ŒæˆåŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ ï¼š 12345self.penguin.frame = CGRect(x: self.penguin.frame.origin.x, y: self.penguinY, width: self.walkSize.width, height: self.walkSize.height)self.loadWalkAnimation() æœ€åï¼Œè¿è¡Œï¼Œæ•ˆæœï¼š ä½¿ç”¨UIImageViewçš„å¸§åŠ¨ç”»å¾ˆç®€å•ï¼Œä½†è¿™æ˜¯æˆ‘ä»¬åŠ¨ç”»æŠ€èƒ½çš„ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚ åˆ°æ­¤ï¼Œç®—æ˜¯æ¯”è¾ƒç³»ç»Ÿåœ°å­¦ä¹ äº†iOSåŠ¨ç”»å¤§éƒ¨åˆ†çŸ¥è¯†ï¼Œä¸‹é¢å°±éœ€è¦ç»ƒä¹ å’Œæ›´æ·±å…¥çš„ç ”ç©¶äº†ï¼ŒGood Luckâ˜ºã€‚]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹å…­ï¼š3DåŠ¨ç”»]]></title>
    <url>%2F2018%2FiOS-Animation-6-3D-Animations.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¹‹å‰çš„æ–‡ç« åªä½¿ç”¨äº†äºŒç»´åŠ¨ç”»â€”â€”è¿™æ˜¯åœ¨å¹³é¢è®¾å¤‡å±å¹•ä¸ŠåŠ¨ç”»å…ƒç´ çš„æœ€è‡ªç„¶æ–¹å¼ã€‚ æ¯•ç«Ÿï¼Œä»iOS 7æ‰å¹³åŒ–åçš„ä¸–ç•Œä¸­çš„æŒ‰é’®ï¼Œæ–‡æœ¬å­—æ®µï¼Œå¼€å…³å’Œå›¾åƒæ²¡æœ‰äº†ç¬¬ä¸‰ç»´; è¿™äº›å…ƒç´ å­˜åœ¨äºç”±Xå’ŒYè½´å®šä¹‰çš„å¹³é¢ä¸­ï¼š æ ¸å¿ƒåŠ¨ç”»å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‘†è„±è¿™ä¸ªäºŒç»´ä¸–ç•Œ; è™½ç„¶å®ƒä¸æ˜¯çœŸæ­£çš„3Dæ¡†æ¶ï¼Œä½†æ ¸å¿ƒåŠ¨ç”»æœ‰å¾ˆå¤šå¥½çš„æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨3Dç©ºé—´ä¸­æç»˜äºŒç»´å¯¹è±¡ã€‚ æ¢å¥è¯è¯´ï¼Œå›¾å±‚å’ŒåŠ¨ç”»ä»ç„¶ä»¥äºŒç»´æ–¹å¼è¿›è¡Œæç»˜ï¼Œä½†å¯ä»¥åœ¨3Dç©ºé—´ä¸­æ—‹è½¬å’Œå®šä½æ¯ä¸ªå…ƒç´ çš„2Då¹³é¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä¸Šé¢æ˜¾ç¤ºçš„æ˜¯åœ¨3Dç©ºé—´ä¸­æ—‹è½¬çš„ä¸¤ä¸ª2Då›¾åƒã€‚ é€è§†å˜å½¢ä½¿æˆ‘ä»¬å¯ä»¥ä»æ¸²æŸ“å™¨çš„è§’åº¦äº†è§£å®ƒä»¬çš„ä½ç½®ã€‚ æœ¬æ–‡å°†å­¦ä¹ å¦‚ä½•åœ¨3Dç©ºé—´ä¸­å®šä½å’Œæ—‹è½¬å›¾å±‚ã€‚CATransform3Dç±»ä¼¼äºCGAffineTransformï¼Œä½†é™¤äº†åœ¨xå’Œyæ–¹å‘ä¸Šç¼©æ”¾ï¼Œå€¾æ–œå’Œå¹³ç§»ä¹‹å¤–ï¼Œå®ƒè¿˜å¸¦æ¥äº†ç¬¬ä¸‰ç»´ï¼šzã€‚ zè½´ç›´æ¥ä»è®¾å¤‡å±å¹•æœå‘æ‚¨çš„çœ¼ç›ã€‚ è¯·è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªç¤ºä¾‹ï¼Œä»¥æ›´å¥½åœ°äº†è§£é€è§†çš„å·¥ä½œåŸç†ã€‚ å°†ç›¸æœºè®¾ç½®å¾—éå¸¸é è¿‘å±å¹•ä¼šç›¸åº”åœ°æ‰­æ›²å›¾å±‚çš„è§†è§’ï¼š å¦‚æœå°†ç›¸æœºç¦»ç‰©ä½“æ¯”è¾ƒè¿œæ—¶çš„è§†è§’ï¼š æœ€åï¼Œå¦‚æœä½ åœ¨ç›¸æœºå’Œå±å¹•ä¹‹é—´è®¾ç½®äº†å¾ˆå¤§çš„è·ç¦»ï¼š é¢„è§ˆï¼š 24-ç®€å•çš„3DåŠ¨ç”» â€”â€” å°è¯•æ–°å‘ç°çš„æœ‰å…³ç›¸æœºè·ç¦»å’Œè§†è§’çš„çŸ¥è¯†ã€‚è®¾ç½®å›¾å±‚çš„é€è§†å›¾ï¼Œå¤„ç†å›¾å±‚çš„å˜æ¢ä»¥æ—‹è½¬ï¼Œå¹³ç§»å’Œç¼©æ”¾ä¸‰ç»´å›¾å±‚ã€‚ 25-ä¸­çº§3DåŠ¨ç”» â€”â€” åœ¨å‰ä¸€ç« çš„åŸºç¡€ä¸Šï¼Œæ—¢ç„¶çŸ¥é“äº†m34å’Œç›¸æœºè·ç¦»çš„ç§˜å¯†ï¼Œå°±å¯ä»¥åˆ›å»ºå…·æœ‰å¤šä¸ªè§†å›¾çš„å„ç§3DåŠ¨ç”»ã€‚ 24-ç®€å•3DåŠ¨ç”»æœ¬ç« å°†å°æ–°å‘ç°çš„æœ‰å…³ç›¸æœºè·ç¦»å’Œè§†è§’çš„çŸ¥è¯†ã€‚ å¼€å§‹é¡¹ç›® Office Buddyæ˜¯ä¸€ä¸ªåŠå…¬å®¤å¸®åŠ©åº”ç”¨ç¨‹åºï¼Œä¾›å‘˜å·¥è®¿é—®æœ‰å…³æ—¥å¸¸å…¬å¸ç”Ÿæ´»çš„åˆ†ç±»ä¿¡æ¯ã€‚è¿™ä¸ªåº”ç”¨å¾ˆç®€å•å°±æ˜¯ç‚¹å‡»å·¦ä¸Šè§’çš„æŒ‰é’®æˆ–è€…å·¦å³æ»‘åˆ°ï¼Œç„¶åå·¦è¾¹ä¾§æ å‡ºç°ã€‚ä¸‹é¢ğŸ‘‡å°†å‘è¿™ä¸ªå¼€å§‹é¡¹ç›®ä¸­æ·»åŠ ä¸€äº›3Då…ƒç´ ã€‚ å¼€å§‹é¡¹ç›®é¢„è§ˆï¼š åˆ›é€ 3Dtransformationsæ‰“å¼€ContainerViewController.swiftï¼ŒContainerViewControlleråœ¨å±å¹•ä¸Šæ˜¾ç¤ºèœå•è§†å›¾æ§åˆ¶å™¨å’Œå†…å®¹è§†å›¾æ§åˆ¶å™¨ã€‚ å®ƒè¿˜å¤„ç†å¹³ç§»æ‰‹åŠ¿ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥æ‰“å¼€å’Œå…³é—­èœå•ã€‚ æ‚¨çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯æ„å»ºä¸€ä¸ªç±»æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸ºä¾§é¢èœå•çš„ç»™å®šç™¾åˆ†æ¯”â€œå¼€æ”¾æ€§â€åˆ›å»ºç›¸åº”çš„3Då˜æ¢ã€‚å°†ä»¥ä¸‹æ–¹æ³•å£°æ˜æ·»åŠ åˆ°ContainerViewControllerï¼š 123func menuTransform(percent: CGFloat) -&gt; CATransform3D &#123;&#125; ä¸Šè¿°æ–¹æ³•æ¥å—èœå•å½“å‰è¿›åº¦çš„å•ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ç”±handleGesture(_ :)ä¸­çš„ä»£ç è®¡ç®—ï¼Œå¹¶è¿”å›CATransform3Dçš„å®ä¾‹ã€‚ æ‚¨å°†ç›´æ¥å°†æ­¤æ–¹æ³•çš„ç»“æœåˆ†é…ç»™èœå•å›¾å±‚çš„transformå±æ€§ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°ä¸Šé¢æ–¹æ³•ä¸­ï¼š 12var identity = CATransform3DIdentityidentity.m34 = -1.0/1000 è¿™æ®µä»£ç å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹ä»¤äººæƒŠè®¶; åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åªä½¿ç”¨å‡½æ•°æ¥åˆ›å»ºæˆ–ä¿®æ”¹å˜æ¢ã€‚ ä½†æ˜¯ï¼Œè¿™ä¸€æ¬¡ï¼Œæ‚¨æ­£åœ¨ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªç±»çš„å±æ€§ã€‚ æ³¨æ„ï¼šCATransform3Då’ŒCGAffineTransformåˆ†è¡¨è¡¨ç¤º4*4å’Œ3*3çš„æ•°å­¦çŸ©é˜µï¼Œåœ¨Swiftå’ŒOCä¸­éƒ½æ˜¯ç”¨ç»“æ„ä½“è¡¨ç¤ºçš„ã€‚ å±æ€§m34æŒ‡çŸ©é˜µçš„ç¬¬3è¡Œç¬¬4åˆ—ï¼Œè¿™ä¸ªå±æ€§æ¯”è¾ƒå¸¸ç”¨ï¼Œè¡¨ç¤ºé€è§†æ•ˆæœï¼Œm34 = -1 / Dï¼ŒDå¯ä»¥ç†è§£ä¸ºç›¸æœºè·ç¦»ï¼ŒDè¶Šå°ï¼Œé€è§†æ•ˆæœè¶Šæ˜æ˜¾ï¼Œå¿…é¡»åœ¨æœ‰æ—‹è½¬æ•ˆæœçš„å‰æä¸‹ï¼Œæ‰ä¼šçœ‹åˆ°é€è§†æ•ˆæœã€‚ ç›¸æœºè·ç¦»å¯¹äºæ™®é€šåº”ç”¨ç¨‹åºä¸­çš„UIå…ƒç´ ï¼Œç›¸æœºè·ç¦»å¤§æ¦‚å¯ä»¥è¡¨ç¤ºï¼š0.1 â€¦ 500ï¼šéå¸¸æ¥è¿‘ï¼Œé€è§†å¤±çœŸã€‚750 â€¦ 2,000ï¼šè§†è§’ä¸é”™ï¼Œå†…å®¹æ¸…æ™°å¯è§ã€‚2000+ï¼šå‡ ä¹æ²¡æœ‰é€è§†å¤±çœŸã€‚ å¯¹äºOffice Buddyåº”ç”¨ç¨‹åºï¼Œ1000ç‚¹çš„è·ç¦»å°†ä¸ºèœå•æä¾›ä¸€ä¸ªéå¸¸å¾®å¦™çš„è§†è§’ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°menuTransform(percent:)çš„åº•éƒ¨ï¼š 12let remainingPercent = 1.0 - percentlet angle = remainingPercent * .pi * -0.5 å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°menuTransform(percent:)çš„åº•éƒ¨ï¼š 123let rotationTransform = CATransform3DRotate(identity, angle, 0.0, 1.0, 0.0)let translationTransform = CATransform3DMakeTranslation(menuWidth * percent, 0, 0)return CATransform3DConcat(rotationTransform, translationTransform) åœ¨è¿™é‡Œï¼Œä½¿ç”¨rotationTransformå°†å›¾å±‚ç»•yè½´æ—‹è½¬ã€‚ èœå•ä»å·¦ä¾§ç§»åŠ¨ï¼Œå› æ­¤è¿˜éœ€è¦åˆ›å»ºå¹³ç§»å˜æ¢ä»¥æ²¿xè½´ç§»åŠ¨å®ƒï¼Œæœ€ç»ˆå°†èœå•å®½åº¦è®¾ç½®ä¸º100ï¼…ã€‚ æœ€åï¼Œè¿æ¥ä¸¤ä¸ªè½¬æ¢å¹¶è¿”å›ç»“æœã€‚ ä»setMenu(toPercent:)ä¸­åˆ é™¤ä¸‹é¢ï¼š 1menuViewController.view.frame.origin.x = menuWidth * CGFloat(percent) - menuWidth æ›¿ä»£ä¸ºï¼š 1menuViewController.view.layer.transform = menuTransform(percent: percent) èœå•æ çš„ä½ç½®é€šè¿‡è½¬æ¢æ¥æ§åˆ¶äº†ã€‚ è¿è¡Œé¡¹ç›®ï¼Œ å‘å³å¹³ç§»æŸ¥çœ‹èœå•å¦‚ä½•å›´ç»•å…¶yè½´æ—‹è½¬ï¼š èœå•ä»¥3Då½¢å¼æ—‹è½¬ï¼Œä½†å®ƒå›´ç»•å…¶æ°´å¹³ä¸­å¿ƒæ—‹è½¬ï¼Œèœå•ä¸å†…å®¹è§†å›¾æ§åˆ¶å™¨ä¸­é—´æœ‰é—´éš™ã€‚ ç§»åŠ¨å›¾å±‚çš„é”šç‚¹é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾å±‚çš„é”šç‚¹çš„xåæ ‡ä¸º0.5ï¼Œè¡¨ç¤ºå®ƒä½äºä¸­å¿ƒã€‚ å°†é”šç‚¹çš„xè®¾ç½®ä¸º1.0ï¼Œå°±ä¸ä¼šå‡ºç°ä¸Šé¢çš„é‚£ç§é—´éš™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æ‰€æœ‰å˜æ¢éƒ½æ˜¯å›´ç»•å›¾å±‚çš„é”šç‚¹è®¡ç®—çš„ã€‚ åœ¨viewDidLoad()ä¸­æ‰¾åˆ°ä»¥ä¸‹è¡Œï¼š 1menuViewController.view.frame = CGRect(x: -menuWidth, y: 0, width: menuWidth, height: view.frame.height) ç°åœ¨åœ¨è¯¥è¡Œä¸Šæ–¹æ’å…¥ä»¥ä¸‹ä»£ç ï¼ˆåœ¨è®¾ç½®è§†å›¾å¸§ä¹‹å‰æ’å…¥è¡Œéå¸¸é‡è¦ï¼Œå¦åˆ™è®¾ç½®é”šç‚¹å°†åç§»è§†å›¾ï¼‰ï¼š 1menuViewController.view.layer.anchorPoint.x = 1.0 è¿™ä¼šä½¿èœå•å›´ç»•å…¶å³è¾¹ç¼˜æ—‹è½¬ã€‚ è¿è¡Œæ•ˆæœï¼š è¿™çœ‹èµ·æ¥å¥½å¤šäº†ï¼ é€šè¿‡é˜´å½±åˆ›å»ºè¿œæ™¯é˜´å½±ä¸º3DåŠ¨ç”»å¸¦æ¥äº†å¾ˆå¤šçœŸå®æ„Ÿã€‚è¿™é‡Œä¸éœ€è¦ä½¿ç”¨ä»»ä½•å…ˆè¿›çš„ç€è‰²æŠ€æœ¯ï¼Œåªè¦æ—‹è½¬æ—¶æ›´æ”¹alphaã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°setMenu(toPercent:)ï¼š 1menuViewController.view.alpha = CGFloat(max(0.2, percent)) 0.2è®©èœå•æœ€å°è¿˜å¯è§ï¼Œç™¾åˆ†æ¯”è®©èœå•è¶Šå°é€æ˜åº¦è¶Šä½ã€‚ ç”±äºæ­¤åº”ç”¨ç¨‹åºçš„èƒŒæ™¯ä¸ºé»‘è‰²ï¼Œå› æ­¤é™ä½èœå•è§†å›¾çš„alphaå€¼ä¼šä½¿èœå•ä¸­æ˜¾ç¤ºé»‘è‰²å¹¶æ¨¡æ‹Ÿé˜´å½±æ•ˆæœã€‚ è¿è¡Œæ•ˆæœï¼š è¿™æ˜¯ä¸€ä¸ªè®©3Dæ•ˆæœæ›´åŠ çœŸå®çš„å°ç»†èŠ‚ã€‚ å¦‚æœä»”ç»†è§‚å¯Ÿï¼Œä¼šå‘ç°ç¬¬ä¸€æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œèœå•ä¸æ˜¯ä»¥3Dæ•ˆæœå±•ç¤ºï¼Œä»¥åæ‰æ˜¯ã€‚è¿™æ˜¯å› ä¸ºç¬¬ä¸€æ¬¡åˆ‡æ¢èœå•ä¹‹å‰ï¼Œè®¾ç½®3DåŠ¨ç”»å‚æ•°å’Œå›¾å±‚è½¬æ¢ã€‚åœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 1setMenu(toPercent: 0.0) å…‰æ …åŒ–çš„æ•ˆç‡è®©åŠ¨ç”»æ›´åŠ â€œå®Œç¾â€ã€‚å¦‚æœåœ¨æ¥å›å¹³ç§»æ—¶ç›¯ç€èœå•è¶³å¤Ÿé•¿ï¼Œä¼šæ³¨æ„åˆ°èœå•é¡¹çš„è¾¹æ¡†çœ‹èµ·æ¥åƒç´ åŒ–ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æ ¸å¿ƒåŠ¨ç”»ä¸æ–­é‡ç»˜èœå•è§†å›¾æ§åˆ¶å™¨çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶åœ¨æ‰€æœ‰å…ƒç´ ç§»åŠ¨æ—¶é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„é€è§†å¤±çœŸï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šå‡ºç°é”¯é½¿çŠ¶è¾¹ç¼˜ã€‚ æœ€å¥½è®©Core AnimationçŸ¥é“æˆ‘ä»¬ä¸ä¼šåœ¨åŠ¨ç”»æœŸé—´æ›´æ”¹èœå•å†…å®¹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ¸²æŸ“èœå•ä¸€æ¬¡å¹¶ç®€å•åœ°æ—‹è½¬æ¸²æŸ“å’Œç¼“å­˜çš„å›¾åƒã€‚è¿™å¬èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†å¾ˆå®¹æ˜“å®ç°ã€‚ æ‰¾åˆ°handleGesture()ä¸­çš„.beganä»£ç å—ï¼Œæ­¤ä»£ç åœ¨ç”¨æˆ·å¹³ç§»æ“ä½œæ—¶æ‰§è¡Œã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°.beganä»£ç å—çš„æœ«å°¾ï¼š 12menuViewController.view.layer.shouldRasterize = truemenuViewController.view.layer.rasterizationScale = UIScreen.main.scale shouldRasterizeè®©æ ¸å¿ƒåŠ¨ç”»å°†å›¾å±‚å†…å®¹ç¼“å­˜ä¸ºå›¾åƒã€‚ ç„¶åè®¾ç½®rasterizationScaleä»¥åŒ¹é…å½“å‰çš„å±å¹•æ¯”ä¾‹ã€‚ è¿è¡Œï¼Œæ•ˆæœï¼š ä¸ºé¿å…åœ¨ä½¿ç”¨åº”ç”¨ç¨‹åºæ—¶è¿›è¡Œä»»ä½•ä¸å¿…è¦çš„ç¼“å­˜ï¼Œåº”è¯¥åœ¨åŠ¨ç”»å®Œæˆåç«‹å³å…³é—­å…‰æ …åŒ–ã€‚åœ¨.failedä»£ç å—æ‰¾åˆ°åŠ¨ç”»å®Œæˆé—­åŒ…å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 1self.menuViewController.view.layer.shouldRasterize = false ç°åœ¨ï¼Œåªåœ¨åŠ¨ç”»æœŸé—´æ¿€æ´»å…‰æ …åŒ–ã€‚æé«˜äº†æ•ˆç‡ï¼ğŸ˜Š èœå•æŒ‰é’®çš„3Dæ—‹è½¬åŠ¨ç”»èœå•å±•ç¤ºæ—¶ï¼Œèœå•æŒ‰é’®ä¹Ÿè¿›è¡Œè‡ªèº«çš„æ—‹è½¬ã€‚å…·ä½“æ¥è¯´ï¼Œæ‚¨å°†å›´ç»•xè½´å’Œyè½´åˆ›å»ºæ—‹è½¬ï¼Œä»¥ä½¿èœå•æŒ‰é’®åœ¨å…¶å¯¹è§’çº¿ä¸Šç¿»è½¬ã€‚ åœ¨ContainerViewControllerçš„setMenu(toPercent:)ä¸­æ·»åŠ ï¼š 1234let centerVC = centerViewController.viewControllers.first as? CenterViewControllerif let menuButton = centerVC?.menuButton &#123; menuButton.imageView.layer.transform = buttonTransform(percent: percent)&#125; buttonTransformå‡½æ•°ä¸ºï¼š 123456789func buttonTransform(percent: CGFloat) -&gt; CATransform3D &#123; var identity = CATransform3DIdentity identity.m34 = -1.0/1000 let angle = percent * .pi let rotationTransform = CATransform3DRotate(identity, angle, 1.0, 1.0, 0.0) return rotationTransform&#125; æ•ˆæœå¦‚ä¸‹ï¼š 25-ä¸­çº§3DåŠ¨ç”»åœ¨ä¸Šä¸€ç« 24-ç®€å•3DåŠ¨ç”»ä¸­ï¼Œå­¦ä¹ äº†å°†é€è§†åº”ç”¨åˆ°å•ä¸ªè§†å›¾åˆ¶ä½œå‡ºç®€å•çš„3Dæ•ˆæœçš„åŠ¨ç”»ï¼› äº‹å®ä¸Šï¼Œä¸€æ—¦æˆ‘ä»¬çŸ¥é“m34å’Œç›¸æœºè·ç¦»çš„ç§˜å¯†ï¼Œå°±å¯ä»¥åˆ›å»ºå„ç§3DåŠ¨ç”»ã€‚ æœ¬ç« ä»¥å‰é¢çš„å†…å®¹ä¸ºåŸºç¡€ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨å¤šä¸ªè§†å›¾åˆ›å»ºæœ‰æ„æ€çš„3DåŠ¨ç”»ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›® ImageGalleryæ˜¯ä¸€ä¸ªç®€å•çš„é£“é£å›¾åº“ã€‚ æ¢ç´¢å¼€å§‹é¡¹ç›®æœ¬ç« çš„å¼€å§‹é¡¹ç›®æ˜¯ï¼š åªæ˜¯ä¸€ä¸ªç©ºç™½å±å¹•ï¼Œé¡¶éƒ¨æœ‰ä¸¤ä¸ªæŒ‰é’®ã€‚ æ‰“å¼€ViewController.swiftï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªåä¸ºimagesçš„æ•°ç»„ï¼Œæ­¤æ•°ç»„å°±æ˜¯ä¸€äº›å›¾ç‰‡ä¿¡æ¯ã€‚ ImagViewCardç±»ç»§æ‰¿è‡ªUIImageViewå¹¶ä¸”æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å±æ€§titleæ¥ä¿å­˜é£“é£æ ‡é¢˜ï¼Œæœ‰ä¸€ä¸ªåä¸ºdidSelectçš„å±æ€§ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾åœ°åœ¨å›¾åƒä¸Šè®¾ç½®ç‚¹å‡»å¤„ç†ç¨‹åºã€‚ ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯å°†æ‰€æœ‰å›¾åƒæ·»åŠ åˆ°è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾ä¸­ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidAppeae(_:)çš„æœ«å°¾ï¼š 123456for image in images &#123; image.layer.anchorPoint.y = 0.0 image.frame = view.bounds view.addSubview(image)&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¾ªç¯éå†æ‰€æœ‰å›¾åƒï¼Œåœ¨yè½´ä¸Šå°†æ¯ä¸ªå›¾åƒçš„é”šç‚¹è®¾ç½®ä¸º0.0ï¼Œå¹¶è°ƒæ•´æ¯ä¸ªå›¾åƒçš„å¤§å°ï¼Œä½¿å…¶å æ®æ•´ä¸ªå±å¹•ã€‚ è®¾ç½®é”šç‚¹å¯è®©å›¾åƒå›´ç»•å…¶ä¸Šè¾¹ç¼˜è€Œä¸æ˜¯ä¸­å¿ƒçš„é»˜è®¤å€¼æ—‹è½¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿è¡Œåªä¼šçœ‹åˆ°æœ€åä¸€å¼ å›¾ç‰‡Hurricane Ireneï¼Œå› ä¸ºå›¾ç‰‡ä½ç½®ç›¸åŒï¼Œå åŠ åœ¨ä¸€èµ·æ¥ æ˜¾ç¤ºé£“é£å›¾åƒçš„åå­—ï¼Œåœ¨viewDidAppear(_:)çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œï¼š 1navigationItem.title = images.last?.title æ³¨æ„ï¼Œç›®å‰æ²¡æœ‰åœ¨å›¾åƒä¸Šè®¾ç½®ä»»ä½•é€è§†è½¬æ¢;ä¹‹åå°†ç›´æ¥åœ¨è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾ä¸Šè®¾ç½®é€è§†å›¾ã€‚ åœ¨ä¸Šä¸€ç« ä¸­ï¼Œåœ¨å•ä¸ªè§†å›¾ä¸Šè°ƒæ•´äº†transformå±æ€§ï¼Œç„¶ååœ¨3Dç©ºé—´ä¸­æ—‹è½¬å®ƒã€‚ä½†æ˜¯ï¼Œç”±äºæ‚¨å½“å‰çš„é¡¹ç›®æœ‰æ›´å¤šçš„ä¸ªäººè§†å›¾ï¼Œéœ€è¦åœ¨3Dä¸­æ“ä½œï¼Œæ‚¨å¯ä»¥è®¾ç½®å…¶çˆ¶è§†å›¾çš„é€è§†å›¾ï¼Œä»è€ŒèŠ‚çœå¤§é‡å·¥ä½œã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°viewDidAppear(_:)ï¼š 123var perspective = CATransform3DIdentityperspective.m34 = -1.0/250.0view.layer.sublayerTransform = perspective åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å›¾å±‚å±æ€§sublayerTransformæ¥è®¾ç½®è§†å›¾æ§åˆ¶å™¨å›¾å±‚çš„æ‰€æœ‰å­å›¾å±‚çš„é€è§†å›¾ã€‚ ç„¶åå°†å­å±‚è½¬æ¢ä¸æ¯ä¸ªå•ç‹¬å±‚çš„è‡ªèº«å˜æ¢ç»„åˆã€‚ è¿™ä½¿æ‚¨å¯ä»¥ä¸“æ³¨äºç®¡ç†å­è§†å›¾çš„æ—‹è½¬æˆ–å¹³ç§»ï¼Œè€Œæ— éœ€æ‹…å¿ƒé€è§†ã€‚ æ‚¨å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­æ›´è¯¦ç»†åœ°äº†è§£å®ƒçš„å·¥ä½œåŸç†ã€‚ æ”¹å˜å›¾åº“toggleGallery(_:)è¿æ¥ç€å³ä¸Šæ–¹çš„â€œæµè§ˆâ€æŒ‰é’®ï¼Œåœ¨æ­¤å¤„å°†3Då˜æ¢åº”ç”¨äºå››ä¸ªå›¾åƒã€‚ å°†ä»¥ä¸‹å˜é‡æ·»åŠ åˆ°toggleGallery(_:)ï¼š 1234567var imageYOffset: CGFloat = 50.0for subview in view.subviews &#123; guard let image = subview as? ImageViewCard else &#123; continue &#125;&#125; ç”±äºæ‚¨ä¸åªæ˜¯å°†æ‰€æœ‰å›¾åƒæ—‹è½¬åˆ°åŸä½è€Œåªæ˜¯ç§»åŠ¨å®ƒä»¬ä»¥äº§ç”Ÿâ€æ‰‡å½¢â€œåŠ¨ç”»ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨imageYOffsetæ¥è®¾ç½®æ¯ä¸ªå›¾åƒçš„åç§»ã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦éå†æ‰€æœ‰å›¾åƒå¹¶è¿è¡Œå…¶å„è‡ªçš„åŠ¨ç”»ã€‚ åœ¨è¿™é‡Œï¼Œæ‚¨å¾ªç¯æµè§ˆè§†å›¾æ§åˆ¶å™¨è§†å›¾çš„æ‰€æœ‰å­è§†å›¾ï¼Œå¹¶ä»…å¯¹ä½œä¸ºImageViewCardå®ä¾‹çš„å­è§†å›¾æ‰§è¡Œæ“ä½œã€‚åœ¨ä¸Šé¢æ·»åŠ çš„guardå—ä¹‹åæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä»¥æ›¿æ¢æ­¤å¤„çš„æ›´å¤šä»£ç æ³¨é‡Šï¼š 1234567var imageTransform = CATransform3DIdentity// 1imageTransform = CATransform3DTranslate(imageTransform, 0.0, imageYOffset, 0.0)// 2imageTransform = CATransform3DScale(imageTransform, 0.95, 0.6, 1.0)// 3imageTransform = CATransform3DRotate(imageTransform, .pi/8, -1.0, 0.0, 0.0) é¦–å…ˆå°†æ ‡è¯†è½¬æ¢åˆ†é…ç»™imageTransformï¼Œç„¶åå¯¹å…¶æ·»åŠ ä¸€ç³»åˆ—è°ƒæ•´ã€‚ è¿™æ˜¯æ¯ä¸ªå•ç‹¬çš„è°ƒæ•´å¯¹å›¾åƒçš„ä½œç”¨ï¼š // 1 ä½¿ç”¨CATransform3DTranslateåœ¨yè½´ä¸Šç§»åŠ¨å›¾åƒ; è¿™ä¼šä½¿å›¾åƒåç¦»å…¶é»˜è®¤çš„0.0 yåæ ‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä¹‹åï¼Œå°†è¦åˆ†åˆ«è®¡ç®—æ¯ä¸ªå›¾åƒçš„imageYOffsetï¼Œå¦åˆ™å›¾ç‰‡è¿˜æ˜¯å åŠ åœ¨ä¸€èµ·ã€‚ // 2 é€šè¿‡ä½¿ç”¨CATransform3DScaleè°ƒæ•´è½¬æ¢çš„æ¯”ä¾‹åˆ†é‡æ¥ç¼©æ”¾å›¾åƒã€‚ å¯ä»¥åœ¨xè½´ä¸Šç¨å¾®ç¼©å°å›¾åƒï¼Œä½†æ˜¯åœ¨yè½´ä¸Šå°†å…¶ç¼©å°åˆ°60ï¼…ä»¥ä¸°å¯Œæ—‹è½¬3Dæ•ˆæœï¼š // 3 æœ€åï¼Œä½¿ç”¨CATransform3DRotateå°†å›¾åƒæ—‹è½¬22.5åº¦ï¼Œä½¿å…¶å…·æœ‰ä¸€äº›é€è§†å˜å½¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š è¯·è®°ä½ï¼Œä¹‹å‰å·²ç»è®¾ç½®äº†é”šç‚¹ï¼Œå› æ­¤å›¾åƒå›´ç»•å…¶é¡¶éƒ¨è¾¹ç¼˜æ—‹è½¬ã€‚ ç°åœ¨ä½ çœ‹åˆ°é€šè¿‡view.layer.sublayerTransformè®¾ç½®ä¸Šé¢çš„m34å€¼çš„å€¼; æ‚¨çš„æ—‹è½¬å˜æ¢åªéœ€é‡æ–°ä½¿ç”¨å­å±‚å˜æ¢ä¸­çš„m34å€¼ï¼Œè€Œæ— éœ€åœ¨æ­¤å¤„åº”ç”¨å®ƒã€‚ é‚£å¾ˆæ–¹ä¾¿ï¼ ç°åœ¨å‰©ä¸‹çš„å°±æ˜¯å°†è½¬æ¢åº”ç”¨äºæ¯ä¸ªå›¾åƒã€‚ æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆä»åœ¨forä»£ç å—ä¸­ï¼‰ï¼š 1image.layer.transform = imageTransform å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°forå—çš„æœ«å°¾ï¼Œä¿®æ”¹æ¯ä¸ªå›¾åƒçš„ä½ç½®ï¼š 1imageYOffset += view.frame.height / CGFloat(images.count) è¿™ä¼šè°ƒæ•´æ¯ä¸ªå›¾åƒçš„yåç§»é‡ï¼Œå…·ä½“å–å†³äºå®ƒåœ¨å †æ ˆä¸­çš„ä½ç½®ã€‚ å°†å±å¹•é«˜åº¦é™¤ä»¥å›¾åƒæ•°é‡ï¼Œä»¥ä¾¿å®ƒä»¬åœ¨å±å¹•ä¸Šå‡åŒ€åˆ†å¸ƒã€‚è¿è¡Œåæ•ˆæœï¼š ä¸‹é¢è®©å®ƒåŠ¨èµ·æ¥ï¼ åŠ¨ç”»å›¾åº“åœ¨ä¸Šé¢çš„image.layer.transform = imageTransformçš„å‰é¢æ·»åŠ ï¼š 12345let animation = CABasicAnimation(keyPath: "transform")animation.fromValue = NSValue(caTransform3D: image.layer.transform)animation.toValue = NSValue(caTransform3D: imageTransform)animation.duration = 0.33image.layer.add(animation, forKey: nil) è¿™æ®µä»£ç éå¸¸ç†Ÿæ‚‰ï¼šåœ¨transformå±æ€§ä¸Šåˆ›å»ºä¸€ä¸ªå›¾å±‚åŠ¨ç”»ï¼Œå¹¶å°†å…¶ä»å½“å‰å€¼è®¾ç½®ä¸ºä¹‹å‰è®¾è®¡çš„imageTransformã€‚è¿è¡Œåï¼Œ ç‚¹å‡»â€œæµè§ˆâ€æŒ‰é’®ï¼Œæ•ˆæœï¼š ä½ ç°åœ¨å·²ç»å®Œæˆäº†ç”»å»Š; å½“æ‚¨åœ¨ç”¨æˆ·ç‚¹å‡»â€œæµè§ˆâ€æŒ‰é’®æ—¶æ·»åŠ å…³é—­é£æ‰‡çš„åŠŸèƒ½æ—¶ï¼Œæ‚¨å°†åœ¨â€œæŒ‘æˆ˜â€éƒ¨åˆ†é‡æ–°è®¿é—®å®ƒã€‚ æ›´å¤šä¸€ç‚¹äº¤äº’ä¸ºå›¾åƒåº“æ·»åŠ ä¸€ç‚¹äº¤äº’æ€§ï¼šç‚¹å‡»å›¾åƒï¼Œå˜æˆå…¨å±ï¼Œå¹¶ä¸”ä½ç½®ç§»åˆ°æœ€å‰é¢ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥æ›´å¥½åœ°æŸ¥çœ‹å®ƒã€‚ ImageViewCardå·²ç»å…·æœ‰åä¸ºdidSelectçš„é—­åŒ…è¡¨è¾¾å¼å±æ€§ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å›¾åƒï¼Œå°±å°†ç‚¹å‡»çš„å›¾åƒè§†å›¾ä½œä¸ºè¾“å…¥å‚æ•°ç»™è¿™ä¸ªé—­åŒ…ã€‚ é¦–å…ˆå°†ä»¥ä¸‹ä»£ç æ·»åŠ viewDidAppear()çš„forå¾ªç¯ä½“å†…ï¼š 1image.didSelect = selectImage åœ¨ViewControllerä¸­æ·»åŠ æ–¹æ³•ï¼š 12345678910111213func selectImage(selectedImage: ImageViewCard) &#123; for subview in view.subviews &#123; guard let image = subview as? ImageViewCard else &#123; continue &#125; if image === selectedImage &#123; &#125; else &#123; &#125; &#125;&#125; ç°åœ¨æ‚¨è¿˜éœ€è¦ä¸¤ä¸ªåŠ¨ç”»ï¼šä¸€ä¸ªç”¨äºä¸ºæ‰€é€‰å›¾åƒè®¾ç½®åŠ¨ç”»ï¼Œå¦ä¸€ä¸ªç”¨äºä¸ºå›¾åº“ä¸­çš„æ‰€æœ‰å…¶ä»–å›¾åƒè®¾ç½®åŠ¨ç”»ã€‚ä½ å°†åè¿‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜å¹¶é¦–å…ˆæ·¡å‡ºæœªé€‰æ‹©çš„å›¾åƒã€‚ ä¸Šé¢çš„æ–¹æ³•è¿˜ç¼ºå°‘ä¸¤ä¸ªåŠ¨ç”»ï¼Œå½“image === selectedImageï¼Œå°±æ˜¯æ‰€é€‰å›¾åƒçš„åŠ¨ç”»ï¼›æˆ–è€…ï¼Œæœªé€‰æ‹©çš„æ‰€æœ‰å…¶ä»–å›¾åƒçš„åŠ¨ç”»ï¼Œå‰è€…ä»£ç ä¸ºï¼š 123456UIView.animate(withDuration: 0.33, delay: 0.0, options: .curveEaseIn, animations: &#123; image.alpha = 0.0&#125;, completion: &#123; (_) in image.alpha = 1.0 image.layer.transform = CATransform3DIdentity&#125;) åè€…ä»£ç ä¸ºï¼š 12345UIView.animate(withDuration: 0.33, delay: 0.0, options: .curveEaseIn, animations: &#123; image.layer.transform = CATransform3DIdentity&#125;, completion: &#123;_ in self.view.bringSubview(toFront: image)&#125;) åœ¨è¿™é‡Œï¼Œæ²¡æœ‰å¯¹åŠ¨ç”»è¿›è¡Œ3Då˜æ¢ï¼Œç„¶åç¡®ä¿å›¾åƒä½äºè§†å›¾å †æ ˆçš„é¡¶éƒ¨ï¼Œä»¥ä¾¿å®ƒå¯è§ã€‚ æœ€åï¼Œå°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°selectImage(selectedImage:)çš„æœ«å°¾ï¼Œæ›´æ–°æ ‡é¢˜ï¼š 1self.navigationItem.title = selectedImage.title åˆ‡æ¢å›¾åº“è¿™å°ç»“å·¥ä½œæ˜¯å°†ä½¿â€œæµè§ˆâ€æŒ‰é’®å¯ä»¥å…³é—­å›¾åº“è§†å›¾ã€‚ å‘ViewControlleræ·»åŠ ä¸€ä¸ªisGalleryOpençš„æ–°å±æ€§ï¼Œå¹¶å°†å…¶åˆå§‹å€¼è®¾ç½®ä¸ºfalseã€‚ éœ€è¦åœ¨ä»£ç ä¸­çš„ä¸¤ä¸ªä½ç½®æ›´æ–°æ­¤å±æ€§çš„å€¼ï¼š åœ¨toggleGallery(_:)ç»“æŸæ—¶å°†å…¶è®¾ç½®ä¸ºtrue åœ¨selectImage(selectedImage:)ç»“æŸæ—¶å°†å…¶è®¾ç½®ä¸ºfalse åœ¨toggleGallery()çš„é¡¶éƒ¨ï¼Œæ·»åŠ ä¸€ä¸ªæ£€æŸ¥ä»¥æŸ¥çœ‹å›¾åº“æ˜¯å¦å·²æ‰“å¼€ã€‚ å¦‚æœæ‰“å¼€ï¼Œåˆ™éå†æ‰€æœ‰å›¾åƒå¹¶å°†å…¶è½¬æ¢è®¾ç½®ä¸ºåŸå§‹å€¼ã€‚ ä¸è¦å¿˜è®°é‡ç½®isGalleryOpenå¹¶è¿”å›ï¼Œå› æ­¤å…¶ä½™çš„æ–¹æ³•ä»£ç ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚ 12345678910111213141516171819if isGalleryOpen &#123; for subview in view.subviews &#123; guard let image = subview as? ImageViewCard else &#123; continue &#125; let animation = CABasicAnimation(keyPath: "transform") animation.fromValue = NSValue(caTransform3D: image.layer.transform) animation.toValue = NSValue(caTransform3D: CATransform3DIdentity) animation.duration = 0.33 image.layer.add(animation, forKey: nil) image.layer.transform = CATransform3DIdentity &#125; isGalleryOpen = false return&#125; æœ¬ç« çš„æœ€åæ•ˆæœï¼š]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
        <tag>3DåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹å››ï¼šè§†å›¾æ§åˆ¶å™¨çš„è½¬åœºåŠ¨ç”»]]></title>
    <url>%2F2018%2FiOS-Animation-4-View-Controller-Transition-Animations.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ ä¹‹å‰å­¦ä¹ äº†è§†å›¾åŠ¨ç”»ã€å›¾å±‚åŠ¨ç”»ã€è‡ªåŠ¨å¸ƒå±€åŠ¨ç”»ç­‰ã€‚è¿™ä¸ªéƒ¨åˆ†è®©è§†é‡æ›´å¤§ä¸€ç‚¹ï¼Œå­¦ä¹ æ•´ä¸ªè§†å›¾æ§åˆ¶å™¨çš„åŠ¨ç”»ï¼Œè§†å›¾æ§åˆ¶å™¨çš„è½¬åœºåŠ¨ç”»(View Controller Transition Animations)ã€‚ iOSä¸­æœ€å®¹æ˜“è¯†åˆ«çš„åŠ¨ç”»ä¹‹ä¸€æ˜¯å°†æ–°è§†å›¾æ§åˆ¶å™¨æ¨å…¥å¯¼èˆªå †æ ˆçš„åŠ¨ç”»ï¼Œå½“æˆ‘ä»¬æƒ³è®©APPæœ‰è‡ªå·±çš„ç‰¹è‰²ï¼Œè‡ªå®šä¹‰è½¬åœºåŠ¨ç”»æ˜¯éå¸¸å¥½çš„æ–¹å¼ã€‚ åœ¨æœ¬æ–‡ï¼Œå°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨åŠ¨ç”»åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰è§†å›¾æ§åˆ¶å™¨è½¬æ¢ã€‚ é¢„è§ˆï¼š 17-è§†å›¾æ§åˆ¶å™¨è½¬åœºå’Œå±å¹•æ—‹è½¬è½¬åœº äº†è§£å¦‚ä½•é€šè¿‡è‡ªå®šä¹‰åŠ¨ç”»è½¬åœºå‘ˆç°è§†å›¾æ§åˆ¶å™¨ - ä½œä¸ºå¥–åŠ±ï¼Œæ‚¨å°†åˆ›å»ºåŠ¨ç”»è½¬åœºä»¥å¤„ç†è®¾å¤‡æ–¹å‘æ›´æ”¹ã€‚ 18-å¯¼èˆªæ§åˆ¶å™¨è½¬åœº 19-äº¤äº’å¼å¯¼èˆªæ§åˆ¶å™¨è½¬åœº 17-è§†å›¾æ§åˆ¶å™¨è½¬åœºå’Œå±å¹•æ—‹è½¬è½¬åœºæ— è®ºæ˜¯å‘ˆç° ç…§ç›¸æœºè§†å›¾æ§åˆ¶å™¨ã€åœ°å€ç°¿è¿˜æ˜¯è‡ªå®šä¹‰çš„æ¨¡æ€å±å¹•ï¼Œæ¯æ¬¡éƒ½è°ƒç”¨ç›¸åŒçš„UIKitæ–¹æ³•ï¼špresent(_:animated:completion:)ã€‚ æ­¤æ–¹æ³•å°†å½“å‰å±å¹•â€œæ”¾å¼ƒâ€ï¼Œç„¶åè·³åˆ°å¦ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ã€‚ ä¸‹å›¾å‘ˆç°ä¸€ä¸ªâ€œNew Contactâ€è§†å›¾æ§åˆ¶å™¨å‘ä¸Šæ»‘åŠ¨ä»¥è¦†ç›–å½“å‰è§†å›¾ï¼ˆè”ç³»äººåˆ—è¡¨ï¼‰ï¼Œè¿™æ˜¯é»˜è®¤çš„åŠ¨ç”»æ–¹å¼ï¼š åœ¨æœ¬ç« ä¸­ï¼Œå­¦ä¹ åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰æ¼”ç¤ºæ§åˆ¶å™¨åŠ¨ç”»ï¼Œä»¥æ›¿æ¢é»˜è®¤çš„åŠ¨ç”»ï¼Œå¹¶ä½¿æœ¬ç« çš„é¡¹ç›®æ›´åŠ ç”ŸåŠ¨ã€‚ å¼€å§‹é¡¹ç›®æœ¬ç« å¼€å§‹é¡¹ç›®æ˜¯ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå«BeginnerCookã€‚ è¿™ä¸ªå¼€å§‹é¡¹ç›®å¯ä»¥ç®€å•æ¦‚æ‹¬ å¦‚ä¸‹ï¼ŒViewControllerä¸­åŒ…æ‹¬ä¸€ä¸ªèƒŒæ™¯å›¾UIImageViewï¼Œä¸€ä¸ªæ ‡é¢˜UILabelï¼Œä¸€ä¸ªæ–‡æœ¬è§†å›¾UITextViewï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¯ä»¥å·¦å³ç§»åŠ¨çš„UIScrollViewã€‚è¿™ä¸ªUIScrollViewé‡Œä¼šç”¨ä»£ç åŠ å…¥ä¸€äº›é¦™è‰(herb)å›¾ç‰‡ï¼Œç‚¹å‡»å›¾ç‰‡ä¼šè·³è½¬åˆ°å¦ä¸ªå±•ç¤ºè¯¦æƒ…çš„è§†å›¾æ§åˆ¶å™¨HerbDetailsViewControllerï¼Œè¿™ä¸ªè½¬åœºæ˜¯æ ‡å‡†çš„ä»ä¸‹åˆ°ä¸Šçš„å‚ç›´è¦†ç›–è½¬åœºåŠ¨ç”»ã€‚ å¼€å§‹é¡¹ç›®é¢„è§ˆä¸€ä¸‹ï¼š è‡ªå®šä¹‰è½¬åœºçš„åŸç†UIKitå®ç°è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»æ˜¯é€šè¿‡ä»£ç†æ¨¡å¼å®Œæˆçš„ã€‚å› æ­¤é¦–å…ˆéœ€è¦è®©ViewControlleréµå®ˆUIViewControllerTransitioningDelegateåè®®ã€‚ æ¯æ¬¡å‘ˆç°æ–°çš„è§†å›¾æ§åˆ¶å™¨æ—¶ï¼ŒUIKitéƒ½ä¼šè¯¢é—®å…¶ä»£ç†æ˜¯å¦è¦ä½¿ç”¨è‡ªå®šä¹‰è½¬åœºã€‚ä»¥ä¸‹æ˜¯è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»çš„ç¬¬ä¸€æ­¥ï¼š éœ€è¦å®ç°animationController(forPresented:presenting:source:)æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¦‚æœè¿”å›nilï¼Œåˆ™è¿›è¡Œé»˜è®¤çš„è½¬åœºåŠ¨ç”»ï¼Œå¦‚æœè¿”å›æ—¶éµå®ˆUIViewControllerAnimatedTransitioningåè®®çš„å¯¹è±¡ï¼Œåˆ™å°†è¿™ä¸ªå¯¹è±¡ä½œä¸ºè‡ªå®šä¹‰è½¬åœºçš„Animatorï¼ˆå¯ä»¥ç¿»è¯‘ä¸ºåŠ¨ç”»å¸ˆï¼‰ã€‚ åœ¨UIKitä½¿ç”¨è‡ªå®šä¹‰Animatorä¹‹å‰ï¼Œè¿˜éœ€è¦ä¸€äº›æ­¥éª¤ï¼š transitionDuration(using:)è¿”å›åŠ¨ç”»æŒç»­æ—¶é—´ã€‚ animateTransition(using:)æ–¹æ³•æ—¶å®é™…åŠ¨ç”»ä»£ç æ‰€åœ¨çš„åœ°æ–¹ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥è®¿é—®å±å¹•ä¸Šçš„å½“å‰è§†å›¾æ§åˆ¶å™¨ä»¥åŠå°†è¦æ˜¾ç¤ºçš„æ–°è§†å›¾æ§åˆ¶å™¨ï¼Œå¯ä»¥è‡ªå·±æ ¹æ®éœ€è¦æ·¡åŒ–ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ç­‰æ“ä½œç°æœ‰è§†å›¾å’Œæ–°è§†å›¾ã€‚ ä¸‹é¢å¼€å§‹å®ç°è‡ªå®šä¹‰è½¬åœºï¼ğŸ’ª å®ç°è½¬åœºä»£ç†æ–°å»ºä¸€ä¸ªNSObjectå­ç±»PopAnimator(å°±æ˜¯ä¹‹å‰æåˆ°çš„Animator)ï¼Œå¹¶éµå®ˆåè®® UIViewControllerAnimatedTransitioning ã€‚å¹¶åœ¨è¿™ä¸ªåŠ¨ç”»ç±»ä¸­æ·»åŠ ä¸¤ä¸ªå‡½æ•°çš„å­˜æ ¹ï¼š 123456func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -&gt; TimeInterval &#123; return 0&#125; func animateTransition(using transitionContext: UIViewControllerContextTransitioning) &#123;&#125; è®©ViewControlleréµå®ˆUIViewControllerTransitioningDelegateåè®®ï¼š 123extension ViewController: UIViewControllerTransitioningDelegate &#123; &#125; åœ¨didTapImageView(_:)ä¸­çš„present(herbDetails, animated: true, completion: nil)å‰æ·»åŠ ï¼š 1herbDetails.transitioningDelegate = self ç°åœ¨ï¼Œæ¯æ¬¡åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¯¦æƒ…é¡µçš„è§†å›¾æ§åˆ¶å™¨æ—¶ï¼ŒUIKitéƒ½ä¼šå‘ViewControllerè¯¢é—®åŠ¨ç”»å¯¹è±¡ã€‚ ä½†æ˜¯ï¼Œç›®å‰ä»ç„¶æ²¡æœ‰å®ç°ä»»ä½•UIViewControllerTransitioningDelegateä¸­çš„ç›¸å…³æ–¹æ³•ï¼Œå› æ­¤UIKitä»å°†ä½¿ç”¨é»˜è®¤è½¬æ¢ã€‚ åœ¨ ViewControllerä¸­åˆ›å»ºåŠ¨ç”»å±æ€§ï¼š 1let transition = PopAnimator() å®ç°å‘ˆç°æ—¶åŠ¨ç”»çš„åè®®æ–¹æ³•ï¼š 123func animationController(forPresented presented: UIViewController, presenting: UIViewController, source: UIViewController) -&gt; UIViewControllerAnimatedTransitioning? &#123; return transition&#125; å®ç°è§£é™¤ï¼ˆdismissï¼‰æ—¶åŠ¨ç”»çš„åè®®æ–¹æ³•ï¼š 123func animationController(forDismissed dismissed: UIViewController) -&gt; UIViewControllerAnimatedTransitioning? &#123; return transition&#125; ç°åœ¨ç‚¹å‡»é¦™è‰ğŸŒ¿å›¾ç‰‡æ—¶ï¼Œæ²¡æœ‰ååº”ï¼Œè¿™æ˜¯å› ä¸ºï¼ŒæŠŠé»˜è®¤çš„è½¬åœºåŠ¨ç”»ä¿®æ”¹æˆäº†è‡ªå®šä¹‰ï¼Œä½†è‡ªå®šä¹‰åŠ¨ç”»ç›®å‰æ˜¯ç©ºçš„ã€‚ åˆ›å»ºè½¬åœºåŠ¨ç”»å¸ˆåœ¨PopAnimatoræ·»åŠ ï¼š 123let duration = 1.0var presenting = truevar originFrame = CGRect.zero duration æ˜¯åŠ¨ç”»æŒç»­æ—¶é—´ã€‚ presenting æ˜¯ç”¨åˆ¤æ–­å½“å‰æ˜¯å‘ˆç°è¿˜æ˜¯è§£é™¤ã€‚ originFrameç”¨æ¥å­˜å‚¨ç”¨æˆ·ç‚¹å‡»çš„å›¾åƒçš„åŸå§‹ frame â€”â€” å‘ˆç°åŠ¨ç”»å°±æ˜¯éœ€è¦å®ƒä»åŸå§‹frameåˆ°å…¨å±å›¾åƒframeï¼Œå¯¹åº”çš„è§£é™¤åŠ¨ç”»æ­£å¥½ç›¸åã€‚ ç”¨ä»¥ä¸‹å†…å®¹æ›¿æ¢transitionDuration()ä¸­çš„ä»£ç ï¼š 1return duration è®¾ç½®è½¬åœºåŠ¨ç”»çš„ä¸Šä¸‹æ–‡æ˜¯æ—¶å€™ä¸ºanimateTransition(using:)æ·»åŠ ä»£ç äº†ã€‚ æ­¤æ–¹æ³•æœ‰ä¸€ä¸ªç±»å‹ä¸ºUIViewControllerContextTransitioningçš„å‚æ•°ï¼Œé€šè¿‡è¯¥å‚æ•°å¯ä»¥è®¿é—®è½¬åœºçš„ç›¸å…³å‚æ•°å’Œè§†å›¾æ§åˆ¶å™¨ã€‚ åœ¨å¼€å§‹å†™åŠ¨ç”»ä»£ç ä¹‹å‰ï¼Œäº†è§£åŠ¨ç”»ä¸Šä¸‹æ–‡å®é™…ä¸Šæ˜¯ä»€ä¹ˆå¾ˆé‡è¦ã€‚ å½“ä¸¤ä¸ªè§†å›¾æ§åˆ¶å™¨ä¹‹é—´çš„è½¬åœºå¼€å§‹æ—¶ï¼Œç°æœ‰è§†å›¾å°†æ·»åŠ åˆ°è½¬åœºå®¹å™¨è§†å›¾(transition container view)ä¸­ï¼Œå¹¶ä¸”æ–°è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾å·²åˆ›å»ºä½†å°šæœªå¯è§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å› æ­¤ï¼Œç°åœ¨çš„ä»»åŠ¡æ˜¯å°†æ–°è§†å›¾æ·»åŠ åˆ°animateTransition()ä¸­çš„è½¬åœºå®¹å™¨ä¸­ï¼Œä»¥ç‰¹å®šåŠ¨ç”»å°†å…¶æ˜¾ç¤ºï¼Œå¦‚æœ‰éœ€è¦ä¹Ÿæ˜¯ç‰¹å®šåŠ¨ç”»çš„æ–¹å¼è§£é™¤æ—§è§†å›¾ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè½¬åœºåŠ¨ç”»å®Œæˆåï¼Œæ—§è§†å›¾å°†ä»è½¬åœºå®¹å™¨ä¸­åˆ é™¤ã€‚ ä¸‹é¢ğŸ‘‡å…ˆå®ç°ç®€å•çš„è½¬åœºåŠ¨ç”»ã€‚ æ·¡å‡ºè½¬åœºè·å¾—åŠ¨ç”»å°†åœ¨å…¶ä¸­è¿›è¡Œçš„å®¹å™¨è§†å›¾ï¼Œç„¶åæ‚¨å°†è·å–æ–°è§†å›¾å¹¶å°†å…¶å­˜å‚¨åœ¨toViewä¸­ï¼Œåœ¨animateTransition()ä¸­æ·»åŠ ï¼š 12let containerView = transitionContext.containerViewlet toView = transitionContext.view(forKey: .to)! view(forKey:)å’ŒviewController(forKey:)ä¸¤ä¸ªæ–¹æ³•éå¸¸ç±»ä¼¼ï¼Œåˆ†åˆ«è·å¾—è½¬åœºåŠ¨ç”»å¯¹åº”çš„è§†å›¾å’Œè§†å›¾æ§åˆ¶å™¨ã€‚ ç»§ç»­åœ¨animateTransition()ä¸­æ·»åŠ ï¼š 1234567containerView.addSubview(toView)toView.alpha = 0.0UIView.animate(withDuration: duration, animations: &#123; toView.alpha = 1.0&#125;, completion: &#123; _ in transitionContext.completeTransition(true)&#125;) åœ¨åŠ¨ç”»å®Œæˆé—­åŒ…ä¸­è°ƒç”¨ç”¨completeTransition()ï¼Œå‘Šè¯‰UIKitä½ çš„è½¬åœºåŠ¨ç”»å·²ç»å®Œæˆï¼ŒUIKitå¯ä»¥è‡ªç”±åœ°ç»“æŸè§†å›¾æ§åˆ¶å™¨è½¬åœºã€‚ ç›®å‰çš„æ•ˆæœå°±æ˜¯ï¼š popè½¬åœºä¸Šé¢çš„fadeæ•ˆæœä¸æ˜¯æœ€ç»ˆæƒ³è¦çš„ï¼ŒæŠŠanimateTransition()ä¸­çš„ä»£ç æ›¿æ¢ä¸ºï¼š 123let containerView = transitionContext.containerViewlet toView = transitionContext.view(forKey: .to)!let herbView = presenting ? toView : transitionContext.view(forKey: .from)! containerViewæ˜¯åŠ¨ç”»å°†å­˜åœ¨çš„åœ°æ–¹ï¼Œè€ŒtoViewæ˜¯è¦å‘ˆç°çš„æ–°è§†å›¾ã€‚ å¦‚æœæ˜¯å‘ˆç°ï¼ˆpresentingä¸ºtrueï¼‰ï¼ŒherbViewæ˜¯toViewï¼Œå¦åˆ™å°†ä»ä¸Šä¸‹æ–‡ä¸­è·å–ã€‚ å¯¹äºå‘ˆç°å’Œè§£é™¤ï¼ŒherbViewå°†å§‹ç»ˆæ˜¯è¡¨ç°åŠ¨ç”»çš„è§†å›¾ã€‚ å½“å‘ˆè¯¦ç»†é¡µçš„æ§åˆ¶å™¨è§†å›¾æ—¶ï¼Œå®ƒå°†é€æ¸å ç”¨æ•´ä¸ªå±å¹•ã€‚ å½“è¢«è§£é™¤æ—¶ï¼Œå®ƒå°†ç¼©å°åˆ°å›¾åƒçš„åŸå§‹å¸§ã€‚ åœ¨ä¸Šé¢ä»£ç åæ·»åŠ ï¼š 12345let initialFrame = presenting ? originFrame : herbView.framelet finalFrame = presenting ? herbView.frame : originFramelet xScaleFactor = presenting ? initialFrame.width / finalFrame.width : finalFrame.width / initialFrame.widthlet yScaleFactor = presenting ? initialFrame.height / finalFrame.height : finalFrame.height / initialFrame.height initialFrameå’ŒfinalFrameåˆ†åˆ«æ˜¯åˆå§‹å’Œæœ€ç»ˆåŠ¨ç”»çš„frameï¼ŒxScaleFactor å’ŒyScaleFactoråˆ†åˆ«æ˜¯xè½´å’Œyè½´ä¸Šè§†å›¾å˜åŒ–çš„æ¯”ä¾‹å› å­ï¼ˆscale factorï¼‰ ã€‚ ç»§ç»­åœ¨ä¸Šé¢ä»£ç åæ·»åŠ ï¼š 1234567let scaleTransform = CGAffineTransform(scaleX: xScaleFactor, y: yScaleFactor) if presenting &#123; herbView.transform = scaleTransform herbView.center = CGPoint(x: initialFrame.midX, y: initialFrame.midY) herbView.clipsToBounds = true&#125; å½“éœ€è¦å‘ˆç°æ–°è§†å›¾æ—¶ï¼Œè®¾ç½®transformï¼Œå¹¶ä¸”å®šä½ï¼ˆè®¾ç½®centerï¼‰ ç»§ç»­åœ¨ä¸Šé¢ä»£ç åæ·»åŠ ï¼š 12345678containerView.addSubview(toView)containerView.bringSubview(toFront: herbView)UIView.animate(withDuration: duration, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 0.0, options: [], animations: &#123; herbView.transform = self.presenting ? CGAffineTransform.identity : scaleTransform herbView.center = CGPoint(x: finalFrame.midX, y: finalFrame.midY)&#125;) &#123; (_) in transitionContext.completeTransition(true)&#125; é¦–å…ˆå°†toViewæ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œå¹¶ç¡®ä¿herbViewä½äºé¡¶éƒ¨ï¼Œå› ä¸ºè¿™æ˜¯åŠ¨ç”»çš„å”¯ä¸€è§†å›¾ã€‚ ç„¶åï¼Œå®ç°åŠ¨ç”»ï¼Œåœ¨è¿™é‡Œä½¿ç”¨å¼¹ç°§åŠ¨ç”»ã€‚åœ¨åŠ¨ç”»è¡¨è¾¾å¼ä¸­ï¼Œå¯ä»¥æ›´æ”¹herbViewçš„transformå’Œä½ç½®ã€‚åœ¨å‘ˆç°æ—¶ï¼Œå°†ä»åº•éƒ¨çš„å°å°ºå¯¸å˜ä¸ºå…¨å±ï¼›åœ¨è§£é™¤æ—¶ï¼Œå°†å…¨å±ç¼©å°å˜ä¸ºåŸå§‹å›¾åƒå¤§å°ã€‚ æœ€åï¼Œæ‚¨è°ƒç”¨äº†completeTransition()å‘Šè¯‰UIKitè½¬åœºåŠ¨ç”»å·²ç»å®Œæˆã€‚ ç°åœ¨çš„æ•ˆæœï¼š åŠ¨ç”»ä»å·¦ä¸Šè§’å¼€å§‹; è¿™æ˜¯å› ä¸ºoriginFrameçš„é»˜è®¤å€¼çš„åŸç‚¹æ˜¯(0,0) ã€‚ åœ¨ViewController.swiftçš„animationController(forPresented:presenting:source:) è¿”å›ä»£ç å‰æ·»åŠ ï¼š 123transition.originFrame = selectedImage!.superview!.convert(selectedImage!.frame, to: nil)transition.presenting = trueselectedImage!.isHidden = true è¿™ä¼šå°†è½¬åœºåŠ¨ç”»çš„originFrameè®¾ç½®ä¸ºselectedImageçš„frameï¼Œå¹¶åœ¨åŠ¨ç”»æœŸé—´éšè—åˆå§‹å›¾åƒã€‚ ç›®å‰çš„æ•ˆæœæ˜¯åˆå§‹å°è§†å›¾è½¬åœºåˆ°å…¨å±äº†ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è§£é™¤è¯¦æƒ…é¡µæ—¶å°±æœ‰é—®é¢˜ï¼Œè¯¦æƒ…é¡µçªç„¶å°±æ¶ˆå¤±äº†ï¼š è§£é™¤è½¬åœºå‰©ä¸‹è¦åšçš„å°±æ˜¯è§£é™¤è¯¦ç»†é¡µè§†å›¾çš„åŠ¨ç”»ã€‚ åœ¨ViewController.swiftçš„animationController(forDismissed:)ä¸­æ·»åŠ ï¼š 12transition.presenting = falsereturn transition ä¸Šé¢çš„ä»£è¡¨ transitionå¯¹è±¡ä¹Ÿä½œä¸ºè§£é™¤è½¬åœºåŠ¨ç”»ä½¿ç”¨ã€‚ è½¬åœºåŠ¨ç”»çœ‹èµ·æ¥å¾ˆæ£’ï¼Œä½†è§£é™¤è¯¦ç»†é¡µé¢åï¼ŒåŸå§‹çš„å°å°ºå¯¸çš„å›¾ç‰‡æ¶ˆå¤±äº†ã€‚ä¸‹é¢å°±è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨ç±»PopAnimatorä¸­æ·»åŠ ä¸€ä¸ªé—­åŒ…å±æ€§ï¼Œä½œä¸ºè§£é™¤åŠ¨ç”»å®Œæˆåå¤„ç†ï¼š 1var dismissCompletion: (()-&gt;Void)? åœ¨animateTransition(using:)çš„transitionContext.completeTransition(true)ä¹‹å‰æ·»åŠ (ä¹Ÿå°±æ˜¯é€šçŸ¥UIKitè½¬åœºåŠ¨ç”»ç»“æŸä¹‹å‰ï¼Œå¦‚æœæ˜¯è§£é™¤åŠ¨ç”»ï¼Œå°±è¿›è¡Œä¸€äº›å¤„ç†)ï¼š 123if !self.presenting &#123; self.dismissCompletion?()&#125; åœ¨ViewControllerå®ç°å…·ä½“é—­åŒ…å†…å®¹ï¼Œåœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 123transition.dismissCompletion = &#123; self.selectedImage!.isHidden = false&#125; é‚£ä¹ˆï¼Œç›®å‰æ•ˆæœï¼š å±å¹•æ—‹è½¬è½¬åœºè®¾å¤‡æ–¹å‘æ›´æ”¹è§†ä¸ºä»è§†å›¾æ§åˆ¶å™¨åˆ°å…¶è‡ªèº«çš„è½¬åœºè¿‡ç¨‹ã€‚ iOS 8ä¸­å¼•å…¥çš„viewWillTransition(to:with:)æ–¹æ³•ï¼Œç”¨æ¥æä¾›äº†ä¸€ç§ç®€å•ç›´æ¥çš„æ–¹æ³•æ¥å¤„ç†è®¾å¤‡æ–¹å‘çš„å˜åŒ–ã€‚ ä¸éœ€è¦æ„å»ºå•ç‹¬çš„çºµå‘æˆ–æ¨ªå‘å¸ƒå±€ï¼Œè€Œåªéœ€è¦å¯¹è§†å›¾æ§åˆ¶å™¨è§†å›¾çš„å¤§å°è¿›è¡Œæ›´æ”¹ã€‚ åœ¨ViewControllerä¸­æ·»åŠ ï¼š 1234567override func viewWillTransition(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator) &#123; super.viewWillTransition(to: size, with: coordinator) coordinator.animate(alongsideTransition: &#123; context in self.bgImage.alpha = (size.width &gt; size.height) ? 0.25 : 0.55 &#125;, completion: nil)&#125; ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆsizeï¼‰æŒ‡è§†å›¾æ§åˆ¶å™¨å˜æ¢åçš„å¤§å°ã€‚ ç¬¬äºŒä¸ªå‚æ•°ï¼ˆcoordinatorï¼‰æ˜¯è½¬åœºåè°ƒå¯¹è±¡ï¼Œå®ƒå¯ä»¥è®¿é—®è®¸å¤šè½¬åœºçš„å±æ€§ã€‚ animate(alongsideTransition:completion:)å…è®¸æŒ‡å®šè‡ªå·±çš„è‡ªå®šä¹‰åŠ¨ç”»ï¼Œä¸UIKitåœ¨æ›´æ”¹æ–¹å‘æ—¶é»˜è®¤æ‰§è¡Œçš„æ—‹è½¬åŠ¨ç”»ä¸€èµ·æ‰§è¡Œã€‚å½“è®¾å¤‡æ¨ªå‘æ—¶ï¼Œå‡å°‘èƒŒæ™¯å›¾åƒçš„é€æ˜åº¦ï¼Œè®©æ–‡æœ¬çœ‹ä¸Šå»æ›´æ¸…æ™°ï¼Œæ›´å®¹æ˜“é˜…è¯»ã€‚ è¿è¡Œï¼Œæ—‹è½¬è®¾å¤‡ï¼ˆæ¨¡æ‹Ÿå™¨ä¸­æŒ‰Cmd +å‘å·¦ç®­å¤´ï¼‰ï¼š å°†å±å¹•æ—‹è½¬ä¸ºæ¨ªå‘æ¨¡å¼æ—¶ï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°èƒŒæ™¯å˜æ·±ã€‚ ç°åœ¨ä¸Šé¢çš„åŠ¨ç”»çœ‹ä¸Šå»å·²ç»å¾ˆä¸é”™ï¼Œä½†å¦‚æœä»”ç»†è§‚çœ‹ï¼Œä¼šå‘ç°è¿˜æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œè§£é™¤åŠ¨ç”»æ—¶ï¼Œå…¨å±è§†å›¾åˆ°å°è§†å›¾å®Œæˆä¹‹å‰çœ‹åˆ°è¯¦ç»†è§†å›¾çš„æ–‡æœ¬ï¼›å…¨å±è§†å›¾æ˜¯ç›´è§’ï¼Œç›´åˆ°åŠ¨ç”»è¦å®Œæˆçš„æœ€åä¸€ä¸ªæ‰ä»ç›´è§’çªç„¶å˜åˆ°åœ†è§’ã€‚ å¹³æ»‘è½¬åœºåŠ¨ç”»çº æ­£äº†ç»†èŠ‚è§†å›¾çš„æ–‡æœ¬åœ¨è¢«è§£é™¤æ—¶æ¶ˆå¤±çš„é—®é¢˜ã€‚ åœ¨animateTransition(using:)ä¸­çš„åŠ¨ç”»(UIView.animate(...))å¼€å§‹å‰æ·»åŠ ï¼š 12345let herbController = transitionContext.viewController(forKey: presenting ? .to : .from) as! HerbDetailsViewControllerif presenting &#123; herbController.containerView.alpha = 0.0&#125; åœ¨animateTransition(using:)ä¸­çš„åŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ ï¼š 1herbController.containerView.alpha = self.presenting ? 1.0 : 0.0 åœ†è§’åŠ¨ç”»æœ€åï¼Œä¸ºè¯¦æƒ…é¡µè§†å›¾çš„å›¾å±‚è§’åŠå¾„è®¾ç½®åŠ¨ç”»ï¼Œä½¿å…¶ä¸ä¸»è§†å›¾æ§åˆ¶å™¨ä¸­è‰æœ¬å›¾åƒçš„åœ†è§’ç›¸åŒ¹é…ã€‚ åœ¨animateTransition(using:)ä¸­çš„åŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ ï¼š 1herbView.layer.cornerRadius = self.presenting ? 0.0 : 20.0/xScaleFactor ä¸ºäº†æ›´æ–¹ä¾¿çš„æŸ¥çœ‹åŠ¨ç”»ï¼Œå¯ä»¥æŠŠæŒç»­æ—¶é—´å¢å¤§æˆ–ç”¨æ¨¡æ‹Ÿå™¨ä¸­æ»¡åŠ¨ç”»ï¼ˆCommand + Tï¼‰ã€‚ ä¸Šé¢ä¸¤ä¸ªä¿®æ”¹åçš„æ•ˆæœï¼š 18-å¯¼èˆªæ§åˆ¶å™¨è½¬åœºUINavigationControlleræ˜¯iOSä¸­ä¸ºæ•°ä¸å¤šçš„å†…ç½®åº”ç”¨å¯¼èˆªè§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚ å°†ä¸€ä¸ªæ–°çš„è§†å›¾æ§åˆ¶å™¨æ¨å…¥æˆ–å¼¹å‡ºå¯¼èˆªå †æ ˆï¼Œè¿™ä¸ªè¿‡ç¨‹è‡ªå¸¦ä¸€ä¸ªæ—¶å°šçš„åŠ¨ç”»ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†iOSå¦‚ä½•å°†æ–°è§†å›¾æ§åˆ¶å™¨æ¨é€åˆ°è®¾ç½®åº”ç”¨ä¸­çš„å¯¼èˆªå †æ ˆï¼šæ–°è§†å›¾ä»å³ä¾§æ»‘å…¥ä»¥è¦†ç›–æ—§è§†å›¾ï¼Œæ–°æ ‡é¢˜æ·¡å…¥ï¼Œè€Œæ—§æ ‡é¢˜æ·¡å‡ºã€‚ æœ¬ç« çš„è‡ªå®šä¹‰å¯¼èˆªæ§åˆ¶å™¨è½¬åœºä¸å‰ä¸€ç« ä¸­æ„å»ºè‡ªå®šä¹‰è§†å›¾æ§åˆ¶å™¨è½¬åœºçš„æ–¹å¼ç±»ä¼¼ã€‚ å¼€å§‹é¡¹ç›®æœ¬ç« å¼€å§‹é¡¹ç›®æ˜¯ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå«LogoReveal ã€‚ ç‚¹å‡»é»˜è®¤å±å¹•ä»»æ„åœ°æ–¹ï¼ˆMasterViewControllerï¼‰ï¼Œè·³è½¬å±•ç¤ºvacation packing listé¡µé¢(DetailViewController)ï¼ŒRW Logoæ˜¯é€šè¿‡UIBezierPathç»˜åˆ¶çš„CAShapeLayerå›¾å±‚ã€‚ è‡ªå®šä¹‰å¯¼èˆªæ§åˆ¶å™¨è½¬åœºçš„åŸç†è‡ªå®šä¹‰å¯¼èˆªæ§åˆ¶å™¨è½¬åœºçš„åŸç†ç±»ä¼¼ä¸Šä¸€ç« èŠ‚çš„è‡ªå®šä¹‰è½¬åœºçš„åŸç†ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªå›¾æ¦‚æ‹¬ï¼š å¯¼èˆªæ§åˆ¶å™¨ä»£ç†é¦–å…ˆéœ€è¦æ–°å»ºä¸€ä¸ªAnimatorï¼Œæ–°å»ºä¸€ä¸ªNSObjectå­ç±»RevealAnimatorçš„ç±»æ–‡ä»¶ï¼Œå¹¶è®©å®ƒéµå®ˆUIViewControllerAnimatedTransitioningåè®®ï¼š 123class RevealAnimator: NSObject, UIViewControllerAnimatedTransitioning &#123;&#125; åœ¨RevealAnimatorä¸­æ·»åŠ ä¸¤ä¸ªå±æ€§ï¼Œå¹¶ä¸”å®ç°UIViewControllerAnimatedTransitioningåè®®çš„ä¸¤ä¸ªæ–¹æ³•ï¼š 1234567891011let animationDuration = 2.0var operation: UINavigationControllerOperation = .pushfunc transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -&gt; TimeInterval &#123; return animationDuration&#125;func animateTransition(using transitionContext: UIViewControllerContextTransitioning) &#123; &#125; operationæ˜¯UINavigationControllerOperationç±»å‹çš„å±æ€§ï¼Œç”¨äºè¡¨ç¤ºæ˜¯åœ¨æ¨é€è¿˜æ˜¯å¼¹å‡ºæ§åˆ¶å™¨ã€‚ ç”¨æ‰©å±•çš„æ–¹å¼è®©MasterViewControlleréµå®ˆUINavigationControllerDelegateåè®®ï¼š 123extension MasterViewController: UINavigationControllerDelegate &#123; &#125; åœ¨è°ƒç”¨ä»»ä½•seguesæˆ–å°†æŸäº›å†…å®¹æ¨é€åˆ°å †æ ˆä¹‹å‰ï¼Œéœ€è¦åœ¨è§†å›¾æ§åˆ¶å™¨ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸè®¾ç½®å¯¼èˆªæ§åˆ¶å™¨çš„ä»£ç†ã€‚åœ¨MasterViewControllerçš„viewDidLoad()ä¸­æ·»åŠ ï¼š 1navigationController?.delegate = self åœ¨MasterViewControllerä¸­åˆ›å»ºAnimatorå±æ€§ï¼š 1let transition = RevealAnimator() å®ç°åè®®UINavigationControllerDelegateçš„æ–¹æ³•navigationController(): 1234func navigationController(_ navigationController: UINavigationController, animationControllerFor operation: UINavigationControllerOperation, from fromVC: UIViewController, to toVC: UIViewController) -&gt; UIViewControllerAnimatedTransitioning? &#123; transition.operation = operation return transition&#125; è¿™æ˜¯ä¸€ä¸ªæ–¹æ³•åç§°éå¸¸é•¿ï¼Œå‚æ•°æœ‰ï¼š navigationControllerï¼šå½“å¯¹è±¡æ˜¯å¤šä¸ªå¯¼èˆªæ§åˆ¶å™¨çš„å§”æ‰˜æ—¶ï¼Œè¿™ç”¨æ¥åŒºåˆ†å¯¼èˆªæ§åˆ¶å™¨ï¼Œè¿™ä¸æ˜¯å¤ªå¸¸è§ã€‚ operationï¼šè¿™æ˜¯ä¸€ä¸ªæšä¸¾UINavigationControllerOperationï¼Œå¯ä»¥æ˜¯.pushæˆ–.popã€‚ fromVCï¼šè¿™æ˜¯å½“å‰åœ¨å±å¹•ä¸Šå¯è§çš„è§†å›¾æ§åˆ¶å™¨ï¼Œå®ƒé€šå¸¸æ˜¯å¯¼èˆªå †æ ˆä¸­çš„æœ€åä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ã€‚ toVCï¼šè¿™æ˜¯å°†è½¬åœºåˆ°çš„è§†å›¾æ§åˆ¶å™¨ã€‚ å¦‚æœéœ€è¦ä¸åŒè§†å›¾æ§åˆ¶å™¨æœ‰ä¸åŒè½¬åœºåŠ¨ç”»ï¼Œåˆ™å¯ä»¥é€‰æ‹©è¿”å›ä¸åŒçš„Animatorã€‚ä¸ºäº†ç®€åŒ–æ­¤é¡¹ç›®ï¼Œåœ¨æ¨é€æˆ–å¼¹å‡ºè½¬åœºæ—¶ï¼Œéƒ½è¿”å›RevealAnimatorå¯¹è±¡ã€‚ è¿è¡Œï¼Œç‚¹å‡»ï¼Œå¯¼èˆªæ æœ‰ä¸€ä¸ªä¸¤ç§’è½¬åœºï¼Œä½†å…¶ä»–å°±æ²¡æœ‰ååº”äº†ï¼Œè¿™æ˜¯å› ä¸ºanimateTransition()ä¸­è¿˜æ²¡æœ‰ç¼–å†™ä»»ä½•ä»£ç ã€‚ æ·»åŠ è‡ªå®šä¹‰æ˜¾ç¤ºåŠ¨ç”»è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»çš„è®¡åˆ’ç›¸å¯¹ç®€å•ã€‚ æ‚¨åªéœ€åœ¨DetailViewControllerä¸Šä¸ºè’™ç‰ˆè®¾ç½®åŠ¨ç”»ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒRWå¾½æ ‡çš„é€æ˜éƒ¨åˆ†ï¼Œæ˜¾ç¤ºåº•å±‚è§†å›¾æ§åˆ¶å™¨çš„å†…å®¹ã€‚ä½ å°†ä¸å¾—ä¸å¤„ç†å›¾å±‚å’Œä¸€äº›åŠ¨ç”»ä»»åŠ¡ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ä½ è¿˜æ²¡æœ‰å®Œæˆä»»åŠ¡ã€‚ å¯¹äºåƒä½ è¿™æ ·çš„åŠ¨ç”»ä¸“ä¸šäººå£«æ¥è¯´ï¼Œåˆ›å»ºè½¬åœºåŠ¨ç”»å°†æ˜¯ä¸€ä»¶è½»æ¾çš„äº‹ï¼ åœ¨RevealAnimatorä¸­åˆ›å»ºä¸€ä¸ªå­˜å‚¨åŠ¨ç”»ä¸Šä¸‹æ–‡çš„å±æ€§ï¼š 1weak var storedContext: UIViewControllerContextTransitioning? å†åœ¨animateTransition()ä¸­æ·»åŠ ï¼š 1234567storedContext = transitionContextlet fromVC = transitionContext.viewController(forKey: .from) as! MasterViewControllerlet toVC = transitionContext.viewController(forKey: .to) as! DetailViewControllertransitionContext.containerView.addSubview(toVC.view)toVC.view.frame = transitionContext.finalFrame(for: toVC) å…ˆè·å–fromVCå¹¶å°†å…¶è½¬æ¢ä¸ºMasterViewControllerï¼›ç„¶åï¼Œè·å–toVCå¹¶è½¬æ¢ä¸ºDetailViewControllerã€‚æœ€åï¼Œåªéœ€å°†toVC.viewæ·»åŠ åˆ°è½¬åœºå®¹å™¨è§†å›¾ä¸­ï¼Œå¹¶å°†å…¶frameè®¾ç½®ä¸ºtransitionContextä¸­çš„æœ€ç»ˆframeï¼Œè¿™æ˜¯è¯¦æƒ…é¡µé¢åœ¨ä¸»å±å¹•ä¸Šçš„æœ€ç»ˆä½ç½®ã€‚ å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°animateTransition()ä¸­ï¼š 123let animation = CABasicAnimation(keyPath: "transform")animation.fromValue = NSValue(caTransform3D: CATransform3DIdentity)animation.toValue = NSValue(caTransform3D: CATransform3DConcat(CATransform3DMakeTranslation(0.0, -10.0, 0.0), CATransform3DMakeScale(150.0, 150.0, 1.0))) è¿™ä¸ªåŠ¨ç”»å°†logoçš„å¤§å°å¢åŠ äº†150å€ï¼Œå¹¶åŒæ—¶å‘ä¸Šç§»åŠ¨äº†ä¸€ç‚¹ã€‚ ä¸ºä»€ä¹ˆï¼Ÿ logoçš„å½¢çŠ¶ä¸å‡åŒ€ï¼Œæˆ‘å¸Œæœ›åé¢çš„è§†å›¾æ§åˆ¶å™¨é€šè¿‡RWå½¢çŠ¶çš„â€œå­”â€æ˜¾ç¤ºã€‚ å°†å…¶å‘ä¸Šç§»åŠ¨æ„å‘³ç€ç¼©æ”¾å›¾åƒçš„åº•éƒ¨å°†æ›´å¿«åœ°è¦†ç›–å±å¹•ã€‚ å¦‚æœä½¿ç”¨åƒåœ†å½¢æˆ–æ¤­åœ†å½¢è¿™ç§å¯¹ç§°çš„logoï¼Œå°±ä¸ä¼šæœ‰è¿™ç§é—®é¢˜ã€‚ ç°åœ¨å°†ä»¥ä¸‹é¢ä»£ç æ·»åŠ åˆ°animateTransition()ä»¥ç¨å¾®ä¼˜åŒ–åŠ¨ç”»ï¼š 12345animation.duration = animationDurationanimation.delegate = selfanimation.fillMode = kCAFillModeForwardsanimation.isRemovedOnCompletion = falseanimation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseIn) è¿™äº›éƒ½æ˜¯å‰é¢ç« èŠ‚çš„çŸ¥è¯†ã€‚ RevealAnimatorç›®å‰è¿˜ä¸æ˜¯åŠ¨ç”»ä»£ç†ï¼Œè®°å¾—è¦è®©RevealAnimatoréµå®ˆCAAnimationDelegate åè®®ã€‚ åœ¨animateTransition()ä¸­æ·»åŠ å›¾å±‚ï¼š 1234let maskLayer: CAShapeLayer = RWLogoLayer.logoLayer()maskLayer.position = fromVC.logo.positiontoVC.view.layer.mask = maskLayermaskLayer.add(animation, forKey: nil) æ•ˆæœï¼š ä¼˜åŒ–ç»†èŠ‚ç»†çœ‹ä¸Šé¢çš„æ•ˆæœï¼Œä¼šå‘ç°åŠ¨ç”»è¿è¡Œæ—¶ï¼ŒåŸæ¥çš„logoè¿˜åœ¨é‚£é‡Œï¼Œä¸‹é¢è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨animateTransition()ä¸­æ·»åŠ ï¼š 1fromVC.logo.add(animation, forKey: nil) è¿è¡Œåï¼Œæ²¡æœ‰æœ‰åŸå§‹çš„logoäº†ï¼š è¿˜æœ‰ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„é—®é¢˜ï¼šåœ¨ç¬¬ä¸€æ¬¡æ¨é€è½¬åœºåï¼Œå¯¼èˆªä¸å†å·¥ä½œäº†ï¼Ÿ åœ¨ RevealAnimatorä¸­å®ç°CAAnimationDelegateçš„animationDidStop(_:finished:)æ–¹æ³•ï¼š 1234567func animationDidStop(_ anim: CAAnimation, finished flag: Bool) &#123; if let context = storedContext &#123; context.completeTransition(!context.transitionWasCancelled) // reset logo &#125; storedContext = nil&#125; åœ¨æ–¹æ³•ç»“æŸæ—¶ï¼Œåªéœ€å°†è½¬åœºä¸Šä¸‹æ–‡è®¾ç½®ä¸ºnilã€‚ ç”±äºæ˜¾ç¤ºåŠ¨ç”»åœ¨å®Œæˆåä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œå› æ­¤éœ€è¦è‡ªå·±å¤„ç†ã€‚ ä½¿ç”¨ä»¥ä¸‹å†…å®¹æ›¿æ¢ä½äºanimationDidStop()ä¸­çš„// reset logoï¼š 123let fromVC = context.viewController(forKey: .from) as! MasterViewControllerfromVC.logo.removeAllAnimations() åªéœ€è¦åœ¨æ¨é€è½¬åœºæœŸé—´å±è”½è§†å›¾æ§åˆ¶å™¨çš„å†…å®¹ï¼Œä¸€æ—¦è§†å›¾æ§åˆ¶å™¨å®Œæˆè½¬åœºï¼Œå°±å¯ä»¥å®‰å…¨åœ°ç§»é™¤å±è”½ã€‚ æ¥ç€ä¸Šé¢çš„ä»£ç tæ·»åŠ ï¼š 12let toVC = context.viewController(forKey: .to) as! DetailViewControllertoVC.view.layer.mask = nil è¿è¡ŒæŠ¥é”™ï¼š è¿™æ˜¯å› ä¸ºï¼Œä¸Šé¢çš„ä»£ç åªé€‚ç”¨äºæ¨é€ï¼Œä½†ä¸é€‚ç”¨äºå¼¹å‡ºã€‚ æŠŠanimateTransition()ä¸­é™¤äº†ç¬¬ä¸€è¡ŒstoredContext = transitionContextçš„ä»£ç ï¼Œéƒ½åŒ…å«åœ¨ifè¯­å¥ä¸­ï¼š 123if operation == .push &#123; ...&#125; æ·¡å…¥æ–°è§†å›¾æ§åˆ¶å™¨è½¬åœºæ—¶ï¼Œç»™è¯¦æƒ…é¡µé¢æ·»åŠ æ·¡å…¥çš„åŠ¨ç”»ã€‚ åœ¨animateTransition(using:)çš„if operation == .push {è¯­å¥ä¸­æ·»åŠ ï¼š 12345let fadeIn = CABasicAnimation(keyPath: "opacity")fadeIn.fromValue = 0.0fadeIn.toValue = 1.0fadeIn.duration = animationDurationtoVC.view.layer.add(fadeIn, forKey: nil) å¼¹å‡ºè½¬åœºå‰é¢éƒ½æ˜¯æ¨é€è½¬åœºï¼Œç°åœ¨æ·»åŠ æ˜¯å¼¹å‡ºè½¬åœºã€‚ ç»™åœ¨animateTransition(using:)çš„ifè¯­å¥æ·»åŠ ä¸€ä¸ªelse ï¼š 123456789101112else &#123; let fromView = transitionContext.view(forKey: .from)! let toView = transitionContext.view(forKey: .to)! transitionContext.containerView.insertSubview(toView, belowSubview: fromView) UIView.animate(withDuration: animationDuration, delay: 0.0, options: .curveEaseIn, animations: &#123; fromView.transform = CGAffineTransform(scaleX: 0.01, y: 0.01) &#125;) &#123; (_) in transitionContext.completeTransition(!transitionContext.transitionWasCancelled) &#125;&#125; æœ€ç»ˆæ•ˆæœä¼šæ˜¯ï¼š 19-äº¤äº’å¼å¯¼èˆªæ§åˆ¶å™¨è½¬åœºæ‚¨ä¸ä»…å¯ä»¥ä¸ºè½¬æ¢åˆ›å»ºè‡ªå®šä¹‰åŠ¨ç”» - è¿˜å¯ä»¥ä½¿å…¶äº¤äº’å¹¶å“åº”ç”¨æˆ·çš„æ“ä½œã€‚é€šå¸¸ï¼Œæ‚¨é€šè¿‡å¹³ç§»æ‰‹åŠ¿é©±åŠ¨æ­¤æ“ä½œï¼Œè¿™æ˜¯æ‚¨å°†åœ¨æœ¬ç« ä¸­é‡‡ç”¨çš„æ–¹æ³•ã€‚å½“æ‚¨å®Œæˆåï¼Œæ‚¨çš„ç”¨æˆ·å°†èƒ½å¤Ÿé€šè¿‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨æ‰‹æŒ‡æ¥æ¥å›ç©¿è¿‡æ˜¾ç¤ºè½¬åœºã€‚é‚£ä¼šæœ‰å¤šé…·ï¼Ÿæ˜¯çš„ï¼Œæˆ‘ä»¥ä¸ºä½ ä¼šæ„Ÿå…´è¶£ï¼ç»§ç»­é˜…è¯»ï¼Œäº†è§£å®ƒæ˜¯å¦‚ä½•å®Œæˆçš„ï¼ å…³äºæ‰‹åŠ¿å¤„ç†ï¼Œå¯çœ‹æˆ‘çš„ä¸€ç¯‡ç®€å•çš„å°ç»“ iOS tutorial 13ï¼šæ‰‹åŠ¿å¤„ç†ã€‚ æœ¬ç« å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« èŠ‚å®Œæˆçš„é¡¹ç›®ã€‚ åˆ›å»ºäº¤äº’å¼è½¬åœºå½“å¯¼èˆªæ§åˆ¶å™¨å‘å…¶ä»£ç†è¯¢é—®åŠ¨ç”»æ§åˆ¶å™¨ï¼ˆå°±æ˜¯ä¹‹å‰æåˆ°Animatorï¼‰æ—¶ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸¤ä»¶äº‹ã€‚è¿”å›nilï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ§åˆ¶å™¨ä¼šè¿è¡Œæ ‡å‡†è½¬åœºåŠ¨ç”»ï¼› å¦‚æœè¿”å›ä¸€ä¸ªåŠ¨ç”»æ§åˆ¶å™¨ï¼Œé‚£ä¹ˆå¯¼èˆªæ§åˆ¶å™¨é™¤äº†ä¼šå‘å…¶ä»£ç†è¯¢é—®è½¬åœºåŠ¨ç”»æ§åˆ¶å™¨ï¼Œä¹Ÿä¼šè¯¢é—®äº¤äº’æ§åˆ¶å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š äº¤äº’æ§åˆ¶å™¨æ ¹æ®ç”¨æˆ·çš„æ“ä½œç§»åŠ¨è½¬åœºï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä»å¼€å§‹åˆ°ç»“æŸåŠ¨ç”»æ›´æ”¹ã€‚ äº¤äº’æ§åˆ¶å™¨ä¸ä¸€å®šéœ€è¦æ˜¯ä¸åŠ¨ç”»æ§åˆ¶å™¨åˆ†å¼€çš„ç±»ï¼›å®é™…ä¸Šï¼Œå½“ä¸¤ä¸ªæ§åˆ¶å™¨åœ¨åŒä¸€ä¸ªç±»ä¸­æ—¶ï¼Œæ‰§è¡ŒæŸäº›ä»»åŠ¡ä¼šæ›´å®¹æ˜“ä¸€äº›ã€‚ æ‚¨åªéœ€è¦ç¡®ä¿æ‰€è¿°ç±»éµå®ˆUIViewControllerAnimatedTransitioningå’ŒUIViewControllerInteractiveTransitioningä¸¤ä¸ªåè®®ã€‚ UIViewControllerInteractiveTransitioningåªæœ‰ä¸€ä¸ªå¿…éœ€å®ç°çš„æ–¹æ³• startInteractiveTransition(_:) ï¼Œå®ƒå°†è½¬æ¢ä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ã€‚ ç„¶åï¼Œäº¤äº’æ§åˆ¶å™¨ä¼šå®šæœŸè°ƒç”¨updateInteractiveTransitionï¼ˆ_ :)æ¥ç§»åŠ¨è½¬æ¢ã€‚ é¦–å…ˆï¼Œæ‚¨éœ€è¦æ›´æ”¹å¤„ç†ç”¨æˆ·è¾“å…¥çš„æ–¹å¼ã€‚ å¤„ç†å¹³ç§»æ‰‹åŠ¿æŠŠç‚¹å‡»æ‰‹åŠ¿ä¿®æ”¹æˆå¹³ç§»æ‰‹åŠ¿ã€‚å¹³ç§»æ‰‹åŠ¿å¯è§‚å¯Ÿåˆ°è½¬åœºçš„å¼€å§‹ã€è¿‡ç¨‹å’Œç»“æŸçš„çŠ¶æ€ã€‚ å…ˆæŠŠåº•éƒ¨çš„æ ‡ç­¾çš„æ–‡æœ¬ä¿®æ”¹æˆ Slide to startã€‚ æ¥ä¸‹æ¥ï¼Œåœ¨MasterViewController.swiftçš„viewDidAppear(_:)ä¸­åˆ é™¤ä»¥ä¸‹ä»£ç ï¼š 12let tap = UITapGestureRecognizer(target: self, action: #selector(didTap))view.addGestureRecognizer(tap) æ›¿ä»£ä¸ºå¹³ç§»æ‰‹åŠ¿è¯†åˆ«ä»£ç ï¼š 12let pan = UIPanGestureRecognizer(target: self, action: #selector(didPan(_:)))view.addGestureRecognizer(pan) å½“ç”¨æˆ·åœ¨å±å¹•ä¸Šæ»‘åŠ¨æ˜¯ï¼Œä¼šè¢«è¯†åˆ«ç„¶åè°ƒç”¨didPan(_:)æ–¹æ³•ã€‚ åœ¨MasterViewControllerä¸­æ·»åŠ ç©ºdidPan(_:)ã€‚ ä½¿ç”¨äº¤äº’å¼åŠ¨ç”»å¸ˆç±»ä¸ºäº†å¤„ç†ä¸Šé¢çš„è½¬åœºï¼Œéœ€è¦ä½¿ç”¨å†…ç½®çš„äº¤äº’å¼åŠ¨ç”»å¸ˆç±»ï¼šUIPercentDrivenInteractiveTransitionã€‚ æ­¤ç±»éµå®ˆUIViewControllerInteractiveTransitioningåè®®ï¼Œå¹¶å¯ä»¥å°†è½¬åœºçš„è¿›åº¦è¡¨ç¤ºä¸ºå®Œæˆç™¾åˆ†æ¯”ã€‚ æ‰“å¼€RevealAnimator.swiftï¼Œå¹¶æ›´æ–°æ–‡ä»¶é¡¶éƒ¨çš„ç±»å®šä¹‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1class RevealAnimator: UIPercentDrivenInteractiveTransition, UIViewControllerAnimatedTransitioning, CAAnimationDelegate &#123; è¯·æ³¨æ„ï¼ŒUIPercentDrivenInteractiveTransitionæ˜¯ä¸€ä¸ªç±»ï¼Œè€Œä¸æ˜¯å…¶ä»–åè®®ï¼Œæ‰€ä»¥éœ€è¦å¤„äºç¬¬ä¸€ä½ç½®ã€‚ æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œæ¥è¡¨ç¤ºæ˜¯å¦å·²äº¤äº’æ–¹å¼é©±åŠ¨è½¬åœºåŠ¨ç”»ï¼š 1var interactive = false æ·»åŠ æ–¹æ³•åˆ°RevealAnimatorä¸­ï¼š 123func handlePan(_ recognizer: UIPanGestureRecognizer) &#123;&#125; å½“ç”¨æˆ·åœ¨å±å¹•ä¸Šå¹³ç§»æ—¶ï¼Œè¯†åˆ«å™¨å°†è¢«ä¼ é€’ç»™RevealAnimatorä¸­çš„handlePan(_:)å¤„ç†ï¼Œæ¥æ›´æ–°å½“å‰çš„è½¬åœºè¿›åº¦ã€‚ åœ¨MasterViewController.swiftä¸­æ·»åŠ å§”æ‰˜æ–¹æ³•ï¼š 123456func navigationController(_ navigationController: UINavigationController, interactionControllerFor animationController: UIViewControllerAnimatedTransitioning) -&gt; UIViewControllerInteractiveTransitioning? &#123; if !transition.interactive &#123; return nil &#125; return transition&#125; å½“å¸Œæœ›è½¬åœºä¸ºäº¤äº’å¼æ—¶ï¼Œåªéœ€è¿”å›äº¤äº’å¼æ§åˆ¶å™¨ï¼Œå¦åˆ™è¿”å›nilã€‚ ç°åœ¨ï¼Œéœ€è¦å°†å¹³ç§»æ‰‹åŠ¿è¯†åˆ«å™¨è¿æ¥åˆ°äº¤äº’æ§åˆ¶å™¨ã€‚ åœ¨didPan(_:)ä¸­æ·»åŠ ï¼š 1234567switch recognizer.state &#123; case .began: transition.interactive = true performSegue(withIdentifier: "details", sender: nil) default: transition.handlePan(recognizer)&#125; å½“å¹³ç§»æ‰‹åŠ¿å¼€å§‹æ—¶ï¼Œç¡®ä¿äº¤äº’è®¾ç½®ä¸ºtrueï¼Œç„¶åé€šè¿‡ segue è¿æ¥åˆ°ä¸‹ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ã€‚ æ‰§è¡Œsegueå°†å¯åŠ¨è½¬åœºï¼Œè¿™æ—¶åŠ¨ç”»æ§åˆ¶å™¨å’Œäº¤äº’æ§åˆ¶å™¨çš„å§”æ‰˜æ–¹æ³•å°†è¿”å›è½¬åœºåŠ¨ç”»ã€‚ å¦‚æœæ‰‹åŠ¿å·²ç»å¼€å§‹ï¼Œåªéœ€å°†æ“ä½œäº¤ç»™äº¤äº’æ§åˆ¶å™¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è®¡ç®—è½¬åœºåŠ¨ç”»çš„è¿›åº¦å¹³ç§»æ‰‹åŠ¿å¤„ç†ç¨‹åºä¸­æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯è¦å¼„æ¸…æ¥šè½¬åœºçš„è¿›åº¦ã€‚ æ‰“å¼€RevealAnimator.swiftï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°handlePanä¸­ï¼š 123let translation = recognizer.translation(in: recognizer.view!.superview!)var progress: CGFloat = abs(translation.x / 200.0)progress = min(max(progress, 0.01), 0.99) é€šè¿‡å¹³ç§»æ‰‹åŠ¿è¯†åˆ«å™¨è®¡ç®—è½¬åœºçš„ç»åº¦ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œç”¨æˆ·ç¦»å¼€åˆå§‹ä½ç½®è¶Šè¿œï¼Œè½¬åœºçš„è¿›åº¦å°±è¶Šå¤§ã€‚ 200.0æ˜¯ä¸€ä¸ªåˆç†çš„ä»»æ„æ•°å­—ï¼Œæ¥è¡¨ç¤ºè½¬åœºå®Œæˆæ‰€éœ€è¦çš„è·ç¦»ã€‚ ä¸‹é¢æ›´æ–°è½¬åœºåŠ¨ç”»çš„è¿›åº¦ï¼Œå°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°handlePan()ä¸­ï¼š 123456switch recognizer.state &#123; case .changed: update(progress) default: break&#125; update() æ˜¯æ¥è‡ªUIPercentDrivenInteractiveTransitionçš„æ–¹æ³•ï¼Œå®ƒè®¾ç½®è½¬åœºåŠ¨ç”»çš„å½“å‰è¿›åº¦ã€‚ å½“ç”¨æˆ·åœ¨å±å¹•ä¸Šå¹³ç§»æ—¶ï¼Œæ‰‹åŠ¿è¯†åˆ«å™¨ä¼šé‡å¤è°ƒç”¨MasterViewControllerä¸­didPan()ï¼Œä»è€Œä¸åœçš„è°ƒç”¨RevealAnimatorä¸­ çš„handlePan()æ¥æ›´æ–°è½¬åœºè¿›åº¦ã€‚ åœ¨RevealAnimatorä¸­æ·»åŠ å±æ€§ï¼š 1private var pausedTime: CFTimeInterval = 0 ç°åœ¨ï¼Œé€šè¿‡å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°animateTransition(using:)æ¥æ§åˆ¶å›¾å±‚ï¼š 123456if interactive &#123; let transitionLayer = transitionContext.containerView.layer pausedTime = transitionLayer.convertTime(CACurrentMediaTime(), from: nil) transitionLayer.speed = 0 transitionLayer.timeOffset = pausedTime&#125; è¿™é‡Œåšçš„æ˜¯é˜»æ­¢å›¾å±‚è¿è¡Œè‡ªå·±çš„åŠ¨ç”»ã€‚ è¿™å°†å†»ç»“æ‰€æœ‰å­å›¾å±‚åŠ¨ç”»ã€‚ é‡å†™update(_:)ï¼Œä»¥å°†å›¾å±‚ä¸åŠ¨ç”»ä¸€èµ·ç§»åŠ¨ï¼š 123456override func update(_ percentComplete: CGFloat) &#123; super.update(percentComplete) let animationProgress = TimeInterval(animationDuration) * TimeInterval(percentComplete) storedContext?.containerView.layer.timeOffset = pausedTime + animationProgress&#125; è¿è¡Œæ•ˆæœï¼š è¿™è¾¹å‡ºç°é—®é¢˜ï¼Œå°±æ˜¯æ‰‹æŒ‡ç¦»å¼€å±å¹•åï¼ŒåŠ¨ç”»ç«‹å³åœæ­¢ï¼Œå†æ¬¡æ»‘åŠ¨æ—¶ä¹Ÿæ²¡æœ‰ååº”ã€‚ å¤„ç†æå‰ç»ˆæ­¢å¤„ç†ä¸Šé¢çš„é—®é¢˜ã€‚ åœ¨handlePan()çš„switchè¯­å¥ä¸­æ·»åŠ caseï¼š 123456case .cancelled, .ended: if progress &lt; 0.5 &#123; cancel() &#125; else &#123; finish() &#125; åœ¨ç”¨æˆ·æ‰‹æŒ‡ç¦»å¼€å±å¹•ä¹‹å‰ï¼Œå¦‚æœå¹³ç§»å¾—è¶³å¤Ÿè¿œï¼Œå°±è¡¨ç¤ºè½¬åœºå®Œæˆï¼Œå‘ˆç°æ–°çš„è§†å›¾æ§åˆ¶å™¨ï¼›ç›¸åï¼Œå°±æ»šå›åŸæ¥çš„è§†å›¾æ§åˆ¶å™¨ã€‚ é‡å†™cancel() å’Œ finish()æ–¹æ³•ï¼š 123456789101112131415override func cancel() &#123; restart(forFinishing: false) super.cancel()&#125;override func finish() &#123; restart(forFinishing: true) super.finish()&#125;private func restart(forFinishing: Bool) &#123; let transitionLayer = storedContext?.containerView.layer transitionLayer?.beginTime = CACurrentMediaTime() transitionLayer?.speed = forFinishing ? 1 : -1&#125; åœ¨.cancelledï¼Œ.endedçš„caseä¸­æ·»åŠ ï¼š 1interactive = false æœ¬ç« æœ€åçš„æ•ˆæœï¼š]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
        <tag>è½¬åœº</tag>
        <tag>è§†å›¾æ§åˆ¶å™¨çš„è½¬åœºåŠ¨ç”»</tag>
        <tag>View Controller Transition Animations</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸‰ï¼šå›¾å±‚åŠ¨ç”»]]></title>
    <url>%2F2018%2FiOS-Animation-3-Layer-Animations.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸€ï¼šè§†å›¾åŠ¨ç”» å­¦ä¹ äº†åˆ›å»ºè§†å›¾åŠ¨ç”»ï¼ˆView Animationsï¼‰ï¼Œè¿™ä¸€éƒ¨åˆ†å­¦ä¹ åŠŸèƒ½æ›´å¼ºå¤§ã€æ›´ååº•å±‚çš„Core Animation(æ ¸å¿ƒåŠ¨ç”») APIsã€‚æ ¸å¿ƒåŠ¨ç”»çš„è¿™ä¸ªåå­—å¯èƒ½ä»¤äººæœ‰ç‚¹è¯¯è§£ï¼Œæš‚æ—¶å¯ä»¥ç†è§£ä¸ºæœ¬æ–‡çš„æ ‡é¢˜å›¾å±‚åŠ¨ç”»(Layer Animations)ã€‚ åœ¨æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œå°†å­¦ä¹ åŠ¨ç”»å±‚è€Œä¸æ˜¯è§†å›¾ä»¥åŠå¦‚ä½•ä½¿ç”¨ç‰¹æ®Šå›¾å±‚ã€‚ å›¾å±‚æ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡å‹ç±»ï¼Œå®ƒå…¬å¼€äº†è®¸å¤šå±æ€§æ¥è¡¨ç¤ºä¸€äº›åŸºäºå›¾åƒçš„å†…å®¹ã€‚ æ¯ä¸ªUIViewéƒ½æœ‰ä¸€ä¸ªå›¾å±‚æ”¯æŒ(éƒ½æœ‰ä¸€ä¸ªlayerå±æ€§)ã€‚ è§†å›¾ vs å›¾å±‚ ç”±äºä»¥ä¸‹åŸå› ï¼Œå›¾å±‚(Layers)ä¸è§†å›¾(Views)ï¼ˆå¯¹äºåŠ¨ç”»ï¼‰ä¸åŒï¼š å›¾å±‚æ˜¯ä¸€ä¸ªæ¨¡å‹å¯¹è±¡ â€”â€” å®ƒå…¬å¼€æ•°æ®å±æ€§å¹¶ä¸”ä¸å®ç°ä»»ä½•é€»è¾‘ã€‚ å®ƒæ²¡æœ‰å¤æ‚çš„è‡ªåŠ¨å¸ƒå±€ä¾èµ–å…³ç³»ï¼Œä¹Ÿä¸ç”¨å¤„ç†ç”¨æˆ·äº¤äº’ã€‚ å›¾å±‚å…·æœ‰é¢„å®šä¹‰çš„å¯è§ç‰¹å¾ â€”â€” è¿™äº›ç‰¹å¾æ˜¯è®¸å¤šå½±å“å†…å®¹åœ¨å±å¹•ä¸Šå‘ˆç°çš„æ•°æ®å±æ€§ï¼Œä¾‹å¦‚è¾¹æ¡†çº¿ï¼Œè¾¹æ¡†é¢œè‰²ï¼Œä½ç½®å’Œé˜´å½±ã€‚ æœ€åï¼ŒCore Animationä¼˜åŒ–äº†å›¾å±‚å†…å®¹çš„ç¼“å­˜å¹¶ç›´æ¥åœ¨GPUä¸Šå¿«é€Ÿç»˜å›¾ã€‚ å•ä¸ªæ¥è¯´ï¼Œä¸¤è€…çš„ä¼˜ç‚¹ã€‚ è§†å›¾ï¼š å¤æ‚è§†å›¾å±‚æ¬¡ç»“æ„å¸ƒå±€ï¼Œè‡ªåŠ¨å¸ƒå±€ç­‰ã€‚ ç”¨æˆ·äº¤äº’ã€‚ é€šå¸¸å…·æœ‰åœ¨CPUä¸Šçš„ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„è‡ªå®šä¹‰é€»è¾‘æˆ–è‡ªå®šä¹‰ç»˜å›¾ä»£ç ã€‚ éå¸¸çµæ´»ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå­ç±»å¾ˆå¤šç±»ã€‚ å›¾å±‚ï¼š æ›´ç®€å•çš„å±‚æ¬¡ç»“æ„ï¼Œæ›´å¿«åœ°è§£å†³å¸ƒå±€ï¼Œç»˜åˆ¶é€Ÿåº¦æ›´å¿«ã€‚ æ²¡æœ‰å“åº”è€…é“¾å¼€é”€ã€‚ é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰è‡ªå®šä¹‰é€»è¾‘ å¹¶ç›´æ¥åœ¨GPUä¸Šç»˜åˆ¶ã€‚ ä¸é‚£ä¹ˆçµæ´»ï¼Œå­ç±»çš„ç±»æ›´å°‘ã€‚ è§†å›¾å’Œå›¾å±‚çš„é€‰æ‹©æŠ€å·§ï¼š ä»»ä½•æ—¶å€™éƒ½å¯ä»¥é€‰æ‹©è§†å›¾åŠ¨ç”»; å½“éœ€è¦æ›´é«˜çš„æ€§èƒ½æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨å›¾å±‚åŠ¨ç”»ã€‚ ä¸¤è€…åœ¨æ¶æ„ä¸­çš„ä½ç½®ï¼š é¢„è§ˆï¼š æœ¬æ–‡æ¯”è¾ƒé•¿ï¼Œå›¾ç‰‡æ¯”è¾ƒå¤šï¼Œé¢„è­¦âš ï¸ğŸ˜€ã€‚ 8-å›¾å±‚åŠ¨ç”»å…¥é—¨ â€”â€” ä»æœ€ç®€å•çš„å›¾å±‚åŠ¨ç”»å¼€å§‹ï¼Œäº†è§£è°ƒè¯•åŠ¨ç”»é”™è¯¯çš„æ–¹æ³•ã€‚9-åŠ¨ç”»çš„Keyså’Œä»£ç† â€”â€” æ€ä¹ˆæ›´å¥½åœ°æ§åˆ¶å½“å‰è¿è¡Œçš„åŠ¨ç”»ï¼Œå¹¶ä½¿ç”¨ä»£ç†æ–¹æ³•å¯¹åŠ¨ç”»äº‹ä»¶åšå‡ºå“åº”ã€‚10-åŠ¨ç”»ç»„å’Œæ—¶é—´æ§åˆ¶ â€”â€” ç»„åˆè®¸å¤šç®€å•çš„åŠ¨ç”»ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºä¸€ä¸ªç»„ä¸€èµ·è¿è¡Œã€‚11-å›¾å±‚å¼¹ç°§åŠ¨ç”» â€”â€” å­¦ä¹ å¦‚ä½•ä½¿ç”¨CASpringAnimationåˆ›å»ºå¼ºå¤§è€Œçµæ´»çš„å¼¹ç°§å›¾å±‚åŠ¨ç”»ã€‚12-å›¾å±‚å…³é”®å¸§åŠ¨ç”»å’Œç»“æ„å±æ€§ â€”â€” å­¦ä¹ å›¾å±‚å…³é”®å¸§åŠ¨ç”»ï¼Œ åŠ¨ç”»ç»“æ„å±æ€§çš„ä¸€äº›ç‰¹æ®Šå¤„ç†ã€‚ æ¥ä¸‹æ¥ï¼Œå­¦ä¹ å‡ ä¸ªä¸“é—¨çš„å›¾å±‚ï¼š 13-å½¢çŠ¶å’Œè’™ç‰ˆ â€”â€” é€šè¿‡CAShapeLayeråœ¨å±å¹•ä¸Šç»˜åˆ¶å½¢çŠ¶ï¼Œå¹¶ä¸ºå…¶ç‰¹æ®Šè·¯å¾„å±æ€§è®¾ç½®åŠ¨ç”»ã€‚14-æ¸å˜åŠ¨ç”» â€”â€” äº†è§£å¦‚ä½•ä½¿ç”¨CAGradientLayeræ¥ç»˜åˆ¶æ¸å˜å’ŒåŠ¨ç”»æ¸å˜ã€‚15-Strokeå’Œè·¯å¾„åŠ¨ç”» â€”â€” ä»¥äº¤äº’æ–¹å¼ç»˜åˆ¶å½¢çŠ¶ï¼Œå¹¶ä½¿ç”¨å…³é”®å¸§åŠ¨ç”»çš„ä¸€äº›å¼ºå¤§åŠŸèƒ½ã€‚16-å¤åˆ¶åŠ¨ç”» â€”â€” å­¦ä¹ å¦‚ä½•åˆ›å»ºå›¾å±‚å†…å®¹çš„å¤šä¸ªå‰¯æœ¬ï¼Œç„¶ååˆ©ç”¨å‰¯æœ¬åˆ¶ä½œåŠ¨ç”»ã€‚ 8-å›¾å±‚åŠ¨ç”»å…¥é—¨å›¾å±‚åŠ¨ç”»çš„å·¥ä½œæ–¹å¼ä¸è§†å›¾åŠ¨ç”»éå¸¸ç›¸ä¼¼; åªéœ€åœ¨å®šä¹‰çš„æ—¶é—´æ®µå†…ä¸ºèµ·å§‹å€¼å’Œç»“æŸå€¼ä¹‹é—´çš„å±æ€§è®¾ç½®åŠ¨ç”»ï¼Œç„¶åè®©Core Animationå¤„ç†ä¸¤è€…ä¹‹é—´çš„æ¸²æŸ“ã€‚ ä½†æ˜¯ï¼Œå›¾å±‚åŠ¨ç”»å…·æœ‰æ¯”è§†å›¾åŠ¨ç”»æ›´å¤šçš„å¯åŠ¨ç”»å±æ€§; åœ¨è®¾è®¡æ•ˆæœæ—¶ï¼Œè¿™ä¼šæä¾›äº†å¾ˆå¤šé€‰æ‹©å’Œçµæ´»æ€§; å›¾å±‚åŠ¨ç”»è¿˜æœ‰è®¸å¤šä¸“é—¨çš„CALayerå­ç±»ï¼ˆå¦‚CATextLayerã€ CAShapeLayer ã€ CATransformLayer ã€CAGradientLayerã€CAReplicatorLayerã€CAScrollLayerã€CAEmitterLayerã€AVPlayerLayerç­‰ï¼‰ï¼Œè¿™äº›å­ç±»æœ‰æä¾›äº†è®¸å¤šå…¶ä»–å±æ€§ã€‚ æœ¬ç« ä»‹ç»CALayerå’ŒCore Animationçš„åŸºç¡€çŸ¥è¯†ã€‚ å¯åŠ¨ç”»å±æ€§å¯ä¸è§†å›¾åŠ¨ç”»çš„å¯åŠ¨ç”»å±æ€§å¯¹ç…§ç€çœ‹ã€‚ ä½ç½® å’Œ å¤§å°boundsã€positionã€transform è¾¹borderColorã€ borderWidthã€cornerRadius é˜´å½± shadowOffsetï¼š ä½¿é˜´å½±çœ‹èµ·æ¥æ›´æ¥è¿‘æˆ–æ›´è¿œç¦»å›¾å±‚ã€‚shadowOpacityï¼šä½¿é˜´å½±æ·¡å…¥æˆ–æ·¡å‡ºã€‚shadowPathï¼š æ›´æ”¹å›¾å±‚é˜´å½±çš„å½¢çŠ¶ã€‚ å¯ä»¥åˆ›å»ºä¸åŒçš„3Dæ•ˆæœï¼Œä½¿å›¾å±‚çœ‹èµ·æ¥åƒæµ®åŠ¨åœ¨ä¸åŒçš„é˜´å½±å½¢çŠ¶å’Œä½ç½®ä¸Šã€‚shadowRadiusï¼š æ§åˆ¶é˜´å½±çš„æ¨¡ç³Š; å½“æ¨¡æ‹Ÿè§†å›¾æœå‘æˆ–è¿œç¦»æŠ•å°„é˜´å½±çš„è¡¨é¢ç§»åŠ¨æ—¶ï¼Œè¿™å°¤å…¶æœ‰ç”¨ã€‚ å†…å®¹contents ï¼šä¿®æ”¹æ­¤é¡¹ä»¥å°†åŸå§‹TIFFæˆ–PNGæ•°æ®æŒ‡å®šä¸ºå›¾å±‚å†…å®¹ã€‚ mask ï¼šä¿®æ”¹å®ƒå°†ç”¨äºæ©ç›–å›¾å±‚å¯è§å†…å®¹çš„å½¢çŠ¶æˆ–å›¾åƒã€‚ è¿™ä¸ªå±æ€§åœ¨13-å½¢çŠ¶å’Œè’™ç‰ˆå°†è¯¦ç»†ä»‹ç»å’Œä½¿ç”¨ã€‚ opacity ç¬¬ä¸€ä¸ªå›¾å±‚åŠ¨ç”»å¼€å§‹é¡¹ç›®ä½¿ç”¨ 3-è¿‡æ¸¡åŠ¨ç”»å®Œæˆçš„é¡¹ç›®ã€‚ æŠŠåŸæœ¬headçš„è§†å›¾åŠ¨ç”»æ›¿æ¢ä¸ºå›¾å±‚åŠ¨ç”»ã€‚ åˆ†åˆ«åˆ é™¤ViewControllerçš„viewWillAppear()ä¸­ï¼š 1heading.center.x -= view.bounds.width å’ŒviewDidAppear()ä¸­: 123UIView.animate(withDuration: 0.5) &#123; self.heading.center.x += self.view.bounds.width&#125; åœ¨viewWillAppear()çš„å¼€å§‹ï¼ˆsuperè°ƒç”¨åï¼‰æ·»åŠ ï¼š 1234let flyRight = CABasicAnimation(keyPath: "position.x")flyRight.fromValue = -view.bounds.size.width/2flyRight.toValue = view.bounds.size.width/2flyRight.duration = 0.5 æ ¸å¿ƒåŠ¨ç”»ä¸­çš„åŠ¨ç”»å¯¹è±¡åªæ˜¯ç®€å•çš„æ•°æ®æ¨¡å‹; ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†CABasicAnimationçš„å®ä¾‹ï¼Œå¹¶è®¾ç½®äº†ä¸€äº›æ•°æ®å±æ€§ã€‚è¿™ä¸ªå®ä¾‹æè¿°äº†ä¸€ä¸ªæ½œåœ¨çš„å›¾å±‚åŠ¨ç”»ï¼šå¯ä»¥é€‰æ‹©ç«‹å³è¿è¡Œï¼Œç¨åè¿è¡Œï¼Œæˆ–è€…æ ¹æœ¬ä¸è¿è¡Œã€‚ ç”±äºåŠ¨ç”»æœªç»‘å®šåˆ°ç‰¹å®šå›¾å±‚ï¼Œå› æ­¤å¯ä»¥åœ¨å…¶ä»–å›¾å±‚ä¸Šé‡å¤ä½¿ç”¨åŠ¨ç”»ï¼Œæ¯ä¸ªå›¾å±‚å°†ç‹¬ç«‹è¿è¡ŒåŠ¨ç”»çš„å‰¯æœ¬ã€‚ åœ¨åŠ¨ç”»æ¨¡å‹ä¸­ï¼Œæ‚¨å¯ä»¥å°†è¦è®¾ç½®ä¸ºåŠ¨ç”»çš„å±æ€§æŒ‡å®šä¸ºkeypathå‚æ•°(æ¯”å¦‚ä¸Šé¢è®¾ç½®æ˜¯&quot;position.x&quot;); è¿™å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºåŠ¨ç”»æ€»æ˜¯åœ¨å›¾å±‚ä¸­è®¾ç½®ã€‚ æ¥ä¸‹æ¥ï¼Œä¸ºåœ¨keypathä¸ŠæŒ‡å®šçš„å±æ€§è®¾ç½®fromValueå’ŒtoValueã€‚éœ€è¦åŠ¨ç”»å¯¹è±¡ï¼ˆæ­¤å¤„æˆ‘è¦å¤„ç†çš„æ˜¯headingï¼‰ä»å±å¹•å·¦ä¾§åˆ°å±å¹•ä¸­å¤®ã€‚åŠ¨ç”»æŒç»­æ—¶é—´çš„æ¦‚å¿µæ²¡æœ‰æ”¹å˜; durationè®¾ç½®ä¸º0.5ç§’ã€‚ åŠ¨å›¾å·²ç»è®¾ç½®å®Œæˆï¼Œç°åœ¨éœ€è¦æŠŠå®ƒæ·»åŠ éœ€è¦è¿è¡Œæ­¤åŠ¨ç”»çš„å›¾å±‚ä¸Šã€‚ åœ¨åˆšæ·»åŠ çš„ä»£ç ä¸‹æ–¹æ·»åŠ ï¼Œå°†åŠ¨ç”»æ·»åŠ åˆ°headingçš„å›¾å±‚ï¼š 1heading.layer.add(flyRight, forKey: nil) add(_:forKey:)ä¼šæŠŠåŠ¨ç”»åšä¸ªä¸€ä¸ªæ‹·è´ç»™å°†è¦æ·»åŠ çš„å›¾å±‚ã€‚ å¦‚æœä¹‹åéœ€è¦æ›´æ”¹æˆ–åœæ­¢åŠ¨ç”»ï¼Œå¯ä»¥æ·»åŠ forKeyå‚æ•°ç”¨äºè¯†åˆ«åŠ¨ç”»ã€‚ æ­¤æ—¶çš„åŠ¨ç”»çœ‹ä¸Šå»å’Œä¹‹å‰è§†å›¾åŠ¨ç”»æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ æ›´å¤šå›¾å±‚åŠ¨ç”»çŸ¥è¯†åŒä¸€æ ·çš„æ–¹æ³•åº”ç”¨åœ¨Username Filedä¸Šï¼Œåˆ é™¤viewWillAppear()å’ŒviewDidAppear()ä¸­å¯¹åº”ä»£ç ã€‚å†æŠŠä¹‹å‰çš„åŠ¨ç”»æ·»åŠ çš„Username Filedçš„layerä¸Šï¼š 1username.layer.add(flyRight, forKey: nil) æ­¤æ—¶è¿è¡Œé¡¹ç›®ï¼Œçœ‹ä¸Šå»ä¼šæœ‰ç‚¹åˆ«æ‰­ï¼Œå› ä¸ºheading Labelï¼ŒUsername Filedçš„åŠ¨ç”»æ˜¯ç›¸åŒçš„ï¼ŒUsername Filedæ²¡æœ‰ä¹‹å‰çš„å»¶è¿Ÿæ•ˆæœã€‚ åœ¨æ·»åŠ åŠ¨ç”»åˆ°Username Filedçš„layerä¸Šä¹‹å‰ï¼Œæ·»åŠ ï¼š 1flyRight.beginTime = CACurrentMediaTime() + 0.3 åŠ¨ç”»çš„beginTimeå±æ€§è®¾ç½®åŠ¨ç”»åº”è¯¥å¼€å§‹çš„ç»å¯¹æ—¶é—´; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨CACurrentMediaTime()è·å–å½“å‰æ—¶é—´(ç³»ç»Ÿçš„ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œæœºå™¨å¼€å¯æ—¶é—´ï¼Œå–è‡ªæœºå™¨æ—¶é—´ mach_absolute_time())ï¼Œå¹¶ä»¥ç§’ä¸ºå•ä½æ·»åŠ æ‰€éœ€çš„å»¶è¿Ÿã€‚ æ­¤æ—¶ï¼Œå¦‚æœä»”ç»†è§‚å¯Ÿä¼šå‘ç°æœ‰ä¸ªé—®é¢˜ï¼ŒUsername Filedåœ¨å¼€å§‹åŠ¨ç”»ä¹‹å‰å·²ç»å‡ºç°äº†ï¼Œè¿™å°±æ¶‰åŠåˆ°å¦å¤–ä¸€ä¸ªå›¾å±‚åŠ¨ç”»å±æ€§ fillMode äº†ã€‚ å…³äº fillModeä»¥Username Fieldçš„ç§»åŠ¨åŠ¨ç”»æ¥çœ‹çœ‹fillModeä¸åŒå€¼çš„åŒºåˆ«ï¼Œä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œæˆ‘æŠŠbeginTimeæ—¶é—´å˜å¤§ï¼Œä»£ç ç±»ä¼¼äºï¼š 123456789let flyRight = CABasicAnimation(keyPath: "position.x")flyRight.fromValue = -view.bounds.size.width/2flyRight.toValue = view.bounds.size.width/2flyRight.duration = 0.5heading.layer.add(flyRight, forKey: nil)flyRight.beginTime = CACurrentMediaTime() + 2.3flyRight.fillMode = kCAFillModeRemovedusername.layer.add(flyRight, forKey: nil) kCAFillModeRemoved æ˜¯fillModeçš„é»˜è®¤å€¼ åœ¨å®šä¹‰çš„beginTimeå¤„å¯åŠ¨åŠ¨ç”»(å¦‚æœæœªè®¾ç½®beginTimeï¼Œä¹Ÿå°±æ˜¯beginTimeç­‰äºCACurrentMediaTime()ï¼Œåˆ™ç«‹å³å¯åŠ¨åŠ¨ç”»)ï¼Œ å¹¶åœ¨åŠ¨ç”»å®Œæˆæ—¶åˆ é™¤åŠ¨ç”»æœŸé—´æ‰€åšçš„æ›´æ”¹ï¼š å®é™…æ•ˆæœï¼š now åˆ° begin è¿™æ®µæ—¶é—´åŠ¨ç”»æ²¡æœ‰å¼€å§‹ï¼Œä½†Username Fieldç›´æ¥æ˜¾ç¤ºäº†ï¼Œç„¶ååˆ° beginæ—¶åŠ¨ç”»æ‰å¼€å§‹ï¼Œè¿™å°±æ˜¯ä¹‹å‰é‡åˆ°çš„æƒ…å†µã€‚ kCAFillModeBackwards æ— è®ºåŠ¨ç”»çš„å®é™…å¼€å§‹æ—¶é—´å¦‚ä½•ï¼ŒkCAFillModeBackwardséƒ½ä¼šç«‹å³åœ¨å±å¹•ä¸Šæ˜¾ç¤ºåŠ¨ç”»çš„ç¬¬ä¸€å¸§ï¼Œå¹¶åœ¨ä»¥åå¯åŠ¨åŠ¨ç”»: å®é™…æ•ˆæœï¼š ç¬¬ä¸€å¸§åœ¨fromValueå¤„ï¼Œä¹Ÿå°±æ˜¯&quot;position.x&quot;æ˜¯è´Ÿçš„åœ¨å±å¹•å¤–ï¼Œå› æ­¤å¼€å§‹æ—¶æ²¡æœ‰çœ‹è§Username Fieldï¼Œç­‰å¾…2.3sååŠ¨ç”»å¼€å§‹ã€‚ kCAFillModeForwards kCAFillModeForwardsåƒå¾€å¸¸ä¸€æ ·æ’­æ”¾åŠ¨ç”»ï¼Œä½†åœ¨å±å¹•ä¸Šä¿ç•™åŠ¨ç”»çš„æœ€åä¸€å¸§ï¼Œç›´åˆ°æ‚¨åˆ é™¤åŠ¨ç”»ï¼š å®é™…æ•ˆæœï¼š é™¤äº†è®¾ç½®kCAFillModeForwardsä¹‹å¤–ï¼Œè¿˜éœ€è¦å¯¹å›¾å±‚è¿›è¡Œä¸€äº›å…¶ä»–æ›´æ”¹ä»¥ä½¿æœ€åä¸€å¸§â€œç²˜è´´â€ã€‚ ä½ å°†åœ¨æœ¬ç« åé¢ç¨åäº†è§£è¿™ä¸€ç‚¹ã€‚ å’Œç¬¬ä¸€ä¸ªæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚ kCAFillModeBoth kCAFillModeBothæ˜¯kCAFillModeForwardså’ŒkCAFillModeBackwardsçš„ç»„åˆ; è¿™ä¼šä½¿åŠ¨ç”»çš„ç¬¬ä¸€å¸§ç«‹å³å‡ºç°åœ¨å±å¹•ä¸Šï¼Œå¹¶åœ¨åŠ¨ç”»ç»“æŸæ—¶åœ¨å±å¹•ä¸Šä¿ç•™æœ€ç»ˆå¸§ï¼š å®é™…æ•ˆæœï¼š è¦è§£å†³ä¹‹å‰å‘ç°çš„é—®é¢˜ï¼Œå°†ä½¿ç”¨kCAFillModeBothã€‚ åŒæ ·å¯¹äºPassword Fieldï¼Œä¹Ÿåˆ é™¤å…¶è§†å›¾åŠ¨ç”»çš„ä»£ç ï¼Œæ”¹æ¢æˆç±»ä¼¼Username Fieldçš„å›¾å±‚åŠ¨ç”»ï¼Œä¸è¿‡beginTimeè¦æ™šä¸€ç‚¹ï¼Œå…·ä½“ä»£ç ï¼š 123456flyRight.beginTime = CACurrentMediaTime() + 0.3flyRight.fillMode = kCAFillModeBothusername.layer.add(flyRight, forKey: nil)flyRight.beginTime = CACurrentMediaTime() + 0.4password.layer.add(flyRight, forKey: nil) åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨çš„åŠ¨ç”»æ°å¥½åœ¨è¡¨å•å…ƒç´ æœ€åˆä½äºInterface Builderä¸­çš„ç¡®åˆ‡ä½ç½®ç»“æŸã€‚ ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æƒ…å†µå¹¶éå¦‚æ­¤ã€‚ è°ƒè¯•åŠ¨ç”»åœ¨ä¸Šé¢çš„åŠ¨ç”»åç»§ç»­æ·»åŠ ï¼š 12username.layer.position.x -= view.bounds.widthpassword.layer.position.x -= view.bounds.width è¿™å°±æ˜¯æŠŠä¸¤ä¸ªæ–‡æœ¬æ¡†çš„å›¾å±‚ç§»åŠ¨åˆ°å±å¹•å¤–ï¼Œç±»ä¼¼äºflyRight.fromValue = -view.bounds.size.width/2ï¼ˆæ­¤æ—¶è¿™æ®µä»£ç å¯ä»¥æš‚æ—¶æ³¨é‡Šæ‰ï¼‰ï¼Œè¿è¡Œåå‘ç°é—®é¢˜ï¼ŒåŠ¨ç”»ç»“æŸåä¸¤ä¸ªæ–‡æœ¬æ¡†æ¶ˆå¤±äº†ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ ç»§ç»­åœ¨ä¸Šé¢çš„ä»£ç åæ·»åŠ ä¸€ä¸ªå»¶è¿Ÿå‡½æ•°ï¼š 123delay(seconds: 5.0) print("where are the fields?")&#125; å¹¶æ‰“æ–­ç‚¹åè¿è¡Œï¼š è¿›å…¥UI hierarchy çª—å£ï¼š UI hierarchy æ¨¡å¼ä¸‹å¯ä»¥æŸ¥çœ‹å½“å‰è¿è¡Œæ—¶çš„UIå±‚æ¬¡ç»“æ„ï¼ŒåŒ…æ‹¬å·²ç»éšè—æˆ–é€æ˜è§†å›¾ä»¥åŠåœ¨å±å¹•å¤–çš„è§†å›¾ã€‚è¿˜å¯ä»¥3DæŸ¥çœ‹ã€‚ å½“ç„¶è¿˜å¯ä»¥åœ¨å³ä¾§æ£€æµ‹å™¨ä¸­æŸ¥çœ‹å®æ—¶å±æ€§ï¼š åŠ¨ç”»å®Œæˆåï¼Œä»£ç æ›´æ”¹ä¼šå¯¼è‡´å­—æ®µè·³å›å…¶åˆå§‹ä½ç½®ã€‚ ä½†ä¸ºä»€ä¹ˆï¼Ÿ åŠ¨ç”» vs çœŸå®å†…å®¹å½“ä½ ä¸ºText Fieldè®¾ç½®åŠ¨ç”»æ—¶ï¼Œä½ å®é™…ä¸Šå¹¶æ²¡æœ‰çœ‹åˆ°Text Fieldæœ¬èº«æ˜¯åŠ¨ç”»çš„; ç›¸åï¼Œä½ ä¼šçœ‹åˆ°å®ƒçš„ç¼“å­˜ç‰ˆæœ¬ï¼Œç§°ä¸ºpresentation layerï¼ˆæ˜¾ç¤ºå±‚ï¼‰ã€‚åŠ¨ç”»å®ŒæˆååŸå§‹å›¾å±‚å†æ¬¡åˆ°åŸæœ¬ä½ç½®ï¼Œåˆ™ä»å±å¹•ä¸Šç§»é™¤presentation layerã€‚é¦–å…ˆï¼Œè¯·è®°ä½åœ¨viewWillAppear(_:)ä¸­å°†Text Fieldè®¾ç½®åœ¨å±å¹•å¤–ï¼š åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒText Fieldæš‚æ—¶éšè—ï¼Œé¢„æ¸²æŸ“çš„åŠ¨ç”»å¯¹è±¡å°†æ›¿ä»£å®ƒï¼š ç°åœ¨æ— æ³•ç‚¹å‡»åŠ¨ç”»å¯¹è±¡ï¼Œè¾“å…¥ä»»ä½•æ–‡æœ¬æˆ–ä½¿ç”¨ä»»ä½•å…¶ä»–ç‰¹å®šæ–‡æœ¬å­—æ®µåŠŸèƒ½ï¼Œå› ä¸ºå®ƒä¸æ˜¯çœŸæ­£çš„æ–‡æœ¬å­—æ®µï¼Œåªæ˜¯å¯è§çš„â€œå¹»åƒâ€ã€‚åŠ¨ç”»ä¸€æ—¦å®Œæˆï¼Œå®ƒå°±ä¼šä»å±å¹•ä¸Šæ¶ˆå¤±ï¼ŒåŸå§‹Text Fieldå°†è¢«å–æ¶ˆéšè—ã€‚ä½†å®ƒæ­¤æ—¶çš„ä½ç½®è¿˜åœ¨å±å¹•å·¦ä¾§ï¼ è¦è§£å†³è¿™ä¸ªéš¾é¢˜ï¼Œæ‚¨éœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªCABasicAnimationå±æ€§ï¼šisRemovedOnCompletionã€‚ å°†fillModeè®¾ç½®ä¸ºkCAFillModeBothå¯è®©åŠ¨ç”»åœ¨å®Œæˆåä¿ç•™åœ¨å±å¹•ä¸Šï¼Œå¹¶åœ¨åŠ¨ç”»å¼€å§‹ä¹‹å‰æ˜¾ç¤ºåŠ¨ç”»çš„ç¬¬ä¸€å¸§ã€‚è¦å®Œæˆæ•ˆæœï¼Œæ‚¨éœ€è¦ç›¸åº”åœ°è®¾ç½®removedOnCompletionï¼Œä¸¤è€…çš„ç»„åˆå°†ä½¿åŠ¨ç”»åœ¨å±å¹•ä¸Šå¯è§ã€‚åœ¨è®¾ç½®fillModeä¹‹åï¼Œå°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°viewWillAppear()ï¼š 1flyRight.isRemovedOnCompletion = false isRemovedOnCompletioné»˜è®¤ä¸ºtrueï¼Œå› æ­¤åŠ¨ç”»ä¸€å®Œæˆå°±ä¼šæ¶ˆå¤±ã€‚å°†å…¶è®¾ç½®ä¸ºfalseå¹¶å°†å…¶ä¸æ­£ç¡®çš„fillModeç»„åˆå¯å°†åŠ¨ç”»ä¿ç•™åœ¨å±å¹•ä¸Š ã€‚ ç°åœ¨è¿è¡Œé¡¹ç›®ï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ‰€æœ‰å…ƒç´ éƒ½æŒ‰é¢„æœŸä¿ç•™åœ¨å±å¹•ä¸Šã€‚ æ›´æ–°å›¾å±‚æ¨¡å‹ä»å±å¹•ä¸Šåˆ é™¤å›¾å±‚åŠ¨ç”»åï¼Œå›¾å±‚å°†å›é€€åˆ°å…¶å½“å‰ä½ç½®å’Œå…¶ä»–å±æ€§å€¼ã€‚ è¿™æ„å‘³ç€æ‚¨é€šå¸¸éœ€è¦æ›´æ–°å›¾å±‚çš„å±æ€§ä»¥åæ˜ åŠ¨ç”»çš„æœ€ç»ˆå€¼ã€‚ è™½ç„¶å‰é¢å·²ç»è¯´æ˜è¿‡æŠŠisRemovedOnCompletionè®¾ç½®æˆfalseæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½†å°½å¯èƒ½é¿å…ä½¿ç”¨å®ƒã€‚ åœ¨å±å¹•ä¸Šä¿ç•™åŠ¨ç”»ä¼šå½±å“æ€§èƒ½ï¼Œå› æ­¤éœ€è¦è‡ªåŠ¨åˆ é™¤å®ƒä»¬å¹¶æ›´æ–°åŸå§‹å›¾å±‚çš„ä½ç½®ã€‚ éœ€è¦æŠŠåŸå§‹å›¾å±‚è®¾ç½®åˆ°å±å¹•ä¸­é—´ï¼Œåœ¨viewWillAppearä¸­å¤©å‡ï¼š 12username.layer.position.x = view.bounds.size.width/2password.layer.position.x = view.bounds.size.width/2 å½“ç„¶æ­¤æ—¶è¦æ³¨æ„æŠŠä¹‹å‰æ³¨é‡Šæ‰çš„flyRight.fromValue = -view.bounds.size.width/2ï¼Œå»æ‰æ³¨é‡Šï¼Œä¹Ÿè¦æŠŠè°ƒè¯•åŠ¨ç”»æ—¶çš„ä»£ç å»æ‰ã€‚ ä½¿ç”¨å›¾å±‚åŠ¨ç”»å®ç°â˜ï¸çš„æ·¡å…¥åˆ é™¤viewWillAppear()ä¸­æŠŠå››ä¸ªâ˜ï¸é€æ˜åº¦è®¾ä¸º0.0çš„ä»£ç ï¼Œå’ŒviewDidAppear()çš„â˜ï¸çš„è§†å›¾åŠ¨ç”»ã€‚ ç„¶ååœ¨viewDidAppear()åŠ å…¥ï¼š 1234567891011121314151617let cloudFade = CABasicAnimation(keyPath: "alpha")cloudFade.duration = 0.5cloudFade.fromValue = 0.0cloudFade.toValue = 1.0cloudFade.fillMode = kCAFillModeBackwardscloudFade.beginTime = CACurrentMediaTime() + 0.5cloud1.layer.add(cloudFade, forKey: nil)cloudFade.beginTime = CACurrentMediaTime() + 0.7cloud2.layer.add(cloudFade, forKey: nil)cloudFade.beginTime = CACurrentMediaTime() + 0.9cloud3.layer.add(cloudFade, forKey: nil)cloudFade.beginTime = CACurrentMediaTime() + 1.1cloud4.layer.add(cloudFade, forKey: nil) ç™»å½•æŒ‰é’®èƒŒæ™¯é¢œè‰²å˜åŒ–çš„åŠ¨ç”»æŠŠåŸç™»å½•æŒ‰é’®èƒŒæ™¯é¢œè‰²å˜åŒ–çš„åŠ¨ç”»ä¿®æ”¹æˆå›¾å±‚åŠ¨ç”»ã€‚ åˆ é™¤logIn()ä¸­çš„ï¼š 1self.loginButton.backgroundColor = UIColor(red: 0.85, green: 0.83, blue: 0.45, alpha: 1.0) åˆ é™¤resetForm()ä¸­çš„ï¼š 1self.loginButton.backgroundColor = UIColor(red: 0.63, green: 0.84, blue: 0.35, alpha: 1.0) åœ¨ViewController.swiftæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€çš„èƒŒæ™¯é¢œè‰²å˜åŒ–åŠ¨ç”»å‡½æ•°ï¼š 12345678func tintBackgroundColor(layer: CALayer, toColor: UIColor) &#123; let tint = CABasicAnimation(keyPath: "backgroundColor") tint.fromValue = layer.backgroundColor tint.toValue = toColor.cgColor tint.duration = 0.5 layer.add(tint, forKey: nil) layer.backgroundColor = toColor.cgColor&#125; åœ¨logIn()ä¸­æ·»åŠ ï¼š 12let tintColor = UIColor(red: 0.85, green: 0.83, blue: 0.45, alpha: 1.0)tintBackgroundColor(layer: loginButton.layer, toColor: tintColor) åœ¨resetForm()ä¸­ç™»å½•æŒ‰é’®åŠ¨ç”»æ–¹æ³•çš„completioné—­åŒ…ä¸­æ·»åŠ ï¼š 1234completion: &#123; _ in let tintColor = UIColor(red: 0.63, green: 0.84, blue: 0.35, alpha: 1.0) tintBackgroundColor(layer: self.loginButton.layer, toColor: tintColor)&#125;) ç™»å½•æŒ‰é’®çš„åœ†è§’åŠ¨ç”»åœ¨ViewController.swiftæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€çš„åœ†è§’å˜åŒ–åŠ¨ç”»å‡½æ•°ï¼š 12345678func roundCorners(layer: CALayer, toRadius: CGFloat) &#123; let round = CABasicAnimation(keyPath: "cornerRadius") round.fromValue = layer.cornerRadius round.toValue = toRadius round.duration = 0.33 layer.add(round, forKey: nil) layer.cornerRadius = toRadius&#125; åœ¨logIn()ä¸­æ·»åŠ ï¼š 1roundCorners(layer: loginButton.layer, toRadius: 25.0) åœ¨resetForm()ä¸­ç™»å½•æŒ‰é’®åŠ¨ç”»æ–¹æ³•çš„completioné—­åŒ…ä¸­æ·»åŠ ï¼š 1roundCorners(layer: self.loginButton.layer, toRadius: 10.0) ä¸¤ç§çŠ¶æ€çš„å˜åŒ–ï¼š ä¸¤ä¸ªåŠ¨ç”»å‡½æ•°tintBackgroundColorå’ŒroundCornersæœ€åéƒ½éœ€è¦æŠŠåŠ¨ç”»æœ€å˜åŒ–æœ€ç»ˆå€¼èµ‹å€¼ç»™åŠ¨ç”»çš„å±æ€§ï¼Œè¿™å¯¹åº”äºå‰é¢çš„ åŠ¨ç”» vs çœŸå®å†…å®¹ ç« èŠ‚ æœ¬ç« èŠ‚çš„æœ€ç»ˆæ•ˆæœï¼š 9-åŠ¨ç”»çš„Keyså’Œä»£ç†å…³äºè§†å›¾åŠ¨ç”»å’Œç›¸åº”çš„é—­åŒ…è¯­æ³•çš„ä¸€ä¸ªæ£˜æ‰‹é—®é¢˜æ˜¯ï¼Œä¸€æ—¦æ‚¨åˆ›å»ºå¹¶è¿è¡Œè§†å›¾åŠ¨ç”»ï¼Œæ‚¨å°±æ— æ³•æš‚åœï¼Œåœæ­¢æˆ–ä»¥ä»»ä½•æ–¹å¼è®¿é—®å®ƒã€‚ ä½†æ˜¯ï¼Œä½¿ç”¨æ ¸å¿ƒåŠ¨ç”»ï¼Œæ‚¨å¯ä»¥è½»æ¾æ£€æŸ¥åœ¨å›¾å±‚ä¸Šè¿è¡Œçš„åŠ¨ç”»ï¼Œå¹¶åœ¨éœ€è¦æ—¶åœæ­¢å®ƒä»¬ã€‚ æ­¤å¤–ï¼Œæ‚¨ç”šè‡³å¯ä»¥åœ¨åŠ¨ç”»ä¸Šè®¾ç½®å§”æ‰˜å¯¹è±¡å¹¶å¯¹åŠ¨ç”»äº‹ä»¶åšå‡ºååº”ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« å®Œæˆçš„é¡¹ç›® åŠ¨ç”»ä»£ç†ä»‹ç» CAAnimationDelegateçš„ä¸¤ä¸ªä»£ç†æ–¹æ³•ï¼š 12func animationDidStart(_ anim: CAAnimation)func animationDidStop(_ anim: CAAnimation, finished flag: Bool) åšä¸ªå°æµ‹è¯•ï¼Œåœ¨flyRightåˆå§‹åŒ–æ—¶ï¼Œæ·»åŠ ï¼š 1flyRight.delegate = self å¯¹ViewControlleræ·»åŠ æ‰©å±•ï¼Œå¹¶å®ç°ä¸€ä¸ªä»£ç†æ–¹æ³•ï¼š 123456extension ViewController: CAAnimationDelegate &#123; func animationDidStop(_ anim: CAAnimation, finished flag: Bool) &#123; print(anim.description, "åŠ¨ç”»å®Œæˆ") &#125;&#125; è¿è¡Œï¼Œæ‰“å°ç»“æœï¼š 123&lt;CABasicAnimation: 0x6000032376e0&gt; åŠ¨ç”»å®Œæˆ&lt;CABasicAnimation: 0x600003237460&gt; åŠ¨ç”»å®Œæˆ&lt;CABasicAnimation: 0x600003237480&gt; åŠ¨ç”»å®Œæˆ ä¼šå‘ç°animationDidStop(_:finished:)æ–¹æ³•è¢«è°ƒç”¨ä¸‰æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡è°ƒç”¨çš„åŠ¨ç”»éƒ½ä¸åŒï¼Œè¿™å› ä¸ºå½“æ¯ä¸€æ¬¡è°ƒç”¨layer.add(_:forKey:)æŠŠåŠ¨ç”»æ·»åŠ ç»™å›¾å±‚æ—¶ï¼Œéƒ½ä¼šæ‹·è´ä¸€ä»½ï¼Œè¿™åœ¨å‰é¢çš„å›¾å±‚åŠ¨ç”»åŸºç¡€çŸ¥è¯†ä¸­è¯´æ˜è¿‡ã€‚ KVOCAAnimationç±»åŠå…¶å­ç±»æ˜¯ç”¨Objective-Cç¼–å†™çš„ï¼Œå¹¶ä¸”ç¬¦åˆé”®å€¼ç¼–ç (KVO)ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºå­—å…¸ï¼Œå¹¶åœ¨è¿è¡Œæ—¶å‘å®ƒä»¬æ·»åŠ æ–°å±æ€§ã€‚(å…³äºKVOï¼Œå¯æŸ¥çœ‹æˆ‘çš„å°ç»“æ–‡ç«  OCä¸­çš„é”®/å€¼ç¼–ç (KVC)) ä½¿ç”¨æ­¤æœºåˆ¶ä¸ºflyRightåŠ¨ç”»æŒ‡å®šåç§°ï¼Œä»¥ä¾¿ä¹‹åå¯ä»¥ä»å…¶ä»–æ´»åŠ¨åŠ¨ç”»ä¸­è¯†åˆ«å®ƒã€‚ åœ¨viewWillAppear()ä¸­çš„flyRight.delegate = selfåæ·»åŠ ï¼š 12flyRight.setValue("form", forKey: "name")flyRight.setValue(heading.layer, forKey: "layer") åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨flyRightåŠ¨ç”»ä¸Šåˆ›å»ºé”®ä¸º&quot;name&quot;ï¼Œå€¼ä¸º&quot;form&quot;çš„é”®å€¼å¯¹ï¼Œå¯ä»¥ä»å§”æ‰˜å›è°ƒæ–¹æ³•è°ƒç”¨è¯†åˆ«ï¼› ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªé”®ä¸º&quot;layer&quot;ï¼Œå€¼ä¸ºheading.layerçš„é”®å€¼å¯¹ï¼Œä»¥æ–¹ä¾¿ä¹‹åå¼•ç”¨åŠ¨ç”»æ‰€å±çš„å›¾å±‚ã€‚ åŒæ ·çš„å¯ä»¥æ·»åŠ (ä¹‹å‰å·²ç»è¯´è¿‡æ¯æ¬¡åŠ¨ç”»éƒ½ä¼šæ‹·è´ä¸€ä»½ï¼Œæ‰€ä»¥ä¸ä¼šè¦†ç›–)ï¼š 12345flyRight.setValue(username.layer, forKey: "layer")// ...flyRight.setValue(password.layer, forKey: "layer") åœ¨ä»£ç†å›è°ƒæ–¹æ³•ä¸­éªŒè¯ä¸Šé¢çš„ä»£ç ï¼Œä¸Šé¢çš„ç§»åŠ¨åŠ¨ç”»ç»“æŸåå†æ·»åŠ ä¸€ä¸ªç®€å•çš„è„‰åŠ¨åŠ¨ç”»ï¼š 123456789101112131415161718func animationDidStop(_ anim: CAAnimation, finished flag: Bool) &#123; // print(anim.description, "åŠ¨ç”»å®Œæˆ") guard let name = anim.value(forKey: "name") as? String else &#123; return &#125; if name == "form" &#123; // `value(forKey:)`çš„ç»“æœæ€»æ˜¯`Any`ï¼Œå› æ­¤éœ€è¦è½¬æ¢ä¸ºæ‰€éœ€ç±»å‹ let layer = anim.value(forKey: "layer") as? CALayer anim.setValue(nil, forKey: "layer") // ç®€å•çš„è„‰åŠ¨åŠ¨ç”» let pulse = CABasicAnimation(keyPath: "transform.scale") pulse.fromValue = 1.25 pulse.toValue = 1.0 pulse.duration = 0.25 layer?.add(pulse, forKey: nil) &#125;&#125; æ³¨æ„: layer?.add()æ„å‘³ç€å¦‚æœåŠ¨ç”»ä¸­æ²¡æœ‰å­˜å‚¨å›¾å±‚ï¼Œåˆ™ä¼šè·³è¿‡add(_:forKey:)çš„è°ƒç”¨ã€‚ è¿™æ˜¯Swiftä¸­çš„å¯é€‰é“¾å¼è°ƒç”¨ï¼Œå¯å‚è€ƒä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-17ï¼šå¯é€‰é“¾å¼è°ƒç”¨(Optional Chaining) ç§»åŠ¨åŠ¨ç”»ç»“æŸåæœ‰ä¸€ä¸ªç®€å•å˜å¤§çš„è„‰åŠ¨åŠ¨ç”»æ•ˆæœï¼š åŠ¨ç”»Keysadd(_:forKey:)ä¸­çš„å‚æ•°forKey(æ³¨æ„ä¸è¦å’ŒsetValue(_:forKey:)ä¸­çš„forKeyæ··æ·†)ï¼Œä¹‹å‰ä¸€ç›´æ²¡ä½¿ç”¨ã€‚ åœ¨è¿™éƒ¨åˆ†ä¸­ï¼Œå°†åˆ›å»ºå¦ä¸€ä¸ªå›¾å±‚åŠ¨ç”»ï¼Œå­¦ä¹ å¦‚ä½•ä¸€æ¬¡è¿è¡Œå¤šä¸ªåŠ¨ç”»ï¼Œå¹¶äº†è§£å¦‚ä½•ä½¿ç”¨åŠ¨ç”»Keysæ§åˆ¶æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ã€‚ æ·»åŠ ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œæ–°æ ‡ç­¾å°†ä»å³åˆ°å·¦ç¼“æ…¢åŠ¨ç”»ï¼Œç”¨æ¥æç¤ºç”¨æˆ·è¾“å…¥ã€‚ ä¸€æ—¦ç”¨æˆ·å¼€å§‹è¾“å…¥ä»–ä»¬çš„ç”¨æˆ·åæˆ–å¯†ç ï¼ˆText Fieldè·å¾—ç„¦ç‚¹ï¼‰ï¼Œè¯¥æ ‡ç­¾å°†åœæ­¢ç§»åŠ¨å¹¶ç›´æ¥è·³åˆ°å…¶æœ€ç»ˆä½ç½®ï¼ˆå±…ä¸­ä½ç½®ï¼‰ã€‚ ä¸€æ—¦ç”¨æˆ·çŸ¥é“è¯¥æ€ä¹ˆåšå°±æ²¡æœ‰å¿…è¦ç»§ç»­åŠ¨ç”»ã€‚ åœ¨ViewControllerä¸­æ·»åŠ å±æ€§ let info = UILabel()ï¼Œå¹¶åœ¨viewDidLoad()ä¸­é…ç½®ï¼š 1234567info.frame = CGRect(x: 0.0, y: loginButton.center.y + 60.0, width: view.frame.size.width, height: 30)info.backgroundColor = UIColor.clearinfo.font = UIFont(name: "HelveticaNeue", size: 12.0)info.textAlignment = .centerinfo.textColor = UIColor.whiteinfo.text = "Tap on a field and enter username and password"view.insertSubview(info, belowSubview: loginButton) ä¸ºinfoæ·»åŠ ä¸¤ä¸ªåŠ¨ç”»: 123456789101112// æç¤ºä¿¡æ¯Labelçš„ä¸¤ä¸ªåŠ¨ç”»let flyLeft = CABasicAnimation(keyPath: "position.x")flyLeft.fromValue = info.layer.position.x + view.frame.size.widthflyLeft.toValue = info.layer.position.xflyLeft.duration = 5.0info.layer.add(flyLeft, forKey: "infoappear")let fadeLabelIn = CABasicAnimation(keyPath: "opacity")fadeLabelIn.fromValue = 0.2fadeLabelIn.toValue = 1.0fadeLabelIn.duration = 4.5info.layer.add(fadeLabelIn, forKey: "fadein") flyLeftæ˜¯ä»å·¦åˆ°å³ç§»åŠ¨çš„åŠ¨ç”»ï¼ŒfadeLabelInæ˜¯é€æ˜åº¦æ¸æ¸å˜å¤§çš„åŠ¨ç”»ã€‚ æ­¤æ—¶çš„åŠ¨ç”»æ•ˆæœå¦‚ä¸‹ï¼š ä¸ºText Fieldæ·»åŠ ä»£ç†ã€‚é€šè¿‡æ‰©å±•ï¼Œè®©ViewControlleréµå¾ªUITextFieldDelegateåè®®ï¼š 12345678extension ViewController: UITextFieldDelegate &#123; func textFieldDidBeginEditing(_ textField: UITextField) &#123; guard let runningAnimations = info.layer.animationKeys() else &#123; return &#125; print(runningAnimations) &#125;&#125; åœ¨viewDidAppear()ä¸­æ·»åŠ ï¼š 12username.delegate = selfpassword.delegate = self æ­¤æ—¶è¿è¡Œï¼ŒinfoåŠ¨ç”»è¿˜åœ¨è¿›è¡Œæ—¶ç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œä¼šæ‰“å°åŠ¨ç”»keyå€¼ï¼š 1[&quot;infoappear&quot;, &quot;fadein&quot;] åœ¨ textFieldDidBeginEditing(:)é‡Œæ·»åŠ : 1info.layer.removeAnimation(forKey: "infoappear") ç‚¹å‡»æ–‡æœ¬æ¡†åï¼Œåˆ é™¤ä»å·¦å‘å³ç§»åŠ¨çš„åŠ¨ç”»ï¼Œinfoç«‹å³åˆ°è¾¾ç»ˆç‚¹ï¼Œä¹Ÿå°±æ˜¯å±å¹•ä¸­å¤®ï¼š å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡removeAllAnimations()æ–¹æ³•åˆ é™¤layerä¸Šçš„æ‰€æœ‰åŠ¨ç”»ã€‚ æ³¨æ„ï¼šåŠ¨ç”»è¿›è¡Œå®Œäº†ï¼Œä¼šé»˜è®¤è¢«ä»layerä¸Šåˆ é™¤ï¼Œä¹Ÿå°±æ˜¯animationKeys()æ–¹æ³•å°†è·å¾—ä¸åˆ°åŠ¨ç”»keysäº†ã€‚ ä¿®æ”¹â˜ï¸çš„åŠ¨ç”»é€šè¿‡æœ¬ç« æ‰€å­¦çš„åŠ¨ç”»ä»£ç†å’ŒåŠ¨ç”»KVOä¿®æ”¹â˜ï¸çš„åŠ¨ç”» å…ˆåœ¨ViewControllerä¸­æ·»åŠ åŠ¨ç”»æ–¹æ³•ï¼š 12345678910111213/// äº‘çš„å›¾å±‚åŠ¨ç”»func animateCloud(layer: CALayer) &#123; let cloudSpeed = 60.0 / Double(view.layer.frame.size.width) let duration: TimeInterval = Double(view.layer.frame.size.width - layer.frame.origin.x) * cloudSpeed let cloudMove = CABasicAnimation(keyPath: "position.x") cloudMove.duration = duration cloudMove.toValue = self.view.bounds.width + layer.bounds.width/2 cloudMove.delegate = self cloudMove.setValue("cloud", forKey: "name") cloudMove.setValue(layer, forKey: "layer") layer.add(cloudMove, forKey: nil)&#125; æŠŠviewDidAppear()ä¸­çš„å››ä¸ªanimateCloudæ–¹æ³•è°ƒç”¨æ›¿ä»£ä¸ºï¼š 1234animateCloud(layer: cloud1.layer)animateCloud(layer: cloud2.layer)animateCloud(layer: cloud3.layer)animateCloud(layer: cloud4.layer) è®©â˜ï¸ä¸åœçš„ç§»åŠ¨ï¼Œåœ¨åŠ¨ç”»ä»£ç†æ–¹æ³•animationDidStopä¸­æ·»åŠ ï¼š 12345678910if name == "cloud" &#123; if let layer = anim.value(forKey: "layer") as? CALayer &#123; anim.setValue(nil, forKey: "layer") layer.position.x = -layer.bounds.width/2 delay(0.5) &#123; self.animateCloud(layer: layer) &#125; &#125;&#125; æœ¬ç« çš„æ•ˆæœï¼š 10-åŠ¨ç”»ç»„å’Œæ—¶é—´æ§åˆ¶åœ¨ä¸Šä¸€ç« ä¸­ï¼Œå­¦ä¹ äº†å¦‚ä½•å‘å•ä¸ªå›¾å±‚æ·»åŠ å¤šä¸ªç‹¬ç«‹åŠ¨ç”»ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¸Œæœ›æ‚¨çš„åŠ¨ç”»åŒæ­¥å·¥ä½œå¹¶ä¿æŒå½¼æ­¤ä¸€è‡´ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ è¿™å°±ç”¨åˆ°åŠ¨ç”»ç»„(animation groups)ã€‚ æœ¬ç« ä»‹ç»å¦‚ä½•ä½¿ç”¨CAAnimationGroupå¯¹åŠ¨ç”»è¿›è¡Œåˆ†ç»„ï¼Œå¯ä»¥å‘ç»„ä¸­æ·»åŠ å¤šä¸ªåŠ¨ç”»å¹¶åŒæ—¶è°ƒæ•´æŒç»­æ—¶é—´ï¼Œå§”æ‰˜å’ŒtimingFunctionç­‰å±æ€§ã€‚å¯¹åŠ¨ç”»è¿›è¡Œåˆ†ç»„ä¼šäº§ç”Ÿç®€åŒ–çš„ä»£ç ï¼Œå¹¶ç¡®ä¿æ‚¨çš„æ‰€æœ‰åŠ¨ç”»å°†ä½œä¸ºä¸€ä¸ªå®ä½“å•å…ƒåŒæ­¥ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« å®Œæˆçš„é¡¹ç›® CAAnimationGroupåˆ é™¤viewWillAppear()ä¸­çš„: 12loginButton.center.y += 30.0loginButton.alpha = 0.0 åˆ é™¤viewDidAppear()ä¸­ç™»å½•æŒ‰é’®çš„æ˜¾ç¤ºåŠ¨ç”»ï¼š 1234UIView.animate(withDuration: 0.5, delay: 0.5, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.0, options: [], animations: &#123; self.loginButton.center.y -= 30.0 self.loginButton.alpha = 1.0&#125;, completion: nil) åœ¨viewDidAppear()ä¸­ç»„åŠ¨ç”»æ·»åŠ ï¼š 1234let groupAnimation = CAAnimationGroup()groupAnimation.beginTime = CACurrentMediaTime() + 0.5groupAnimation.duration = 0.5groupAnimation.fillMode = kCAFillModeBackwards CAAnimationGroupç»§æ‰¿äºCAAnimationï¼Œä¹Ÿæœ‰beginTime, duration, fillMode, delegateç­‰å±æ€§ã€‚ ç»§ç»­ä¸‰ä¸ªåŠ¨ç”»ï¼Œå¹¶æŠŠå®ƒä»¬åŠ å…¥åˆ°ä¸Šé¢çš„ç»„åŠ¨ç”»ä¸­ï¼š 1234567891011121314let scaleDown = CABasicAnimation(keyPath: "transform.scale")scaleDown.fromValue = 3.5scaleDown.toValue = 1.0let rotate = CABasicAnimation(keyPath: "transform.rotation")rotate.fromValue = .pi / 4.0rotate.toValue = 0.0let fade = CABasicAnimation(keyPath: "opacity")fade.fromValue = 0.0fade.toValue = 1.0groupAnimation.animations = [scaleDown, rotate, fade]loginButton.layer.add(groupAnimation, forKey: nil) ç™»å½•æŒ‰é’®çš„æ•ˆæœä¸ºï¼š åŠ¨ç”»ç¼“åŠ¨å›¾å±‚åŠ¨ç”»ä¸­çš„åŠ¨ç”»ç¼“åŠ¨ä¸1-è§†å›¾åŠ¨ç”»å…¥é—¨ä¸­ä»‹ç»çš„è§†å›¾åŠ¨ç”»çš„åŠ¨ç”»é€‰é¡¹çš„ï¼Œåœ¨æ¦‚å¿µä¸Šæ˜¯ç›¸åŒçš„ï¼Œ åªæ˜¯è¯­æ³•æœ‰æ‰€ä¸åŒã€‚ å›¾å±‚åŠ¨ç”»ä¸­çš„åŠ¨ç”»ç¼“åŠ¨é€šè¿‡ç±»CAMediaTimingFunctionæ¥è¡¨ç¤º ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š 1groupAnimation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseIn) nameå‚æ•°æœ‰å¦‚ä¸‹å‡ ç§ï¼Œå’Œè§†å›¾åŠ¨ç”»ä¸­çš„å·®ä¸å¤šï¼š kCAMediaTimingFunctionLinear é€Ÿåº¦ä¸å˜åŒ– kCAMediaTimingFunctionEaseIn å¼€å§‹æ—¶æ…¢ï¼Œç»“æŸæ—¶å¿« kCAMediaTimingFunctionEaseOut å¼€å§‹æ—¶å¿«ï¼Œç»“æŸæ—¶æ…¢ kCAMediaTimingFunctionEaseInEaseOut å¼€å§‹ç»“æŸéƒ½æ…¢ï¼Œä¸­é—´å¿« å¯ä»¥è¯•ä¸€ä¸‹ä¸åŒçš„æ•ˆæœã€‚ å¦å¤–CAMediaTimingFunctionæœ‰ä¸ªåˆå§‹åŒ–æ–¹æ³•init(controlPoints c1x: Float, _ c1y: Float, _ c2x: Float, _ c2y: Float)ï¼Œå¯ä»¥è‡ªå®šä¹‰ç¼“åŠ¨æ¨¡å¼ï¼Œå…·ä½“å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ æ›´å¤šåŠ¨ç”»æ—¶é—´æ§åˆ¶çš„é€‰é¡¹é‡å¤åŠ¨ç”»repeatCount å¯è®¾ç½®é‡å¤åŠ¨ç”»æŒ‡å®šçš„æ¬¡æ•°ã€‚ä¸ºæç¤ºä¿¡æ¯Labelçš„åŠ¨ç”»æ·»åŠ é‡å¤æ¬¡æ•°ï¼Œåœ¨viewDidAppear()ä¸­ä¸ºflyLeftåŠ¨ç”»è®¾ç½®å±æ€§ï¼š 1flyLeft.repeatCount = 4 å¦å¤–ä¸€ä¸ªrepeatDurationå¯ç”¨æ¥è®¾ç½®æ€»é‡å¤æ—¶é—´ã€‚ å’Œè§†å›¾åŠ¨ç”»ä¸€æ ·ï¼Œä¹Ÿè¦è®¾ç½®autoreversesï¼Œè¦ä¸ç„¶ä¸è¿è´¯ï¼š 1flyLeft.autoreverses = true ç°åœ¨æ•ˆæœçœ‹ç€ä¸é”™äº†ï¼Œä½†æ˜¯è¿˜æœ‰ç‚¹é—®é¢˜ï¼Œå°±æ˜¯4æ¬¡é‡å¤ç»“æŸåï¼Œä¼šç›´æ¥è·³åˆ°å±å¹•ä¸­å¿ƒï¼Œå¦‚ä¸‹ï¼ˆç”±äºå¤ªé•¿ï¼Œgifå·²ç»çœç•¥äº†å‰å‡ æ¬¡æ»šåŠ¨ï¼‰ï¼š è¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæœ€åä¸€ä¸ªå¾ªç¯ä»¥æ ‡ç­¾ç¦»å¼€å±å¹•ç»“æŸã€‚è§£å†³åŠæ³•å°±æ˜¯åŠä¸ªåŠ¨ç”»å‘¨æœŸï¼š 1flyLeft.repeatCount = 2.5 æ”¹å˜åŠ¨ç”»çš„é€Ÿåº¦å¯ä»¥é€šè¿‡è®¾ç½®é€Ÿåº¦å±æ€§æ¥ç‹¬ç«‹äºæŒç»­æ—¶é—´æ¥æ§åˆ¶åŠ¨ç”»çš„é€Ÿåº¦ã€‚ 1flyLeft.speed = 2.0 æŠŠä¸‰ä¸ªformçš„åŠ¨ç”»ä¿®æ”¹ä¸ºåŠ¨ç”»ç»„ä¸‹é¢ä»£ç ï¼š 1234567891011121314151617181920let flyRight = CABasicAnimation(keyPath: "position.x")flyRight.fromValue = -view.bounds.size.width/2flyRight.toValue = view.bounds.size.width/2flyRight.duration = 0.5flyRight.fillMode = kCAFillModeBothflyRight.delegate = selfflyRight.setValue("form", forKey: "name")flyRight.setValue(heading.layer, forKey: "layer")heading.layer.add(flyRight, forKey: nil)flyRight.setValue(username.layer, forKey: "layer")flyRight.beginTime = CACurrentMediaTime() + 0.3username.layer.add(flyRight, forKey: nil)flyRight.setValue(password.layer, forKey: "layer")flyRight.beginTime = CACurrentMediaTime() + 0.4password.layer.add(flyRight, forKey: nil) ä¿®æ”¹ä¸ºï¼š 12345678910111213141516171819202122232425let formGroup = CAAnimationGroup()formGroup.duration = 0.5formGroup.fillMode = kCAFillModeBackwardslet flyRight = CABasicAnimation(keyPath: "position.x")flyRight.fromValue = -view.bounds.size.width/2flyRight.toValue = view.bounds.size.width/2let fadeFieldIn = CABasicAnimation(keyPath: "opacity")fadeFieldIn.fromValue = 0.25fadeFieldIn.toValue = 1.0formGroup.animations = [flyRight, fadeFieldIn]heading.layer.add(formGroup, forKey: nil)formGroup.delegate = selfformGroup.setValue("form", forKey: "name")formGroup.setValue(username.layer, forKey: "layer")formGroup.beginTime = CACurrentMediaTime() + 0.3username.layer.add(formGroup, forKey: nil)formGroup.setValue(password.layer, forKey: "layer")formGroup.beginTime = CACurrentMediaTime() + 0.4password.layer.add(formGroup, forKey: nil) æœ¬ç« èŠ‚çš„æœ€ç»ˆæ•ˆæœï¼š 11-å›¾å±‚å¼¹ç°§åŠ¨ç”»å‰é¢è§†å›¾åŠ¨ç”»ä¸­çš„2-å¼¹ç°§åŠ¨ç”»å¯ä»¥ç”¨äºåˆ›å»ºä¸€äº›ç›¸å¯¹ç®€å•çš„å¼¹ç°§å¼åŠ¨ç”»ï¼Œè€Œæœ¬ç« èŠ‚å­¦ä¹ çš„å›¾å±‚å¼¹ç°§åŠ¨ç”»(Layer Springs)å¯ä»¥å‘ˆç°ä¸€ä¸ªçœ‹èµ·æ¥æ›´è‡ªç„¶çš„ç‰©ç†æ¨¡æ‹Ÿã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« å®Œæˆçš„é¡¹ç›®ï¼Œæ·»åŠ ä¸€äº›æ–°çš„å›¾å±‚å¼¹ç°§åŠ¨ç”»ï¼Œå¹¶è¯´æ˜ä¸¤ç§å¼¹ç°§åŠ¨ç”»ä¹‹é—´çš„å·®å¼‚ã€‚ å…ˆè¯´ä¸€äº›ç†è®ºçŸ¥è¯†ï¼š é˜»å°¼è°æŒ¯å­é˜»å°¼è°æŒ¯å­ï¼ŒDamped harmonic oscillatorsï¼ˆç›´è¯‘å°±æ˜¯ï¼Œé€æ¸è¡°å¼±çš„æŒ¯è¡å™¨ï¼‰ï¼Œå¯ä»¥ç†è§£ä¸ºé€æ¸è¡°å‡çš„æŒ¯åŠ¨ã€‚ UIKit APIç®€åŒ–äº†å¼¹ç°§åŠ¨ç”»çš„åˆ¶ä½œï¼Œä¸éœ€è¦äº†è§£å®ƒä»¬çš„åŸç†å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ã€‚ ä½†æ˜¯ï¼Œç”±äºæ‚¨ç°åœ¨æ˜¯æ ¸å¿ƒåŠ¨ç”»ä¸“å®¶ï¼Œå› æ­¤æ‚¨éœ€è¦æ·±å…¥ç ”ç©¶ç»†èŠ‚ã€‚ é’Ÿæ‘†ï¼Œç†æƒ³çŠ¶å†µä¸‹é’Ÿæ‘†æ˜¯ä¸åœçš„æ‘†åŠ¨ï¼Œåƒä¸‹é¢çš„ä¸€æ ·ï¼š å¯¹åº”çš„è¿åŠ¨è½¨è¿¹å›¾å°±åƒï¼š ä½†ç°å®ä¸­ç”±äºèƒ½é‡çš„æŸè€—ï¼Œé’Ÿæ‘†çš„æ‘‡æ‘†çš„å¹…åº¦ä¼šé€æ¸å‡å°ï¼š å¯¹åº”çš„è¿åŠ¨è½¨è¿¹ï¼š è¿™å°±æ˜¯ä¸€ä¸ªé˜»å°¼è°æŒ¯å­ ã€‚ é’Ÿæ‘†åœä¸‹æ¥æ‰€éœ€çš„æ—¶é—´é•¿åº¦ï¼Œä»¥åŠæœ€ç»ˆæŒ¯è¡å™¨å›¾å½¢çš„æ–¹å¼å–å†³äºæŒ¯è¡ç³»ç»Ÿçš„ä»¥ä¸‹å‚æ•°ï¼š é˜»å°¼(damping)ï¼šç”±äºç©ºæ°”æ‘©æ“¦ã€æœºæ¢°æ‘©æ“¦å’Œå…¶ä»–ä½œç”¨åœ¨ç³»ç»Ÿä¸Šçš„å¤–éƒ¨å‡é€ŸåŠ›ã€‚ è´¨é‡(mass)ï¼šæ‘†é”¤è¶Šé‡ï¼Œæ‘†åŠ¨çš„æ—¶é—´è¶Šé•¿ã€‚ åˆšåº¦(stiffness)ï¼šæŒ¯è¡å™¨çš„â€œå¼¹ç°§â€è¶Šç¡¬ï¼ˆé’Ÿæ‘†çš„â€œå¼¹ç°§â€æ˜¯æŒ‡åœ°çƒçš„å¼•åŠ›ï¼‰ï¼Œé’Ÿæ‘†æ‘†åŠ¨è¶Šå›°éš¾ï¼Œç³»ç»Ÿåœä¸‹æ¥ä¹Ÿè¶Šå¿«ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœåœ¨æœˆçƒæˆ–æœ¨æ˜Ÿä¸Šä½¿ç”¨è¿™ä¸ªé’Ÿæ‘†ï¼›åœ¨ä½é‡åŠ›å’Œé«˜é‡åŠ›æƒ…å†µä¸‹çš„è¿åŠ¨å°†æ˜¯å®Œå…¨ä¸åŒçš„ã€‚ åˆå§‹é€Ÿåº¦(initial velocity)ï¼šæ¨ä¸€ä¸‹é’Ÿæ‘†ã€‚ â€œè¿™ä¸€åˆ‡éƒ½éå¸¸æœ‰è¶£ï¼Œä½†ä¸å¼¹ç°§åŠ¨ç”»æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿâ€ é˜»å°¼è°æŒ¯å­ç³»ç»Ÿæ˜¯æ¨åŠ¨iOSä¸­å¼¹ç°§åŠ¨ç”»çš„åŠ¨åŠ›ã€‚ ä¸‹ä¸€èŠ‚å°†æ›´è¯¦ç»†åœ°è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚ è§†å›¾å¼¹ç°§åŠ¨ç”» vs å›¾å±‚å¼¹ç°§åŠ¨ç”»UIKitä»¥åŠ¨æ€æ–¹å¼è°ƒæ•´æ‰€æœ‰å…¶ä»–å˜é‡ï¼Œä½¿ç³»ç»Ÿåœ¨ç»™å®šçš„æŒç»­æ—¶é—´å†…ç¨³å®šä¸‹æ¥ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆUIKitå¼¹ç°§åŠ¨ç”»æœ‰æ—¶æœ‰ç‚¹è¢«è¿« åœä¸‹æ¥çš„æ„Ÿè§‰ã€‚ å¦‚æœä»”ç»†è§‚å¯Ÿä¼šå‘ç°UIKitåŠ¨ç”»æœ‰ç‚¹ä¸å¤ªè‡ªç„¶ã€‚ å¹¸è¿çš„æ˜¯ï¼Œæ ¸å¿ƒå…è®¸é€šè¿‡CASpringAnimationç±»ä¸ºå›¾å±‚å±æ€§åˆ›å»ºåˆé€‚çš„å¼¹ç°§åŠ¨ç”»ã€‚ CASpringAnimationåœ¨å¹•åä¸ºUIKitåˆ›å»ºå¼¹ç°§åŠ¨ç”»ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç›´æ¥è°ƒç”¨å®ƒæ—¶ï¼Œå¯ä»¥è®¾ç½®ç³»ç»Ÿçš„å„ç§å˜é‡ï¼Œè®©åŠ¨ç”»è‡ªå·±ç¨³å®šä¸‹æ¥ã€‚ è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ä¸èƒ½è®¾ç½®å›ºå®šçš„æŒç»­æ—¶é—´ï¼ˆdurationï¼‰ï¼›æŒç»­æ—¶é—´å–å†³äºæä¾›çš„å…¶å®ƒå˜é‡ï¼Œç„¶åç³»ç»Ÿè®¡ç®—æ‰€å¾—ã€‚ CASpringAnimationçš„ä¸€äº›å±æ€§ï¼ˆå¯¹åº”ä¹‹å‰æŒ¯è¡ç³»ç»Ÿçš„å‚æ•°ï¼‰ï¼š damping é˜»å°¼ç³»æ•°ï¼Œé˜»æ­¢å¼¹ç°§ä¼¸ç¼©çš„ç³»æ•°ï¼Œé˜»å°¼ç³»æ•°è¶Šå¤§ï¼Œåœæ­¢è¶Šå¿« mass è´¨é‡ï¼Œå½±å“å›¾å±‚è¿åŠ¨æ—¶çš„å¼¹ç°§æƒ¯æ€§ï¼Œè´¨é‡è¶Šå¤§ï¼Œå¼¹ç°§æ‹‰ä¼¸å’Œå‹ç¼©çš„å¹…åº¦è¶Šå¤§ stiffness åˆšåº¦ç³»æ•°(åŠ²åº¦ç³»æ•°/å¼¹æ€§ç³»æ•°)ï¼Œåˆšåº¦ç³»æ•°è¶Šå¤§ï¼Œå½¢å˜äº§ç”Ÿçš„åŠ›å°±è¶Šå¤§ï¼Œè¿åŠ¨è¶Šå¿« initialVelocity åˆå§‹é€Ÿç‡ï¼ŒåŠ¨ç”»è§†å›¾çš„åˆå§‹é€Ÿåº¦å¤§å°ã€‚é€Ÿç‡ä¸ºæ­£æ•°æ—¶ï¼Œé€Ÿåº¦æ–¹å‘ä¸è¿åŠ¨æ–¹å‘ä¸€è‡´ï¼Œé€Ÿç‡ä¸ºè´Ÿæ•°æ—¶ï¼Œé€Ÿåº¦æ–¹å‘ä¸è¿åŠ¨æ–¹å‘ç›¸å ç¬¬ä¸€ä¸ªå›¾å±‚å¼¹ç°§åŠ¨ç”»BahamaAirLoginScreené¡¹ç›®ä¸­ä¸¤ä¸ªæ–‡æœ¬æ¡†ç§»åŠ¨åŠ¨ç”»ç»“æŸåæœ‰ä¸ªè„‰åŠ¨åŠ¨ç”»ï¼Œè®©ç”¨æˆ·çŸ¥é“è¯¥å­—æ®µå¤„äºæ´»åŠ¨çŠ¶æ€å¹¶å¯ä»¥ä½¿ç”¨ã€‚ ç„¶è€Œï¼ŒåŠ¨ç”»ç»“æŸæ—¶æœ‰äº›çªç„¶ã€‚ é€šè¿‡ç”¨CASpringAnimationæ¥è®©è„‰åŠ¨åŠ¨ç”»æ›´åŠ è‡ªç„¶ä¸€ç‚¹ã€‚ æŠŠanimationDidStop(_:finished:)åŠ¨ç”»ä»£ç ï¼š 123456// ç®€å•çš„è„‰åŠ¨åŠ¨ç”»let pulse = CABasicAnimation(keyPath: "transform.scale")pulse.fromValue = 1.25pulse.toValue = 1.0pulse.duration = 0.25layer?.add(pulse, forKey: nil) è½¬å˜ä¸ºï¼š 123456let pulse = CASpringAnimation(keyPath: "transform.scale")pulse.damping = 2.0pulse.fromValue = 1.25pulse.toValue = 1.0pulse.duration = pulse.settlingDurationlayer?.add(pulse, forKey: nil) æ•ˆæœå›¾å‰åå¯¹æ¯”ï¼š è¿™è¾¹è¦æ³¨æ„durationã€‚è¦ä½¿ç”¨ç³»ç»Ÿæ ¹æ®å½“å‰å‚æ•°ä¼°ç®—çš„å¼¹ç°§åŠ¨ç”»ä»å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´pulse.settlingDurationã€‚ å¼¹ç°§ç³»ç»Ÿä¸èƒ½åœ¨0.25ç§’å†…ç¨³å®šä¸‹æ¥; æä¾›çš„å˜é‡æ„å‘³ç€åŠ¨ç”»åº”è¯¥åœ¨å®ƒåœæ­¢å‰å†è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å…³äºå¦‚ä½•åˆ‡æ–­å¼¹ç°§åŠ¨ç”»çš„è§†è§‰æ¼”ç¤ºï¼š å¦‚æœæŠ–åŠ¨æ—¶é—´å¤ªé•¿ï¼Œå¯ä»¥åŠ å¤§é˜»å°¼ç³»æ•°dampingï¼Œæ¯”å¦‚ï¼špulse.damping = 7.5ã€‚ å¼¹ç°§åŠ¨ç”»å±æ€§CASpringAnimationé¢„å®šä¹‰çš„å¼¹ç°§åŠ¨ç”»å±æ€§çš„é»˜è®¤å€¼åˆ†åˆ«æ˜¯ï¼š 1234damping: 10.0mass: 1.0stiffness: 100.0initialVelocity: 0.0 å®ç°æ–‡æœ¬æ¡†çš„ä¸€ä¸ªä»£ç†æ–¹æ³•ï¼š 123456789101112func textFieldDidEndEditing(_ textField: UITextField) &#123; guard let text = textField.text else &#123; return &#125; if text.count &lt; 5 &#123; let jump = CASpringAnimation(keyPath: "position.y") jump.fromValue = textField.layer.position.y + 1.0 jump.toValue = textField.layer.position.y jump.duration = jump.settlingDuration textField.layer.add(jump, forKey: nil) &#125;&#125; ä¸Šé¢ä»£ç ï¼Œè¡¨ç¤ºå½“ç”¨æˆ·åœ¨æ–‡æœ¬ä¸­è¾“å…¥ç»“æŸåï¼Œå¦‚æœè¾“å…¥å­—ç¬¦æ•°å°äº5ï¼Œå‡ºç°ä¸€ä¸ªå°å¹…åº¦çš„æŠ–åŠ¨åŠ¨ç”»ï¼Œæé†’ç”¨æˆ·å¤ªçŸ­äº†ã€‚ initialVelocityèµ·å§‹é€Ÿåº¦ï¼Œé»˜è®¤å€¼0ã€‚ åœ¨è®¾ç½®æŒç»­æ—¶é—´å‰æ·»åŠ ï¼Œä¹Ÿå°±æ˜¯åœ¨jump.duration = jump.settlingDurationå‰æ·»åŠ ï¼š 1jump.initialVelocity = 100.0 æ•ˆæœï¼š ç”±äºå¼€å§‹æ—¶çš„é¢å¤–æ¨åŠ¨ï¼Œæ–‡æœ¬æ¡†å¼¹çš„æ›´é«˜äº†ã€‚ masså¢åŠ åˆå§‹é€Ÿåº¦ä¼šä½¿åŠ¨ç”»æŒç»­æ—¶é—´æ›´é•¿ï¼Œå¦‚æœå¢åŠ è´¨é‡ä¼šæ€ä¹ˆæ ·ï¼Ÿ åœ¨jump.initialVelocity = 100.0åæ·»åŠ ï¼š 1jump.mass = 10.0 æ•ˆæœï¼š é¢å¤–è´¨é‡ä½¿æ–‡æœ¬æ¡†çš„è·³è·ƒçš„è¦é«˜äº†ï¼Œå¹¶ä¸”ç¨³å®šä¸‹æ¥çš„æŒç»­æ—¶é—´æ›´ä¹…äº†ã€‚ stiffnessåˆšåº¦ï¼Œé»˜è®¤æ˜¯100ã€‚è¶Šå¤§å¼¹ç°§æ›´â€œç¡¬â€ã€‚ åœ¨jump.mass = 10.0åæ·»åŠ ï¼š 1jump.stiffness = 1500.0 æ•ˆæœ: ç°åœ¨è·³è·ƒçš„ä¸æ˜¯é‚£ä¹ˆé«˜äº†ã€‚ dampingåŠ¨ç”»çœ‹èµ·æ¥å¾ˆæ£’ï¼Œä½†ä¼¼ä¹ç¡®å®æœ‰ç‚¹å¤ªé•¿äº†ã€‚ å¢åŠ ç³»ç»Ÿé˜»å°¼ä»¥ä½¿åŠ¨ç”»æ›´å¿«åœ°ç¨³å®šä¸‹æ¥ã€‚ åœ¨jump.stiffness = 1500.0åæ·»åŠ ï¼š 1jump.damping = 50.0 æ•ˆæœï¼š ç‰¹æ®Šå›¾å±‚å±æ€§åœ¨æ–‡æœ¬æ¡†æŠ–åŠ¨æ—¶ï¼Œæ·»åŠ æœ‰é¢œè‰²çš„è¾¹æ¡†ã€‚ åœ¨textFieldDidEndEditing(_:)ä¸­çš„textField.layer.add(jump, forKey: nil)åæ·»åŠ ï¼š 12textField.layer.borderWidth = 3.0textField.layer.borderColor = UIColor.clear.cgColor æ­¤ä»£ç ç»™æ–‡æœ¬æ¡†å‘¨å›´æ·»åŠ äº†é€æ˜è¾¹æ¡†ã€‚åœ¨ä¸Šé¢ä»£ç åæ·»åŠ ï¼š 1234567let flash = CASpringAnimation(keyPath: "borderColor")flash.damping = 7.0flash.stiffness = 200.0flash.fromValue = UIColor(red: 1.0, green: 0.27, blue: 0.0, alpha: 1.0).cgColorflash.toValue = UIColor.white.cgColorflash.duration = flash.settlingDurationtextField.layer.add(flash, forKey: nil) è¿è¡Œï¼Œæ”¾æ…¢æ•ˆæœï¼š æ³¨æ„ï¼šåœ¨æŸäº›iOSç‰ˆæœ¬ä¸­ï¼Œå›¾å±‚åŠ¨ç”»ä¼šåˆ é™¤æ–‡æœ¬å­—æ®µçš„åœ†è§’ã€‚æ­¤æƒ…å†µå¯åœ¨æœ€åä¸€æ®µä»£ç ä¹‹åæ·»åŠ æ­¤è¡Œï¼štextField.layer.cornerRadius = 5. æŠŠç™»å½•æŒ‰é’®çš„åœ†è§’å’ŒèƒŒæ™¯è‰²å˜åŒ–åŠ¨ç”»è½¬åŒ–ä¸ºå¼¹æ€§åŠ¨ç”»è¿™ä¸ªæ”¹å˜å¾ˆæ–¹ä¾¿ï¼Œåªè¦ä¿®æ”¹ViewController.swiftä¸­ä¸¤ä¸ªå‡½æ•°ï¼š 12345678910111213141516171819202122232425262728293031323334353637// èƒŒæ™¯é¢œè‰²å˜åŒ–çš„å›¾å±‚åŠ¨ç”»func tintBackgroundColor(layer: CALayer, toColor: UIColor) &#123;// let tint = CABasicAnimation(keyPath: "backgroundColor")// tint.fromValue = layer.backgroundColor// tint.toValue = toColor.cgColor// tint.duration = 0.5// layer.add(tint, forKey: nil)// layer.backgroundColor = toColor.cgColor let tint = CASpringAnimation(keyPath: "backgroundColor") tint.damping = 5.0 tint.initialVelocity = -10.0 tint.fromValue = layer.backgroundColor tint.toValue = toColor.cgColor tint.duration = tint.settlingDuration layer.add(tint, forKey: nil) layer.backgroundColor = toColor.cgColor &#125;// åœ†è§’åŠ¨ç”»func roundCorners(layer: CALayer, toRadius: CGFloat) &#123;// let round = CABasicAnimation(keyPath: "cornerRadius")// round.fromValue = layer.cornerRadius// round.toValue = toRadius// round.duration = 0.33// layer.add(round, forKey: nil)// layer.cornerRadius = toRadius let round = CASpringAnimation(keyPath: "cornerRadius") round.damping = 5.0 round.fromValue = layer.cornerRadius round.toValue = toRadius round.duration = round.settlingDuration layer.add(round, forKey: nil) layer.cornerRadius = toRadius&#125; 12-å›¾å±‚å…³é”®å¸§åŠ¨ç”»å’Œç»“æ„å±æ€§å›¾å±‚ä¸Šçš„å…³é”®å¸§åŠ¨ç”»(Layer Keyframe Animationsï¼ŒCAKeyframeAnimation)ä¸UIViewä¸Šçš„å…³é”®å¸§åŠ¨ç”»ç•¥æœ‰ä¸åŒã€‚ è§†å›¾å…³é”®å¸§åŠ¨ç”»æ˜¯å°†ç‹¬ç«‹ç®€å•åŠ¨ç”»ç»„åˆåœ¨ä¸€èµ·,å¯ä»¥ä¸ºä¸åŒçš„è§†å›¾å’Œå±æ€§è®¾ç½®åŠ¨ç”»ï¼ŒåŠ¨ç”»ä¸¤è€…ä¹‹é—´å¯ä»¥é‡å æˆ–å­˜åœ¨é—´éš™ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCAKeyframeAnimationå…è®¸æˆ‘ä»¬ä¸ºç»™å®šå›¾å±‚ä¸Šçš„å•ä¸ªå±æ€§è®¾ç½®åŠ¨ç”»ã€‚å¯ä»¥å®šä¹‰åŠ¨ç”»çš„ä¸åŒå…³é”®ç‚¹ï¼Œä½†åŠ¨ç”»ä¸­ä¸èƒ½æœ‰ä»»ä½•é—´éš™æˆ–é‡å ã€‚ å°½ç®¡å¬èµ·æ¥æœ‰äº›é™åˆ¶ï¼Œä½†å¯ä»¥ä½¿ç”¨CAKeyframeAnimationåˆ›å»ºä¸€äº›éå¸¸å¼•äººæ³¨ç›®çš„æ•ˆæœã€‚ åœ¨æœ¬ç« ä¸­ï¼Œå°†åˆ›å»ºè®¸å¤šå›¾å±‚å…³é”®å¸§åŠ¨ç”»ï¼Œä»éå¸¸åŸºæœ¬æ¨¡æ‹ŸçœŸå®ä¸–ç•Œç¢°æ’åˆ°æ›´é«˜çº§çš„åŠ¨ç”»ã€‚ åœ¨15-Strokeå’Œè·¯å¾„åŠ¨ç”»ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•è¿›ä¸€æ­¥è·å–å›¾å±‚åŠ¨ç”»ï¼Œå¹¶æ²¿ç»™å®šè·¯å¾„ä¸ºå›¾å±‚è®¾ç½®åŠ¨ç”»ã€‚ ç°åœ¨ï¼Œæ‚¨å°†åœ¨è·‘æ­¥ä¹‹å‰èµ°è·¯ï¼Œå¹¶ä¸ºæ‚¨çš„ç¬¬ä¸€å±‚å…³é”®å¸§åŠ¨ç”»åˆ›å»ºä¸€ä¸ªæ—¶é«¦çš„æ‘‡æ‘†æ•ˆæœã€‚ ä»‹ç»å›¾å±‚å…³é”®å¸§åŠ¨ç”»æƒ³ä¸€æƒ³åŸºæœ¬åŠ¨ç”»æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿ ä½¿ç”¨fromValueå’ŒtoValueï¼Œæ ¸å¿ƒåŠ¨ç”»ä¼šåœ¨æŒ‡å®šçš„æŒç»­æ—¶é—´å†…é€æ­¥ä¿®æ”¹è¿™äº›å€¼ä¹‹é—´çš„ç‰¹å®šå›¾å±‚å±æ€§ã€‚ä¾‹å¦‚ï¼Œå½“åœ¨45Â°å’Œ-45Â°ï¼ˆæˆ–Ï€/ 4å’Œ-Ï€/ 4ï¼‰ä¹‹é—´æ—‹è½¬å›¾å±‚æ—¶ï¼Œåªéœ€è¦æŒ‡å®šè¿™ä¸¤ä¸ªå€¼ï¼Œç„¶åå›¾å±‚æ¸²æŸ“æ‰€æœ‰ä¸­é—´å€¼ä»¥å®ŒæˆåŠ¨ç”»ï¼š CAKeyframeAnimationä½¿ç”¨ä¸€ç»„å€¼æ¥å®ŒæˆåŠ¨ç”»ï¼Œè€Œä¸æ˜¯fromValueå’ŒtoValueã€‚ å¦å¤–ï¼Œè¿˜éœ€è¦æä¾›åŠ¨ç”»åº”è¾¾åˆ°æ¯ä¸ªå€¼çš„å…³é”®ç‚¹çš„æ—¶é—´ã€‚ åœ¨ä¸Šé¢çš„åŠ¨ç”»ä¸­ï¼Œå›¾å±‚ä»45Â°æ—‹è½¬åˆ°-45Â°ï¼Œä½†è¿™æ¬¡å®ƒæœ‰ä¸¤ä¸ªç‹¬ç«‹çš„é˜¶æ®µï¼š é¦–å…ˆï¼Œå®ƒåœ¨åŠ¨ç”»æŒç»­æ—¶é—´çš„å‰ä¸‰åˆ†ä¹‹äºŒå†…ä»45Â°æ—‹è½¬åˆ°22Â°ï¼Œç„¶åå®ƒåœ¨å‰©ä½™çš„æ—¶é—´å†…ä¸€ç›´æ—‹è½¬åˆ°-45Â°ã€‚å®è´¨ä¸Šï¼Œä½¿ç”¨å…³é”®å¸§è®¾ç½®åŠ¨ç”»ï¼Œè¦æ±‚æˆ‘ä»¬ä¸ºè®¾ç½®åŠ¨ç”»çš„å±æ€§æä¾›å…³é”®å€¼ï¼Œä»¥åŠåœ¨0.0å’Œ1.0ä¹‹é—´è¿›è¡Œç›¸åº”æ•°é‡çš„ç›¸å¯¹å…³é”®æ—¶é—´ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« å®Œæˆçš„é¡¹ç›® åˆ›å»ºå›¾å±‚å…³é”®å¸§åŠ¨ç”»åœ¨resetForm()ä¸­æ·»åŠ ï¼š 123456let wobble = CAKeyframeAnimation(keyPath: "transform.rotation")wobble.duration = 0.25wobble.repeatCount = 4wobble.values = [0.0, -.pi/4.0, 0.0, .pi/4.0, 0.0]wobble.keyTimes = [0.0, 0.25, 0.5, 0.75, 1.0]heading.layer.add(wobble, forKey: nil) keyTimesæ˜¯ä»0.0åˆ°1.0çš„ä¸€ç³»åˆ—å€¼ï¼Œå¹¶ä¸”ä¸valuesä¸€ä¸€å¯¹åº”ã€‚åœ¨ç™»å½•æŒ‰é’®æ¢å¤åŸçŠ¶åï¼Œheadingæœ‰ä¸€ä¸ªæ‘‡æ‘†çš„æ•ˆæœï¼š çœ¼ç›æ•é”çš„è¯»è€…å¯èƒ½å·²ç»æ³¨æ„åˆ°æˆ‘è¿˜æ²¡æœ‰ä»‹ç»è¿‡ç»“æ„å±æ€§çš„åŠ¨ç”»ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥æ”¾å¼ƒåŠ¨ç”»ç»“æ„çš„å•ä¸ªç»„ä»¶ï¼Œä¾‹å¦‚CGPointçš„xç»„ä»¶ï¼Œæˆ–CATransformation3Dçš„æ—‹è½¬ç»„ä»¶ï¼Œä½†æ˜¯æ¥ä¸‹æ¥ä½ ä¼šå‘ç°åŠ¨æ€ç»“æ„å€¼çš„åŠ¨ç”»æ¯” ä½ å¯èƒ½ä¼šå…ˆè€ƒè™‘ä¸€ä¸‹ã€‚ Animating struct valuesç»“æ„ä½“æ˜¯Swiftä¸­çš„ä¸€ç­‰å…¬æ°‘ã€‚ å®é™…ä¸Šï¼Œåœ¨ä½¿ç”¨ç±»å’Œç»“æ„ä¹‹é—´è¯­æ³•ä¸Šå‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚ï¼ˆå…³äºç±»å’Œç»“æ„ä½“å¯æŸ¥ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-9ï¼šç±»å’Œç»“æ„ä½“(Classes and Structures)ï¼‰ä½†æ˜¯ï¼Œæ ¸å¿ƒåŠ¨ç”»æ˜¯ä¸€ä¸ªåŸºäºCæ„å»ºçš„Objective-Cæ¡†æ¶ï¼Œè¿™æ„å‘³ç€ç»“æ„ä½“çš„å¤„ç†æ–¹å¼ä¸Swiftçš„ç»“æ„ä½“æˆªç„¶ä¸åŒã€‚ Objective-C APIå–œæ¬¢å¤„ç†å¯¹è±¡ï¼Œå› æ­¤ç»“æ„ä½“éœ€è¦ä¸€äº›ç‰¹æ®Šçš„å¤„ç†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯¹å›¾å±‚å±æ€§ï¼ˆå¦‚é¢œè‰²æˆ–æ•°å­—ï¼‰è¿›è¡ŒåŠ¨ç”»åˆ¶ä½œç›¸å¯¹å®¹æ˜“çš„åŸå› ï¼Œä½†æ˜¯ä¸ºCGPointç­‰ç»“æ„ä½“å±æ€§è®¾ç½®åŠ¨ç”»å¹¶ä¸å®¹æ˜“ã€‚CALayeræœ‰è®¸å¤šå¯åŠ¨ç”»å±æ€§ï¼Œå®ƒä»¬åŒ…å«structå€¼ï¼ŒåŒ…æ‹¬CGPointç±»å‹çš„ä½ç½®ï¼ŒCATransform3Dç±»å‹çš„è½¬æ¢å’ŒCGRectç±»å‹çš„è¾¹ç•Œã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒCocoaä½¿ç”¨NSValueç±»ï¼Œå®ƒå¯å°†ä¸€ä¸ªstructå€¼â€œåŒ…è£…â€ä¸ºä¸€ä¸ªæ ¸å¿ƒåŠ¨ç”»å¥½å¤„ç†çš„å¯¹è±¡ã€‚ NSValueé™„å¸¦äº†è®¸å¤šä¾¿åˆ©åˆå§‹åŒ–ç¨‹åºï¼š 1234init(cgPoint: CGPoint)init(cgSize: CGSize)init(cgRect rect: CGRect)init(caTransform3D: CATransform3D) ä½¿ç”¨ä¾‹å­ï¼Œ ä»¥ä¸‹æ˜¯ä½¿ç”¨CGPointçš„ç¤ºä¾‹ä½ç½®åŠ¨ç”»ï¼š 1234let move = CABasicAnimation(keyPath: "position")move.duration = 1.0move.fromValue = NSValue(cgPoint: CGPoint(x: 100.0, y: 100.0))move.toValue = NSValue(cgPoint: CGPoint(x: 200.0, y: 200.0)) åœ¨æŠŠCGPointèµ‹å€¼ç»™fromValueæˆ–toValueä¹‹å‰ï¼Œéœ€è¦æŠŠCGPointè½¬åŒ–ä¸ºNSValueï¼Œå¦åˆ™åŠ¨ç”»æ— æ³•å·¥ä½œã€‚å…³é”®å¸§åŠ¨ç”»åŒæ ·å¦‚æ­¤ã€‚ çƒ­æ°”çƒçš„å…³é”®å¸§åŠ¨ç”»åœ¨logIn()ä¸­æ·»åŠ ï¼š 1234let balloon = CALayer()balloon.contents = UIImage(named: "balloon")!.cgImageballoon.frame = CGRect(x: -50.0, y: 0.0, width: 50.0, height: 65.0)view.layer.insertSublayer(balloon, below: username.layer) insertSublayer(_:below)æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå›¾ç‰‡å›¾å±‚ä½œä¸ºview.layerçš„å­å›¾å±‚ã€‚ å¦‚æœéœ€è¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå›¾åƒä½†ä¸éœ€è¦ä½¿ç”¨UIViewçš„æ‰€æœ‰å¥½å¤„ï¼ˆä¾‹å¦‚è‡ªåŠ¨å¸ƒå±€çº¦æŸï¼Œé™„åŠ æ‰‹åŠ¿è¯†åˆ«å™¨ç­‰ï¼‰ï¼Œå¯ä»¥ç®€å•åœ°ä½¿ç”¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­çš„CALayerã€‚ åœ¨ä¸Šé¢çš„ä»£ç åæ·»åŠ åŠ¨ç”»ä»£ç ï¼š 123456789let flight = CAKeyframeAnimation(keyPath: "position")flight.duration = 12.0flight.values = [ CGPoint(x: -50.0, y: 0.0), CGPoint(x: view.frame.width + 50.0, y: 160.0), CGPoint(x: -50.0, y: loginButton.center.y)].map &#123; NSValue(cgPoint: $0) &#125;flight.keyTimes = [0.0, 0.5, 1.0] valuesçš„ä¸‰ä¸ªå¯¹åº”ç‚¹å¦‚ä¸‹ï¼š æœ€åæŠŠåŠ¨ç”»æ·»åŠ åˆ°æ°”çƒå›¾å±‚ä¸Šï¼Œå¹¶ä¸”è®¾ç½®æ°”çƒå›¾å±‚æœ€ç»ˆä½ç½®ï¼š 12balloon.add(flight, forKey: nil)balloon.position = CGPoint(x: -50.0, y: loginButton.center.y) è¿è¡Œï¼Œæ•ˆæœï¼š 13-å½¢çŠ¶å’Œè’™ç‰ˆæœ¬ç« å­¦ä¹ CALayerçš„ä¸€ä¸ªå­ç±»CAShapeLayerï¼Œå®ƒå¯ä»¥åœ¨å±å¹•ä¸Šç»˜åˆ¶å„ç§å½¢çŠ¶ï¼Œä»éå¸¸ç®€å•åˆ°éå¸¸å¤æ‚éƒ½å¯ä»¥ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›® MultiplayerSearch æ¨¡æ‹Ÿäº†æ­£åœ¨æœç´¢åœ¨çº¿å¯¹æ‰‹çš„æˆ˜æ–—æ¸¸æˆçš„èµ·å§‹å±å¹•ã€‚å…¶ä¸­ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨æ˜¾ç¤ºä¸€ä¸ªæ¼‚äº®çš„èƒŒæ™¯å›¾åƒï¼Œä¸€äº›æ ‡ç­¾ï¼Œä¸€ä¸ªâ€Search Againâ€œæŒ‰é’®(é»˜è®¤æ˜¯é€æ˜çš„)ï¼Œå’Œä¸¤ä¸ªå¤´åƒå›¾åƒï¼Œå…¶ä¸­ä¸€ä¸ªå°†æ˜¯ç©ºçš„ï¼Œç›´åˆ°åº”ç”¨ç¨‹åºâ€æ‰¾åˆ°â€œä¸€ä¸ªå¯¹æ‰‹ã€‚ å¤´åƒè§†å›¾ä¸¤ä¸ªå¤´åƒéƒ½æ˜¯AvatarViewç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ ä¸‹é¢å¼€å§‹å®Œæˆä¸€äº›å¤´åƒè§†å›¾çš„æ•ˆæœã€‚æ‰“å¼€AvatarView.swiftï¼Œä¼šå‘ç°æœ‰å‡ ä¸ªå·²å®šä¹‰çš„å±æ€§ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºï¼š photoLayerï¼šå¤´åƒçš„å›¾ç‰‡å›¾å±‚ã€‚circleLayerï¼šç”¨äºç»˜åˆ¶åœ†çš„å½¢çŠ¶å›¾å±‚ã€‚maskLayerï¼šå¦ä¸€ä¸ªç”¨äºç»˜åˆ¶è’™ç‰ˆçš„å½¢çŠ¶å›¾å±‚ã€‚labelï¼šæ˜¾ç¤ºç©å®¶å§“åçš„æ ‡ç­¾ã€‚ ä¸Šé¢çš„ç»„ä»¶å·²ç»å­˜åœ¨äºé¡¹ç›®ä¸­ï¼Œä½†å°šæœªæ·»åŠ åˆ°è§†å›¾ä¸­ï¼Œç¬¬ä¸€ä¸ªä»»åŠ¡å°±æ˜¯æŠŠå®ƒä»¬æ·»åŠ åŠ¨è§†å›¾ä¸­ã€‚ å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°didMoveToWindow()ï¼š 1photoLayer.mask = maskLayer è¿™ç®€å•åœ°ç”¨maskLayerä¸­çš„åœ†å½¢æ©ç›–æ–¹å½¢å›¾åƒã€‚ è¿˜å¯ä»¥é€šè¿‡@IBDesignable(å…³äº@IBDesignableï¼Œå¯æŸ¥çœ‹iOS tutorial 8ï¼šä½¿ç”¨IBInspectable å’Œ IBDesignableå®šåˆ¶UI)åœ¨storyboardä¸­çœ‹åˆ°è®¾ç½®å±æ€§ã€‚ è¿è¡Œæ•ˆæœï¼š ç°åœ¨å°†åœ†å½¢è¾¹æ¡†å›¾å±‚æ·»åŠ åˆ°å¤´åƒè§†å›¾å›¾å±‚ï¼Œåœ¨didMoveToWindow()ä¸­æ·»åŠ ä»£ç ï¼š 1layer.addSublayer(circleLayer) è¿™æ—¶çš„æ•ˆæœä¸ºï¼š æ·»åŠ åå­—æ ‡ç­¾ï¼š 1addSubview(label) åå¼¹åŠ¨ç”»ä¸‹é¢åˆ›å»ºç±»ä¼¼ä¸¤ä¸ªç‰©ä½“ç›¸æ’ï¼Œç„¶åå¼¹å¼€çš„åå¼¹(bounce-off)åŠ¨ç”»ã€‚ åœ¨ViewControllerä¸­åˆ›å»ºsearchForOpponent()å‡½æ•°ï¼Œå¹¶åœ¨viewDidAppearä¸­è°ƒç”¨ï¼š 12345func searchForOpponent() &#123; let avatarSize = myAvatar.frame.size let bounceXOffset: CGFloat = avatarSize.width/1.9 let morphSize = CGSize(width: avatarSize.width * 0.85, height: avatarSize.height * 1.1) &#125; bounceXOffsetæ˜¯ç›¸äº’åå¼¹æ—¶åº”ç§»åŠ¨çš„æ°´å¹³è·ç¦»ã€‚ morphSizeæ˜¯å¤´åƒç¢°æ’åçš„å½¢å˜å¤§å°ï¼ˆå®½åº¦å˜å°ï¼Œé•¿åº¦å˜å¤§ï¼‰ã€‚ åœ¨searchForOpponent()é‡Œç»§ç»­æ·»åŠ ï¼š 12345let rightBouncePoint = CGPoint(x: view.frame.size.width/2.0 + bounceXOffset, y: myAvatar.center.y)let leftBouncePoint = CGPoint(x: view.frame.size.width/2.0 - bounceXOffset, y: myAvatar.center.y)myAvatar.bounceOff(point: rightBouncePoint, morphSize: morphSize)opponentAvatar.bounceOff(point: leftBouncePoint, morphSize: morphSize) ä¸Šé¢çš„bounceOff(point:morphSize:)æ–¹æ³•ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨å¤´åƒç§»åŠ¨çš„ä½ç½®å’Œå˜å½¢çš„å¤§å°ã€‚åœ¨AvatarViewä¸­æ·»åŠ ï¼š 1234567891011121314151617func bounceOff(point: CGPoint, morphSize: CGSize) &#123; let originalCenter = center UIView.animate(withDuration: animationDuration, delay: 0.0, usingSpringWithDamping: 0.8, initialSpringVelocity: 0.0, animations: &#123; self.center = point &#125;, completion: &#123;_ in &#125;) UIView.animate(withDuration: animationDuration, delay: animationDuration, usingSpringWithDamping: 0.7, initialSpringVelocity: 1.0, animations: &#123; self.center = originalCenter &#125;) &#123; (_) in delay(seconds: 0.1) &#123; self.bounceOff(point: point, morphSize: morphSize) &#125; &#125;&#125; ä¸Šé¢çš„ä¸¤ä¸ªåŠ¨ç”»åˆ†åˆ«æ˜¯ï¼Œä½¿ç”¨å¼¹ç°§åŠ¨ç”»å°†å¤´åƒç§»åŠ¨åˆ°æŒ‡å®šä½ç½® å’Œ ä½¿ç”¨å¼¹ç°§åŠ¨ç”»å°†å¤´åƒç§»åŠ¨åˆ°åŸæ¥ä½ç½®ã€‚æ­¤æ—¶æ•ˆæœå¦‚ä¸‹ï¼š å›¾åƒå˜å½¢å®é™…ç”Ÿæ´»ä¸­ï¼Œä¸¤ä¸ªç‰©ä½“ç›¸æ’æ—¶ï¼Œæœ‰ä¸€ä¸ªçŸ­æ—¶é—´æš‚åœï¼Œå¹¶ä¸”ç‰©ä½“å˜å½¢ï¼ˆâ€å‹æ‰â€œçš„æ•ˆæœï¼‰ã€‚ä¸‹é¢å°±å®ç°è¿™ç§æ•ˆæœã€‚ åœ¨bounceOff(point:morphSize:)æ·»åŠ ï¼š 123let morphedFrame = (originalCenter.x &gt; point.x) ? CGRect(x: 0.0, y: bounds.height - morphSize.height, width: morphSize.width, height: morphSize.height) : CGRect(x: bounds.width - bounds.width, y: bounds.height - morphSize.height, width: morphSize.width, height: morphSize.height) é€šè¿‡originalCenter.x &gt; point.xæ¥åˆ¤æ–­æ˜¯å·¦è¾¹å¤´åƒè¿˜æ˜¯å³è¾¹å¤´åƒã€‚ åœ¨bounceOff(point:morphSize:)ç»§ç»­æ·»åŠ ï¼š 1234567let morphAnimation = CABasicAnimation(keyPath: "path")morphAnimation.duration = animationDurationmorphAnimation.toValue = UIBezierPath(ovalIn: morphedFrame).cgPathmorphAnimation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)circleLayer.add(morphAnimation, forKey: nil) é€šè¿‡UIBezierPathåˆ›å»ºæ¤­åœ†ã€‚ è¿è¡Œåï¼Œæ•ˆæœæœ‰ç‚¹é—®é¢˜ï¼š åªæœ‰è¾¹æ¡†å›¾å±‚å‘ç”Ÿäº†å˜å½¢ï¼Œå›¾ç‰‡å›¾å±‚æ²¡æœ‰å˜åŒ–ã€‚ æŠŠmorphAnimationåŠ¨ç”»æ·»åŠ åˆ°è’™ç‰ˆå›¾å±‚ï¼š 1maskLayer.add(morphAnimation, forKey: nil) è¿™æ ·çš„æ•ˆæœå°±å¥½å¾ˆå¤šï¼š æœç´¢å¯¹æ‰‹åœ¨searchForOppoent()é‡Œæœ€åæ·»åŠ delay(seconds: 4.0, completion: foundOppoent)ï¼Œç„¶ååœ¨ViewControllerä¸­æ·»åŠ ï¼š 123456func foundOpponent() &#123; status.text = "Connecting..." opponentAvatar.image = UIImage(named: "avatar-2") opponentAvatar.name = "Andy"&#125; åˆ©ç”¨å»¶è¿Ÿæ¥æ¨¡æ‹Ÿåœ¨å¯»æ‰¾å¯¹æ‰‹ã€‚ åœ¨foundOpponent()é‡Œæ·»åŠ delay(seconds: 4.0, completion: connectedToOpponent)ï¼Œç„¶åç„¶ååœ¨ViewControllerä¸­æ·»åŠ ï¼š 1234func connectedToOpponent() &#123; myAvatar.shouldTransitionToFinishedState = true opponentAvatar.shouldTransitionToFinishedState = true&#125; shouldTransitionToFinishedStateæ˜¯AvatarViewä¸­è‡ªå®šä¹‰çš„å±æ€§ï¼Œç”¨äºåˆ¤æ–­è¿æ¥æ˜¯å¦å®Œæˆï¼Œåœ¨ä¸‹é¢ä½¿ç”¨ã€‚ åœ¨connectedToOpponent()é‡Œæ·»åŠ delay(seconds: 1.0, completion: completed)ï¼Œç„¶åç„¶ååœ¨ViewControllerä¸­æ·»åŠ ï¼š 1234567func completed() &#123; status.text = "Ready to play" UIView.animate(withDuration: 0.2) &#123; self.vs.alpha = 1.0 self.searchAgain.alpha = 1.0 &#125;&#125; å¯¹æ‰‹æ‰¾åˆ°åï¼Œä¿®æ”¹çŠ¶æ€è¯­ï¼Œå¹¶æ˜¾ç¤ºé‡æ–°æœç´¢æŒ‰é’®ã€‚ æ•ˆæœï¼š è¿æ¥æˆåŠŸåå¤´åƒå˜æˆæ­£æ–¹å½¢åœ¨AvatarViewä¸­æ·»åŠ ä¸€ä¸ªå±æ€§var isSquare = falseï¼Œç”¨äºåˆ¤æ–­å¤´åƒæ˜¯å¦éœ€è¦è½¬æ¢ä¸ºæ­£æ–¹å½¢ã€‚ åœ¨bounceOff(point:morphSize:)çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»ï¼ˆå¤´åƒç§»åŠ¨åˆ°æŒ‡å®šä½ç½®ï¼‰çš„ completioné—­åŒ…ä¸­æ·»åŠ ï¼š 123if self.shouldTransitionToFinishedState &#123; self.animateToSquare()&#125; å…¶ä¸­animateToSquare()ä¸ºï¼š 1234567891011121314151617// å˜æ¢ä¸ºæ­£æ–¹å½¢åŠ¨ç”»func animateToSquare() &#123; isSquare = true let squarePath = UIBezierPath(rect: bounds).cgPath let morph = CABasicAnimation(keyPath: "path") morph.duration = 0.25 morph.fromValue = circleLayer.path morph.toValue = squarePath circleLayer.add(morph, forKey: nil) maskLayer.add(morph, forKey: nil) circleLayer.path = squarePath maskLayer.path = squarePath&#125; åœ¨bounceOff(point:morphSize:)çš„ç¬¬äºŒä¸ªåŠ¨ç”»ï¼ˆå¤´åƒç§»åŠ¨åˆ°åŸæ¥ä½ç½®ï¼‰çš„ completioné—­åŒ…æ·»åŠ åˆ¤æ–­ï¼š 123if !self.isSquare &#123; self.bounceOff(point: point, morphSize: morphSize)&#125; è¿™æ ·çš„æœ€ç»ˆæ•ˆæœå°±æ˜¯ï¼š 14-æ¸å˜åŠ¨ç”»æœ¬ç« é€šè¿‡ä»¥å‰iOSçš„å±å¹•â€œæ»‘åŠ¨è§£é”â€æ•ˆæœæ¥å­¦ä¹ æ¸å˜åŠ¨ç”»(Gradient Animations)ã€‚ å¼€å§‹é¡¹ç›® SlideToRevealæ˜¯ä¸€ä¸ªç®€å•çš„å•é¡µé¢é¡¹ç›®ï¼Œåªæœ‰ä¸€ä¸ªæ˜¾ç¤ºæ—¶é—´çš„UILabelï¼Œå’Œä¸€ä¸ªä¹‹åç”¨äºæ¸å˜åŠ¨ç”»çš„è‡ªå®šä¹‰UIViewå­ç±»AnimateMaskLabelã€‚ ç¬¬ä¸€ä¸ªæ¸å˜å›¾å±‚CAGradientLayeræ˜¯CALayerçš„å¦ä¸€ä¸ªå­ç±»ï¼Œä¸“é—¨ç”¨äºæ¸å˜çš„å›¾å±‚ã€‚ é…ç½®CAGradientLayerï¼Œåœ¨å±æ€§gradientLayerå®šä¹‰çš„å‡½æ•°å—ä¸­æ·»åŠ : 12gradientLayer.startPoint = CGPoint(x: 0.0, y: 0.5)gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5) è¿™å®šä¹‰äº†æ¸å˜çš„æ–¹å‘åŠå…¶èµ·ç‚¹å’Œç»ˆç‚¹ã€‚ 1234567&gt; let gradientLayer: CAGradientLayer = &#123;&gt; let gradientLayer = CAGradientLayer() &gt; gradientLayer.startPoint = CGPoint(x: 0.0, y: 0.5)&gt; gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5)&gt; ... &gt; &#125;()&gt; è¿™ç§å†™æ³•è¡¨ç¤ºå®šä¹‰å‡½æ•°åç›´æ¥è°ƒç”¨ï¼Œè¿”å›å€¼ç›´æ¥ç»™å±æ€§ã€‚è¿™ä¸­å†™æ³•åœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿæ¯”è¾ƒå¸¸è§ï¼Œæ¯”å¦‚JSã€‚ ç»§ç»­æ·»åŠ ï¼š 12345678let colors = [ UIColor.black.cgColor, UIColor.white.cgColor, UIColor.black.cgColor]gradientLayer.colors = colorslet locations: [NSNumber] = [0.25, 0.5, 0.75]gradientLayer.locations = locations ä¸Šé¢çš„å®šä¹‰æ–¹å¼å’Œå‰é¢å­¦ä¹ çš„å›¾å±‚å…³é”®å¸§åŠ¨ç”» ä¸­çš„valueså’ŒkeyTimesæœ‰ç‚¹ç±»ä¼¼ã€‚ ç»“æœå°±æ˜¯æ¸å˜ä»¥é»‘è‰²å¼€å§‹ï¼Œä¸­é—´ç™½è‰²ï¼Œæœ€åä¸ºé»‘è‰²ã€‚é€šè¿‡locationsæŒ‡å®šè¿™äº›é¢œè‰²åº”è¯¥å‡ºç°åœ¨æ¸å˜è¿‡ç¨‹ä¸­çš„ç¡®åˆ‡ä½ç½®ã€‚å½“ç„¶ä¹Ÿæ˜¯å¯ä»¥å¾ˆå¤šä¸ªé¢œè‰²ç‚¹ï¼Œå’Œå¯¹åº”ä½ç½®ç‚¹çš„ã€‚ ä¸Šé¢çš„æ•ˆæœå°±ç±»ä¼¼ï¼š åœ¨layoutSubviews()ä¸­å®šä¹‰æ¸å˜å›¾å±‚çš„frameï¼š 12gradientLayer.frame = boundslayer.addSublayer(gradientLayer) è¿™å°±æŠŠæ¸å˜çš„å›¾å±‚å®šä¹‰åœ¨AnimateMaskLabelã€‚ ç»™æ¸å˜å›¾å±‚æ·»åŠ åŠ¨ç”»åœ¨didMoveToWindow()ä¸­æ·»åŠ ï¼š 123456let gradientAnimation = CABasicAnimation(keyPath: "locations")gradientAnimation.fromValue = [0.0, 0.0, 0.25]gradientAnimation.toValue = [0.75, 1.0, 1.0]gradientAnimation.duration = 3.0gradientAnimation.repeatCount = .infinitygradientLayer.add(gradientAnimation, forKey: nil) repeatCountè®¾ç½®ä¸ºæ— ç©·å¤§ï¼ŒåŠ¨ç”»æŒç»­3ç§’å¹¶å°†æ°¸è¿œé‡å¤ã€‚æ•ˆæœå¦‚ä¸‹ï¼š ä¸Šé¢çš„æ•ˆæœå¯èƒ½ä¸€æ—¶ä¸å¥½ç†è§£ï¼Œå¦‚æœæŠŠæ¸å˜å›¾å±‚çš„locationsåˆ†åˆ«è®¾ç½®æˆ[0.0, 0.0, 0.25]å’Œ[0.75, 1.0, 1.0]ï¼Œä¹Ÿå°±æ˜¯åŠ¨ç”»å¼€å§‹ç‚¹å’Œç»“æŸç‚¹ï¼Œæƒ…å†µåˆ†åˆ«æ˜¯ï¼š åŠ¨ç”»çš„æ•ˆæœå°±æ˜¯å‰è€…çš„çŠ¶æ€åˆ°åè€…çš„çŠ¶æ€ï¼Œè¿™æ ·å°±æ–¹ä¾¿ç†è§£äº†ã€‚ è¿™çœ‹èµ·æ¥å¾ˆæ¼‚äº®ï¼Œä½†æ¸å˜å®½åº¦æœ‰ç‚¹å°ã€‚ åªéœ€æ”¾å¤§æ¸å˜è¾¹ç•Œï¼Œå°±ä¼šå¾—åˆ°æ›´æ¸©å’Œçš„æ¸å˜ã€‚åœ¨layoutSubviews()ä¸­æ‰¾åˆ°gradientLayer.frame = boundsè¡Œï¼Œæ›¿ä»£ä¸ºï¼š 1gradientLayer.frame = CGRect(x: -bounds.size.width, y: bounds.origin.y, width: 3 * bounds.size.width, height: bounds.size.height) è¿™ä¼šå°†æ¸å˜æ¡†è®¾ç½®ä¸ºå¯è§åŒºåŸŸå®½åº¦çš„ä¸‰å€ã€‚ åŠ¨ç”»è¿›å…¥è§†å›¾ï¼Œç›´æ¥ç©¿è¿‡å®ƒï¼Œå¹¶ä»å³ä¾§é€€å‡ºï¼š æ•ˆæœï¼š åˆ›å»ºæ–‡æœ¬è’™ç‰ˆåœ¨AnimateMaskLabelä¸­åˆ›é€ ä¸€ä¸ªæ–‡æœ¬å±æ€§ï¼š 12345678let textAttributes: [NSAttributedString.Key: Any] = &#123; let style = NSMutableParagraphStyle() style.alignment = .center return [ NSAttributedString.Key.font: UIFont(name: "HelveticaNeue-Thin", size: 28.0)!, NSAttributedString.Key.paragraphStyle: style ]&#125;() æ¥ä¸‹æ¥ï¼Œéœ€è¦å°†æ–‡æœ¬æ¸²æŸ“ä¸ºå›¾åƒã€‚ åœ¨textå±æ€§çš„å±æ€§è§‚å¯Ÿè€…ä¸­çš„setNeedsDisplay()ä¹‹åæ·»åŠ ä»¥ä¸‹ä»£ç : 123let image = UIGraphicsImageRenderer(size: bounds.size).image &#123; (_) in text.draw(in: bounds, withAttributes: textAttributes)&#125; åœ¨è¿™é‡Œï¼Œä½¿ç”¨å›¾åƒæ¸²æŸ“å™¨æ¥è®¾ç½®ä¸Šä¸‹æ–‡ã€‚ ä½¿ç”¨è¯¥å›¾åƒåœ¨æ¸å˜å›¾å±‚ä¸Šåˆ›å»ºè’™ç‰ˆï¼Œåœ¨ä¸Šé¢ä»£ç åç»§ç»­æ·»åŠ ï¼š 12345let maskLayer = CALayer()maskLayer.backgroundColor = UIColor.clear.cgColormaskLayer.frame = bounds.offsetBy(dx: bounds.size.width, dy: 0)maskLayer.contents = image.cgImagegradientLayer.mask = maskLayer ç°åœ¨æ•ˆæœï¼š æ»‘åŠ¨æ‰‹åŠ¿åœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 123let swipe = UISwipeGestureRecognizer(target: self, action: #selector(ViewController.didSlide)) swipe.direction = .right slideView.addGestureRecognizer(swipe) æ•ˆæœï¼š å½©è‰²æ¸å˜ä¿®æ”¹æ¸å˜çš„å›¾å±‚çš„colorså’Œlocationsï¼Œç„¶ä¹‹å‰çš„é»‘ç™½å˜æˆå½©è‰²ï¼š 12345678let colors = [ UIColor.yellow.cgColor, UIColor.green.cgColor, UIColor.orange.cgColor, UIColor.cyan.cgColor, UIColor.red.cgColor, UIColor.yellow.cgColor] 1let locations: [NSNumber] = [0.0, 0.0, 0.0, 0.0, 0.0, 0.25] å¹¶ä¿®æ”¹åŠ¨ç”»çš„fromValueå’ŒtoValueï¼š 12gradientAnimation.fromValue = [0.0, 0.0, 0.0, 0.0, 0.0, 0.25]gradientAnimation.toValue = [0.65, 0.8, 0.85, 0.9, 0.95, 1.0] æ•ˆæœï¼š æœ¬ç« çš„æœ€ç»ˆæ•ˆæœï¼š 15-Strokeå’Œè·¯å¾„åŠ¨ç”» æ³¨ï¼š stroke å¯ç¿»è¯‘æˆ ç¬”ç”»ï¼Œä½†å¥½åƒåˆä¸å½“æ°å½“ï¼Œå°±å¹²è„†ä¸ç¿»è¯‘ğŸ˜ã€‚ å¼€å§‹é¡¹ç›® PullToRefresh æœ‰ä¸€ä¸ªTableViewï¼Œä¸‹æ‹‰æ–°è§†å›¾ä¿æŒå¯è§çŠ¶æ€å››ç§’é’Ÿï¼Œç„¶åç¼©å›ã€‚æœ¬ç« å°±æ˜¯åœ¨è¿™ä¸ªä¸‹æ‹‰è§†å›¾ä¸­åšä¸€ä¸ªç±»ä¼¼èŠèŠ±è½¬çš„åŠ¨ç”»ã€‚ åˆ›å»ºäº¤äº’strokeåŠ¨ç”»æ„å»ºåŠ¨ç”»çš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªåœ†å½¢ã€‚ æ‰“å¼€RefreshView.swiftå¹¶å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°init(frame:scrollView:)ä¸­ï¼š 12345678910// é£æœºç§»åŠ¨è·¯çº¿å›¾å±‚ovalShapeLayer.strokeColor = UIColor.white.cgColorovalShapeLayer.fillColor = UIColor.clear.cgColorovalShapeLayer.lineWidth = 4.0ovalShapeLayer.lineDashPattern = [2, 3]let refreshRadius = frame.size.height/2 * 0.8ovalShapeLayer.path = UIBezierPath(ovalIn: CGRect(x: frame.size.width/2 - refreshRadius, y: frame.size.height/2 - refreshRadius, width: 2 * refreshRadius, height: 2 * refreshRadius)).cgPathlayer.addSublayer(ovalShapeLayer) ovalShapeLayeræ˜¯ä¸€ä¸ªç±»å‹ä¸ºCAShapeLayerçš„RefreshViewçš„å±æ€§ã€‚CAShapeLayerä¹‹å‰å·²ç»å­¦è¿‡äº†ï¼Œ åœ¨è¿™é‡Œï¼Œåªéœ€è®¾ç½®ç¬”è§¦å’Œå¡«å……é¢œè‰²ï¼Œå¹¶å°†åœ†ç›´å¾„è®¾ç½®ä¸ºè§†å›¾é«˜åº¦çš„80ï¼…ï¼Œè¿™æ ·å¯ç¡®ä¿å½¢æˆèˆ’é€‚çš„è¾¹è·ã€‚ lineDashPatternå±æ€§æ˜¯è®¾ç½®è™šçº¿æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«çŸ­åˆ’çº¿çš„é•¿åº¦å’Œé—´éš™çš„é•¿åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ï¼Œå½“ç„¶è¿˜å¯ä»¥è®¾ç½®å¾ˆå¤šç§è™šçº¿ï¼Œè¯¦ç»†çš„å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ åœ¨redrawFromProgress()ä¸­æ·»åŠ ï¼š 1ovalShapeLayer.strokeEnd = progress æŠŠé£æœºå›¾ç‰‡æ·»åŠ åˆ°é£æœºå›¾å±‚ä¸­ï¼Œåœ¨init(frame:scrollView:)ä¸­æ·»åŠ ï¼š 1234567// æ·»åŠ é£æœºlet airplaneImage = UIImage(named: "airplane.png")!airplaneLayer.contents = airplaneImage.cgImageairplaneLayer.bounds = CGRect(x: 0.0, y: 0.0, width: airplaneImage.size.width, height: airplaneImage.size.height)airplaneLayer.position = CGPoint(x: frame.size.width/2 + frame.size.height/2 * 0.8, y: frame.size.height/2)layer.addSublayer(airplaneLayer)airplaneLayer.opacity = 0.0 ä¸‹æ‹‰æ—¶é€æ­¥æ›´æ”¹é£æœºå›¾å±‚çš„ä¸é€æ˜åº¦ï¼Œåœ¨redrawFromProgress()æ·»åŠ ï¼š 1airplaneLayer.opacity = Float(progress) strokeçš„ç»“å°¾åœ¨beginRefreshing()ä¸­æ·»åŠ ï¼š 1234567let strokeStartAnimation = CABasicAnimation(keyPath: "strokeStart")strokeStartAnimation.fromValue = -0.5strokeStartAnimation.toValue = 1.0let strokeEndAnimation = CABasicAnimation(keyPath: "strokeEnd")strokeEndAnimation.fromValue = 0.0strokeEndAnimation.toValue = 1.0 åœ¨beginRefreshing()çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ä»¥åŒæ—¶è¿è¡Œä¸¤ä¸ªåŠ¨ç”»ï¼š 12345let strokeAnimationGroup = CAAnimationGroup()strokeAnimationGroup.duration = 1.5strokeAnimationGroup.repeatDuration = 5.0strokeAnimationGroup.animations = [strokeEndAnimation, strokeEndAnimation]ovalShapeLayer.add(strokeAnimationGroup, forKey: nil) åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåŠ¨ç”»ç»„å¹¶é‡å¤åŠ¨ç”»äº”æ¬¡ã€‚ è¿™åº”è¯¥è¶³å¤Ÿé•¿ï¼Œä»¥ä¾¿åœ¨åˆ·æ–°è§†å›¾å¯è§æ—¶ä¿æŒåŠ¨ç”»è¿è¡Œã€‚ ç„¶åï¼Œå°†ä¸¤ä¸ªåŠ¨ç”»æ·»åŠ åˆ°ç»„ä¸­ï¼Œå¹¶å°†ç»„æ·»åŠ åˆ°åŠ è½½å±‚ã€‚ è¿è¡Œæ•ˆæœï¼š åˆ›å»ºpathå…³é”®å¸§åŠ¨ç”»åœ¨12-å›¾å±‚å…³é”®å¸§åŠ¨ç”»å’Œç»“æ„å±æ€§ å­¦ä¹ äº†ä½¿ç”¨valueså±æ€§æ¥è®¾ç½®å…³é”®å¸§åŠ¨ç”»ã€‚ä¸‹é¢å­¦ä¹ å¦ä¸€ç§æ–¹å¼ä½¿ç”¨å…³é”®å¸§åŠ¨ç”»ã€‚ åœ¨beginRefreshing()çš„æœ«å°¾æ·»åŠ é£æœºåŠ¨ç”»ï¼š 12345678910// é£æœºåŠ¨ç”»let flightAnimation = CAKeyframeAnimation(keyPath: "position")flightAnimation.path = ovalShapeLayer.pathflightAnimation.calculationMode = CAAnimationCalculationMode.pacedlet flightAnimationGroup = CAAnimationGroup()flightAnimationGroup.duration = 1.5flightAnimationGroup.repeatDuration = 5.0flightAnimationGroup.animations = [flightAnimation]airplaneLayer.add(flightAnimationGroup, forKey: nil) CAAnimationCalculationMode.pacedæ˜¯å¦ä¸€ç§æ§åˆ¶åŠ¨ç”»æ—¶é—´çš„æ–¹æ³•ï¼Œè¿™æ—¶æ ¸å¿ƒåŠ¨ç”»ä¼šä»¥æ’å®šçš„é€Ÿåº¦è®¾ç½®åŠ¨ç”»ï¼Œå¿½ç•¥è®¾ç½®çš„ä»»ä½•keyTimesï¼Œè¿™å¯¹äºåœ¨ä»»æ„è·¯å¾„ä¸Šç”Ÿæˆå¹³æ»‘åŠ¨ç”»éå¸¸æœ‰ç”¨ã€‚ CAAnimationCalculationModeè¿˜æœ‰å…¶ä»–å‡ ç§æ¨¡å¼ï¼Œè¯¦ç»†å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ è¿è¡Œæ•ˆæœï¼š è¿™æ¯”è¾ƒå¥‡æ€ªäº†ï¼Œâœˆï¸ç§»åŠ¨æ—¶ï¼Œè§’åº¦ä¹Ÿæœ‰ç›¸åº”çš„å˜åŒ–ã€‚ åœ¨åˆ›å»ºflightAnimationGroupçš„è¡Œä¸Šæ–¹æ’å…¥ä»¥ä¸‹æ–°åŠ¨ç”»ä»£ç ï¼Œæ¥è°ƒæ•´é£æœºç§»åŠ¨æ—¶è§’åº¦ 123let airplaneOrientationAnimation = CABasicAnimation(keyPath: "transform.rotation")airplaneOrientationAnimation.fromValue = 0airplaneOrientationAnimation.toValue = 2.0 * .pi æœ€ç»ˆæ•ˆæœ 16-å¤åˆ¶åŠ¨ç”»æœ¬ç« èŠ‚å­¦ä¹ å¤åˆ¶åŠ¨ç”»(Replicating Animations)ã€‚ CAReplicatorLayeræ˜¯CALayerçš„å¦ä¸€ä¸ªå­ç±»ã€‚å®ƒæ„æ€å¾ˆç®€å•ï¼Œå½“åˆ›å»ºäº†ä¸€äº›å†…å®¹ â€”â€” å¯ä»¥æ˜¯ä¸€ä¸ªå½¢çŠ¶ï¼Œä¸€ä¸ªå›¾åƒæˆ–ä»»ä½•å¯ä»¥ç”¨å›¾å±‚ç»˜åˆ¶çš„ä¸œè¥¿ â€”â€” è€ŒCAReplicatorLayerå¯ä»¥åœ¨å±å¹•ä¸Šå¤åˆ¶å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä¸ºä»€ä¹ˆéœ€è¦å¤åˆ¶å½¢çŠ¶æˆ–å›¾åƒï¼Ÿ CAReplicatorLayerçš„è¶…çº§å¼ºå¤§ä¹‹å¤„ï¼Œåœ¨äºå¯ä»¥è®©æ¯ä¸ªå¤åˆ¶ä½“ä¸æ¯ä½“ç•¥æœ‰ä¸åŒã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€æ­¥æ›´æ”¹æ¯ä¸ªå‰¯æœ¬çš„é¢œè‰²ã€‚ åŸå§‹å›¾å±‚å¯èƒ½æ˜¯æ´‹çº¢è‰²ï¼Œè€Œåœ¨åˆ›å»ºæ¯ä¸ªå‰¯æœ¬æ—¶ï¼Œå°†é¢œè‰²å‘é’è‰²æ–¹å‘æ”¹å˜ï¼š æ­¤å¤–ï¼Œè¿˜å¯ä»¥åœ¨å‰¯æœ¬ä¹‹é—´åº”ç”¨è½¬æ¢(transform)ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨æ¯ä¸ªå‰¯æœ¬ä¹‹é—´åº”ç”¨ç®€å•çš„æ—‹è½¬è½¬æ¢ï¼Œå°†å®ƒä»¬ç»˜åˆ¶æˆåœ†å½¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä½†æœ€å¥½çš„åŠŸèƒ½æ˜¯æ¯ä¸ªå‰¯æœ¬éƒ½èƒ½å¤Ÿè®¾ç½®åŠ¨ç”»å»¶è¿Ÿã€‚ å½“åŸå§‹å†…å®¹çš„instanceDelayè®¾ç½®0.2ç§’æ—¶ï¼Œç¬¬ä¸€ä¸ªå‰¯æœ¬å°†å»¶è¿Ÿ0.2ç§’æ‰§è¡ŒåŠ¨ç”»ï¼Œç¬¬äºŒä¸ªå‰¯æœ¬å°†å»¶è¿Ÿ0.4ç§’æ‰§è¡ŒåŠ¨ç”»ï¼Œç¬¬ä¸‰ä¸ªå‰¯æœ¬å°†å»¶è¿Ÿ0.6ç§’æ‰§è¡ŒåŠ¨ç”»ï¼Œä¾æ­¤ç±»æ¨ã€‚ å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥åˆ›å»ºå¼•äººå…¥èƒœä¸”å¤æ‚çš„åŠ¨ç”»ã€‚ åœ¨æœ¬ç« ä¸­ï¼Œå°†åˆ›å»ºä¸€ä¸ªæ¨¡ä»¿Siriï¼Œå¬åˆ°å£°éŸ³åï¼Œæ ¹æ®å£°éŸ³è€Œäº§ç”Ÿæ³¢æµªçŠ¶çš„åŠ¨ç”»ã€‚è¿™ä¸ªå¼€å§‹é¡¹ç›® å‘½åä¸ºIrisã€‚ è¿™ä¸ªé¡¹ç›®å°†åˆ›å»ºä¸¤ä¸ªä¸åŒçš„å¤åˆ¶ã€‚ é¦–å…ˆï¼Œæ˜¯åœ¨Irisä¼šè¯æ—¶æ’­æ”¾çš„è§†è§‰åé¦ˆåŠ¨ç”»ï¼Œå®ƒçœ‹èµ·æ¥å¾ˆåƒä¸€ä¸ªè¿·å¹»çš„æ­£å¼¦æ³¢ï¼š ç„¶åæ˜¯ä¸€ä¸ªäº¤äº’å¼éº¦å…‹é£é©±åŠ¨çš„éŸ³é¢‘æ³¢ï¼Œå½“ç”¨æˆ·è¯´è¯æ—¶ï¼Œå®ƒå°†æä¾›è§†è§‰åé¦ˆï¼š è¿™ä¸¤ä¸ªåŠ¨ç”»è¦†ç›–äº†CAReplicatorLayerçš„å¤§éƒ¨åˆ†åŠŸèƒ½ã€‚ Replicating like rabbitså¼€å§‹é¡¹ç›®æ¦‚è¿°æ‰“å¼€Main.storyboardï¼š åªæœ‰ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ï¼Œå®ƒå…·æœ‰ä¸€ä¸ªæŒ‰é’®å’Œä¸€ä¸ªæ ‡ç­¾ã€‚ ç”¨æˆ·åœ¨æŒ‰ä¸‹æŒ‰é’®æ—¶è¯¢é—®é—®é¢˜; å½“ä»–ä»¬é‡Šæ”¾æŒ‰é’®æ—¶ï¼ŒIrisä¼šåšå‡ºå›åº”ã€‚ æ ‡ç­¾ç”¨æ¥æ˜¾ç¤ºéº¦å…‹é£è¾“å…¥å’ŒIrisçš„ç­”æ¡ˆã€‚ åœ¨ViewController.swiftä¸­ï¼ŒæŒ‰é’®äº‹ä»¶å·²è¿æ¥åˆ°æ“ä½œã€‚å½“ç”¨æˆ·è§¦æ‘¸æŒ‰é’®æ—¶ï¼ŒactionStartMonitoring()ä¼šè§¦å‘ï¼›å½“ç”¨æˆ·æŠ¬èµ·æ‰‹æŒ‡æ—¶ï¼ŒactionEndMonitoring()ä¼šè§¦å‘ã€‚ å¦å¤–è¿˜æœ‰ä¸¤ä¸ªè¶…å‡ºæœ¬ç« èŒƒå›´çš„ç±»ï¼š Assistantï¼šäººå·¥æ™ºèƒ½åŠ©ç†ã€‚å®ƒé¢„å®šä¹‰çš„æœ‰è¶£ç­”æ¡ˆåˆ—è¡¨ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„é—®é¢˜è¯´å‡ºæ¥ã€‚MicMonitorï¼šç›‘æ§iPhoneéº¦å…‹é£ä¸Šçš„è¾“å…¥ï¼Œå¹¶åå¤è°ƒç”¨æ‚¨æä¾›çš„é—­åŒ…è¡¨è¾¾å¼ã€‚è¿™æ˜¯æ‚¨æœ‰æœºä¼šæ›´æ–°æ˜¾ç¤ºçš„åœ°æ–¹ã€‚ ä¸‹é¢å¼€å§‹ï¼ è®¾ç½®å¤åˆ¶å™¨å±‚æ‰“å¼€ViewController.swiftå¹¶æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªå±æ€§ï¼š 12let replicator = CAReplicatorLayer()let dot = CALayer() dotä½¿ç”¨CALayerï¼Œç”¨æ¥ç»˜åˆ¶åŸºæœ¬çš„ç®€å•å½¢çŠ¶ã€‚replicatorä½œä¸ºå¤åˆ¶å™¨ï¼Œç”¨æ¥ä¹‹åå¤åˆ¶dotã€‚ ä¸‹é¢æ·»åŠ ä¸€äº›å¸¸é‡ å±æ€§ï¼š 12let dotLength: CGFloat = 6.0let dotOffset: CGFloat = 8.0 doLengthç”¨ä½œç‚¹å›¾å±‚çš„å®½åº¦å’Œé«˜åº¦ï¼ŒdotOffsetæ˜¯æ¯ä¸ªç‚¹å¤åˆ¶ä½“ä¹‹é—´çš„åç§»é‡ã€‚ å°†å¤åˆ¶å™¨å±‚æ·»åŠ åˆ°è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾ä¸­ï¼Œåœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 12replicator.frame = view.boundsview.layer.addSublayer(replicator) ä¸‹ä¸€æ­¥æ˜¯è®¾ç½®ç‚¹å›¾å±‚ã€‚ åœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 1234567dot.frame = CGRect(x: replicator.frame.size.width - dotLength, y: replicator.position.y, width: dotLength, height: dotLength)dot.backgroundColor = UIColor.lightGray.cgColordot.borderColor = UIColor(white: 1.0, alpha: 1.0).cgColordot.borderWidth = 0.5dot.cornerRadius = 1.5replicator.addSublayer(dot) å…ˆå°†ç‚¹å›¾å±‚å®šä½åˆ°å¤åˆ¶å™¨çš„å³è¾¹ç¼˜ï¼Œç„¶åè®¾ç½®å›¾å±‚çš„èƒŒæ™¯é¢œè‰²å¹¶æ·»åŠ è¾¹æ¡†ç­‰ï¼Œæœ€åå°†ç‚¹å›¾å±‚åŠ å…¥å¤åˆ¶å™¨å›¾å±‚ã€‚è¿è¡Œç»“æœï¼š åœ¨ç»§ç»­ä¸‹é¢ä¹‹å‰ï¼Œå…ˆä»‹ç»CAReplicatorLayerçš„ä¸‰ä¸ªå±æ€§ï¼šinstanceCountï¼š å‰¯æœ¬æ•°instanceTransformï¼š å‰¯æœ¬ä¹‹é—´çš„è½¬æ¢instanceDelayï¼š å‰¯æœ¬ä¹‹é—´çš„åŠ¨ç”»å»¶è¿Ÿ åœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š 12replicator.instanceCount = Int(view.frame.size.width / dotOffset)replicator.instanceTransform = CATransform3DMakeTranslation(-dotOffset, 0.0, 0.0) å±å¹•å®½åº¦é™¤ä»¥åç§»é‡ï¼Œæ ¹æ®ä¸åŒå±å¹•å®½åº¦è®¾ç½®å‰¯æœ¬æ•°ã€‚æ¯”å¦‚5.5è‹±å¯¸ï¼ˆå®½åº¦ä¸º414ï¼‰çš„instanceCountæ˜¯51ï¼Œ4.7è‹±å¯¸æ˜¯46 ã€‚ã€‚ã€‚ æ¯ä¸ªå‰¯æœ¬å‘å·¦ï¼ˆ-dotOffsetï¼‰ç§»åŠ¨8 ã€‚ç»“æœä¸ºï¼š æµ‹è¯•å¤åˆ¶åŠ¨ç”»æ·»åŠ ä¸€ä¸ªå°æµ‹è¯•åŠ¨ç”»ï¼Œæ¥äº†è§£instanceDelayçš„ä½œç”¨ã€‚ åœ¨viewDidLoad()çš„æœ«å°¾æ·»åŠ ï¼š 123456let move = CABasicAnimation(keyPath: "position.y")move.fromValue = dot.position.ymove.toValue = dot.position.y - 50.0move.duration = 1.0move.repeatCount = 10dot.add(move, forKey: nil) è¿™ä¸ªåŠ¨ç”»å¾ˆç®€å•ï¼Œåªæ˜¯æŠŠç‚¹å‘ä¸Šé‡å¤ç§»åŠ¨10æ¬¡ã€‚ åœ¨ä¸Šé¢ä»£ç çš„çš„æœ«å°¾æ·»åŠ ï¼š 1replicator.instanceDelay = 0.02 æ•ˆæœï¼š åœ¨ç»§ç»­ä¹‹å‰ï¼Œéœ€è¦åˆ é™¤ä¸Šé¢çš„æµ‹è¯•åŠ¨ç”»ï¼Œé™¤äº†instanceDelayã€‚ å¤åˆ¶å¤šä¸ªåŠ¨ç”»åœ¨æœ¬èŠ‚ä¸­ï¼Œæ‚¨å°†å­¦ä¹ åœ¨Irisè®²è¯æ—¶æ’­æ”¾çš„åŠ¨ç”»ã€‚ ä¸ºæ­¤ï¼Œæ‚¨å°†ç»“åˆä½¿ç”¨å…·æœ‰ä¸åŒå»¶è¿Ÿçš„å¤šä¸ªç®€å•åŠ¨ç”»æ¥äº§ç”Ÿæœ€ç»ˆæ•ˆæœã€‚ ç¼©æ”¾åŠ¨ç”»é¦–å…ˆï¼Œåœ¨startSpeaking()ä¸­æ·»åŠ ä»¥ä¸‹åŠ¨ç”»ï¼š 12345678let scale = CABasicAnimation(keyPath: "transform")scale.fromValue = NSValue(caTransform3D: CATransform3DIdentity)scale.toValue = NSValue(caTransform3D: CATransform3DMakeScale(1.4, 15, 1.0))scale.duration = 0.33scale.repeatCount = .infinityscale.autoreverses = truescale.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)dot.add(scale, forKey: "dotScale") è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å±‚åŠ¨ç”»ï¼Œé‡ç‚¹åœ¨CATransform3DMakeScaleçš„å‡ ä¸ªå‚æ•°é€‰æ‹©ã€‚æ­¤å¤„å°†ç‚¹å›¾å±‚åœ¨å‚ç›´æ–¹å‘ç¼©æ”¾15å€ã€‚ è¿è¡Œï¼Œå¹¶ç‚¹å‡»ç°è‰²æŒ‰é’®ï¼Œåˆ†åˆ«å…ˆåè°ƒç”¨actionStartMonitoringï¼ŒactionEndMonitoring()ï¼Œæœ€åè°ƒç”¨startSpeaking()ï¼Œæ•ˆæœï¼š å¯ä»¥å°è¯•ä¿®æ”¹CATransform3DMakeScaleçš„å‡ ä¸ªå‚æ•°å’Œdurationæ¥çœ‹çœ‹æœ‰ä»€ä¹ˆä¸åŒæ•ˆæœã€‚ é€æ˜åŠ¨ç”»åœ¨startSpeaking()æ·»åŠ æ·¡å‡ºåŠ¨ç”»ï¼š 123456789let fade = CABasicAnimation(keyPath: "opacity")fade.fromValue = 1.0fade.toValue = 0.2fade.duration = 0.33fade.beginTime = CACurrentMediaTime() + 0.33fade.repeatCount = .infinityfade.autoreverses = truefade.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)dot.add(fade, forKey: "dotOpacity") ä¸ç¼©æ”¾åŠ¨ç”»çš„æŒç»­æ—¶é—´ç›¸åŒï¼Œä½†å»¶è¿Ÿ0.33ç§’ï¼Œé€æ˜åº¦ä»1.0åˆ°0.2ï¼Œå½“â€œæ³¢æµªâ€å……åˆ†ç§»åŠ¨åï¼Œå¼€å§‹æ·¡å‡ºæ•ˆæœã€‚ å½“ä¸¤ä¸ªåŠ¨ç”»åŒæ—¶è¿è¡Œæ—¶ï¼Œæ•ˆæœä¼šæ›´å¥½ä¸€ç‚¹ï¼š è‰²å½©åŠ¨ç”»è®¾ç½®ç‚¹èƒŒæ™¯é¢œè‰²å˜åŒ–åŠ¨ç”»ï¼Œåœ¨startSpeaking()æ·»åŠ ï¼š 12345678910let tint = CABasicAnimation(keyPath: "backgroundColor")tint.fromValue = UIColor.magenta.cgColortint.toValue = UIColor.cyan.cgColortint.duration = 0.66tint.beginTime = CACurrentMediaTime() + 0.28tint.fillMode = kCAFillModeBackwardstint.repeatCount = .infinitytint.autoreverses = truetint.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)dot.add(tint, forKey: "dotColor") ä¸‰ç§åŠ¨ç”»çš„æ•ˆæœï¼š CAReplicatorLayerçš„å±æ€§å‰é¢å·²ç»é€šè¿‡å¤åˆ¶å™¨å±‚åˆ¶ä½œäº†å¾ˆå¤šä»¤äººçœ¼èŠ±ç¼­ä¹±çš„æ•ˆæœã€‚ ç”±äºCAReplicatorLayeræœ¬èº«å°±æ˜¯ä¸€ä¸ªå›¾å±‚ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä¸ºå…¶è‡ªèº«çš„ä¸€äº›å±æ€§è®¾ç½®åŠ¨ç”»ã€‚ å¯ä»¥ä¸ºCAReplicatorLayerçš„åŸºæœ¬å±æ€§ï¼ˆå¦‚positionï¼ŒbackgroundColoræˆ–cornerRadiusï¼‰è®¾ç½®åŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¶ç‰¹æ®Šçš„å±æ€§è®¾ç½®éå¸¸é…·çš„åŠ¨ç”»ã€‚ CAReplicatorLayerç‰¹æœ‰çš„å¯åŠ¨ç”»å±æ€§åŒ…æ‹¬(å‰é¢å·²ç»ä»‹ç»è¿‡ä¸‰ä¸ª)ï¼š instanceDelayï¼š å‰¯æœ¬ä¹‹é—´çš„åŠ¨ç”»å»¶è¿ŸinstanceTransformï¼šå‰¯æœ¬ä¹‹é—´çš„è½¬æ¢instanceColorï¼š é¢œè‰²instanceRedOffsetï¼ŒinstanceGreenOffsetï¼ŒinstanceBlueOffsetï¼šåº”ç”¨å¢é‡ä»¥åº”ç”¨äºæ¯ä¸ªå®ä¾‹é¢œè‰²ç»„ä»¶instanceAlphaOffsetï¼š é€æ˜åº¦å¢é‡ åœ¨startSpeaking()çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªåŠ¨ç”»ï¼š 12345678let initialRotation = CABasicAnimation(keyPath: "instanceTransform.rotation")initialRotation.fromValue = 0.0initialRotation.toValue = 0.01initialRotation.duration = 0.33initialRotation.isRemovedOnCompletion = falseinitialRotation.fillMode = kCAFillModeForwardsinitialRotation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)replicator.add(initialRotation, forKey: "initialRotation") ä¸Šé¢åªæ˜¯æœ‰ä¸€ä¸ªå¾®å°çš„æ—‹è½¬ï¼Œæ•ˆæœï¼š å†éœ€è¦ä¸€ä¸ªä¸Šä¸‹æ‰­åŠ¨çš„æ•ˆæœï¼Œæ·»åŠ ä¸‹é¢çš„åŠ¨ç”»ä»¥å®Œæˆæ•ˆæœï¼š 123456789let rotation = CABasicAnimation(keyPath: "instanceTransform.rotation")rotation.fromValue = 0.01rotation.toValue = -0.01rotation.duration = 0.99rotation.beginTime = CACurrentMediaTime() + 0.33rotation.repeatCount = .infinityrotation.autoreverses = truerotation.timingFunction = CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseInEaseOut)replicator.add(rotation, forKey: "replicatorRotation") è¿™æ˜¯åœ¨instanceTransform.rotationä¸Šè¿è¡Œç¬¬äºŒä¸ªåŠ¨ç”»ï¼Œå®ƒåœ¨ä¹‹å‰ç¬¬ä¸€ä¸ªåŠ¨ç”»å®Œæˆåå¯åŠ¨ã€‚å°†æ—‹è½¬ä»0.01å¼§åº¦ï¼ˆç¬¬ä¸€ä¸ªåŠ¨ç”»çš„æœ€ç»ˆå€¼ï¼‰è®¾ç½®åˆ°-0.01å¼§åº¦ï¼Œè¿™å°±æœ‰äº†æ‰­åˆ°çš„æ•ˆæœï¼ˆä¸åŒæ–¹å‘çš„æ—‹è½¬ï¼‰ã€‚æ•ˆæœï¼š ä¸‹é¢æ¨¡æ‹Ÿè¯­éŸ³åŠ©æ‰‹ï¼Œå‡è£…å›å•ã€‚startSpeaking()çš„å¼€å§‹å¤„æ·»åŠ ï¼š 123meterLabel.text = assistant.randomAnswer()assistant.speak(meterLabel.text!, completion: endSpeaking)speakButton.isHidden = true ä»Assistantç±»ä¸­éšæœºè·å¾—ä¸€ä¸ªç­”æ¡ˆï¼Œç„¶ååœ¨meterLabelä¸Šæ˜¾ç¤ºï¼Œå¹¶ä¸”è¯»å¤„ç­”æ¡ˆï¼Œè¯»å®Œåè°ƒç”¨endSpeakingæ–¹æ³•ã€‚è¿™æ˜¯è¿‡ç¨‹ä¸­æŒ‰é’®éœ€è¦éšè—ã€‚ ä¹‹åï¼Œéœ€è¦åˆ é™¤æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ï¼Œåœ¨endSpeaking()ä¸­æ·»åŠ ï¼š 1replicator.removeAllAnimations() æ¥ä¸‹æ¥ï¼Œéœ€è¦å°†ç‚¹å›¾å±‚â€œä¼˜é›…â€åœ°è®¾ç½®ä¸ºåŸå§‹æ¯”ä¾‹çš„åŠ¨ç”»ï¼Œ åœ¨endSpeaking()ç»§ç»­ä¸­æ·»åŠ ï¼š 123456let scale = CABasicAnimation(keyPath: "transform")scale.toValue = NSValue(caTransform3D: CATransform3DIdentity)scale.duration = 0.33scale.isRemovedOnCompletion = falsescale.fillMode = kCAFillModeForwardsdot.add(scale, forKey: nil) ä¸Šé¢çš„åŠ¨ç”»ï¼Œæ²¡æœ‰æŒ‡å®šfromValue ï¼Œä¼šä»å½“å‰å€¼å¼€å§‹åŠ¨ç”»ï¼Œå˜æ¢ä¸ºCATransform3DIdentiyã€‚ æœ€åï¼Œåˆ é™¤dotä¸­å½“å‰æ­£åœ¨è¿è¡Œçš„å…¶ä½™åŠ¨ç”»ï¼Œå¹¶æ¢å¤è¯´è¯æŒ‰é’®çŠ¶æ€ã€‚ åœ¨endSpeaking()ç»§ç»­ä¸­æ·»åŠ ï¼š 1234dot.removeAnimation(forKey: "dotColor")dot.removeAnimation(forKey: "dotOpacity")dot.backgroundColor = UIColor.lightGray.cgColorspeakButton.isHidden = false æœ¬èŠ‚çš„æ•ˆæœï¼š äº¤äº’å¼å¤åˆ¶åŠ¨ç”»å‰é¢è¿™æœ‰Iriså›ç­”æ—¶ï¼Œæ‰ä¼šæœ‰å¯¹åº”æ³¢åŠ¨åŠ¨ç”»ã€‚è¿™ä¸€èŠ‚è¦åšçš„æ˜¯ï¼Œå½“ç”¨æˆ·æŒ‰ä½æŒ‰é’®è¯´è¯ï¼ˆé—®é—®é¢˜ï¼‰æ—¶ä¹Ÿå°±å¯¹åº”æ³¢åŠ¨åŠ¨ç”»ã€‚ åœ¨actionStartMonitoring()ä¸­æ·»åŠ ï¼š 1234dot.backgroundColor = UIColor.green.cgColormonitor.startMonitoringWithHandler &#123; (level) in self.meterLabel.text = String(format: "%.2f db", level)&#125; å½“ç”¨æˆ·æŒ‰ä¸‹è¯´è¯æŒ‰é’®æ—¶ï¼Œè§¦å‘actionStartMonitoringã€‚ä¸ºäº†è¡¨ç¤ºâ€œæ­£åœ¨æ”¶å¬â€ï¼Œå°†ç‚¹å›¾å±‚é¢œè‰²æ›´æ”¹ä¸ºç»¿è‰²ã€‚ ç„¶ååœ¨ç›‘è§†å™¨å®ä¾‹ä¸Šè°ƒç”¨startMonitoringWithHandler()ï¼Œå®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…å—ï¼Œä¼šè¢«é‡å¤æ‰§è¡Œï¼Œè·å–éº¦å…‹é£åˆ†è´æ•°(db)ã€‚ è¿™è¾¹çš„åˆ†è´æ•°å’Œæˆ‘ä»¬å¹³å¸¸è§åˆ°åˆ†è´æ•°èŒƒå›´æœ‰ç‚¹ä¸åŒï¼Œ å®ƒçš„å€¼åœ¨-160.0 dbåˆ°0.0 dbçš„èŒƒå›´å†…ï¼Œ-160.0 dbæ˜¯æœ€å®‰é™çš„ï¼Œ0.0 dbæ„å‘³ç€éå¸¸å¤§çš„å£°éŸ³ã€‚ å‘ä¸Šé¢çš„é—­åŒ…ä¸­æ·»åŠ ä¸€æ®µä»£ç ï¼Œæ·»åŠ å®Œå¦‚ä¸‹ï¼š 1234monitor.startMonitoringWithHandler &#123; (level) in self.meterLabel.text = String(format: "%.2f db", level) let scaleFactor = max(0.2, CGFloat(level) + 50) / 2&#125; scaleFactorå°†å­˜å‚¨ä»‹äº0.1å’Œ25.0ä¹‹é—´çš„å€¼ã€‚ åœ¨ViewControlleræ–°åŠ ä¸€ä¸ªå±æ€§ï¼š 1var lastTransformScale: CGFloat = 0.0 å¯¹äºç¼©æ”¾åŠ¨ç”»ï¼Œæ¯”ä¾‹ä¸æ–­å˜åŒ–çš„ï¼ŒlastTransformScaleä¿å­˜æœ€åä¸€ä¸ªç¼©æ”¾å€¼ã€‚ åœ¨ä¸Šé¢çš„éº¦å…‹é£å¤„ç†é—­åŒ…ä¸­æ·»åŠ ç”¨æˆ·å£°éŸ³åŠ¨ç”»ï¼š 1234567let scale = CABasicAnimation(keyPath: "transform.scale.y")scale.fromValue = self.lastTransformScalescale.toValue = scaleFactorscale.duration = 0.1scale.isRemovedOnCompletion = falsescale.fillMode = kCAFillModeForwardsself.dot.add(scale, forKey: nil) æœ€åï¼Œä¿å­˜lastTransformScaleï¼Œæ¥ç€ä¸Šé¢çš„ä»£ç æ·»åŠ ï¼š 1self.lastTransformScale = scaleFactor å½“ç”¨æˆ·æ‰‹æŒ‡ç¦»å¼€æŒ‰é’®æ—¶ï¼Œéœ€è¦é‡ç½®åŠ¨ç”»å¹¶åœæ­¢ç›‘å¬éº¦å…‹é£ã€‚ åœ¨actionEndMonitoring()å¼€å§‹å¤„æ·»åŠ ï¼š 12monitor.stopMonitoring()dot.removeAllAnimations() è¿™ä¸ªæ—¶å€™ï¼Œæ•ˆæœï¼š å¹³æ»‘éº¦å…‹é£è¾“å…¥å’ŒIrisåŠ¨ç”»ä¹‹é—´çš„è¿‡æ¸¡ä»”ç»†ä¹‹å‰çš„æ•ˆæœï¼Œæˆ‘å‘ç°ç”¨æˆ·éº¦å…‹é£è¾“å…¥åŠ¨ç”»å’ŒIrisåŠ¨ç”»ä¹‹é—´æ˜¯æ²¡æœ‰è¿‡æ¸¡ï¼Œæ˜¯ç›´æ¥è·³è¿‡ã€‚è¿™æ˜¯actionEndMonitoring()ä¸­çš„dot.removeAllAnimations()é€ æˆçš„ã€‚ æŠŠdot.removeAllAnimations()æ›¿ä»£ä¸ºï¼š 1234567891011121314151617// éº¦å…‹é£è¾“å…¥å’ŒIrisåŠ¨ç”»ä¹‹é—´çš„è¿‡æ¸¡let scale = CABasicAnimation(keyPath: "transform.scale.y")scale.fromValue = lastTransformScalescale.toValue = 1.0scale.duration = 0.2scale.isRemovedOnCompletion = falsescale.fillMode = kCAFillModeForwardsdot.add(scale, forKey: nil)dot.backgroundColor = UIColor.magenta.cgColorlet tint = CABasicAnimation(keyPath: "backgroundColor")tint.fromValue = UIColor.green.cgColortint.toValue = UIColor.magenta.cgColortint.duration = 1.2tint.fillMode = kCAFillModeBackwardsdot.add(tint, forKey: nil) æœ¬ç« æœ€åçš„æ•ˆæœï¼š]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
        <tag>å›¾å±‚åŠ¨ç”»</tag>
        <tag>Layer Animations</tag>
        <tag>æ ¸å¿ƒåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹äºŒï¼šè‡ªåŠ¨å¸ƒå±€]]></title>
    <url>%2F2018%2FiOS-Animation-2-Auto-Layout.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ è‡ªåŠ¨å¸ƒå±€(Auto Layout) åœ¨iOS 6ä¸­é¦–æ¬¡æ¨å‡ºï¼Œå·²ç»å­˜åœ¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ¯æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬çš„iOSå’ŒXcodeéƒ½ç»å†äº†ä¸€ç³»åˆ—æˆåŠŸçš„è¿­ä»£ã€‚ è‡ªåŠ¨å¸ƒå±€èƒŒåçš„æ ¸å¿ƒç†å¿µéå¸¸ç®€å•ï¼šå®ƒå…è®¸æ‚¨æ ¹æ®å¸ƒå±€ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹‹é—´åˆ›å»ºçš„å…³ç³»æ¥å®šä¹‰åº”ç”¨ç¨‹åºçš„UIå…ƒç´ çš„å¸ƒå±€ã€‚ æˆ‘ä»¬å¹³å¸¸å¼€å‘æ—¶å·²å°†è‡ªåŠ¨å¸ƒå±€ç”¨äºé™æ€çš„å¸ƒå±€ï¼Œåœ¨æœ¬æ–‡ä¸­å°†å­¦ä¹ ä½¿ç”¨çº¦æŸæ¥è®¾ç½®åŠ¨ç”»ã€‚ 6-è‡ªåŠ¨å¸ƒå±€çš„ä»‹ç»æœ¬ç« èŠ‚æ˜¯ç”¨è‡ªåŠ¨å¸ƒå±€å®Œæˆä¸‹ä¸€ç« èŠ‚éœ€è¦ä½¿ç”¨çš„é¡¹ç›®Packing List ã€‚å…³äºè‡ªåŠ¨å¸ƒå±€ï¼Œå¯å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 3 ä»‹ç»Auto Layoutï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚ 7-çº¦æŸåŠ¨ç”»çº¦æŸåŠ¨ç”»(Animating Constraints)å¹¶ä¸æ¯”å±æ€§åŠ¨ç”»å›°éš¾; å®ƒåªæ˜¯æœ‰ç‚¹ä¸åŒã€‚ é€šå¸¸ï¼Œåªéœ€ä½¿ç”¨æ–°çº¦æŸæ›¿æ¢ç°æœ‰çº¦æŸï¼Œç„¶åè®©Auto Layoutä¸ºä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„UIè®¾ç½®åŠ¨ç”»å°±å¯ä»¥äº†ã€‚ è®¾ç½®çº¦æŸåŠ¨ç”»å¼€å§‹é¡¹ç›®Packing Listå¤§æ¦‚å¦‚ä¸‹ï¼š å¯¼èˆªæ é«˜åº¦å˜åŒ–åœ¨ViewControllerä¸­æ·»åŠ çº¦æŸæ¥å£ï¼š 1@IBOutlet weak var menuHeightConstraint: NSLayoutConstraint! å¹¶è®©å®ƒä¸å¯¼èˆªæ è§†å›¾çš„é«˜åº¦çº¦æŸå…³è”ï¼š åœ¨å³ä¸Šè§’åŠ å·æŒ‰é’®çš„Actionæ–¹æ³•actionToggleMenu()ä¸­æ·»åŠ ï¼š 123isMenuOpen = !isMenuOpenmenuHeightConstraint.constant = isMenuOpen ? 200.0 : 60.0titleLabel.text = isMenuOpen ? "Select Item" : "Packing Listâ€ ç‚¹å‡»åŠ å·æŒ‰é’®åå¯¼èˆªæ é«˜åº¦å˜å¤§ï¼Œå¹¶ä¸”titleå˜åŒ–ã€‚ å¸ƒå±€å˜åŒ–çš„åŠ¨ç”»ç»§ç»­åœ¨actionToggleMenu()æ·»åŠ å¸ƒå±€å˜åŒ–çš„å¼¹ç°§åŠ¨ç”»ï¼š 1234UIView.animate(withDuration: 1.0, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 10.0, options: .curveEaseIn, animations: &#123; // å¼ºåˆ¶æ›´æ–°å¸ƒå±€ self.view.layoutIfNeeded()&#125;, completion: nil) åœ¨menuHeightConstraint.constant = isMenuOpen ? 200.0 : 60.0å·²ç»æ›´æ–°äº†çº¦æŸå€¼ï¼Œä½†iOSè¿˜æ²¡æœ‰æœºä¼šæ›´æ–°å¸ƒå±€ã€‚é€šè¿‡ä»åŠ¨ç”»é—­åŒ…ä¸­è°ƒç”¨layoutIfNeeded()å¼ºåˆ¶æ›´æ–°å¸ƒå±€ï¼Œå¯ä»¥è®¾ç½®å¸ƒå±€ä¸­æ¶‰åŠçš„æ¯ä¸ªè§†å›¾çš„ä¸­å¿ƒå’Œè¾¹ç•Œã€‚æ¯”å¦‚table viewä¹Ÿéšç€Menuçš„æ”¶ç¼©æˆ–å¢å¤§è€Œæ”¶ç¼©æˆ–å¢å¤§ï¼Œè¿™å°±æ˜¯çº¦æŸçš„æ•ˆæœï¼Œç°åœ¨ç›¸å½“äºä¸€æ¬¡è®¾ç½®ä¸¤ä¸ªåŠ¨ç”»ğŸ˜Šã€‚ æ•ˆæœï¼š æ—‹è½¬è®©+æ—‹è½¬45Â°å˜æˆxåœ¨ä¸Šé¢çš„åŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ ï¼š 12let angle: CGFloat = self.isMenuOpen ? .pi/4 : 0.0self.buttonMenu.transform = CGAffineTransform(rotationAngle: angle) æŸ¥çœ‹çº¦æŸç›´æ¥ç”¨å¯è§†åŒ–çš„æ–¹å¼ä¸ºè§†å›¾çº¦æŸæ·»åŠ ä»£ç æ¥å£ï¼ˆoutletï¼‰æ˜¯ç›¸å¯¹ç®€å•çš„æ–¹å¼ã€‚æœ‰çš„æ—¶å€™ä¸æ–¹ä¾¿åœ¨Interfa Builderä½¿ç”¨Control-dragæ–¹å¼æ·»åŠ æ¥å£æˆ–è€…ä¸æ–¹ä¾¿æ·»åŠ æœ‰å¤ªå¤šoutletï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨UIViewæä¾›çš„constraintså±æ€§ï¼Œå®ƒæ˜¯å½“å‰è§†å›¾æ‰€æœ‰çº¦æŸçš„æ•°ç»„ã€‚ æ¯”å¦‚ä¸‹é¢ä»£ç ï¼š 123titleLabel.superview?.constraints.forEach &#123; constraint in print("-&gt; \(constraint.description)\n")&#125; æ‰“å°ç»“æœï¼š 123456789-&gt; &lt;NSLayoutConstraint:0x600002d04320 UIView:0x7ff7df530c00.height == 200 (active)&gt;-&gt; &lt;NSLayoutConstraint:0x600002d02210 UILabel:0x7ff7df525350'Select Item'.centerX == UIView:0x7ff7df530c00.centerX (active)&gt;-&gt; &lt;NSLayoutConstraint:0x600002d02a30 UILabel:0x7ff7df525350'Select Item'.centerY == UIView:0x7ff7df530c00.centerY + 5 (active)&gt;-&gt; &lt;NSLayoutConstraint:0x600002d02d00 H:[UIButton:0x7ff7df715d20'+']-(8)-| (active, names: '|':UIView:0x7ff7df530c00 )&gt;-&gt; &lt;NSLayoutConstraint:0x600002d030c0 UIButton:0x7ff7df715d20'+'.centerY == UILabel:0x7ff7df525350'Select Item'.centerY (active)&gt; çœ‹ä¸Šå»æœ‰ç‚¹ä¹±ï¼Œä¸è¿‡ä»”ç»†çœ‹è¿˜æ˜¯èƒ½çœ‹å‡ºæœ‰äº”ä¸ªçº¦æŸåˆ†åˆ«å¯¹åº”äºï¼š è®¾ç½®UILabelçš„çº¦æŸåŠ¨ç”»åœ¨ actionToggleMenu()çš„isMenuOpen = !isMenuOpenä¸‹æ·»åŠ ï¼š 123456titleLabel.superview?.constraints.forEach &#123; constraint in if constraint.firstItem === titleLabel &amp;&amp; constraint.firstAttribute == .centerX &#123; constraint.constant = isMenuOpen ? -100.0 : 0.0 return &#125;&#125; çº¦æŸè¡¨è¾¾å¼çš„é€šç”¨å½¢å¼å¦‚ä¸‹ï¼š 1firstItem.firstItemAttribute == secondItem.secondItemAttribute * multiplier + constant å¯¹åº”äº NSLayoutConstraintçš„å„ç§å±æ€§ï¼Œåå­—çœ‹ç€å¾ˆæ˜æ˜¾ï¼Œå…¶ä¸­==å¯¹åº”äºå±æ€§relationï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯&lt;=ã€&gt;=ç­‰ã€‚ å®é™…ä¾‹å­ï¼š 1Superview.CenterX = 1.0 * UILabel.CenterX + 0.0 è¿™è¾¹çš„æ•ˆæœï¼š æ›¿ä»£çº¦æŸæ¯ä¸ªçº¦æŸå¯ä»¥æ·»åŠ  Identifierå±æ€§ï¼Œåœ¨ä»£ç ä¸­å°±å¯ä»¥é€šè¿‡ Identifierè·å–è¿™ä¸ªçº¦æŸã€‚ ç»§ç»­åœ¨ä¸Šé¢çš„çº¦æŸåæ·»åŠ ï¼š 1234567if constraint.identifier == "TitleCenterY" &#123; constraint.isActive = false let newConstraint = NSLayoutConstraint(item: titleLabel, attribute: .centerY, relatedBy: .equal, toItem: titleLabel.superview!, attribute: .centerY, multiplier: isMenuOpen ? 0.67 : 1.0, constant: 5.0) newConstraint.identifier = "TitleCenterY" newConstraint.isActive = true return&#125; æ–°åŠ çš„çº¦æŸå¯ä»¥è¡¨ç¤ºä¸ºTitle.CenterY = Menu.CenterY * 0.67 + 0.0ï¼Œå›¾ç¤ºï¼š è¿è¡Œåæ•ˆæœï¼š æ·»åŠ å¯¼èˆªæ å†…å®¹åœ¨ actionToggleMenu()ä¸­æ·»åŠ ï¼š 123456789101112if isMenuOpen &#123; slider = HorizontalItemList(inView: view) slider.didSelectItem = &#123; index in print("add \(index)") self.items.append(index) self.tableView.reloadData() self.actionToggleMenu(self) &#125; self.titleLabel.superview!.addSubview(slider)&#125; else &#123; slider.removeFromSuperview()&#125; HorizontalItemListæ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªUIScrollViewå­ç±»ï¼Œç”¨äºmenuä¸­å·¦å³æ»šåŠ¨çš„è§†å›¾ï¼Œ åŠ¨æ€åˆ›å»ºè§†å›¾å½“ç‚¹å‡»TableViewçš„cellæ—¶ï¼Œä¼šè°ƒç”¨showItem(_:)ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ·»åŠ ï¼š 1234567// ç‚¹å‡»ååˆ›é€ å›¾ç‰‡let imageView = UIImageView(image: UIImage(named: "summericons_100px_0\(index).png"))imageView.backgroundColor = UIColor(red: 0.0, green: 0.0, blue: 0.0, alpha: 0.5)imageView.layer.cornerRadius = 5.0imageView.layer.masksToBounds = trueimageView.translatesAutoresizingMaskIntoConstraints = falseview.addSubview(imageView) æ·»åŠ çº¦æŸä»£ç ï¼š 1let conx = imageView.centerXAnchor.constraint(equalTo: view.centerXAnchor) æ­¤æ–¹æ³•ä½¿ç”¨æ–°çš„NSLayoutAnchorç±»ï¼Œè¿™ä½¿å¾—åˆ›å»ºå¸¸è§çº¦æŸéå¸¸å®¹æ˜“ã€‚ åœ¨è¿™é‡Œï¼Œæ‚¨å°†åœ¨å›¾åƒè§†å›¾çš„ä¸­å¿ƒxé”šç‚¹å’Œè§†å›¾æ§åˆ¶å™¨çš„è§†å›¾ä¹‹é—´åˆ›å»ºçº¦æŸã€‚ æ·»åŠ å›¾ç‰‡åº•éƒ¨çº¦æŸï¼š 1let conBottom = imageView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: imageView.frame.height) æ­¤çº¦æŸè®¾ç½®å›¾åƒè§†å›¾çš„åº•éƒ¨ä»¥åŒ¹é…è§†å›¾æ§åˆ¶å™¨è§†å›¾çš„åº•éƒ¨ï¼ŒåŠ ä¸Šå›¾åƒé«˜åº¦; è¿™ä¼šå°†å›¾åƒå®šä½åœ¨å±å¹•åº•éƒ¨è¾¹ç¼˜ä¹‹å¤–ï¼Œè¿™å°†ä½œä¸ºåŠ¨ç”»çš„èµ·ç‚¹ã€‚ æ·»åŠ å›¾ç‰‡å®½åº¦çº¦æŸï¼š 1let conWidth = imageView.widthAnchor.constraint(equalTo: view.widthAnchor, multiplier: 0.33, constant: -50.0) è¿™å°†å›¾åƒå®½åº¦è®¾ç½®ä¸ºå±å¹•å®½åº¦çš„1/3å‡å»50ç£…ã€‚ ç›®æ ‡å°ºå¯¸æ˜¯å±å¹•çš„1/3; ä½ å°†åŠ¨ç”»50ç£…çš„å·®å¼‚ï¼Œä½¿å›¾åƒâ€œæˆé•¿â€åˆ°ä½ã€‚ æœ€åï¼Œæ·»åŠ é«˜åº¦å’Œå®½åº¦ç›¸ç­‰çº¦æŸï¼Œå¹¶æ¿€æ´»ä¸Šé¢æ‰€æœ‰çº¦æŸï¼š 12let conHeight = imageView.heightAnchor.constraint(equalTo: imageView.widthAnchor)NSLayoutConstraint.activate([conx, conBottom, conWidth, conHeight]) æ­¤æ—¶ç‚¹å‡»TableViewçš„Cellï¼Œåªèƒ½çœ‹åˆ°ä¸‹é¢ï¼š ä¸ºåŠ¨æ€åˆ›å»ºçš„è§†å›¾åˆ›å»ºåŠ¨ç”»åœ¨showItem(_:)æ·»åŠ ï¼š 12345UIView.animate(withDuration: 0.8, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 0.0, animations: &#123; conBottom.constant = -imageView.frame.size.height/2 conWidth.constant = 0.0 self.view.layoutIfNeeded()&#125;, completion: nil) ä½†æ˜¯æ­¤æ—¶çš„æ•ˆæœæ˜¯ï¼š æƒ³ä¸€æƒ³ï¼šæ·»åŠ äº†ä¸€ä¸ªè§†å›¾ï¼Œè®¾ç½®äº†ä¸€äº›çº¦æŸï¼Œç„¶åæ”¹å˜äº†è¿™äº›çº¦æŸå¹¶è®¾ç½®äº†å¸ƒå±€å˜åŒ–çš„åŠ¨ç”»ã€‚ ä½†æ˜¯ï¼Œè§†å›¾ä»æœªæœ‰æœºä¼šæ‰§è¡Œå…¶åˆå§‹å¸ƒå±€ï¼Œå› æ­¤å›¾åƒä»å…¶å·¦ä¸Šè§’çš„(0, 0)çš„é»˜è®¤ä½ç½®å¼€å§‹ğŸ™„ã€‚ è¦è§£å†³æ­¤é—®é¢˜ï¼Œåªè¦åœ¨åŠ¨ç”»å¼€å§‹ä¹‹å‰è¿›è¡Œåˆå§‹å¸ƒå±€ï¼Œåœ¨åŠ¨ç”»å‰æ·»åŠ ï¼š 1view.layoutIfNeeded() æ•ˆæœå˜æˆä»ä¸‹é¢ä¸Šæ¥ï¼š ç§»å‡ºå·²ç»å‡ºç°çš„å›¾ç‰‡ä¸Šé¢çš„å¼¹å‡ºå›¾ç‰‡ä¼šé‡å åœ¨ä¸€èµ·ï¼Œä¸‹ä¸ªå›¾ç‰‡å‡ºæ¥ä¹‹å‰ï¼Œéœ€è¦æŠŠä¸Šä¸€ä¸ªå›¾ç‰‡ç§»å‡ºã€‚ åœ¨ä¹‹å‰çš„ä»£ç ä¸‹æ·»åŠ ï¼š 1234567UIView.animate(withDuration: 0.8, delay: 1.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 0.0, animations: &#123; conBottom.constant = imageView.frame.size.height conWidth.constant = -50.0 self.view.layoutIfNeeded() &#125;) &#123; (_) in imageView.removeFromSuperview() &#125; æ•ˆæœä¸ºï¼šğŸ˜]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
        <tag>è‡ªåŠ¨å¸ƒå±€</tag>
        <tag>Auto Layout</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸€ï¼šè§†å›¾åŠ¨ç”»]]></title>
    <url>%2F2018%2FiOS-Animation-1-view-animation.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯æˆ‘å­¦ä¹ ã€ŠiOS Animations by Tutorialsã€‹ ç¬”è®°ä¸­çš„ä¸€ç¯‡ã€‚æ–‡ä¸­è¯¦ç»†ä»£ç éƒ½æ”¾åœ¨æˆ‘çš„Githubä¸Š andyRon/LearniOSAnimationsã€‚ è¿™ä¸ªéƒ¨åˆ†ä»‹ç»UIKitåŠ¨ç”»APIï¼Œè¿™äº›APIä¸“é—¨ç”¨äºè½»æ¾åˆ¶ä½œè§†å›¾åŠ¨ç”»(View Animations)ï¼ŒåŒæ—¶é¿å…æ ¸å¿ƒåŠ¨ç”»(Core Animation)(è§ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸‰ï¼šå›¾å±‚åŠ¨ç”»)çš„å¤æ‚æ€§ã€‚ UIKitåŠ¨ç”»APIä¸ä»…æ˜“äºä½¿ç”¨ï¼Œè€Œä¸”æä¾›äº†å¤§é‡çµæ´»æ€§å’Œå¼ºå¤§åŠŸèƒ½ï¼Œå¯ä»¥å¤„ç†å¤§å¤šæ•°ï¼ˆå½“ç„¶ä¸æ˜¯å…¨éƒ¨ï¼‰åŠ¨ç”»è¦æ±‚ã€‚ UIKitåŠ¨ç”»APIå¯ä»¥åœ¨å±å¹•ä¸Šä¸ºæœ€ç»ˆç»§æ‰¿è‡ªUIViewçš„ä»»ä½•å¯¹è±¡è®¾ç½®åŠ¨ç”»ï¼Œä¾‹å¦‚ï¼šUILabelï¼ŒUIImageViewï¼ŒUIButtonç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±åˆ›å»ºçš„ä»»ä½•è‡ªå®šä¹‰æœ€ç»ˆç»§æ‰¿è‡ªUIViewç±»ã€‚ æœ¬æ–‡åŒ…æ‹¬äº”ä¸ªç« èŠ‚ï¼Œå®Œæˆä¸¤ä¸ªé¡¹ç›®BahamaAirLoginScreenå’ŒFlight Infoã€‚ BahamaAirLoginScreen æ˜¯ä¸€ä¸ªç™»å½•é¡µé¢é¡¹ç›®ï¼Œ1ã€2ã€3ç« èŠ‚ä¸ºè¿™ä¸ªé¡¹ç›®çš„ä¸€äº›UIæ·»åŠ å„ç§åŠ¨ç”»ã€‚ 1-è§†å›¾åŠ¨ç”»å…¥é—¨ â€”â€” å­¦ä¹ å¦‚ä½•ç§»åŠ¨ï¼Œç¼©æ”¾å’Œæ·¡åŒ–è§†å›¾ç­‰åŸºæœ¬çš„UIKit APIã€‚2-å¼¹ç°§åŠ¨ç”» â€”â€” åœ¨çº¿æ€§åŠ¨ç”»çš„æ¦‚å¿µåŸºç¡€ä¸Šï¼Œä½¿ç”¨å¼¹ç°§åŠ¨ç”»åˆ›é€ å‡ºæ›´å¼•äººæ³¨ç›®çš„æ•ˆæœã€‚ğŸ˜Š3-è¿‡æ¸¡åŠ¨ç”» â€”â€” è§†å›¾çš„å‡ºç°å’Œæ¶ˆå¤±ã€‚ Flight Info æ˜¯ä¸€ä¸ªèˆªç­çŠ¶æ€å˜åŒ–é¡¹ç›®ï¼Œ4ã€5ç« èŠ‚ç”¨ä¸€äº›é«˜çº§ä¸€ç‚¹åŠ¨ç”»æ¥å®Œæˆè¿™ä¸ªé¡¹ç›®ã€‚ 4-ç»ƒä¹ è§†å›¾åŠ¨ç”» â€”â€” ç»ƒä¹ å‰é¢å­¦åˆ°çš„åŠ¨ç”»æŠ€æœ¯ã€‚5-å…³é”®å¸§åŠ¨ç”» â€”â€” ä½¿ç”¨å…³é”®å¸§åŠ¨ç”»æ¥åˆ›å»ºç”±è®¸å¤šä¸åŒé˜¶æ®µç»„æˆçš„å¤æ‚åŠ¨ç”»ã€‚ 1-è§†å›¾åŠ¨ç”»å…¥é—¨ç¬¬ä¸€ä¸ªåŠ¨ç”»å¼€å§‹é¡¹ç›® BahamaAirLoginScreenæ˜¯ä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢ï¼Œæœ‰ä¸¤ä¸ªTextFieldï¼Œä¸€ä¸ªLabelï¼Œä¸€ä¸ªButtonï¼Œ4ä¸ªäº‘å›¾ç‰‡å’Œä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š è®©Labelå’Œä¸¤ä¸ªTextFieldåœ¨è§†å›¾æ˜¾ç¤ºä¹‹å‰ç§»åŠ¨åˆ°å±å¹•å¤–ã€‚åœ¨viewWillAppear()ä¸­æ·»åŠ ï¼š 123heading.center.x -= view.bounds.widthusername.center.x -= view.bounds.widthpassword.center.x -= view.bounds.width æ·»åŠ Labelå’Œä¸¤ä¸ªTextFieldè¿›å…¥å±å¹•çš„åŠ¨ç”»ï¼Œåœ¨viewDidAppear()ä¸­æ·»åŠ ï¼š 1234567891011121314151617UIView.animate(withDuration: 0.5) &#123; self.heading.center.x += self.view.bounds.width&#125;UIView.animate(withDuration: 0.5, delay: 0.3, options: [], animations: &#123; self.username.center.x += self.view.bounds.width &#125;, completion: nil)UIView.animate(withDuration: 0.5, delay: 0.4, options: [], animations: &#123; self.password.center.x += self.view.bounds.width &#125;, completion: nil) è¿™æ ·headingå’ŒTextFieldå°±æœ‰äº†å‰ååˆ†åˆ«è¿›å…¥å±å¹•çš„åŠ¨ç”»ã€‚ ç±»ä¼¼UIView.animate(...)çš„æ–¹æ³•ï¼Œæ ¹æ®å‚æ•°çš„ä¸åŒæœ‰å¥½å‡ ä¸ªï¼Œä¸åŒå‚æ•°çš„æ„ä¹‰ï¼š withDuration ï¼šåŠ¨ç”»æŒç»­æ—¶é—´ã€‚ delay ï¼šåŠ¨ç”»å¼€å§‹ä¹‹å‰çš„å»¶è¿Ÿæ—¶é—´ã€‚ options ï¼šUIView.AnimationOptionsçš„æ•°ç»„ï¼Œç”¨æ¥å®šä¹‰åŠ¨ç”»çš„å˜åŒ–å½¢å¼ï¼Œä¹‹åä¼šè¯¦ç»†è¯´æ˜ã€‚ animations ï¼šæä¾›åŠ¨ç”»çš„é—­åŒ…ï¼Œä¹Ÿå°±æ˜¯åŠ¨ç”»ä»£ç ã€‚ completion ï¼šåŠ¨ç”»æ‰§è¡Œå®Œæˆåçš„é—­åŒ… ã€‚ è¿˜æœ‰ usingSpringWithDampingå’ŒinitialSpringVelocityä¹‹åç« èŠ‚ä¼šæåˆ°ã€‚ å¯åŠ¨ç”»å±æ€§å‰é¢ï¼Œä½¿ç”¨centeråˆ›å»ºç®€å•çš„ä½ç½®å˜åŒ–è§†å›¾åŠ¨ç”»ã€‚ å¹¶éæ‰€æœ‰è§†å›¾å±æ€§éƒ½å¯ä»¥è®¾ç½®åŠ¨ç”»ï¼Œä½†æ‰€æœ‰è§†å›¾åŠ¨ç”»ï¼ˆä»æœ€ç®€å•åˆ°æœ€å¤æ‚ï¼‰éƒ½å¯ä»¥é€šè¿‡åŠ¨ç”»è§†å›¾ä¸Šçš„å±æ€§æ¥æ„å»ºã€‚ä¸‹é¢æ¥çœ‹çœ‹å¯ç”¨äºåŠ¨ç”»çš„å±æ€§æœ‰å“ªäº›ï¼š ä½ç½®çš„å¤§å°bounds frame center å¤–å½¢(Appearance)backgroundColoralpha : å¯åˆ›å»ºæ·¡å…¥å’Œæ·¡å‡ºæ•ˆæœã€‚ è½¬æ¢(Transformation)transform ï¼š è®¾ç½®è§†å›¾çš„æ—‹è½¬ï¼Œç¼©æ”¾å’Œ/æˆ–ä½ç½®çš„åŠ¨ç”»ã€‚ è¿™äº›çœ‹èµ·æ¥åƒæ˜¯éå¸¸åŸºæœ¬çš„åŠ¨ç”»ï¼Œå¯ä»¥åˆ¶ä½œä»¤äººæƒŠè®¶çš„å¤æ‚åŠ¨ç”»æ•ˆæœï¼ğŸ˜‰ åŠ¨ç”»é€‰é¡¹åŠ¨ç”»é€‰é¡¹(Animation options)å°±æ˜¯ä¹‹å‰æåˆ°çš„optionså‚æ•°ï¼Œå®ƒæ˜¯UIView.AnimationOptionsçš„æ•°ç»„ã€‚UIView.AnimationOptionsæ˜¯ç»“æ„ä½“ï¼Œæœ‰å¾ˆå¤šå¸¸é‡å€¼ï¼Œå…·ä½“å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ ã€‚ ä¸‹é¢è¯´æ˜å‡ ä¸ªå¸¸ç”¨çš„ é‡å¤.repeat ï¼šåŠ¨ç”»ä¸€ç›´é‡å¤ã€‚ .autoreverse ï¼šå¦‚æœä»…æœ‰.repeatå‚æ•°åŠ¨ç”»çš„è¿‡ç¨‹ï¼Œå°±åƒæ˜¯ b-&gt;e b-&gt;e ...ï¼Œè€Œæœ‰äº†.autoreverseï¼ŒåŠ¨ç”»è¿‡ç¨‹å°±åƒæ˜¯b-&gt;e-&gt;b-&gt;e ...ã€‚çœ‹ä¸‹å›¾å¾ˆå®¹æ˜“çœ‹å‡ºåŒºåˆ«ã€‚ åŠ¨ç”»ç¼“åŠ¨Animation easingï¼Œæˆ‘æš‚ä¸”æŠŠå®ƒå«åš åŠ¨ç”»ç¼“åŠ¨ã€‚ curve:å¼¯æ›²ï¼›ä½¿å¼¯æ›²ã€‚easeï¼šå‡è½»ï¼Œç¼“å’Œã€‚ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œäº‹ç‰©å¹¶ä¸åªæ˜¯çªç„¶å¼€å§‹æˆ–åœæ­¢ç§»åŠ¨ã€‚ åƒæ±½è½¦æˆ–ç«è½¦è¿™æ ·çš„ç‰©ä½“ä¼šæ…¢æ…¢åŠ é€Ÿç›´åˆ°è¾¾åˆ°ç›®æ ‡é€Ÿåº¦ï¼Œé™¤éå®ƒä»¬ç¢°åˆ°ç –å¢™ï¼Œå¦åˆ™å®ƒä»¬ä¼šé€æ¸å‡é€Ÿç›´åˆ°å®ƒä»¬å®Œå…¨åœåœ¨æœ€ç»ˆç›®çš„åœ°ã€‚ ä¸ºäº†ä½¿åŠ¨ç”»çœ‹èµ·æ¥æ›´é€¼çœŸï¼Œå¯ä»¥åœ¨å¼€å§‹æ—¶æ…¢æ…¢åŠ é€Ÿï¼Œåœ¨ç»“æŸå‰æ”¾æ…¢é€Ÿåº¦ï¼Œä¸€èˆ¬ç§°ä¸ºç¼“å…¥(ease-in)å’Œç¼“å‡º(ease-out)ã€‚ .curveLinear ï¼šä¸å¯¹åŠ¨ç”»åº”ç”¨åŠ é€Ÿæˆ–å‡é€Ÿã€‚.curveEaseIn ï¼šåŠ¨ç”»çš„å¼€å§‹æ—¶æ…¢ï¼Œç»“æŸæ—¶å¿«ã€‚ 123UIView.animate(withDuration: 1, delay: 0.6, options: [.repeat, .autoreverse, .curveEaseIn], animations: &#123; self.password.center.x += self.view.bounds.width&#125;, completion: nil) .curveEaseOut ï¼šåŠ¨ç”»å¼€å§‹æ—¶å¿«ï¼Œç»“æŸæ—¶æ…¢ã€‚ 123UIView.animate(withDuration: 1, delay: 0.6, options: [.repeat, .autoreverse, .curveEaseOut], animations: &#123; self.password.center.x += self.view.bounds.width &#125;, completion: nil) .curveEaseInOut ï¼šåŠ¨ç”»å¼€å§‹ç»“æŸéƒ½æ…¢ï¼Œä¸­é—´å¿« äº‘çš„æ·¡å…¥åŠ¨ç”»è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯äº‘çš„UIImageViewçš„é€æ˜åº¦å˜åŒ–åŠ¨ç”»ã€‚å…ˆåœ¨viewWillAppear()ä¸­æŠŠäº‘è®¾ç½®æˆé€æ˜ï¼š 1234cloud1.alpha = 0.0cloud2.alpha = 0.0cloud3.alpha = 0.0cloud4.alpha = 0.0 ç„¶ååœ¨viewDidAppear()ä¸­æ·»åŠ åŠ¨ç”»ã€‚ 123456789101112UIView.animate(withDuration: 0.5, delay: 0.5, options: [], animations: &#123; self.cloud1.alpha = 1.0&#125;, completion: nil)UIView.animate(withDuration: 0.5, delay: 0.7, options: [], animations: &#123; self.cloud2.alpha = 1.0&#125;, completion: nil)UIView.animate(withDuration: 0.5, delay: 0.9, options: [], animations: &#123; self.cloud3.alpha = 1.0&#125;, completion: nil)UIView.animate(withDuration: 0.5, delay: 1.1, options: [], animations: &#123; self.cloud4.alpha = 1.0&#125;, completion: nil) 2-å¼¹ç°§åŠ¨ç”»1-è§†å›¾åŠ¨ç”»å…¥é—¨ä¸­åŠ¨ç”»æ˜¯å•ä¸€æ–¹å‘ä¸Šçš„åŠ¨ä½œï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªã€‚ è¿™ä¸€ç« èŠ‚æ˜¯ç¨å¾®å¤æ‚ä¸€ç‚¹çš„å¼¹ç°§åŠ¨ç”»(Springs)ï¼š ç”¨ç‚¹å˜åŒ–æè¿°å¼¹ç°§åŠ¨ç”»ï¼š è§†å›¾ä»Aç‚¹åˆ°Bç‚¹ï¼Œåœ¨Bç‚¹æ¥å›é€’å‡æŒ¯è¡ï¼Œç›´åˆ°è§†å›¾åœ¨Bç‚¹åœæ­¢ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ•ˆæœï¼Œ è®©æˆ‘ä»¬çš„åŠ¨ç”»æ·»åŠ äº†ä¸€ç§æ´»æ³¼ï¼ŒçœŸå®çš„æ„Ÿè§‰ã€‚ æœ¬ç« çš„å¼€å§‹é¡¹ç›® BahamaAirLoginScreenæ˜¯ä¸Šä¸€ç« èŠ‚çš„å®Œæˆé¡¹ç›®ã€‚ åœ¨viewWillAppear()ä¸­æ·»åŠ : 12loginButton.center.y += 30.0loginButton.alpha = 0.0 ç„¶åå†åœ¨viewDidAppear()ä¸­æ·»åŠ ï¼š 12345UIView.animate(withDuration: 0.5, delay: 0.5, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.0, options: [], animations: &#123; self.loginButton.center.y -= 30.0 self.loginButton.alpha = 1.0&#125;, completion: nil) è¿™æ ·Log InæŒ‰é’®å°±æœ‰ä¸ªå‘ä¸Šç§»åŠ¨çš„åŠ¨ç”»å˜æˆäº†ä¸¤ä¸ªå±æ€§åŒæ—¶å˜åŒ–çš„åŠ¨ç”»ã€‚ usingSpringWithDamping ï¼šé˜»å°¼å‚æ•°ï¼Œ ä»‹äº0.0 ~ 1.0ï¼Œæ¥è¿‘0.0çš„å€¼åˆ›å»ºä¸€ä¸ªæ›´æœ‰å¼¹æ€§çš„åŠ¨ç”»ï¼Œè€Œæ¥è¿‘1.0çš„å€¼åˆ›å»ºä¸€ä¸ªçœ‹èµ·æ¥å¾ˆåƒµç¡¬çš„æ•ˆæœã€‚ æ‚¨å¯ä»¥å°†æ­¤å€¼è§†ä¸ºå¼¹ç°§çš„â€œåˆšåº¦â€ã€‚ initialSpringVelocity ï¼š åˆå§‹é€Ÿåº¦ï¼Œ è¦å¹³æ»‘å¼€å§‹åŠ¨ç”»ï¼Œè¯·å°†æ­¤å€¼ä¸è§†å›¾ä¹‹å‰çš„è§†å›¾é€Ÿåº¦ç›¸åŒ¹é…ã€‚ æ•ˆæœï¼š ä¸ç”¨æˆ·äº¤äº’çš„åŠ¨ç”»è®©ç™»å½•æŒ‰é’®äº§ç”Ÿä¸€ä¸ªä¸ç”¨æˆ·äº¤äº’çš„åŠ¨ç”»ï¼Œåœ¨Log InæŒ‰é’®çš„Action logIn()æ–¹æ³•ä¸­æ·»åŠ ï¼š 123UIView.animate(withDuration: 1.5, delay: 0.0, usingSpringWithDamping: 0.2, initialSpringVelocity: 0.0, options: [], animations: &#123; self.loginButton.bounds.size.width += 80.0&#125;, completion: nil) ç‚¹å‡»åæœ‰ä¸ªå®½åº¦å˜å¤§çš„ç®€å•åŠ¨ç”»ã€‚ ç»§ç»­åœ¨logIn()ä¸­æ·»åŠ ï¼š 123UIView.animate(withDuration: 0.33, delay: 0.0, usingSpringWithDamping: 0.7, initialSpringVelocity: 0.0, options: [], animations: &#123; self.loginButton.center.y += 60.0&#125;, completion: nil) ç‚¹å‡»åå®½åº¦å˜å¤§çš„åŒæ—¶å‘ä¸‹ç§»åŠ¨ç§»åŠ¨ä½ç½®ã€‚ ç»™ç”¨æˆ·åé¦ˆçš„å¦ä¸€ä¸ªå¥½æ–¹æ³•æ˜¯é€šè¿‡é¢œè‰²å˜åŒ–ã€‚ åœ¨ä¸Šé¢åŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ : 1self.loginButton.backgroundColor = UIColor(red: 0.85, green: 0.83, blue: 0.45, alpha: 1.0) æœ€åä¸€ä¸ªç»™ç”¨æˆ·åé¦ˆçš„æ–¹æ³•ï¼šactivity indicator(æ´»åŠ¨æŒ‡ç¤ºå™¨ï¼Œä¿—ç§°èŠèŠ±è½¬ğŸ˜…)ã€‚ ç™»å½•æŒ‰é’®åº”è¯¥é€šè¿‡ç½‘ç»œå¯åŠ¨ç”¨æˆ·èº«ä»½éªŒè¯æ´»åŠ¨ï¼Œé€šè¿‡èŠèŠ±è½¬è®©ç”¨æˆ·çŸ¥é“ç™»å½•æ“ä½œæ­£åœ¨è¿›è¡Œã€‚ ç»§ç»­åœ¨ä¸Šé¢åŠ¨ç”»é—­åŒ…ä¸­æ·»åŠ (spinnerå·²ç»åœ¨viewDidLoadä¸­åˆå§‹åŒ–äº†ï¼Œå¹¶ä¸”alphaè®¾ç½®ä¸º0.0)ï¼š 12self.spinner.center = CGPoint(x: 40.0, y: self.loginButton.frame.size.height/2)self.spinner.alpha = 1.0 è®©èŠèŠ±è½¬ä¹Ÿéšç€ç™»å½•æŒ‰é’®çš„å‘ä¸‹ç§»åŠ¨è€Œç§»åŠ¨ï¼Œæœ€ç»ˆç™»å½•æŒ‰é’®çš„æ•ˆæœï¼š æŠŠæ–‡æœ¬æ¡†çš„åŠ¨ç”»ä¿®æ”¹ä¸ºå¼¹ç°§åŠ¨ç”»æŠŠä¹‹å‰viewDidAppear()ä¸­çš„ 123456UIView.animate(withDuration: 0.5, delay: 0.3, options: [], animations: &#123; self.username.center.x += self.view.bounds.width&#125;, completion: nil)UIView.animate(withDuration: 1, delay: 0.6, options: [], animations: &#123; self.password.center.x += self.view.bounds.width&#125;, completion: nil) ä¿®æ”¹ä¸ºï¼š 1234567UIView.animate(withDuration: 0.5, delay: 0.3, usingSpringWithDamping: 0.6, initialSpringVelocity: 0.0, options: [], animations: &#123; self.username.center.x += self.view.bounds.width&#125;, completion: nil)UIView.animate(withDuration: 0.5, delay: 0.4, usingSpringWithDamping: 0.6, initialSpringVelocity: 0.0, options: [], animations: &#123; self.password.center.x += self.view.bounds.width&#125;, completion: nil) æ•ˆæœä¸ºï¼š 3-è¿‡æ¸¡åŠ¨ç”»è¿‡æ¸¡åŠ¨ç”»(Transitions) æœ¬ç« èŠ‚çš„å¼€å§‹é¡¹ç›® æ˜¯å‰ä¸€ç« èŠ‚çš„å®Œæˆé¡¹ç›®ã€‚ è¿‡æ¸¡çš„ä¾‹å­ä½¿ç”¨è¿‡æ¸¡åŠ¨ç”»çš„å„ç§åŠ¨ç”»åœºæ™¯ã€‚ æ·»åŠ è§†å›¾è¦åœ¨å±å¹•ä¸Šæ·»åŠ æ–°è§†å›¾çš„åŠ¨ç”»ï¼Œå¯ä»¥è°ƒç”¨ç±»ä¼¼äºå‰é¢ç« èŠ‚ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚ è¿™æ¬¡çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œéœ€è¦é¢„å…ˆé€‰æ‹©ä¸€ä¸ªé¢„å®šä¹‰çš„è¿‡æ¸¡æ•ˆæœï¼Œå¹¶ä¸ºåŠ¨ç”»å®¹å™¨è§†å›¾è®¾ç½®åŠ¨ç”»ã€‚è¿‡æ¸¡åŠ¨ç”»æ˜¯è®¾ç½®åœ¨å®¹å™¨è§†å›¾ä¸Šï¼Œå› æ­¤åŠ¨ç”»ä½œç”¨åœ¨æ·»åŠ åˆ°å®¹å™¨è§†å›¾çš„æ‰€æœ‰å­è§†å›¾ã€‚ ä¸‹é¢åšä¸€ä¸ªæµ‹è¯•ï¼ˆç»“æŸåï¼Œåˆ é™¤ç›¸åº”ä»£ç ç»§ç»­ä¹‹åå†…å®¹ï¼‰ï¼š 123456789101112131415161718192021222324252627var animationContainerView: UIView!override func viewDidLoad() &#123; super.viewDidLoad() //è®¾ç½®åŠ¨ç”»å®¹å™¨è§†å›¾ animationContainerView = UIView(frame: view.bounds) animationContainerView.frame = view.bounds view.addSubview(animationContainerView)&#125;override func viewDidAppear(_ animated: Bool) &#123; super.viewDidAppear(animated) //åˆ›å»ºæ–°è§†å›¾ let newView = UIImageView(image: UIImage(named: "banner")) newView.center = animationContainerView.center //é€šè¿‡è¿‡æ¸¡åŠ¨ç”»å¢åŠ æ–°è§†å›¾ UIView.transition(with: animationContainerView, duration: 0.33, options: [.curveEaseOut, .transitionFlipFromBottom], animations: &#123; self.animationContainerView.addSubview(newView) &#125;, completion: nil )&#125; æ•ˆæœï¼š transitionFlipFromBottomè¢«transitionFlipFromLeftæ›¿ä»£åçš„æ•ˆæœï¼š å®Œæ•´çš„é¢„å®šä¹‰è¿‡æ¸¡åŠ¨ç”»çš„é€‰é¡¹å¦‚ä¸‹ï¼Œè¿™äº›åŠ¨ç”»é€‰é¡¹å’Œä¸Šä¸¤èŠ‚ä¸­å‡ºç°optionsä¸€æ ·å±äºUIView.AnimationOptionsã€‚ 1234567.transitionFlipFromLeft.transitionFlipFromRight.transitionCurlUp.transitionCurlDown.transitionCrossDissolve.transitionFlipFromTop.transitionFlipFromBottom åˆ é™¤è§†å›¾ä»å±å¹•ä¸­åˆ é™¤å­è§†å›¾çš„è¿‡æ¸¡åŠ¨ç”»æ“ä½œå’Œæ·»åŠ ç±»ä¼¼ã€‚ å‚è€ƒä»£ç ï¼š 1234567UIView.transition(with: animationContainerView, duration: 0.33, options: [.curveEaseOut, .transitionFlipFromBottom], animations: &#123; self.newView.removeFromSuperview() &#125;, completion: nil) éšè—æˆ–æ˜¾ç¤ºè§†å›¾ æ·»åŠ å’Œåˆ é™¤éƒ½ä¼šæ”¹å˜è§†å›¾å±‚æ¬¡ç»“æ„ï¼Œè¿™ä¹Ÿæ˜¯éœ€è¦ä¸€ä¸ªå®¹å™¨è§†å›¾çš„åŸå› ã€‚éšè—æˆ–æ˜¾ç¤ºçš„è¿‡æ¸¡åŠ¨ç”»ä½¿ç”¨è§†å›¾æœ¬èº«ä½œä¸ºåŠ¨ç”»å®¹å™¨ã€‚ å‚è€ƒä»£ç ï¼š 1234567UIView.transition(with: self.newView, duration: 0.33, options: [.curveEaseOut, .transitionFlipFromBottom], animations: &#123; self.newView.isHidden = true &#125;, completion: nil) ä¸€ä¸ªè§†å›¾æ›¿ä»£å¦ä¸ªè§†å›¾ å‚è€ƒä»£ç ï¼š 123UIView.transition(from: oldView, to: newView, duration: 0.33, options: .transitionFlipFromTop, completion: nil) ç»„åˆè¿‡æ¸¡åŠ¨ç”»è¿™ä¸€éƒ¨åˆ†å°†æ¨¡æ‹Ÿä¸€äº›ç”¨æˆ·èº«ä»½éªŒè¯è¿‡ç¨‹ï¼Œå‡ ä¸ªä¸åŒçš„è¿›åº¦æ¶ˆæ¯å˜åŒ–çš„åŠ¨ç”»ã€‚ ä¸€æ—¦ç”¨æˆ·ç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œå°†å‘ä»–ä»¬æ˜¾ç¤ºæ¶ˆæ¯ï¼ŒåŒ…æ‹¬â€œConnectingâ€¦â€ï¼Œâ€œAuthorizingâ€å’Œâ€œFailedâ€ã€‚ åœ¨ViewControllerä¸­æ·»åŠ æ–¹æ³•showMessage()ï¼š 123456789func showMessage(index: Int) &#123; label.text = messages[index] UIView.transition(with: status, duration: 0.33, options: [.curveEaseOut, .transitionCurlDown], animations: &#123; self.status.isHidden = false &#125;, completion: &#123; _ in &#125;) &#125; å¹¶åœ¨ç™»å½•æŒ‰é’®çš„ActionlogInæ–¹æ³•çš„ä¸‹ç§»åŠ¨ç”»çš„completioné—­åŒ…ä¸­æ·»åŠ è°ƒç”¨self.showMessage(index: 0)ï¼š 12345UIView.animate(withDuration: 1.5, delay: 0.0, usingSpringWithDamping: 0.2, initialSpringVelocity: 0.0, options:[], animations: &#123; self.loginButton.bounds.size.width += 80.0&#125;, completion: &#123; _ in self.showMessage(index: 0)&#125;) åŠ¨ç”»é€‰é¡¹.transitionCurlDownçš„æ•ˆæœï¼Œå°±åƒä¸€å¼ çº¸ç¿»ä¸‹æ¥ï¼Œçœ‹èµ·æ¥å¦‚ä¸‹ï¼š è¿™ç§æ•ˆæœå¾ˆå¥½çš„è®©é™æ€æ–‡æœ¬æ ‡ç­¾çš„æ¶ˆæ¯å¾—åˆ°ç”¨æˆ·çš„å…³æ³¨ã€‚ æ³¨æ„ï¼šiPhoneæ¨¡æ‹Ÿå™¨æä¾›äº†æ…¢åŠ¨ç”»æŸ¥çœ‹ï¼Œæ–¹ä¾¿çœ‹æ¸…é‚£äº›æ¯”è¾ƒå¿«åŠ¨ç”»çš„è¿‡ç¨‹ï¼ŒDebug/Slow Animations(Command + T)ã€‚ æ·»åŠ ä¸€ä¸ªçŠ¶æ€ä¿¡æ¯æ¶ˆé™¤åŠ¨ç”»æ–¹æ³•: 12345678910func removeMessage(index: Int) &#123; UIView.animate(withDuration: 0.33, delay: 0.0, options: [], animations: &#123; self.status.center.x += self.view.frame.size.width &#125;) &#123; (_) in self.status.isHidden = true self.status.center = self.statusPosition self.showMessage(index: index+1) &#125;&#125; è¿™ä¸ªä¿¡æ¯æ¶ˆé™¤æ–¹æ³•åœ¨ä»€ä¹ˆåœ°æ–¹è°ƒç”¨å‘¢ï¼Ÿå½“ç„¶æ˜¯çŠ¶æ€ä¿¡æ¯æ˜¾ç¤ºç»“æŸåè°ƒç”¨ï¼Œå› æ­¤åœ¨showMessageæ–¹æ³•çš„completioné—­åŒ…ä¸­æ·»åŠ ï¼š 1234567delay(2.0) &#123; if index &lt; self.messages.count-1 &#123; self.removeMessage(index: index) &#125; else &#123; //reset form &#125;&#125; æ¢å¤åˆå§‹çŠ¶æ€å½“â€œConnectingâ€¦â€ã€â€œAuthorizingâ€å’Œâ€œFailedâ€ç­‰å‡ ä¸ªä¿¡æ¯æ˜¾ç¤ºå®Œåï¼Œéœ€è¦å°†ä¿¡æ¯æ ‡ç­¾åˆ é™¤å’Œå°†ç™»å½•æŒ‰é’®æ¢å¤åŸæ ·ã€‚ æ·»åŠ resetForm()å‡½æ•°ï¼š 123456789101112131415func resetForm() &#123; // çŠ¶æ€ä¿¡æ¯æ ‡ç­¾æ¶ˆå¤±åŠ¨ç”» UIView.transition(with: status, duration: 0.2, options: .transitionFlipFromTop, animations: &#123; self.status.isHidden = true self.status.center = self.statusPosition &#125;, completion: nil) // ç™»å½•æŒ‰é’®å’ŒèŠèŠ±è½¬æ¢å¤åŸæ¥çŠ¶æ€çš„åŠ¨ç”» UIView.animate(withDuration: 0.2, delay: 0.0, options: [], animations: &#123; self.spinner.center = CGPoint(x: -20.0, y: 16.0) self.spinner.alpha = 0.0 self.loginButton.backgroundColor = UIColor(red: 0.63, green: 0.84, blue: 0.35, alpha: 1.0) self.loginButton.bounds.size.width -= 80.0 self.loginButton.center.y -= 60.0 &#125;, completion: nil)&#125; åœ¨ä¹‹å‰çš„//reset formå¤„è°ƒç”¨ï¼ŒresetForm()ã€‚ ç»“åˆä¹‹å‰çš„æ•ˆæœï¼š èƒŒæ™¯ä¸­â˜ï¸çš„åŠ¨ç”»å¦‚æœèƒŒæ™¯ä¸­çš„é‚£äº›äº‘åœ¨å±å¹•ä¸Šç¼“æ…¢ç§»åŠ¨ï¼Œå¹¶ä»å·¦ä¾§ç§»åŠ¨åˆ°å³ä¾§ï¼Œç„¶ååˆ°å³ä¾§æ¶ˆå¤±åå†å·¦ä¾§ä»æ–°å¼€å§‹ç¼“æ…¢ç§»åŠ¨ï¼Œé‚£ä¸æ˜¯å¾ˆé…·å—ï¼Ÿï¼ˆä¹‹å‰çš„gifå¯ä»¥çœ‹åˆ°äº‘åœ¨ç§»åŠ¨ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œäº‘åªæœ‰é€æ˜åº¦å˜åŒ–åŠ¨ç”»ï¼Œå®é™…ä¸Šæ˜¯å› ä¸ºæˆ‘åšGIFæ—¶é¡¹ç›®å·²ç»å®Œæˆäº†ï¼ŒGIFæ˜¯æˆ‘è¡¥åšçš„ï¼Œæ‰€ä»¥å°±ã€‚ã€‚ğŸ˜¬ï¼‰ æ·»åŠ ä¸€ä¸ªanimateCloud(cloud: UIImageView)æ–¹æ³•ï¼Œä»£ç ä¸º: 123456789101112func animateCloud(cloud: UIImageView) &#123; // å‡è®¾äº‘ä»è¿›å…¥å±å¹•åˆ°ç¦»å¼€å±å¹•éœ€è¦å¤§çº¦60.0sï¼Œå¯ä»¥è®¡ç®—å‡ºäº‘ç§»åŠ¨çš„é€Ÿåº¦ let cloudSpeed = view.frame.size.width / 60.0 // äº‘çš„åˆå§‹ä½ç½®ä¸ä¸€å®šæ˜¯åœ¨åº§è¾¹ç¼˜ let duration:CGFloat = (view.frame.size.width - cloud.frame.origin.x) / cloudSpeed UIView.animate(withDuration: TimeInterval(duration), delay: 0.0, options: .curveLinear, animations: &#123; cloud.frame.origin.x = self.view.frame.size.width &#125;) &#123; (_) in cloud.frame.origin.x = -cloud.frame.size.width self.animateCloud(cloud: cloud) &#125;&#125; ä»£ç è§£é‡Šï¼š é¦–å…ˆï¼Œè®¡ç®—â˜ï¸å¹³å‡ç§»åŠ¨é€Ÿåº¦ã€‚å‡è®¾äº‘ä»è¿›å…¥å±å¹•åˆ°ç¦»å¼€å±å¹•éœ€è¦å¤§çº¦60.0sï¼ˆå½“ç„¶è¿™ä¸ªæ—¶é—´è‡ªå®šä¹‰ï¼‰ã€‚ æ¥ä¸‹æ¥ï¼Œè®¡ç®—â˜ï¸ç§»åŠ¨åˆ°å±å¹•å³ä¾§çš„æŒç»­æ—¶é—´ã€‚è¿™è¾¹è¦æ³¨æ„ï¼Œâ˜ï¸ä¸æ˜¯ä»å±å¹•çš„å·¦è¾¹ç¼˜å¼€å§‹ï¼Œâ˜ï¸ç§»åŠ¨çš„è·ç¦»æ˜¯view.frame.size.width - cloud.frame.origin.xã€‚ ç„¶ååˆ›å»ºåŠ¨ç”»æ–¹æ³•animate(withDuration:delay:options:animations:completion:)ã€‚è¿™è¾¹TimeIntervalæ˜¯Doubleåˆ«åï¼ŒåŠ¨ç”»é€‰é¡¹ä½¿ç”¨.curveLinear(ä¸åŠ é€Ÿä¹Ÿä¸å‡é€Ÿ)ï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘è§ï¼Œä½†ä½œä¸ºâ˜ï¸çš„ç¼“æ…¢ç§»åŠ¨éå¸¸é€‚åˆã€‚ åŠ¨ç”»é—­åŒ…ä¸­cloud.frame.origin.x = self.view.frame.size.widthï¼Œå°±æŠŠâ˜ï¸ç§»åŠ¨åˆ°å±å¹•å³è¾¹åŒºåŸŸå¤–ã€‚ åˆ°å±å¹•å³åŒºåŸŸå¤–ï¼Œç«‹å³åœ¨å®Œæˆé—­åŒ…ä¸­è®©â˜ï¸åˆ°å·¦è¾¹ç¼˜å¤–ï¼Œcloud.frame.origin.x = -cloud.frame.size.widthã€‚ æœ€åä¸è¦å¿˜è®°ï¼ŒæŠŠå¼€å§‹å››ä¸ªâ˜ï¸çš„åŠ¨ç”»ï¼Œåœ¨viewDidAppear()ä¸­æ·»åŠ ï¼š 1234animateCloud(cloud: cloud1)animateCloud(cloud: cloud2)animateCloud(cloud: cloud3)animateCloud(cloud: cloud4) æ•´ä½“æ•ˆæœï¼š 4-ç»ƒä¹ è§†å›¾åŠ¨ç”»æœ¬ç« æ˜¯ç»ƒä¹ ä¹‹å‰å­¦ä¹ çš„åŠ¨ç”»ã€‚ æœ¬ç« èŠ‚çš„å¼€å§‹é¡¹ç›® Flight Info æ˜¯å®šæ—¶æ”¹å˜å‡ ä¸ªè§†å›¾ï¼ˆå‡ ä¸ªå›¾ç‰‡å’Œä¸€ä¸ªLabelï¼‰ï¼Œä»£ç ä¹Ÿéå¸¸ç®€å•ï¼š 1234567891011121314151617func changeFlight(to data: FlightData) &#123; // populate the UI with the next flight's data summary.text = data.summary flightNr.text = data.flightNr gateNr.text = data.gateNr departingFrom.text = data.departingFrom arrivingTo.text = data.arrivingTo flightStatus.text = data.flightStatus bgImageView.image = UIImage(named: data.weatherImageName) snowView.isHidden = !data.showWeatherEffects // schedule next flight delay(seconds: 3.0) &#123; self.changeFlight(to: data.isTakingOff ? parisToRome : londonToParis) &#125;&#125; å…¶ä¸­é›ªèŠ±â„ï¸å°†åœ¨åé¢çš„ç« èŠ‚26-ç²’å­å‘å°„å™¨å­¦ä¹ ï¼Œæ•ˆæœä¸ºï¼š æ·¡å‡ºæ·¡å…¥åŠ¨ç”»(Crossfading animations)é¦–å…ˆéœ€è¦è®©ä¸¤ä¸ªèƒŒæ™¯å›¾åƒä¹‹é—´å¹³æ»‘è¿‡æ¸¡ã€‚ ç¬¬ä¸€ç›´è§‰å¯èƒ½æ˜¯ç®€å•åœ°æ·¡å‡ºå½“å‰çš„å›¾åƒç„¶åæ·¡å…¥æ–°çš„å›¾åƒï¼ˆé€æ˜åº¦çš„å˜åŒ–ï¼‰ã€‚ ä½†æ˜¯å½“alphaæ¥è¿‘é›¶æ—¶ï¼Œè¿™ç§æ–¹æ³•ä¼šæ˜¾ç¤ºå›¾åƒèƒŒåçš„å†…å®¹ï¼Œæ•ˆæœçœ‹ä¸Šå»ä¸å¥½ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨ViewControllerä¸­æ·»åŠ èƒŒæ™¯å›¾ç‰‡æ·¡å…¥æ·¡å‡ºçš„æ•ˆæœï¼š 123456789func fade(imageView: UIImageView, toImage: UIImage, showEffects: Bool) &#123; UIView.transition(with: imageView, duration: 1.0, options: .transitionCrossDissolve, animations: &#123; imageView.image = toImage &#125;, completion: nil) UIView.animate(withDuration: 1.0, delay: 0.0, options: .curveEaseOut, animations: &#123; self.snowView.alpha = showEffects ? 1.0 : 0.0 &#125;, completion: nil)&#125; showEffectså‚æ•°è¡¨ç¤ºæ˜¾ç¤ºæˆ–éšè—é™é›ªæ•ˆæœã€‚ ç»™changeFlightæ–¹æ³•æ·»åŠ ä¸€ä¸ªæ˜¯å¦æœ‰åŠ¨ç”»çš„å‚æ•°animatedï¼Œå¹¶æ›´æ–°changeFlightæ–¹æ³•: 1234567891011121314151617func changeFlight(to data: FlightData, animated: Bool = false) &#123; summary.text = data.summary flightNR.text = data.flightNr gateNr.text = data.gateNr departingFrom.text = data.departingFrom arrivingTo.text = data.arrivingTo flightStatus.text = data.flightStatus if animated &#123; fade(imageView: bgImageView, toImage: UIImage(named: data.weatherImageName)!, showEffects: data.showWeatherEffects) &#125; else &#123; bgImageView.image = UIImage(named: data.weatherImageName) snowView.isHidden = !data.showWeatherEffects &#125;&#125; ç»§ç»­åœ¨changeFlightåŠ ä¸€æ®µè®©èƒŒæ™¯å›¾ä¸åœå¾ªç¯å˜æ¢çš„ä»£ç ï¼š 123delay(seconds: 3.0) &#123; self.changeFlight(to: data.isTakingOff ? parisToRome : londonToParis, animated: true)&#125; ç°åœ¨çš„æ•ˆæœæ˜¯ï¼š å¯¹æ¯”å¼€å§‹æ—¶çš„æ•ˆæœï¼Œç°åœ¨å›¾åƒä¹‹é—´è¿‡æ¸¡éå¸¸æµç•…ï¼Œå› ä¸ºåœ¨èƒŒæ™¯å›¾æ·¡å…¥æ·¡å‡ºçš„åŒæ—¶ä¹Ÿå¯¹é›ªæ™¯æ•ˆæœè¿›è¡Œäº†æ·¡å…¥æ·¡å‡ºï¼ŒåŠ¨ç”»çœ‹èµ·æ¥å¾ˆæ— ç¼ã€‚ ä½ ç”šè‡³å¯ä»¥åœ¨ç½—é©¬çœ‹åˆ°å®ƒä¸€ç¬é—´ä¸‹é›ªï¼ğŸ˜ğŸ˜ ä¸çŸ¥ä¸è§‰æŒæ¡äº†ä¸€ç§é‡è¦çš„æŠ€æœ¯ï¼šè¿‡æ¸¡åŠ¨ç”»å¯ç”¨äºè§†å›¾çš„ä¸å¯åŠ¨ç”»å±æ€§ã€‚ï¼ˆ1-è§†å›¾åŠ¨ç”»å…¥é—¨ä¸­çš„å¯ç”¨äºåŠ¨ç”»çš„å±æ€§ä¸­æ²¡æœ‰imageï¼‰ åŠ¨ç”»é€‰é¡¹.transitionCrossDissolveå¾ˆé€‚åˆå½“å‰é¡¹ç›®çš„æ•ˆæœï¼Œå…¶å®ƒå¦‚.transitionFlipFromLeftè½¬æ¢å°±ä¸å¤§é€‚åˆï¼Œå¯ä»¥è¯•è¯•çœ‹ã€‚ ç«‹ä½“è¿‡æ¸¡(Cube transitions)å‡è£…3dè½¬æ¢æ—¶æ–‡å­—èƒŒæ™¯é¢œè‰² è¿™ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„3Dæ•ˆæœï¼Œä½†å®ƒçœ‹èµ·æ¥éå¸¸æ¥è¿‘ã€‚å¯ä»¥é€šè¿‡è¾…åŠ©è§†å›¾æ¥å®ç°ç«‹ä½“è¿‡æ¸¡åŠ¨ç”»ã€‚å…·ä½“çš„æ–¹æ³•æ˜¯æ·»åŠ ä¸€ä¸ªä¸´æ—¶Labelï¼ŒåŒæ—¶å¯¹è¿™ä¸ªä¸¤ä¸ªæ ‡ç­¾çš„é«˜åº¦è¿›è¡ŒåŠ¨ç”»ï¼Œæœ€åå†åˆ é™¤ã€‚ åœ¨ViewControllerä¸­æ·»åŠ ä¸€ä¸ªæšä¸¾ï¼š 1234enum AnimationDirection: Int &#123; case positive = 1 case negative = -1&#125; è¿™ä¸ªæšä¸¾çš„1å’Œ-1åœ¨ä¹‹åè¡¨ç¤ºåœ¨yè½´å˜æ¢æ—¶æ˜¯å‘ä¸‹è¿˜æ˜¯å‘ä¸Šã€‚ æ·»åŠ ä¸€ä¸ªcubeTransitionæ–¹æ³•ï¼š 12345678func cubeTransition(label: UILabel, text: String, direction: AnimationDirection) &#123; let auxLabel = UILabel(frame: label.frame) auxLabel.text = text auxLabel.font = label.font auxLabel.textAlignment = label.textAlignment auxLabel.textColor = label.textColor auxLabel.backgroundColor = label.backgroundColor&#125; è¿™æ˜¯åœ¨æ„é€ ä¸€ä¸ªä¸´æ—¶è¾…åŠ©çš„Labelï¼ŒæŠŠåŸæ¥Labelå±æ€§å¤åˆ¶ç»™å®ƒï¼Œé™¤äº†textä½¿ç”¨æ–°çš„å€¼ã€‚ åœ¨Yè½´æ–¹å‘å˜æ¢è¾…åŠ©Labelï¼Œå‘cubeTransitionæ–¹æ³•ä¸­æ·»åŠ ï¼š 123let auxLabelOffset = CGFloat(direction.rawValue) * label.frame.size.height/2.0auxLabel.transform = CGAffineTransform(translationX: 0.0, y: auxLabelOffset).scaledBy(x: 1.0, y: 0.1)label.superview?.addSubview(auxLabel) å½“å•ç‹¬åœ¨Yè½´ç¼©æ”¾æ–‡æœ¬æ—¶ï¼Œçœ‹èµ·æ¥å°±åƒä¸€ä¸ªç«–ç€çš„å¹³é¢è¢«æ¸æ¸è¢«æ¨åˆ°ï¼Œä»è€Œå½¢æˆäº†å‡è¿œæ™¯æ•ˆæœï¼ˆfaux-perspective effectï¼‰ï¼š åŠ¨ç”»ä»£ç ï¼Œç»§ç»­åœ¨cubeTransitionæ–¹æ³•ä¸­æ·»åŠ ï¼š 1234567891011UIView.animate(withDuration: 0.5, delay: 0.0, options: .curveEaseOut, animations: &#123; auxLabel.transform = .identity // åŸæœ¬çš„Labelåœ¨Yè½´ä¸Šå‘åæ–¹å‘è½¬æ¢ label.transform = CGAffineTransform(translationX: 0.0, y: -auxLabelOffset).scaledBy(x: 1.0, y: 0.1)&#125;,completion: &#123; _ in // æŠŠè¾…åŠ©Labelçš„æ–‡æœ¬èµ‹å€¼ç»™åŸæ¥çš„Labelï¼Œç„¶ååˆ é™¤è¾…åŠ©Label label.text = auxLabel.text label.transform = .identity auxLabel.removeFromSuperview()&#125;) æœ€åè¦åœ¨changeFlightæ–¹æ³•ä¸­æ·»åŠ è¿™ä¸ªå‡çš„3Dè½¬åŠ¨æ•ˆæœåŠ¨ç”»ï¼š 12345678910111213141516171819202122if animated &#123; fade(imageView: bgImageView, toImage: UIImage(named: data.weatherImageName)!, showEffects: data.showWeatherEffects) let direction: AnimationDirection = data.isTakingOff ? .positive : .negative cubeTransition(label: flightNr, text: data.flightNr, direction: direction) cubeTransition(label: gateNr, text: data.gateNr, direction: direction)&#125; else &#123; // ä¸éœ€è¦åŠ¨ç”» bgImageView.image = UIImage(named: data.weatherImageName) snowView.isHidden = !data.showWeatherEffects flightNr.text = data.flightNr gateNr.text = data.gateNr departingFrom.text = data.departingFrom arrivingTo.text = data.arrivingTo flightStatus.text = data.flightStatus&#125; æœ€ç»ˆï¼Œèˆªç­å·å’Œå…¥å£å·çš„Labelè½¬æ¢æ•ˆæœï¼ˆæˆ‘æ•…æ„åŠ é•¿äº†åŠ¨ç”»durationï¼Œæ–¹ä¾¿è§‚çœ‹ï¼‰ï¼š æ·¡å…¥æ·¡å‡ºå’Œåå¼¹çš„è¿‡æ¸¡ä¸ºå¯ç¨‹åœ°å’Œç›®çš„åœ°Labelæ·»åŠ æ·¡å…¥æ·¡å‡ºå’Œåå¼¹çš„è¿‡æ¸¡(Fade and bounce transitions)åŠ¨ç”»ã€‚ å…ˆæ·»åŠ æ–¹æ³•moveLabelï¼Œå’Œä¸Šé¢çš„ç±»ä¼¼ï¼Œåˆ›å»ºä¸€ä¸ªè¾…åŠ©Labelï¼Œå¹¶æŠŠåŸLabelçš„ä¸€äº›å±æ€§å¤åˆ¶ç»™å®ƒã€‚ 123456789101112func moveLabel(label: UILabel, text: String, offset: CGPoint) &#123; let auxLabel = UILabel(frame: label.frame) auxLabel.text = text auxLabel.font = label.font auxLabel.textAlignment = label.textAlignment auxLabel.textColor = label.textColor auxLabel.backgroundColor = .clear auxLabel.transform = CGAffineTransform(translationX: offset.x, y: offset.y) auxLabel.alpha = 0 view.addSubview(auxLabel)&#125; ä¸ºåŸLabelæ·»åŠ åç§»è½¬æ¢å’Œé€æ˜åº¦æ¸æ¸é™ä½åŠ¨ç”»ï¼Œåœ¨moveLabelæ–¹æ³•é‡Œæ·»åŠ ï¼š 1234UIView.animate(withDuration: 0.5, delay: 0.0, options: .curveEaseIn, animations: &#123; label.transform = CGAffineTransform(translationX: offset.x, y: offset.y) label.alpha = 0.0&#125;, completion: nil) ä¸ºè¾…åŠ©Labelæ·»åŠ åŠ¨ç”»ï¼Œå¹¶åœ¨åŠ¨ç”»ç»“æŸååˆ é™¤ï¼Œåœ¨moveLabelæ–¹æ³•é‡Œæ·»åŠ ï¼š 123456789UIView.animate(withDuration: 0.25, delay: 0.1, options: .curveEaseIn, animations: &#123; auxLabel.transform = .identity auxLabel.alpha = 1.0&#125;, completion: &#123; _ in auxLabel.removeFromSuperview() label.text = text label.alpha = 1.0 label.transform = .identity&#125;) æœ€åè¿˜æ˜¯åœ¨changeFlightæ–¹æ³•çš„if animated {ä¸­æ·»åŠ ï¼š 12345// å¯ç¨‹åœ°å’Œç›®çš„åœ°LabelåŠ¨ç”»let offsetDeparting = CGPoint(x: CGFloat(direction.rawValue * 80), y: 0.0)moveLabel(label: departingFrom, text: data.departingFrom, offset: offsetDeparting)let offsetArriving = CGPoint(x: 0.0, y: CGFloat(direction.rawValue * 50))moveLabel(label: arrivingTo, text: data.arrivingTo, offset: offsetArriving) å¯ç¨‹åœ°å’Œç›®çš„åœ°LabelåŠ¨ç”»çš„æ–¹å‘å¯ä»¥ä¿®æ”¹ã€‚ æ•ˆæœå›¾ï¼š èˆªç­çŠ¶æ€æ¡çš„åŠ¨ç”»å¯ä»¥ä½¿ç”¨å‰é¢çš„å‡çš„3Dè½¬åŠ¨æ•ˆæœåŠ¨ç”»ï¼ŒchangeFlightçš„if animated {ä¸­æ·»åŠ ï¼š 1cubeTransition(label: flightStatus, text: data.flightStatus, direction: direction) æœ¬ç« èŠ‚æœ€ç»ˆçš„æ•ˆæœï¼š 5-å…³é”®å¸§åŠ¨ç”»å¾ˆå¤šæ—¶å€™ï¼Œéœ€è¦å¤šä¸ªè¿ç»­çš„åŠ¨ç”»ã€‚ å‰é¢çš„ç« èŠ‚ï¼Œå·²ç»ä½¿ç”¨åŠ¨ç”»é—­åŒ…å’Œå®Œæˆé—­åŒ…åŒ…å«ä¸¤ä¸ªåŠ¨ç”»æ•ˆæœã€‚ è¿™ç§æ–¹æ³•é€‚ç”¨äºè¿æ¥ä¸¤ä¸ªç®€å•çš„åŠ¨ç”»ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³è¦å°†ä¸‰ä¸ªï¼Œå››ä¸ªæˆ–æ›´å¤šåŠ¨ç”»ç»„åˆåœ¨ä¸€èµ·æ—¶ï¼Œå°±ä¼šå¯¼è‡´ä¸€äº›ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ··ä¹±å’Œå¤æ‚çš„ä»£ç ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹å¦‚æœæƒ³å°†å¤šä¸ªåŠ¨ç”»é“¾æ¥åœ¨ä¸€èµ·å¹¶ä»¥çŸ©å½¢æ¨¡å¼ç§»åŠ¨è§†å›¾ï¼Œå®ƒä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼š å‡è®¾å®ç°å¦‚ä¸‹æ•ˆæœï¼š ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå¯ä»¥å°†å‡ ä¸ªåŠ¨ç”»å’Œå®Œæˆé—­åŒ…é“¾æ¥èµ·æ¥ï¼š 123456789101112131415161718192021222324252627UIView.animate(withDuration: 0.5, animations: &#123; view.center.x += 200.0 &#125;, completion: &#123; _ in UIView.animate(withDuration: 0.5, animations: &#123; view.center.y += 100.0 &#125;, completion: &#123; _ in UIView.animate(withDuration: 0.5, animations: &#123; view.center.x -= 200.0 &#125;, completion: &#123; _ in UIView.animate(withDuration: 0.5, animations: &#123; view.center.y -= 100.0 &#125; ) &#125; ) &#125; ) &#125;)``` çœ‹ä¸Šå»å¤æ‚ç¹çï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ï¼Œä½¿ç”¨æœ¬ç« èŠ‚å°†è¦å­¦ä¹ çš„å…³é”®å¸§åŠ¨ç”»(Keyframe Animations)ï¼Œå®ƒå¯ä»¥ä»£æ›¿ä¸Šé¢ç¹ççš„åµŒå¥—ã€‚ å¼€å§‹é¡¹ç›®ä½¿ç”¨ä¸Šä¸€ç« èŠ‚çš„å®Œæˆé¡¹ç›®Flight Infoï¼Œé€šè¿‡è®©âœˆï¸â€œé£æœºæ¥â€ï¼Œå­¦ä¹ å…³é”®å¸§åŠ¨ç”»ã€‚ è®©é£æœºâœˆï¸èµ·é£å¯ä»¥åˆ†æˆå››ä¸ªä¸åŒé˜¶æ®µçš„åŠ¨ç”»(å½“ç„¶å…·ä½“æ€ä¹ˆåˆ†å¯ä»¥è§†æƒ…å†µè€Œå®š)ï¼š åœ¨è·‘é“ä¸Šç§»åŠ¨ ç»™âœˆï¸ä¸€ç‚¹é«˜åº¦ï¼Œå‘ä¸Šå€¾æ–œé£è¡Œ ç»™é£æœºæ›´å¤§çš„å€¾æ–œå’Œæ›´å¿«çš„é€Ÿåº¦ï¼Œå‘ä¸Šå€¾æ–œåŠ é€Ÿé£è¡Œ æœ€å10%æ—¶é£æœºæ¸æ¸æ·¡å‡ºè§†å›¾ å®Œæ•´çš„åŠ¨ç”»å¯èƒ½ä¼šè®©äººéš¾ä»¥ç½®ä¿¡ï¼Œä½†å°†åŠ¨ç”»åˆ†è§£ä¸ºå„ä¸ªé˜¶æ®µä¼šä½¿å…¶æ›´æ˜“äºç®¡ç†ã€‚ ä¸€æ—¦ä¸ºæ¯ä¸ªé˜¶æ®µå®šä¹‰äº†å…³é”®å¸§ï¼Œå°±ä¼šå®¹æ˜“è§£å†³é—®é¢˜ã€‚ è®¾ç½®å…³é”®å¸§åŠ¨ç”»å°†è®©é£æœºä»èµ·å§‹ä½ç½®èµ·é£ï¼Œç»•åœˆï¼Œç„¶åé™è½å¹¶æ»‘è¡Œå›åˆ°èµ·ç‚¹ã€‚ æ¯æ¬¡å±å¹•åœ¨èˆªç­èƒŒæ™¯ä¹‹é—´åˆ‡æ¢æ—¶ï¼Œéƒ½ä¼šè¿è¡Œæ­¤åŠ¨ç”»ã€‚å®Œæ•´çš„åŠ¨ç”»å°†çœ‹èµ·æ¥åƒè¿™æ ·ï¼š åœ¨ViewControllerä¸­æ·»åŠ planeDepart()æ–¹æ³•: 12345678910func planeDepart() &#123; let originalCenter = planeImage.center UIView.animateKeyframes(withDuration: 1.5, delay: 0.0, animations: &#123; //add keyframes &#125;, completion: nil )&#125; å¹¶åœ¨changeFlightçš„ if animated {}è°ƒç”¨planeDepart()ï¼š 1234if animated &#123; planeDepart() ... æ·»åŠ ç¬¬ä¸€ä¸ªkeyframeï¼Œåœ¨ä¸Šé¢//add keyframesæ·»åŠ ï¼š 1234UIView.addKeyframe(withRelativeStartTime: 0.0, relativeDuration: 0.25, animations: &#123; self.planeImage.center.x += 80.0 self.planeImage.center.y -= 10.0&#125;) addKeyframeï¼ˆwithRelativeStartTime:relativeDuration:animations:) ä¸ä¹‹å‰åŠ¨ç”»å‚æ•°è®¾ç½®ä¸åŒã€‚withRelativeStartTimeå’ŒrelativeDurationéƒ½æ˜¯ç›¸å¯¹æ—¶é—´ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹äºwithDurationã€‚ ä½¿ç”¨ç›¸å¯¹å€¼å¯ä»¥æŒ‡å®škeyframeåº”è¯¥æŒç»­æ€»æ—¶é—´çš„ä¸€å°éƒ¨åˆ†; UIKitè·å–æ¯ä¸ªkeyframeçš„ç›¸å¯¹æŒç»­æ—¶é—´ï¼Œå¹¶è‡ªåŠ¨è®¡ç®—æ¯ä¸ªkeyframeçš„ç¡®åˆ‡æŒç»­æ—¶é—´ï¼Œä¸ºæˆ‘ä»¬èŠ‚çœäº†å¤§é‡å·¥ä½œã€‚ä¸Šé¢çš„ä»£ç çš„æ„æ€å°±æ˜¯ä»1.5*0.0å¼€å§‹ï¼ŒæŒç»­æ—¶é—´1.5*0.25ï¼Œâœˆï¸å‘å³ç§»åŠ¨80.0ï¼Œå‘ä¸Šç§»åŠ¨10.0ã€‚ æ¥ç€ä¸Šé¢ï¼Œæ·»åŠ ç¬¬äºŒä¸ªkeyframeï¼š 123UIView.addKeyframe(withRelativeStartTime: 0.1, relativeDuration: 0.4, animations: &#123; self.planeImage.transform = CGAffineTransform(rotationAngle: -.pi/8)&#125;) è¿™ä¸€æ­¥æ˜¯è®©âœˆï¸æœ‰ä¸ªå‘ä¸Šå€¾æ–œçš„è§’åº¦ã€‚ æ¥ç€ï¼Œæ·»åŠ ç¬¬ä¸‰ä¸ªkeyframeï¼š 12345UIView.addKeyframe(withRelativeStartTime: 0.25, relativeDuration: 0.25, animations: &#123; self.planeImage.center.x += 100.0 self.planeImage.center.y -= 50.0 self.planeImage.alpha = 0.0&#125;) è¿™ä¸€æ­¥åœ¨ç§»åŠ¨åŒæ—¶é€æ¸æ¶ˆå¤±ã€‚ æ·»åŠ ç¬¬å››ä¸ªkeyframeï¼š 1234UIView.addKeyframe(withRelativeStartTime: 0.51, relativeDuration: 0.01, animations: &#123; self.planeImage.transform = .identity self.planeImage.center = CGPoint(x: 0.0, y: originalCenter.y)&#125;) è¿™ä¸€æ­¥è®©âœˆï¸å›åˆ°ä¸åŸæ¥é«˜åº¦ç›¸åŒçš„å±å¹•å·¦è¾¹ç¼˜ï¼Œä¸è¿‡ç°åœ¨æ¢å¤„äºé€æ˜åº¦ä¸º0çŠ¶æ€ã€‚ æ·»åŠ ç¬¬äº”ä¸ªkeyframeï¼š 1234UIView.addKeyframe(withRelativeStartTime: 0.55, relativeDuration: 0.45, animations: &#123; self.planeImage.alpha = 1.0 self.planeImage.center = originalCenter&#125;) è®©é£æœºå›åˆ°åŸæ¥ä½ç½®ã€‚ ç°åœ¨æ¥çœ‹è¿™ä¸ªäº”ä¸ªkeyframeçš„å¼€å§‹æ—¶é—´ï¼Œå®ƒä»¬ä¸æ˜¯ä¸€ä¸ªæ¥ç€ä¸€ä¸ªçš„ï¼Œè€Œæ˜¯æœ‰äº¤é›†çš„ï¼Œè¿™æ˜¯å› ä¸ºåˆ†æ­¥åŠ¨ç”»æœ¬èº«å°±æœ‰äº¤å‰ï¼Œâœˆï¸åœ¨è·‘é“ä¸Šç§»åŠ¨è¿‡ç¨‹ä¸­ä¹Ÿä¼šæœ‰å‘ä¸Šç§»åŠ¨ï¼Œæœºå¤´ä¹Ÿä¼šæ¸æ¸å‘ä¸Šå€¾æ–œï¼Œæˆ‘æŠŠæ¯ä¸€æ­¥çš„å¼€å§‹å’ŒæŒç»­æ—¶é—´åˆ—å‡ºæ¥ï¼Œå¾—åˆ°è¿™ä¸ªæ—¶é—´å¯èƒ½éœ€è¦ä¹‹å‰ä¸åœè°ƒèŠ‚ï¼Œçœ‹ä»€ä¹ˆæ—¶é—´åˆ†éš”æ¯”è¾ƒæµç•…ğŸ™‚ï¼Œä¸‹é¢æ˜¯æ¯”è¾ƒæµç•…çš„æ—¶é—´åˆ†éš”æ–¹å¼ã€‚ 12345(0.0, 0.25)(0.1, 0.4)(0.25, 0.25)(0.51, 0.01)(0.55, 0.45) æ•ˆæœä¸ºï¼š å…³é”®å¸§åŠ¨ç”»ä¸­çš„è®¡ç®—æ¨¡å¼å…³é”®å¸§åŠ¨ç”»ä¸æ”¯æŒæ ‡å‡†è§†å›¾åŠ¨ç”»ä¸­å¯ç”¨çš„å†…ç½®åŠ¨ç”»ç¼“åŠ¨ã€‚ è¿™æ˜¯è®¾è®¡å¥½çš„; å…³é”®å¸§åº”è¯¥åœ¨ç‰¹å®šæ—¶é—´å¼€å§‹å’Œç»“æŸå¹¶ç›¸äº’æµåŠ¨ã€‚ å¦‚æœä¸Šé¢åŠ¨ç”»çš„æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªç¼“åŠ¨æ›²çº¿ï¼Œé‚£ä¹ˆé£æœºå°±ä¼šæŠ–åŠ¨ï¼Œè€Œä¸æ˜¯ä»ä¸€ä¸ªåŠ¨ç”»å¹³ç¨³åœ°ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªåŠ¨ç”»ã€‚ ä¸Šé¢æ²¡æœ‰æåˆ°animateKeyframes(withDuration:delay:options:animations:completion:)æ–¹æ³•ï¼Œè¿™æ–¹æ³•æœ‰ä¸€ä¸ªoptionså‚æ•°ï¼ˆUIViewKeyframeAnimationOptionsï¼‰ï¼Œå¯ä»¥æä¾›å‡ ç§è®¡ç®—æ¨¡å¼çš„é€‰æ‹©ï¼Œæ¯ç§æ¨¡å¼æä¾›äº†ä¸€ç§ä¸åŒçš„æ–¹æ³•æ¥è®¡ç®—åŠ¨ç”»çš„ä¸­é—´å¸§ä»¥åŠä¸åŒçš„ä¼˜åŒ–å™¨ï¼Œä»¥å®ç°å¸§ä¹‹å‰çš„è½¬åŒ–ï¼Œ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¯æŸ¥çœ‹æ–‡æ¡£UIViewKeyframeAnimationOptionsã€‚ èˆªç­å‡ºå‘æ—¶é—´åŠ¨ç”»ç”±äºèˆªç­å‡ºå‘æ—¶é—´åœ¨å±å¹•é¡¶éƒ¨ï¼Œå˜åŒ–æ—¶å¯ä»¥ç®€å•å…ˆå‘ä¸Šç§»åŠ¨åˆ°å±å¹•å¤–ï¼Œç„¶åå˜åŒ–åå†å‘ä¸‹ç§»åŠ¨åˆ°å±å¹•å†…ã€‚ 1234567891011121314func summarySwitch(to summaryText: String) &#123; UIView.animateKeyframes(withDuration: 1.0, delay: 0.0, animations: &#123; UIView.addKeyframe(withRelativeStartTime: 0.0, relativeDuration: 0.45, animations: &#123; self.summary.center.y -= 100.0 &#125;) UIView.addKeyframe(withRelativeStartTime: 0.5, relativeDuration: 0.45, animations: &#123; self.summary.center.y += 100.0 &#125;) &#125;, completion: nil) delay(seconds: 0.5) &#123; self.summary.text = summaryText &#125;&#125; åŒæ ·åœ¨changeFlightçš„ if animated {}ä¸­è°ƒç”¨summarySwitch()ã€‚ æœ¬ç« æœ€åæ•ˆæœï¼š]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
        <tag>View Animation</tag>
        <tag>è§†å›¾åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹é›¶ï¼šè¯´æ˜å’Œç›®å½•]]></title>
    <url>%2F2018%2FiOS-Animation-0.html</url>
    <content type="text"><![CDATA[åŠ¨ç”»åˆ¶ä½œå¾ˆæœ‰è¶£ï¼Œå¯ä»¥ä¸ºç”¨æˆ·ç•Œé¢æ³¨å…¥æ´»åŠ›ã€‚ å¦‚æœä½¿ç”¨å¾—å½“ï¼ŒåŠ¨ç”»å¯ä»¥å‘ç”¨æˆ·ä¼ è¾¾ä¿¡æ¯ï¼Œå¹¶å°†ç”¨æˆ·æ³¨æ„åŠ›å¸å¼•åˆ°ç•Œé¢çš„é‡è¦éƒ¨åˆ†ã€‚ ä¹‹å‰ä¹Ÿåšè¿‡ä¸€äº›iOSåŠ¨ç”»ï¼Œä½†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ è¿‡ï¼Œè¿™æ¬¡æˆ‘ç”¨RWç½‘ç«™çš„ä¹¦ ã€ŠiOS Animations by Tutorialsã€‹ æ¥ç³»ç»Ÿåœ°å­¦ä¹ iOSåŠ¨ç”»ã€‚è¿™æœ¬ä¹¦çš„å†…å®¹å’Œé¡¹ç›®ä¸å¤æ‚ä½†å¾ˆå…¨ï¼ŒåŸºæœ¬ä¸ŠiOSåŠ¨ç”»çš„å„ä¸ªæ–¹é¢éƒ½ä»‹ç»äº†ã€‚ ã€ŠiOS Animations by Tutorialsã€‹ å…¨ä¹¦åˆ†ä¸º7ä¸ªéƒ¨åˆ†ï¼Œ27å°ç« èŠ‚ï¼Œå†…å®¹éå¸¸ä¸°å¯Œï¼Œæˆ‘å¯¹åº”7ä¸ªéƒ¨åˆ†åˆ†åˆ«æ€»ç»“ä¸º7ç¯‡æ–‡ç« ï¼Œæœ‰å‡ ç¯‡æ–‡ç« å¯èƒ½æ¯”è¾ƒé•¿ï¼Œç‰¹åˆ«æ˜¯åŠ¨å›¾æ¯”è¾ƒå¤šï¼Œç”¨æ‰‹æœºçœ‹çš„å°ä¼™ä¼´è¯·æ…é‡ï¼Œå¯¹è‡ªå·±æ¸©æŸ”ä¸€ç‚¹ğŸ¥´ã€‚ å¼€å‘ç¯å¢ƒï¼šXcode 10.1, Swift 4.2, macOS Mojave 10.14.1 ç›®å½•ç›®å½•å¯ä»¥å¾ˆå¥½çœ‹æ¸…æ•´ä½“è„‰ç»œï¼Œæ¯ä¸€ç¯‡æ–‡ç« çš„å¼€å§‹æˆ‘ä¹Ÿåˆ—å‡ºäº†å°ç« èŠ‚çš„é¢˜ç›®ï¼Œè¿™æ ·å¯ä»¥ç³»ç»Ÿçš„å­¦ä¹ iOSåŠ¨ç”»ï¼Œé‚£è¾¹æœ‰é—®é¢˜ä¹Ÿå¥½åŠæ—¶å‘å…ˆå¹¶å¯¹åº”åˆ°ç³»ç»Ÿç‚¹ä¸Šã€‚è¦ä¸å¯èƒ½è¶Šå­¦è¶Šä¹±ï¼Œè¿™æ–¹é¢æˆ‘è‡ªå·±æ·±æœ‰ä½“ä¼šçš„ğŸ˜•ğŸ¤”ã€‚ ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸€ï¼šè§†å›¾åŠ¨ç”»ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹äºŒï¼šè‡ªåŠ¨å¸ƒå±€åŠ¨ç”»ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸‰ï¼šå›¾å±‚åŠ¨ç”»ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹å››ï¼šè§†å›¾æ§åˆ¶å™¨çš„è½¬åœºåŠ¨ç”»ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹äº”ï¼šä½¿ç”¨UIViewPropertyAnimatorç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹å…­ï¼š3DåŠ¨ç”»ç³»ç»Ÿå­¦ä¹ iOSåŠ¨ç”»ä¹‹ä¸ƒï¼šå…¶å®ƒç±»å‹çš„åŠ¨ç”» å…³äºä»£ç æˆ‘å®Œæˆæ¯ä¸€ç« èŠ‚ä»£ç æ”¾åœ¨GitHubä¸Š andyRon/LearniOSAnimationsï¼Œä»£ç ä¸­åŠ ä¸€äº›ä¸­æ–‡æ³¨é‡Šä¾¿äºç†è§£ã€‚ åŸä¹¦æä¾›çš„ä»£ç ï¼Œæ¯ç« éƒ½ä¼šæœ‰å¼€å§‹é¡¹ç›®å’Œæœ€ç»ˆå®Œæˆé¡¹ç›®ä»£ç ï¼ˆè¿™åº”è¯¥æ˜¯RWç½‘ç«™çš„æƒ¯ä¾‹äº†ğŸ˜€ï¼‰ï¼Œæœ‰çš„ç« èŠ‚è¿˜æœ‰æœ‰æŒ‘æˆ˜é¡¹ç›®ã€‚å»ºè®®æŒ‰é¡ºåºé˜…è¯»ï¼Œå› ä¸ºå‰åç« èŠ‚çŸ¥è¯†ç‚¹æœ‰ä¸€å®šå…³è”ã€‚ å¼€å§‹é¡¹ç›®éƒ½æ˜¯ç›¸å¯¹ç®€å•é¡¹ç›®æˆ–è€…æ˜¯å‰ä¸€ä¸ªç« èŠ‚çš„é¡¹ç›®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åŸä¹¦æä¾›çš„ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä»å¤´åˆ›å»ºä¸€ä¸‹ï¼ˆæˆ‘è‡ªå·±å°±æ˜¯è¿™ä¹ˆå¹²çš„ğŸ¤“ğŸ¤“ï¼‰ã€‚ æ‚„æ‚„åœ°è¯´ï¼Œå¦‚æœå°ä¼™ä¼´æš‚æ—¶æ‰‹å¤´æ²¡æœ‰å¤šä½™ğŸ’°è´­ä¹°æ­£ç‰ˆï¼Œå¯ä»¥ç§ä¿¡æˆ‘è·å–ç”µå­ä¹¦+ä»£ç ã€‚ é¡¹ç›®é¢„è§ˆå’Œå¯¹åº”ç« èŠ‚ é¡¹ç›®å BahamaAirLoginScreen Flight Info Packing List å¯¹åº”ç« èŠ‚ 1 2 3 8 9 10 11 12 4 5 6 7 é¢„è§ˆå›¾ é¡¹ç›®å MultiplayerSearch SlideToReveal PullToRefresh å¯¹åº”ç« èŠ‚ 13 14 15 é¢„è§ˆå›¾ é¡¹ç›®å Lris BeginnerCook LogoReveal å¯¹åº”ç« èŠ‚ 16 17 18 19 é¢„è§ˆå›¾ é¡¹ç›®å LockSearch OfficeBuddy ImageGallery å¯¹åº”ç« èŠ‚ 20 21 22 23 24 25 é¢„è§ˆå›¾ é¡¹ç›®å Snow Scene SouthPoleFun å¯¹åº”ç« èŠ‚ 26 27 é¢„è§ˆå›¾]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-AVLæ ‘]]></title>
    <url>%2F2018%2Fswift-algorithm-club-cn-AVL-tree.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/AVL Tree AVLæ ‘(AVL Tree)AVLæ ‘æ˜¯äºŒå‰æœç´¢æ ‘çš„è‡ªå¹³è¡¡å½¢å¼ï¼Œå…¶ä¸­å­æ ‘çš„é«˜åº¦æœ€å¤šåªç›¸å·®1ã€‚ å½“äºŒå‰æ ‘çš„å·¦å³å­æ ‘åŒ…å«å¤§è‡´ç›¸åŒæ•°é‡çš„èŠ‚ç‚¹æ—¶ï¼Œç§°æ ‘æ˜¯ å¹³è¡¡çš„ã€‚ è¿™å°±æ˜¯ä½¿æ ‘æœç´¢é€Ÿåº¦éå¸¸å¿«çš„åŸå› ã€‚ ä½†æ˜¯å¦‚æœäºŒå…ƒæœç´¢æ ‘ä¸å¹³è¡¡ï¼Œæœç´¢ä¼šå˜å¾—éå¸¸æ…¢ã€‚ è¿™æ˜¯ä¸€ä¸ªä¸å¹³è¡¡æ ‘çš„ä¾‹å­ï¼š æ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½åœ¨å·¦ä¾§åˆ†æ”¯ï¼Œæ²¡æœ‰ä¸€ä¸ªåœ¨å³ä¾§åˆ†æ”¯ã€‚ è¿™ä¸é“¾è¡¨åŸºæœ¬ç›¸åŒã€‚ å› æ­¤ï¼Œæœç´¢éœ€è¦ O(n) æ—¶é—´ï¼Œè€Œä¸æ˜¯æ‚¨æœŸæœ›ä»äºŒå‰æœç´¢æ ‘è·å¾—çš„æ›´å¿«çš„ O(log n) ã€‚ è¯¥æ ‘çš„å¹³è¡¡ç‰ˆæœ¬å¦‚ä¸‹æ‰€ç¤ºï¼š ä½¿äºŒè¿›åˆ¶æœç´¢æ ‘å¹³è¡¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä»¥å®Œå…¨éšæœºçš„é¡ºåºæ’å…¥èŠ‚ç‚¹ã€‚ ä½†è¿™å¹¶ä¸èƒ½ä¿è¯æˆåŠŸï¼Œä¹Ÿä¸æ€»æ˜¯åˆ‡å®å¯è¡Œã€‚ å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è‡ªå¹³è¡¡äºŒå‰æ ‘ã€‚ æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹åï¼Œæ­¤ç±»å‹çš„æ•°æ®ç»“æ„ä¼šè°ƒæ•´æ ‘ä»¥ä½¿å…¶ä¿æŒå¹³è¡¡ã€‚ è¿™ç§æ ‘çš„é«˜åº¦ä¿è¯ä¸º log(n)ï¼Œå…¶ä¸­ n æ˜¯èŠ‚ç‚¹çš„æ•°é‡ã€‚ åœ¨å¹³è¡¡æ ‘ä¸Šï¼Œæ‰€æœ‰æ’å…¥ï¼Œç§»é™¤å’Œæœç´¢æ“ä½œä»…éœ€ O(logn) æ—¶é—´ã€‚ è¿™æ„å‘³ç€å¿«é€Ÿã€‚;-) ä»‹ç»AVLæ ‘AVLæ ‘é€šè¿‡å‘å·¦æˆ–å‘å³â€œæ—‹è½¬â€æ ‘æ¥ä¿®å¤ä»»ä½•ä¸å¹³è¡¡ã€‚ å¦‚æœAVLæ ‘ä¸­çš„èŠ‚ç‚¹åœ¨â€œé«˜åº¦â€ä¸Šçš„å·®å¼‚æœ€å¤§ä¸º1ï¼Œåˆ™è®¤ä¸ºå®ƒæ˜¯å¹³è¡¡çš„ã€‚å¦‚æœæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å¹³è¡¡çš„ï¼Œåˆ™æ ‘æœ¬èº«æ˜¯å¹³è¡¡çš„ã€‚ èŠ‚ç‚¹çš„heightæ˜¯è·å–è¯¥èŠ‚ç‚¹æœ€ä½å¶å­æ‰€éœ€çš„æ­¥æ•°ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„æ ‘ä¸­ï¼Œä»Aåˆ°Eéœ€è¦ä¸‰ä¸ªæ­¥ï¼Œå› æ­¤Açš„é«˜åº¦ä¸º3ã€‚Bçš„é«˜åº¦ä¸º2ï¼ŒCçš„é«˜åº¦ä¸º1ï¼Œå…¶ä»–çš„é«˜åº¦ä¸º0ï¼Œå› ä¸ºå®ƒä»¬æ˜¯å¶èŠ‚ç‚¹ã€‚ å¦‚ä¸Šæ‰€è¿°ï¼Œåœ¨AVLæ ‘ä¸­ï¼Œå¦‚æœèŠ‚ç‚¹çš„å·¦å³å­æ ‘å…·æœ‰ç›¸åŒçš„é«˜åº¦ï¼Œåˆ™èŠ‚ç‚¹æ˜¯å¹³è¡¡çš„ã€‚ å½“ç„¶ä¸å¿…æ˜¯å®Œå…¨ç›¸åŒçš„é«˜åº¦ï¼Œä½†å·®å¼‚ä¸èƒ½å¤§äº1ã€‚è¿™äº›éƒ½æ˜¯å¹³è¡¡æ ‘çš„ä¾‹å­ï¼š ä»¥ä¸‹æ˜¯ä¸å¹³è¡¡çš„æ ‘ï¼Œå› ä¸ºå·¦å­æ ‘çš„é«˜åº¦ä¸å³å­æ ‘ç›¸æ¯”å¤ªå¤§äº†ï¼š å·¦å³å­æ ‘çš„é«˜åº¦ä¹‹é—´çš„å·®å¼‚ç§°ä¸ºå¹³è¡¡å› å­(balance factor)ã€‚ è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š balance factor = abs(height(left subtree) - height(right subtree)) å¦‚æœåœ¨æ’å…¥æˆ–åˆ é™¤åå¹³è¡¡å› å­å˜å¾—å¤§äº1ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦é‡æ–°å¹³è¡¡AVLæ ‘çš„è¿™ä¸€éƒ¨åˆ†ã€‚ è¿™æ˜¯é€šè¿‡æ—‹è½¬å®Œæˆçš„ã€‚ è¯‘æ³¨ï¼š absæ˜¯ç»å¯¹å€¼çš„æ„æ€ã€‚ æ—‹è½¬æ¯ä¸ªæ ‘èŠ‚ç‚¹åœ¨å˜é‡ä¸­è·Ÿè¸ªå…¶å½“å‰å¹³è¡¡å› å­ã€‚ æ’å…¥æ–°èŠ‚ç‚¹åï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°å…¶çˆ¶èŠ‚ç‚¹çš„å¹³è¡¡å› å­ã€‚ å¦‚æœè¯¥å¹³è¡¡å› å­å¤§äº1ï¼Œæˆ‘ä»¬â€œæ—‹è½¬â€è¯¥æ ‘çš„ä¸€éƒ¨åˆ†ä»¥æ¢å¤å¹³è¡¡ã€‚ å¯¹äºæ—‹è½¬ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ¯è¯­ï¼š Root - å°†è¦æ—‹è½¬çš„å­æ ‘çš„çˆ¶èŠ‚ç‚¹; Pivot - æ—‹è½¬åå°†æˆä¸ºçˆ¶èŠ‚ç‚¹ï¼ˆåŸºæœ¬ä¸Šä½äº Root ä½ç½®ï¼‰çš„èŠ‚ç‚¹; RotationSubtree - æ—‹è½¬ä¾§çš„Pivotçš„å­æ ‘ OppositeSubtree - ä¸æ—‹è½¬ä¾§ç›¸å¯¹çš„Pivotçš„å­æ ‘ è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªä½¿ç”¨å³ï¼ˆé¡ºæ—¶é’ˆæ–¹å‘ï¼‰æ—‹è½¬æ¥å¹³è¡¡ä¸å¹³è¡¡æ ‘çš„ç¤ºä¾‹ï¼š æ—‹è½¬æ­¥éª¤å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æè¿°ï¼š å°†RotationSubtreeæŒ‡å®šä¸ºRootçš„æ–°OppositeSubtree; å°†RootæŒ‡å®šä¸ºPivotçš„æ–°RotationSubtree; æ£€æŸ¥æœ€ç»ˆç»“æœ ç”¨ä¼ªä»£ç ï¼Œä¸Šé¢çš„ç®—æ³•å¯ä»¥å†™æˆå¦‚ä¸‹ï¼š 123Root.OS = Pivot.RSPivot.RS = RootRoot = Pivot è¿™æ˜¯ä¸€ä¸ªæ’å®šæ—¶é—´æ“ä½œ - O(1) æ’å…¥æ°¸è¿œä¸éœ€è¦è¶…è¿‡2æ¬¡æ—‹è½¬ã€‚ åˆ é™¤å¯èƒ½éœ€è¦æœ€å¤š log(n) è½®æ¢ã€‚ ä»£ç AVLTree.swiftä¸­çš„å¤§å¤šæ•°ä»£ç åªæ˜¯å¸¸è§„äºŒå‰æœç´¢æ ‘çš„ä¸œè¥¿ã€‚ æ‚¨å¯ä»¥åœ¨äºŒå‰æœç´¢æ ‘æ‰¾åˆ°å¤§éƒ¨åˆ†å®ç°ã€‚ ä¾‹å¦‚ï¼Œæœç´¢æ ‘æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ AVLæ ‘å”¯ä¸€ä¸åŒçš„æ˜¯æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹ã€‚ æ³¨æ„ï¼š å¦‚æœä½ å¯¹äºŒå‰æœç´¢æ ‘çš„å¸¸è§„æ“ä½œæœ‰ç‚¹æ¨¡ç³Šï¼Œæˆ‘å»ºè®®ä½ çœ‹è¿™è¾¹ã€‚ è¿™ä¼šä½¿AVLæ ‘æ›´å®¹æ˜“ç†è§£ã€‚ æœ‰è¶£çš„ä½åœ¨balance()æ–¹æ³•ä¸­ï¼Œåœ¨æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹åè°ƒç”¨ã€‚ æ‰©å±•é˜…è¯»AVLæ ‘çš„ç»´åŸºç™¾ç§‘ AVLæ ‘æ˜¯ç¬¬ä¸€ä¸ªè‡ªå¹³è¡¡äºŒå‰æ ‘ã€‚ æœ€è¿‘ï¼Œçº¢é»‘æ ‘ä¼¼ä¹æ›´å—æ¬¢è¿ã€‚ ä½œè€…ï¼šMike Taghaviï¼Œ Matthijs Hollemansç¿»è¯‘ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>AVLæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šä»¥å¹½é»˜çš„æ–¹å¼è¿‡ä¸€ç”Ÿã€‹]]></title>
    <url>%2F2018%2F%E4%BB%A5%E5%B9%BD%E9%BB%98%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%87%E4%B8%80%E7%94%9F.html</url>
    <content type="text"><![CDATA[è‡ªç”±é€‰æ‹©æ˜¯äººçš„ç»ˆæè‡ªç”±ã€‚ å› ä¸ºç›¸å¯¹äºäºšå½“å’Œå¤å¨ƒçŠ¯é”™è¿™ä»¶äº‹æ¥è¯´ï¼Œç»™ä»–ä»¬çŠ¯é”™çš„æƒåˆ©å’Œè‡ªç”±æ›´é‡è¦ï¼Œä¹Ÿå°±æ˜¯äººç±»çš„è‡ªç”±æ„å¿—ã€‚ ä½ å¯ä»¥é€‰æ‹©å–„ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ¶ã€‚ æ‰€æœ‰çš„ä¼Ÿå¤§ï¼Œéƒ½æºäºä¸€ä¸ªå‹‡æ•¢çš„å¼€å§‹ã€‚ èŒä¸šä¸èƒ½æœ‰æ„Ÿè§‰äº†æ‰å¼€å§‹è¡ŒåŠ¨ã€‚èº«ä¸ºå°å§ï¼Œä¸èƒ½æœ‰æ„Ÿè§‰äº†å†æ¥å®¢ã€‚ ä¸€ä¸ªä¼˜ç§€çš„äººï¼Œä¸€å®šæ˜¯åœ¨ä»»ä½•åœ°æ–¹éƒ½è¡¨ç°å‡ºè‡ªå·±çš„ä¼˜ç§€ã€‚ æ‰€è°“èŒä¸šï¼Œå°±æ˜¯ä¸ç®¡æœ‰æ²¡æœ‰æ¬²æœ›ã€çµæ„Ÿæˆ–çŠ¶æ€ï¼Œéšæ—¶éƒ½å¯ä»¥è®©è‡ªå·±è¿›å…¥é‚£ä¸ªè§’è‰²ï¼Œåœ¨è¿‡ç¨‹ä¸­æ‰¾åˆ°æ„Ÿè§‰ã€‚å½“ç„¶ï¼Œå¦‚æœ‰å¯èƒ½ï¼Œå°½é‡è®©è‡ªå·±ä½“ä¼šåˆ°å¿«ä¹ã€‚ å¤„ä¸–æ¯ä¸ªäººéƒ½å¯èƒ½ä¼šè¢«éª—ï¼Œä½†ä¸èƒ½å› ä¸ºè¢«éª—ï¼Œå°±å¤±å»å¯¹æ‰€æœ‰äººçš„ä¿¡ä»»ã€‚ ä¸€ä¸ªåæœ‹å‹å¯¹ä½ æœ€å¤§çš„æ‰“å‡»ï¼Œä¸æ˜¯ç ´åäº†å‹è°Šï¼Œè€Œæ˜¯è®©ä½ ä¸å†æŠ•å…¥çœŸè¯šã€‚ä¸€ä¸ªåæ‹äººå¯¹ä½ æœ€å¤§çš„æ‰“å‡»ï¼Œä¸æ˜¯è®©ä½ ä¼¤ç—•ç´¯ç´¯ï¼Œè€Œæ˜¯è®©ä½ å†ä¹Ÿä¸æ•¢æŠ•å…¥æ„Ÿæƒ…ã€‚ å¯æ€•çš„ï¼Œæ˜¯ä½ ç”¨è¿™äº›è¿‡å»ï¼Œç»‘æ¶äº†è‡ªå·±çš„æœªæ¥ã€‚ åœ¨æˆäººä¸–ç•Œé‡Œï¼Œç²¾ç¡®ï¼Œæ˜¯ä¸€ä»¶æ®‹å¿çš„å¤„ä¸–æ–¹å¼ã€‚ç³Šæ¶‚ï¼Œè°è¯´ä¸æ˜¯ä¸€ç§é«˜æ™ºå•†çš„ç”Ÿæ´»æ€åº¦ã€‚ æˆç†Ÿçš„å®šä¹‰æ˜¯ï¼Œåœ¨è¡¨è¾¾è‡ªå·±çš„åŒæ—¶ï¼Œäº¦ä½“è°…å¯¹æ–¹çš„æ„Ÿå— ç”Ÿæ´»ä¸­ï¼Œè§£å†³é—®é¢˜ï¼Œè¿œæ¯”è®¡è¾ƒå¯¹é”™æ›´æœ‰é­…åŠ›ï¼ ä¸è¦æŠŠç²¾åŠ›ç”¨åœ¨è®¨å¥½åˆ«äººä¸Šã€‚ åœ¨è‡ªå·±çš„ä¸–ç•Œé‡Œå­¤èŠ³è‡ªèµï¼Œåœ¨åˆ«äººçš„ä¸–ç•Œé‡Œéšé‡è€Œå®‰ã€‚ åˆ«äººææ„è§ï¼Œä¸å¿…ç€æ€¥ä¸Šç«ï¼Œä»–éœ€è¦çš„æˆ–è®¸ä¸æ˜¯å»ºè®®ï¼Œè€Œæ˜¯æ—¶é—´ã€‚ é¢‘ç¹ä½¿ç”¨æ„Ÿå¹å·çš„äººï¼Œä¸€èˆ¬æ€§å­éƒ½æ¯”è¾ƒæ€¥ï¼Œä»¥è‡ªæˆ‘ä¸ºä¸­å¿ƒï¼Œè‡ªå·±çš„æƒ…ç»ªè¡¨è¾¾èƒœè¿‡ä¸€åˆ‡ï¼Œè€Œå¾€å¾€ä¸åœ¨æ„åˆ«äººçš„æ„Ÿå—ã€‚ è¡¨è¾¾æ­£é¢æƒ…ç»ªå¯ä»¥å°½æƒ…ç”¨æ„Ÿå¹å·ï¼Œæ¯”å¦‚ä½ å¥½å¸…ï¼ ä½ é‚£ç‚¹äº‹ï¼Œæœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚ çˆ±çˆ±æ˜¯ä¸ªåŠ¨è¯ï¼Œå°±æ˜¯èº«ä¸ºä¸€ä¸ªäººï¼Œå°±åº”è¯¥æœ‰çˆ±çš„èƒ½åŠ›ï¼Œä¸è¦é—®ä¸ºä»€ä¹ˆï¼Œè¿™å°±æ˜¯äººå­˜åœ¨äºä¸–ç•Œä¸Šçš„ä¸€ä¸ªé‡è¦æ ‡å¿—ï¼Œæ‰€ä»¥ä½ éœ€è¦å»é‡Šæ”¾çˆ±ï¼Œå»çˆ±äººã€‚ å› ä¸ºæ— çŸ¥ï¼Œæ‰€ä»¥è¿·æ‹ã€‚è€Œä¸€æ—¦çœ‹æ¸…ï¼Œå°±å˜æˆäº†èµ¤è£¸è£¸çš„é„™è§†ã€‚ çˆ±èµ·æ¥å¦‚ç–¾é£éª¤é›¨ä¸çˆ±æ­»ä½ ä¸ç½¢ä¼‘ï¼Œä¸çˆ±äº†å¦‚é›¨è¿‡å¤©æ™´å½“æ–­åˆ™æ–­ç»ä¸æ‹–æ³¥å¸¦æ°´ã€‚çˆ±æ¨åˆ†æ˜ä¸å±‘çº ç¼ ï¼Œä¾ è‚ä¹‰èƒ†æ‡’å¾—ä¼ªè£…ã€‚è¯´èµ·è¯æ¥å¹²å‡€åˆ©ç´¢ç»ä¸æ‰­æï¼Œåšèµ·äº‹æ¥é£é£ç«ç«å½“ä»ä¸è®©ã€‚ â€œé•¿å¾—ä¸‘åŒ–å¦†ä¹Ÿå°±ç½¢äº†ï¼Œæ˜æ˜æœ‰äº›äººå¤©ç”Ÿä¸½è´¨è¿˜è¦æµªè´¹è¿™ä¸ªæ—¶é—´ï¼Œæ— æ³•ç†è§£ã€‚â€ å§‹ç»ˆæ‰¾å¾—åˆ°è‡ªå·±ï¼Œæ‰èƒ½çœŸæ­£çˆ±ä¸Šä½ ã€‚ è¦æ˜ç™½äººæ˜¯ä¸å®Œç¾çš„ï¼Œæ‰æ˜¯é•¿ä¹…ç›¸å¤„çš„å‰æã€‚ ä¸€ç§æ‹çˆ±æ¨¡å¼ï¼šçˆ±æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„äººäº’ç›¸ä¾é ã€‚ åœ¨èŒ«èŒ«äººæµ·ä¸­æˆ‘ä»¬éƒ½åœ¨å¯»æ‰¾å¦ä¸€ä¸ªè‡ªå·±ï¼Œè€Œä¸æ˜¯åœ¨å¯»æ‰¾ä¸€ä¸ªå®Œç¾çš„äººã€‚ è¯»ä¹¦è¯»ä¹¦æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€èµšä¾¿å®œçš„äº‹æƒ…äº†ï¼ŒèŠ±å‡ åå…ƒé’±å°±èƒ½è·Ÿä½œè€…ä¸€è¾ˆå­çš„æ€æƒ³åšä¸ªäº¤æµã€‚ è¯»ä¹¦æœ€é‡è¦çš„ä½œç”¨ï¼Œé™¤äº†æ¶ˆé£ï¼Œå°±æ˜¯èƒ½å‘ç°ç”Ÿæ´»çš„æ›´å¤šå¯èƒ½ã€‚ ä¸€æ˜¯è¯»ä¹¦å¢åŠ ç”Ÿå‘½å±‚æ¬¡æ€§ äºŒæ˜¯æ‹¥æœ‰æ›´å®½é˜”çš„èƒ¸æ€€ã€‚ ä¸‰æ˜¯å¢åŠ æ™ºæ…§ã€‚ è¯»ç€å„ç§ç§‘å¹»çš„è®¾æƒ³ï¼Œå…¶å®æ ¸å¿ƒè¿˜æ˜¯äººæ€§çš„æŒ£æ‰ã€‚ã€Šé‡‘ç“¶æ¢…ã€‹æ— éç”¨æ€§æ¥å†™äººæ€§ï¼Œã€Šçº¢æ¥¼æ¢¦ã€‹æ˜¯ç”¨è´µæ—çš„æ²¡è½æ¥å†™äººæ€§ï¼Œã€Šè¥¿æ¸¸è®°ã€‹ç”¨å¸ˆå¾’å–ç»çš„æ•…äº‹æ¥å†™äººæ€§ã€‚ å¥½ä½œå“ï¼Œå°±æ˜¯èƒ½å‰–ææ·±åˆ»çš„äººæ€§ã€‚è€Œè¯»äººæ€§ï¼Œå°±æ˜¯å¢é•¿æ™ºæ…§ï¼Œå› ä¸ºè¿™ä¸–é—´æœ€å›°æ‰°äººçš„ï¼Œä¹Ÿå°±æ˜¯äººæ€§äº†ã€‚ æœ‰äººè¯´è¯»ç”µå­ç‰ˆçš„ä¹¦æ²¡æ„Ÿè§‰ï¼Œè¿™çº¯ç²¹æ˜¯çŸ«æƒ…ï¼Œä»‹è´¨åŒºåˆ«è€Œå·²ï¼Œä½•å¿…å¦‚æ­¤çº ç»“ã€‚å°±è·Ÿä¹‹å‰æœ‰äººè¯´ç”¨ç”µè„‘å†™ä¸å‡ºè¯—å¥ä¸€æ ·ï¼Œä¹ æƒ¯å°±å¥½äº†ã€‚ æŠŠç²¾åŠ›ç”¨åœ¨æ›´å¤šçš„åæ€ä¸åˆ†äº«ä¸Šï¼Œæ¯”å¦‚è¯»ä¹¦åçš„å¿ƒå¾—ï¼Œçœ‹å®Œä¸€éƒ¨ç”µå½±åçš„ä½“ä¼šã€‚ä½ ä¼šé€æ¸å‘ç°ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œè‡ªå·±çš„çŸ¥è¯†å¼€å§‹ç³»ç»Ÿèµ·æ¥ã€‚ è¯»ä¹¦å¯¹ä¸€ä¸ªäººæ¥è¯´ï¼Œæ°¸è¿œéƒ½æ˜¯è¿›è¡Œæ—¶ï¼Œè€Œä¸æ˜¯å®Œæˆæ—¶ã€‚ ç”Ÿæ´»ç”Ÿæ´»ï¼Œå°±æ˜¯å¿ƒæ€€æœ€å¤§çš„å–„æ„åœ¨è†æ£˜ä¸­ç©¿è¡Œã€‚å³ä½¿è¢«åˆºä¼¤ï¼Œäº¦ä¸æ”¹åˆè¡·ã€‚ äººç”Ÿçš„è·¯å½’çº³èµ·æ¥æ— éä¸¤æ¡ï¼šä¸€æ¡ç”¨æ¥å®è·µï¼Œå°±æ˜¯æ­£åœ¨èµ°çš„è¿™æ¡ï¼›ä¸€æ¡ç”¨æ¥é—æ†¾ï¼Œæ²¡äº‹æƒ³æƒ³å°±å¥½äº†ã€‚å…¶å®å¦‚æœå†ç»™ä½ ä¸€æ¬¡é€‰æ‹©ï¼Œä½ ä¾ç„¶ä¼šå› ä¸ºæ²¡æœ‰é€‰æ‹©åˆ«çš„è·¯è€Œé—æ†¾ï¼Œå› ä¸ºäººç”Ÿä¸å¯èƒ½ç©·å°½æ‰€æœ‰é€‰æ‹©ã€‚ é€›è¡—é‡ç‚¹åœ¨äºâ€œé€›â€ï¼Œè€Œä¸åœ¨äºâ€œä¹°â€ã€‚ æˆ‘è§‰å¾—çŸ­æš‚ç¦»å¼€ç°å®ç”Ÿæ´»çš„æ–¹æ³•å¤§è‡´æœ‰å››ç§ï¼š è¯»ä¹¦ï¼Œæ˜¯å»åˆ«äººçš„çµé­‚é‡Œå·çª¥ï¼› çœ‹ç”µå½±ï¼Œæ˜¯å»é“¶å±é‡Œæ„Ÿå—åˆ«äººçš„ç”Ÿæ´»å†ç¨‹ï¼› å†¥æƒ³ï¼Œæ˜¯å»è‡ªå·±å†…å¿ƒçš„ç§˜å¢ƒé‡Œæ¢å¯»ï¼› æ—…è¡Œï¼Œæ˜¯å»é™Œç”Ÿçš„ç¯å¢ƒé‡Œæ„Ÿæ‚Ÿã€‚ ç¦»å¼€ç°å®ç”Ÿæ´»å…¶å®ä¸æ˜¯é€ƒé¿ï¼Œè€Œæ˜¯ä»å¦ä¸€ä¸ªè§’åº¦è§‚å¯Ÿç”Ÿæ´»ï¼Œå¯å‘å¿ƒæ™ºã€‚æ—…è¡Œå½’æ¥è‡ªå·±è¿˜æ˜¯è‡ªå·±ï¼Œå¿ƒå¢ƒå´å·²å¤§ä¸ç›¸åŒã€‚è¯»ä¹¦ã€çœ‹ç”µå½±ã€å†¥æƒ³ä¸‰ç§æ–¹å¼åªéœ€è¦èŠ±è´¹å¾ˆå°çš„æˆæœ¬å°±å¯ä»¥ç¦»å¼€ç°å®ç”Ÿæ´»ï¼Œæ—…è¡Œå› ä¸ºæ¶‰åŠç§ç§å®‰æ’å’Œæ„å¤–ï¼Œæ‰€ä»¥ç¨å¾®ä¸æ…å°±è„±ç¦»ä¸æˆï¼Œåè€Œæ›´åŠ çƒ¦æ¼ã€‚ å©šå§»æ‰¾ä¸ªèƒ½è¯´åˆ°ä¸€èµ·çš„äººç»“å©šã€‚ å©šå§»ä¸æ˜¯è¯ï¼Œæ‹çˆ±çš„é—®é¢˜ä¸è¦ç”¨å©šå§»æ¥è§£å†³ã€‚å…¶å®å¾ˆå¤šäººåœ¨èµ°å…¥å©šå§»æ®¿å ‚å‰ï¼Œå°±æ˜æ˜¾çŸ¥é“åŒæ–¹æ˜¯ä¸åˆé€‚çš„ï¼Œä½†æ˜¯ä»–ä»¬å¤©çœŸåœ°ä»¥ä¸ºï¼Œç»“äº†å©šå°±å¥½äº†ï¼Œå©šå§»çœŸçš„æ˜¯è§£å†³ä¸åˆé€‚çš„è¯æ–¹å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œå©šå§»æ˜¯ä¸¤ä¸ªäººåˆé€‚çš„ç»“æœã€‚å¦‚æœæ‹çˆ±æ—¶å­˜åœ¨é—®é¢˜ï¼Œä½ åƒä¸‡ä¸è¦ä»¥ä¸ºé€šè¿‡å©šå§»å°±å¯ä»¥è§£å†³ã€‚å¦‚æœè°ˆæ‹çˆ±éƒ½æ„Ÿè§‰ä¸èˆ’æœï¼Œé‚£å©šåä¼šæ›´ä¸èˆ’æœã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå©šå§»åä¼šæ”¾å¤§è¿™ç§ç—›è‹¦ï¼Œæ¯”å¦‚æ´—ç¢—åšé¥­æ‹–åœ°æ•´ç†æˆ¿é—´ï¼Œè¿™äº›é¸¡æ¯›è’œçš®çš„äº‹éƒ½ä¼šæ”¾å¤§ä¸¤ä¸ªäººçš„çŸ›ç›¾ã€‚ å¦‚æœæˆ‘ä»¬çš„æ™ºå•†ä¸åœ¨ä¸€ä¸ªå±‚æ¬¡ï¼Œæ€ä¹ˆå¯èƒ½ä¼šç»“å©šå‘¢ï¼Ÿ æˆé•¿æ¯äº²å¯¹æˆ‘çš„ä¿¡å¿ƒï¼Œç»™äº†æˆ‘æå¤§çš„è‡ªä¿¡ï¼Œæ‰€ä»¥æˆ‘ä»å°çš„å¿—å‘æ¸æ¸åœ°ä»æ‘å­ï¼Œå˜æˆé•‡ï¼Œå˜æˆå¸‚ï¼Œå˜æˆçœï¼Œå˜æˆå›½ï¼Œè€Œåå˜æˆäº†ä¸–ç•Œã€‚ æˆç†Ÿå°±æ˜¯åœ¨è¡¨è¾¾è‡ªå·±å’Œä½“è°…åˆ«äººä¸­é—´å¯»æ±‚ä¸€ç§å¹³è¡¡ã€‚ æˆ‘å¾ˆæ¬£èµä½ ï¼Œä½†ä¸ä¸€å®šæˆä¸ºä½ ï¼Œæˆ‘è½¬è¿‡èº«ï¼Œå®‰é™åœ°åšæˆ‘è‡ªå·±ã€‚ ä»»ä½•æƒ…å†µä¸‹ï¼Œæå‡è‡ªå·±æœ€é‡è¦ã€‚ ç”Ÿå‘½ï¼Œåˆ°åº•æ±‚é•¿ï¼Œè¿˜æ˜¯æ±‚è¾‰ç…Œã€‚ æˆ‘ä»¬è‡ªå·±å¯ä»¥èƒ†å°æ€•äº‹ï¼Œæˆ‘ä»¬å¯ä»¥æ˜å“²ä¿èº«ï¼Œè¿™æ²¡ä»€ä¹ˆä¸¢äººçš„ï¼Œæˆ‘ä»¬è¦æ´»ä¸‹å»ï¼Œå°±éœ€è¦è·Ÿè¿™ä¸ªä¸–ç•Œå’Œè§£ã€‚ä½†è¯·ä¸è¦è¾±éª‚é‚£äº›é“éª¨é“®é“®æ•¢äºç«™å‡ºæ¥çš„äººï¼Œå› ä¸ºä»–ä»¬ï¼Œä¸–ç•Œä¸Šçš„ä¸å…¬æˆ–è®¸ä¼šç¨ç¨æ”¶æ•›ä¸€äº›ã€‚ å…¶å®ä½ æ²¡å¿…è¦æ´»å¾—é‚£ä¹ˆç´§å¼ ã€‚ ç°åœ¨è®¤ä¸ºï¼Œäººè¶Šæˆç†Ÿï¼Œå°±è¶Šæ”¾æ¾ï¼Œå› ä¸ºå¯ä»¥æ‰¾å¾—åˆ°ç”Ÿæ´»çš„ä¹è¶£ï¼Œæ‰€ä»¥ä¸ä¸ä¸–ç•Œä¸ºæ•Œã€‚æˆ‘å¸Œæœ›åœ¨æˆ‘æ­»åï¼Œæˆ‘çš„å¢“å¿—é“­å¯ä»¥å†™ï¼šè¿™ä¸ªäººè½»è½»æ¾æ¾æ´»äº†ä¸€è¾ˆå­ï¼Œæœ€ååœ¨å¾®ç¬‘ä¸­èµ°äº†ã€‚ æ²¡æœ‰ä¸€ç§ç—›ä¼šæŒä¹…ä¸æ¶ˆï¼Œæ²¡æœ‰ä¸€ç§æ¨ä¼šæ°¸æ‰¿ä¸å˜ï¼Œæ²¡æœ‰ä¸€ç§çˆ±ä¼šåœæ»ä¸å‰ï¼Œæ²¡æœ‰ä¸€ç§æƒ…ä¼šæ‰§è¿·ä¸è¿”ã€‚æœ€ç»ˆï¼Œæ—¶é—´ä¼šå†²åˆ·æ‰ä¸€åˆ‡ï¼Œåœ¨æŸä¸ªä¸ç»æ„é—´ï¼Œä¸é‚£ä¸ªæ”¾ä¸‹çš„è‡ªå·±è§é¢ï¼Œä¸è¿™ä¸ªä¸–ç•Œå’Œè°ˆã€‚ äººç”Ÿå¦‚å››å­£ï¼Œæ—¢å¾—æŒæ§æ˜¥å¤©çš„èŒåŠ¨ï¼Œåˆå¾—æ§åˆ¶å¤å¤©çš„æ¿€æƒ…ï¼›æ—¢å¾—äº«å—ç§‹å¤©çš„æ”¶è·ï¼Œä¹Ÿå¾—å¿å—å†¬å¤©çš„å­¤ç‹¬ã€‚ å‡ºå‘ä¹…äº†ï¼Œå°±å®¹æ˜“å¿˜è®°ç›®çš„åœ°ã€‚ ä¸è¦ä¸ºäº†ä¸€æ¡æ²³ï¼Œå¿˜è®°äº†ä¸ºä»€ä¹ˆè€Œå‡ºæˆ˜ã€‚ ä¸æ˜¯æ¯ä¸ªäººçš„æ„è§éƒ½å€¼å¾—å€¾å¬ã€‚ æ„è§çš„é€»è¾‘è§„åˆ™ã€‚ ä¸ªäººçœŸæ­£çš„è‡ªä¿¡ï¼Œæ¥è‡ªåŸºäºç†æ€§çš„æ€è€ƒï¼Œè€Œä¸æ˜¯ç›²ç›®è‡ªæ‹ã€‚ä¸€ä¸ªäººè¦æ‘†è„±è‡ªå‘ï¼Œä¹Ÿä¸æ˜¯å–Šå‡ å¥å£å·ï¼Œæˆ–è€…ç›¸ä¿¡å‡ å¥å¿ƒçµçš„å®‰æ…°ï¼Œè€Œæ˜¯æ¥è‡ªç†æ€§æ€è€ƒä¹‹åï¼ŒçœŸæ­£æ‰¾åˆ°è‡ªå·±çš„ä»·å€¼æ‰€åœ¨ã€‚ è‡ªå·±çš„æ‚²æƒ¨ï¼Œä¸æ˜¯è®©åˆ«äººåŒæƒ…çš„èµ„æœ¬ã€‚è‡ªå·±è¦å¼ºå¤§ï¼Œä¸èƒ½è‡ªç”˜å •è½ã€‚ ä»»ä½•ä¸èƒ½æ€æ­»ä½ çš„ï¼Œéƒ½ä¼šæŠŠä½ å˜å¾—æ›´åŠ å¼ºå¤§ã€‚ å­¤ç‹¬å¤šå°‘äººæ”¯æŒæˆ‘ï¼Œæˆ‘ä¸åœ¨æ„ï¼Œä½†ä¸€ä¸ªè®¨åŒæˆ‘çš„äººï¼Œå¿½ç„¶å–œæ¬¢æˆ‘ï¼Œæˆ‘åè€Œå¾ˆåœ¨ä¹ã€‚ è§‰å¾—åˆ«äººæ™’ï¼Œå¯èƒ½æ˜¯è‡ªå·±ç¼ºã€‚ æˆ‘ä»¬è§‰å¾—åˆ«äººåœ¨æ™’ä»€ä¹ˆï¼Œç»å¸¸å°±æ˜¯æˆ‘ä»¬ç¼ºä»€ä¹ˆã€‚ ä¸€ä¸ªä¸èƒ½äº«å—å­¤ç‹¬çš„äººï¼Œå…¶å®æ˜¯å¾ˆå¯‚å¯çš„ã€‚ å­¤ç‹¬ï¼Œå…¶å®æ˜¯ä¸€ç§æé«˜çš„äººç”Ÿå§¿æ€ï¼Œå› ä¸ºä½ æ‡‚å¾—å¦‚ä½•ç…§é¡¾è‡ªå·±çš„å†…å¿ƒéœ€è¦ã€‚ è¯´åˆ°åº•ï¼Œäººç”Ÿå°±æ˜¯è‡ªæˆ‘å¯¹å­¤ç‹¬çš„ä¸€åœºæ•‘èµï¼Œä½ è¶Šæ—©å­¦ä¼šè¶Šå¥½ã€‚ æ•™è‚²æ•™è‚²å­©å­ï¼Œæˆ‘ç§‰æŒå››å¥è¯ï¼šæ—…è¡Œæ¯”ä¸Šè¯¾é‡è¦ï¼Œä¸»è§æ¯”é¡ºä»é‡è¦ï¼Œå…´è¶£æ¯”æˆç»©é‡è¦ï¼Œæˆé•¿æ¯”è¾“èµ¢é‡è¦ ä½ æƒ³åˆ«äººæŠ±ç€æ€æ ·çš„ä¸€ä¸ªç›®çš„ï¼Œå¼€å§‹åšä¸€ä»¶äº‹æƒ…ï¼Ÿå…´è¶£ï¼Œæ˜¯æœ€å¥½çš„è€å¸ˆã€‚ ä¸å…¶æˆ‘ä»¬å®¶é•¿åŠ¨ç”¨å„ç§å…³ç³»ï¼Œå»å¸®å­©å­å¾—ç¬¬ä¸€ï¼Œä¸å¦‚å»æ•™è‚²ä»–å¦‚ä½•é¢å¯¹å¤±è´¥ä¸æŒ«æŠ˜ï¼Œè®©ä»–æ˜ç™½å…¶å®äººç”Ÿä¸å¯èƒ½æ¯ä¸ªåœ°æ–¹éƒ½èƒ½æˆåŠŸï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ç»å¯¹çš„å¤±è´¥ï¼Œæ¯æ¬¡ä»æˆåŠŸæˆ–å¤±è´¥ä¸­å¾—åˆ°æˆé•¿æ‰æ›´é‡è¦ã€‚ åŸæ¥ï¼Œæœ€æœ‰åŠ›é‡çš„è¯­è¨€ï¼Œä¸æ˜¯å‘µæ–¥å¨èƒï¼Œè€Œæ˜¯å¯çˆ±åœ°ç¤ºå¼±ã€‚ å…¶å®ƒæ‰€æœ‰çœ‹èµ·æ¥æ²¡æœ‰æ„ä¹‰çš„ç´¯ç§¯ï¼Œæœ€ç»ˆéƒ½ä¼šæ±‡é›†èµ·æ¥ï¼Œè®©ä»Šå¤©çš„è‡ªå·±æˆä¸ºä¸€ä¸ªå¿…ç„¶ã€‚ ä¸€æ˜¯è‡ªå·±å˜²ç¬‘å¤±è´¥çš„è‡ªå·±ï¼Œè‡ªå·±éƒ½å˜²ç¬‘è¿‡è‡ªå·±äº†ï¼Œåˆ«äººçš„å˜²ç¬‘ç®—ä»€ä¹ˆå‘¢ï¼Ÿæ„æ€å°±æ˜¯ç­‰ä½ ä»¬å˜²ç¬‘æˆ‘çš„æ—¶å€™ï¼Œæˆ‘æ—©å°±å˜²ç¬‘è¿‡è‡ªå·±äº†ï¼Œæ¯”å¦‚å–å†…è¡£é‚£äº‹ï¼Œæˆ‘è‡ªå·±éƒ½å˜²ç¬‘è¿‡è‡ªå·±æ•°ç™¾æ¬¡äº†ã€‚ äºŒæ˜¯åå‘æ¨ç†ï¼ŒæŠŠç»“æœåè¿‡æ¥ï¼Œç„¶åå»å¯»æ‰¾ä¾æ®ã€‚æ¯”å¦‚ï¼Œè‡ªå·±é¢è¯•å¤±è´¥ï¼Œæˆ‘çœŸæ˜¯å¤ªæ‚²å‚¬äº†ï¼Œåå‘æ¨ç†å°±æ˜¯ï¼ŒçœŸå¹¸è¿ä»Šå¤©é¢è¯•å¤±è´¥äº†ï¼Œç„¶åå»æ‰¾ä¸ªè’è¯çš„ç†ç”±è®©è‡ªå·±è§‰å¾—å¼€å¿ƒï¼Œæ¯”å¦‚å› ä¸ºé‚£å®¶å…¬å¸çš„å‰å°å®åœ¨ä¸å¥½çœ‹ å‡ºå¾—äº†é£å¤´ï¼Œé¡¶å¾—ä½éª‚åï¼Œå—å¾—äº†èµç¾ï¼Œå¿å¾—ä½åæ§½ã€‚ èµ°åœ¨è¡—ä¸Šçªç„¶æœ‰ä¸€ä¸æƒ…æ„Ÿè¢­ä¸Šå¿ƒå¤´ï¼Œæˆ‘å°±åœä¸‹æ¥ï¼ŒåŠªåŠ›é›†ä¸­ç²¾åŠ›åœ¨è¿™ä¸å¾®å¼±çš„æƒ…æ„Ÿä¸Šï¼Œç„¶åç”¨æ–‡å­—æŠŠå®ƒæè¿°å‡ºæ¥ã€‚è¿™ä¸æƒ…æ„Ÿç¨çºµå³é€ï¼Œç»å¸¸æ˜¯æ¥ä¸åŠç”¨æ–‡å­—æ¥æè¿°å°±æ— å½±æ— è¸ªã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-äºŒå‰æœç´¢æ ‘]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Binary Search Tree äºŒå‰æœç´¢æ ‘(Binary Search Tree, BST) è¿™ä¸ªè¯é¢˜å·²ç»æœ‰ä¸ªè¾…åŠ©æ–‡ç«  äºŒå‰æœç´¢æ ‘ï¼ˆæˆ–è€…å«åšäºŒåˆ†æœç´¢æ ‘ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼ˆæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼‰ï¼Œå®ƒæ‰§è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œä»¥ä¾¿å§‹ç»ˆå¯¹æ ‘è¿›è¡Œæ’åºã€‚ è¯‘æ³¨ï¼š sortï¼Œå¹³å¸¸éƒ½å¯ä»¥ç†è§£ä¸ºä»å¤§åˆ°å°æˆ–ä»å°åˆ°å¤§çš„æ’åºï¼Œä½†æœ¬æ–‡æœ‰ç‚¹ä¸åŒï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯æŒ‰ä¸€å®šè§„åˆ™çš„æ•´ç†ã€‚å› ä¸ºâ€œæ’åºâ€åœ¨æ±‰è¯­ä¸­ä¹Ÿä¸æ˜¯ç®€å•ç†è§£ä¸ºä»å¤§åˆ°å°æˆ–ä»å°åˆ°å¤§ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯æŠŠsortç¿»è¯‘æˆæ’åºï¼Œä½†æ³¨æ„å’Œå¹³å¸¸ç†è§£çš„æ’åºæœ‰ç‚¹ä¸åŒã€‚ æœ‰å…³æ ‘çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å…ˆé˜…è¯»ã€‚ â€œå§‹ç»ˆæ’åºâ€å±æ€§ä¸‹é¢æ˜¯ä¸€ä¸ªæœ‰æ•ˆäºŒå‰æœç´¢æ ‘çš„ç¤ºä¾‹ï¼š æ³¨æ„æ¯ä¸ªå·¦å­èŠ‚ç‚¹å°äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸ªå³å­èŠ‚ç‚¹å¤§äºå…¶çˆ¶èŠ‚ç‚¹ã€‚ è¿™æ˜¯äºŒå‰æœç´¢æ ‘çš„å…³é”®ç‰¹æ€§ã€‚ ä¾‹å¦‚ï¼Œ2å°äº7ï¼Œå› æ­¤å®ƒåœ¨å·¦è¾¹; 5å¤§äº2ï¼Œå› æ­¤å®ƒåœ¨å³è¾¹ã€‚ æ’å…¥æ–°èŠ‚ç‚¹æ‰§è¡Œæ’å…¥æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ–°å€¼ä¸æ ¹èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœæ–°å€¼è¾ƒå°ï¼Œæˆ‘ä»¬é‡‡å– å·¦ åˆ†æ”¯; å¦‚æœæ›´å¤§ï¼Œæˆ‘ä»¬é‡‡å– å³ åˆ†æ”¯ã€‚æˆ‘ä»¬æ²¿ç€è¿™æ¡è·¯å‘ä¸‹èµ°ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥æ’å…¥æ–°å€¼çš„ç©ºä½ã€‚ å‡è®¾æˆ‘ä»¬è¦æ’å…¥æ–°å€¼9ï¼š æˆ‘ä»¬ä»æ ‘çš„æ ¹ï¼ˆå€¼ä¸º7çš„èŠ‚ç‚¹ï¼‰å¼€å§‹ï¼Œå¹¶å°†å…¶ä¸æ–°å€¼9è¿›è¡Œæ¯”è¾ƒã€‚ 9 &gt; 7ï¼Œå› æ­¤æˆ‘ä»¬èµ°å³è¾¹çš„åˆ†æ”¯ï¼Œå¹¶é‡å¤ç›¸åŒçš„è¿‡ç¨‹ï¼Œä½†è¿™æ¬¡èŠ‚ç‚¹æ˜¯10ã€‚ å› ä¸º9 &lt; 10ï¼Œæ‰€ä»¥æˆ‘ä»¬èµ°å·¦è¾¹çš„åˆ†æ”¯ã€‚ æˆ‘ä»¬ç°åœ¨åˆ°äº†ä¸€ä¸ªæ²¡æœ‰æ›´å¤šå€¼å¯ä¾›æ¯”è¾ƒçš„åœ°æ–¹ã€‚ åœ¨è¯¥ä½ç½®æ’å…¥9çš„æ–°èŠ‚ç‚¹ã€‚ æ’å…¥æ–°å€¼9åæ ‘ç»“æ„ï¼š åªæœ‰ä¸€ä¸ªå¯èƒ½çš„ä½ç½®å¯ä»¥åœ¨æ ‘ä¸­æ’å…¥æ–°å…ƒç´ ã€‚ æ‰¾åˆ°è¿™ä¸ªåœ°æ–¹é€šå¸¸å¾ˆå¿«ã€‚ å®ƒéœ€è¦ O(h) æ—¶é—´ï¼Œå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ã€‚ æ³¨æ„ï¼š èŠ‚ç‚¹çš„ é«˜åº¦ æ˜¯ä»è¯¥èŠ‚ç‚¹åˆ°æœ€ä½å¶èŠ‚ç‚¹æ‰€éœ€çš„æ­¥éª¤æ•°ã€‚ æ•´æ£µæ ‘çš„é«˜åº¦æ˜¯ä»æ ¹åˆ°æœ€ä½å¶èŠ‚ç‚¹çš„è·ç¦»ã€‚ äºŒå‰æœç´¢æ ‘ä¸Šçš„è®¸å¤šæ“ä½œéƒ½ä»¥æ ‘çš„é«˜åº¦è¡¨ç¤ºã€‚ é€šè¿‡éµå¾ªè¿™ä¸ªç®€å•çš„è§„åˆ™ â€”â€” å·¦ä¾§è¾ƒå°çš„å€¼ï¼Œå³ä¾§è¾ƒå¤§çš„å€¼ â€”â€” æˆ‘ä»¬ä¿æŒæ ‘çš„æ’åºï¼Œå› æ­¤æ— è®ºä½•æ—¶éƒ½å¯ä»¥æŸ¥è¯¢æŸå€¼æ˜¯å¦åœ¨æ ‘ç§ã€‚ æœç´¢æ ‘è¦åœ¨æ ‘ä¸­æŸ¥æ‰¾å€¼ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸æ’å…¥ç›¸åŒçš„æ­¥éª¤ï¼š å¦‚æœè¯¥å€¼å°äºå½“å‰èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å·¦åˆ†æ”¯ã€‚ å¦‚æœè¯¥å€¼å¤§äºå½“å‰èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å³åˆ†æ”¯ã€‚ å¦‚æœè¯¥å€¼ç­‰äºå½“å‰èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†å®ƒï¼ åƒå¤§å¤šæ•°æ ‘æ“ä½œä¸€æ ·ï¼Œè¿™æ˜¯é€’å½’æ‰§è¡Œçš„ï¼Œç›´åˆ°æ‰¾åˆ°æˆ‘ä»¬æ­£åœ¨æŸ¥æ‰¾çš„å†…å®¹æˆ–æŸ¥å®Œè¦æŸ¥çœ‹çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä»¥ä¸‹æ˜¯æœç´¢å€¼5çš„ç¤ºä¾‹ï¼š ä½¿ç”¨æ ‘çš„ç»“æ„æœç´¢å¾ˆå¿«ã€‚ å®ƒåœ¨ O(h) æ—¶é—´å†…è¿è¡Œã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªå…·æœ‰ä¸€ç™¾ä¸‡ä¸ªèŠ‚ç‚¹çš„å‡è¡¡æ ‘ï¼Œé‚£ä¹ˆåœ¨è¿™æ£µæ ‘ä¸­åªéœ€è¦å¤§çº¦20æ­¥å°±å¯ä»¥æ‰¾åˆ°ä»»ä½•ä¸œè¥¿ã€‚ï¼ˆè¿™ä¸ªæƒ³æ³•ä¸æ•°ç»„ä¸­çš„äºŒåˆ†æœç´¢éå¸¸ç›¸ä¼¼ï¼‰ æ³¨ï¼š 2^0 + 2^1 + 2^2 + ... + 2^19 å¤§çº¦æ˜¯ç™¾ä¸‡çº§åˆ«ã€‚ éå†æ ‘æœ‰æ—¶æ‚¨éœ€è¦æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹è€Œä¸æ˜¯ä»…æŸ¥çœ‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ éå†äºŒå‰æ ‘æœ‰ä¸‰ç§æ–¹æ³•ï¼š ä¸­åºï¼ˆæˆ– æ·±åº¦ä¼˜å…ˆï¼ŒIn-order/depth-firstï¼‰ï¼šé¦–å…ˆæŸ¥çœ‹èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œç„¶åæŸ¥çœ‹èŠ‚ç‚¹æœ¬èº«ï¼Œæœ€åæŸ¥çœ‹å…¶å³å­èŠ‚ç‚¹ã€‚ å‰åºï¼ˆPre-orderï¼‰ï¼šé¦–å…ˆæŸ¥çœ‹èŠ‚ç‚¹æœ¬èº«ï¼Œç„¶åæŸ¥çœ‹å…¶å·¦å³å­èŠ‚ç‚¹ã€‚ ååºï¼ˆPost-orderï¼‰ï¼šé¦–å…ˆæŸ¥çœ‹å·¦å³å­èŠ‚ç‚¹å¹¶æœ€åå¤„ç†èŠ‚ç‚¹æœ¬èº«ã€‚ éå†æ ‘çš„è¿‡ç¨‹ä¹Ÿæ˜¯é€’å½’çš„ã€‚ å¦‚æœæŒ‰ä¸­åºéå†äºŒå‰æœç´¢æ ‘ï¼Œå®ƒä¼šæŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹ï¼Œå°±å¥½åƒå®ƒä»¬ä»ä½åˆ°é«˜æ’åºä¸€æ ·ã€‚ å¯¹äºç¤ºä¾‹æ ‘ï¼Œå°†æ‰“å°1, 2, 5, 7, 9, 10ï¼š åˆ é™¤èŠ‚ç‚¹åˆ é™¤èŠ‚ç‚¹å¾ˆå®¹æ˜“ã€‚ä¸è¿‡åˆ é™¤èŠ‚ç‚¹åï¼Œéœ€è¦å°†èŠ‚ç‚¹æ›¿æ¢ä¸ºå·¦ä¾§æœ€å¤§çš„å­èŠ‚ç‚¹æˆ–å³ä¾§çš„æœ€å°å­èŠ‚ç‚¹ã€‚è¿™æ ·ï¼Œæ ‘åœ¨åˆ é™¤èŠ‚ç‚¹åä»ç„¶æ’åºã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå°†åˆ é™¤10å¹¶æ›¿æ¢ä¸º9ï¼ˆFigure 2ï¼‰æˆ–11ï¼ˆFigure 3ï¼‰ã€‚ è¯·æ³¨æ„ï¼Œå½“èŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦è¿›è¡Œæ›¿æ¢ã€‚ å¦‚æœå®ƒæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œæ‚¨åªéœ€å°†å…¶ä¸å…¶çˆ¶èŠ‚ç‚¹æ–­å¼€è¿æ¥ï¼š ä»£ç ï¼ˆè§£å†³æ–¹æ¡ˆ1ï¼‰è¯´äº†å¤ªå¤šç†è®ºäº†ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Swiftä¸­å®ç°äºŒå‰æœç´¢æ ‘ã€‚æ‚¨å¯ä»¥é‡‡å–ä¸åŒçš„å®ç°æ–¹æ³•ã€‚é¦–å…ˆï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ¶ä½œåŸºäºç±»çš„ç‰ˆæœ¬ï¼Œä½†æˆ‘ä»¬è¿˜å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨æšä¸¾åˆ¶ä½œç‰ˆæœ¬ã€‚ ä»¥ä¸‹æ˜¯BinarySearchTreeç±»çš„ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class BinarySearchTree&lt;T: Comparable&gt; &#123; private(set) public var value: T private(set) public var parent: BinarySearchTree? private(set) public var left: BinarySearchTree? private(set) public var right: BinarySearchTree? public init(value: T) &#123; self.value = value &#125; /// æ˜¯å¦æ˜¯æ ¹èŠ‚ç‚¹ public var isRoot: Bool &#123; return parent == nil &#125; /// æ˜¯å¦æ˜¯å¶èŠ‚ç‚¹ public var isLeaf: Bool &#123; return left == nil &amp;&amp; right == nil &#125; /// æ˜¯å¦æ˜¯å·¦å­èŠ‚ç‚¹ public var isLeftChild: Bool &#123; return parent?.left === self &#125; /// æ˜¯å¦æ˜¯å³å­èŠ‚ç‚¹ public var isRightChild: Bool &#123; return parent?.right === self &#125; /// æ˜¯å¦æœ‰å·¦å­èŠ‚ç‚¹ public var hasLeftChild: Bool &#123; return left != nil &#125; /// æ˜¯å¦æœ‰å³å­èŠ‚ç‚¹ public var hasRightChild: Bool &#123; return right != nil &#125; /// æ˜¯å¦æœ‰å­èŠ‚ç‚¹ public var hasAnyChild: Bool &#123; return hasLeftChild || hasRightChild &#125; /// æ˜¯å¦å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æœ‰ public var hasBothChildren: Bool &#123; return hasLeftChild &amp;&amp; hasRightChild &#125; /// å½“å‰èŠ‚ç‚¹åŒ…æ‹¬å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹æ€»æ•° public var count: Int &#123; return (left?.count ?? 0) + 1 + (right?.count ?? 0) &#125;&#125; æ­¤ç±»ä»…æè¿°å•ä¸ªèŠ‚ç‚¹è€Œä¸æ˜¯æ•´ä¸ªæ ‘ã€‚ å®ƒæ˜¯æ³›å‹ç±»å‹ï¼Œå› æ­¤èŠ‚ç‚¹å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ã€‚ å®ƒè¿˜åŒ…å«äº†leftå’Œrightå­èŠ‚ç‚¹ä»¥åŠä¸€ä¸ªparentèŠ‚ç‚¹çš„å¼•ç”¨ã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨å®ƒï¼š 1let tree = BinarySearchTree&lt;Int&gt;(value: 7) countå±æ€§æ˜¯æ­¤èŠ‚ç‚¹æè¿°çš„å­æ ‘ä¸­æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼ˆè¯‘æ³¨ï¼šæœ¬èº«+æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼‰ã€‚è¿™ä¸ä»…ä»…è®¡ç®—èŠ‚ç‚¹çš„ç›´æ¥å­èŠ‚ç‚¹ï¼Œè¿˜è®¡ç®—å®ƒä»¬çš„å­èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œç­‰ç­‰ã€‚å¦‚æœæ­¤èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆ™countè¡¨ç¤ºè®¡ç®—æ•´ä¸ªæ ‘ä¸­æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚ æ³¨æ„ï¼š å› ä¸ºleftï¼Œrightå’Œparentæ˜¯å¯é€‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¥½åœ°åˆ©ç”¨Swiftçš„å¯é€‰å€¼é“¾ï¼ˆ?ï¼‰å’Œ ç©ºåˆè¿ç®—ç¬¦ï¼ˆ??ï¼‰ã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨if letï¼Œä½†é‚£ä¸ç®€æ´ã€‚ è¯‘æ³¨ï¼šå…³äºç©ºåˆè¿ç®—ç¬¦ï¼Œå¯æŸ¥çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« Swiftä¸­çš„é—®å·ä¸‰ç§ç”¨æ³• æ’å…¥èŠ‚ç‚¹åªæœ‰æ ‘èŠ‚ç‚¹æœ¬èº«æ˜¯æ²¡æœ‰ä»€ä¹ˆç”¨çš„ï¼Œæ‰€ä»¥éœ€è¦å¦‚ä½•å‘æ ‘æ·»åŠ æ–°èŠ‚ç‚¹çš„æ–¹æ³•ï¼š 1234567891011121314151617public func insert(value: T) &#123; if value &lt; self.value &#123; if let left = left &#123; left.insert(value: value) &#125; else &#123; left = BinarySearchTree(value: value) left?.parent = self &#125; &#125; else &#123; if let right = right &#123; right.insert(value: value) &#125; else &#123; right = BinarySearchTree(value: value) right?.parent = self &#125; &#125;&#125; åƒè®¸å¤šå…¶ä»–æ ‘æ“ä½œä¸€æ ·ï¼Œæ’å…¥æœ€å®¹æ˜“ç”¨é€’å½’å®ç°ã€‚ æˆ‘ä»¬å°†æ–°å€¼ä¸ç°æœ‰èŠ‚ç‚¹çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å†³å®šæ˜¯å°†å…¶æ·»åŠ åˆ°å·¦ä¾§åˆ†æ”¯è¿˜æ˜¯å³ä¾§åˆ†æ”¯ã€‚ å¦‚æœæ²¡æœ‰æ›´å¤šçš„å·¦æˆ–å³å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹BinarySearchTreeå¯¹è±¡ï¼Œå¹¶é€šè¿‡è®¾ç½®å…¶parentå±æ€§å°†å…¶è¿æ¥åˆ°æ ‘ã€‚ æ³¨æ„ï¼š å› ä¸ºäºŒå‰æœç´¢æ ‘çš„éƒ½æ˜¯å·¦è¾¹æœ‰è¾ƒå°çš„èŠ‚ç‚¹è€Œå³è¾¹æœ‰è¾ƒå¤§çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä½ åº”è¯¥æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ˆæ¯”è¾ƒï¼‰æ’å…¥å…ƒç´ ï¼Œä»¥ç¡®ä¿å®ƒä»ç„¶æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æ ‘ï¼ æ„å»ºä¸Šé¢ç¤ºä¾‹ä¸­å®Œæ•´çš„æ ‘ï¼š 123456let tree = BinarySearchTree&lt;Int&gt;(value: 7)tree.insert(2)tree.insert(5)tree.insert(10)tree.insert(9)tree.insert(1) Note: For reasons that will become clear later, you should insert the numbers in a random order. If you insert them in a sorted order, the tree will not have the right shape.æ³¨æ„ï¼š ç”±äºåæ¥ä¼šå˜å¾—æ˜ç¡®çš„åŸå› ï¼Œæ‚¨åº”è¯¥ä»¥éšæœºé¡ºåºæ’å…¥æ•°å­—ã€‚ å¦‚æœæŒ‰æ’åºé¡ºåºæ’å…¥å®ƒä»¬ï¼Œåˆ™æ ‘çš„å½¢çŠ¶å°†ä¸æ­£ç¡®ã€‚ ï¼ˆï¼Ÿï¼Ÿç”±äºç†è§£ä¸å¤Ÿæ·±ï¼Œç¿»è¯‘çš„ä¸å‡†ç¡®ï¼Œä¿ç•™åŸæ–‡ï¼‰ ä¸ºæ–¹ä¾¿èµ·è§ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªä»¥æ•°ç»„çš„æ–¹å¼åˆå§‹åŒ–çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ è°ƒç”¨insert()ï¼š 1234567public convenience init(array: [T]) &#123; precondition(array.count &gt; 0) self.init(value: array.first!) for v in array.dropFirst() &#123; insert(value: v) &#125;&#125; ç°åœ¨å¯ä»¥ç®€å•çš„ä½¿ç”¨ï¼š 1let tree = BinarySearchTree&lt;Int&gt;(array: [7, 2, 5, 10, 9, 1]) æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼æˆä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ è°ƒè¯•è¾“å‡ºä½¿ç”¨å¤æ‚çš„æ•°æ®ç»“æ„æ—¶ï¼Œæ‹¥æœ‰äººç±»å¯è¯»çš„è°ƒè¯•è¾“å‡ºå¾ˆæœ‰ç”¨ã€‚ 12345678910111213extension BinarySearchTree: CustomStringConvertible &#123; public var description: String &#123; var s = "" if let left = left &#123; s += "(\(left.description)) &lt;- " &#125; s += "\(value)" if let right = right &#123; s += " -&gt; (\(right.description))" &#125; return s &#125;&#125; å½“ä½ æ‰§è¡Œprint(tree)æ—¶ï¼Œä½ åº”è¯¥å¾—åˆ°ï¼š 1((1) &lt;- 2 -&gt; (5)) &lt;- 7 -&gt; ((9) &lt;- 10) æ ¹èŠ‚ç‚¹ä½äºä¸­é—´ã€‚ å‘æŒ¥ä¸€äº›æƒ³è±¡åŠ›ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°è¿™ç¡®å®å¯¹åº”äºä¸‹é¢çš„æ ‘ï¼š æ‚¨å¯èƒ½æƒ³çŸ¥é“æ’å…¥é‡å¤é¡¹æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ€»æ˜¯å°†å®ƒä»¬æ’å…¥æ­£ç¡®çš„åˆ†æ”¯ä¸­ã€‚ è¯•è¯•çœ‹ï¼ æœç´¢æˆ‘ä»¬ç°åœ¨åšä»€ä¹ˆï¼Œè®©æ ‘æœ‰ä¸€äº›ä»·å€¼ï¼Ÿ å½“ç„¶ï¼Œæœç´¢å®ƒä»¬å§ï¼ å¿«é€ŸæŸ¥æ‰¾é¡¹æ˜¯äºŒå‰æœç´¢æ ‘çš„ä¸»è¦ç›®çš„ã€‚:-) è¿™æ˜¯search()çš„å®ç°ï¼š 123456789public func search(value: T) -&gt; BinarySearchTree? &#123; if value &lt; self.value &#123; return left?.search(value) &#125; else if value &gt; self.value &#123; return right?.search(value) &#125; else &#123; return self // found it! &#125;&#125; æˆ‘å¸Œæœ›é€»è¾‘æ¸…æ¥šï¼šè¿™ä»å½“å‰èŠ‚ç‚¹ï¼ˆé€šå¸¸æ˜¯æ ¹èŠ‚ç‚¹ï¼‰å¼€å§‹å¹¶æ¯”è¾ƒè¿™äº›å€¼ã€‚ å¦‚æœæœç´¢å€¼å°äºèŠ‚ç‚¹çš„å€¼ï¼Œæˆ‘ä»¬ç»§ç»­åœ¨å·¦ä¾§åˆ†æ”¯ä¸­æœç´¢;å¦‚æœæœç´¢å€¼æ›´å¤§ï¼Œæˆ‘ä»¬ä¼šè·³åˆ°å³ä¾§åˆ†æ”¯ä¸­æœç´¢ã€‚ å¦‚æœæ²¡æœ‰æ›´å¤šçš„èŠ‚ç‚¹è¦çœ‹ â€”â€” å½“leftæˆ–rightä¸ºnilæ—¶ â€”â€” é‚£ä¹ˆæˆ‘ä»¬è¿”å›nilè¡¨ç¤ºæœç´¢å€¼ä¸åœ¨æ ‘ä¸­ã€‚ æ³¨æ„ï¼š åœ¨Swiftä¸­ï¼Œå¯ä»¥é€šè¿‡å¯é€‰é“¾æ–¹ä¾¿åœ°å®Œæˆ; å½“ä½ å†™left?.search(value)æ—¶ï¼Œå¦‚æœleftä¸ºnilï¼Œå®ƒä¼šè‡ªåŠ¨è¿”å›nilã€‚ æ²¡æœ‰å¿…è¦ä½¿ç”¨ifè¯­å¥æ˜¾å¼æ£€æŸ¥ã€‚ æœç´¢æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å•çš„è¿­ä»£æ¥å®ç°å®ƒï¼š 12345678910111213public func search(_ value: T) -&gt; BinarySearchTree? &#123; var node: BinarySearchTree? = self while let n = node &#123; if value &lt; n.value &#123; node = n.left &#125; else if value &gt; n.value &#123; node = n.right &#125; else &#123; return node &#125; &#125; return nil&#125; éªŒè¯æ‚¨æ˜¯å¦ç†è§£è¿™ä¸¤ä¸ªå®ç°æ˜¯ç­‰æ•ˆçš„ã€‚ å°±ä¸ªäººè€Œè¨€ï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨è¿­ä»£ä»£ç è€Œä¸æ˜¯é€’å½’ä»£ç ï¼Œä½†æ‚¨çš„æ„è§å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚;-) æµ‹è¯•æœç´¢ï¼š 1234tree.search(value: 5)tree.search(value: 2)tree.search(value: 7)tree.search(value: 6) // nil å‰ä¸‰è¡Œè¿”å›ç›¸åº”çš„BinaryTreeNodeå¯¹è±¡ã€‚ æœ€åä¸€è¡Œè¿”å›nilï¼Œå› ä¸ºæ²¡æœ‰å€¼ä¸º6çš„èŠ‚ç‚¹ã€‚ æ³¨æ„ï¼š å¦‚æœæ ‘ä¸­æœ‰é‡å¤é¡¹ï¼Œsearch()è¿”å›â€œæœ€é«˜â€èŠ‚ç‚¹ã€‚ è¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¼€å§‹ä»æ ¹èŠ‚ç‚¹å‘ä¸‹æœç´¢ã€‚ éå†è¿˜è®°å¾—æœ‰ä¸‰ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å—ï¼Ÿ å¦‚ä¸‹ï¼š 1234567891011121314151617public func traverseInOrder(process: (T) -&gt; Void) &#123; left?.traverseInOrder(process: process) process(value) right?.traverseInOrder(process: process)&#125;public func traversePreOrder(process: (T) -&gt; Void) &#123; process(value) left?.traversePreOrder(process: process) right?.traversePreOrder(process: process)&#125;public func traversePostOrder(process: (T) -&gt; Void) &#123; left?.traversePostOrder(process: process) right?.traversePostOrder(process: process) process(value)&#125; å®ƒä»¬éƒ½ä»¥ä¸åŒçš„é¡ºåºå·¥ä½œã€‚ è¯·æ³¨æ„ï¼Œæ‰€æœ‰å·¥ä½œéƒ½æ˜¯é€’å½’å®Œæˆçš„ã€‚ Swiftçš„å¯é€‰é“¾æ¸…æ¥šåœ°è¡¨æ˜ï¼Œå½“æ²¡æœ‰å·¦æˆ–å³å­èŠ‚ç‚¹æ—¶ï¼Œå¿½ç•¥å¯¹traverseInOrder()ç­‰çš„è°ƒç”¨ã€‚ è¦æ‰“å°å‡ºä»ä½åˆ°é«˜æ’åºçš„æ ‘çš„æ‰€æœ‰å€¼ï¼Œæ‚¨å¯ä»¥ç¼–å†™ï¼š 1tree.traverseInOrder &#123; value in print(value) &#125; æ‰“å°ç»“æœï¼š 1234561257910 ä½ è¿˜å¯ä»¥åœ¨æ ‘ä¸­æ·»åŠ map()å’Œfilter()æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯mapçš„å®ç°ï¼š 1234567public func map(formula: (T) -&gt; T) -&gt; [T] &#123; var a = [T]() if let left = left &#123; a += left.map(formula: formula) &#125; a.append(formula(value)) if let right = right &#123; a += right.map(formula: formula) &#125; return a&#125; è¿™å°†åœ¨æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šè°ƒç”¨formulaé—­åŒ…ï¼Œå¹¶åœ¨ç»“æœä»¥æ•°ç»„è¿”å›ã€‚ map()é€šè¿‡æŒ‰ä¸­åºéå†æ ‘æ¥å·¥ä½œã€‚ ä¸€ä¸ªéå¸¸ç®€å•çš„å¦‚ä½•ä½¿ç”¨map()çš„ä¾‹å­ï¼š 123public func toArray() -&gt; [T] &#123; return map &#123; $0 &#125;&#125; è¿™ä¼šå°†æ ‘çš„å†…å®¹é‡æ–°è½¬æ¢ä¸ºå·²æ’åºçš„æ•°ç»„ã€‚ åœ¨playgroundä¸Šè¯•ä¸€è¯•ï¼š 1tree.toArray() // [1, 2, 5, 7, 9, 10] ä½œä¸ºç»ƒä¹ ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥å®ç°filterå’Œreduceã€‚ è¯‘æ³¨ï¼šmap, filterå’Œreduceéƒ½æ˜¯é«˜é˜¶å‡½æ•°ï¼Œå…³äºé«˜é˜¶å‡½æ•°å¯æŸ¥çœ‹æˆ‘æ€»ç»“çš„æ–‡ç«  Swiftä¸­çš„é«˜é˜¶å‡½æ•°ï¼šsorted, map, reduce, forEach, flatMap, filter ã€‚ åˆ é™¤èŠ‚ç‚¹æˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ä¸€äº›è¾…åŠ©å‡½æ•°æ¥ä½¿ä»£ç æ›´å…·å¯è¯»æ€§ã€‚ 12345678910private func reconnectParentTo(node: BinarySearchTree?) &#123; if let parent = parent &#123; if isLeftChild &#123; parent.left = node &#125; else &#123; parent.right = node &#125; &#125; node?.parent = parent&#125; å¯¹æ ‘è¿›è¡Œæ›´æ”¹æ¶‰åŠæ›´æ”¹parentå’Œleftå’ŒrightæŒ‡é’ˆã€‚ æ­¤åŠŸèƒ½æœ‰åŠ©äºå®ç°æ­¤åŠŸèƒ½ã€‚ å®ƒæ¥å—å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ - å³self - å¹¶å°†å…¶è¿æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å°†æ˜¯selfçš„å­èŠ‚ç‚¹ä¹‹ä¸€ã€‚ æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªè¿”å›èŠ‚ç‚¹æœ€å°å€¼å’Œæœ€å¤§å€¼çš„å‡½æ•°ï¼š 123456789101112131415public func minimum() -&gt; BinarySearchTree &#123; var node = self while let next = node.left &#123; node = next &#125; return node&#125;public func maximum() -&gt; BinarySearchTree &#123; var node = self while let next = node.right &#123; node = next &#125; return node&#125; å…¶ä½™ä»£ç æ˜¯ä¸è¨€è‡ªæ˜çš„ï¼š 1234567891011121314151617181920212223242526272829@discardableResult public func remove() -&gt; BinarySearchTree? &#123; let replacement: BinarySearchTree? // Replacement for current node can be either biggest one on the left or // smallest one on the right, whichever is not nil if let right = right &#123; replacement = right.minimum() &#125; else if let left = left &#123; replacement = left.maximum() &#125; else &#123; replacement = nil &#125; replacement?.remove() // Place the replacement on current node's position replacement?.right = right replacement?.left = left right?.parent = replacement left?.parent = replacement reconnectParentTo(node:replacement) // The current node is no longer part of the tree, so clean it up. parent = nil left = nil right = nil return replacement&#125; è¯‘æ³¨ï¼š swiftæ­£å¸¸çš„æ–¹æ³•å¦‚æœæœ‰è¿”å›å€¼çš„è¯,è°ƒç”¨çš„æ—¶å€™å¿…é¡»æœ‰ä¸€ä¸ªæ¥æ”¶æ–¹,å¦åˆ™çš„è¯ç¼–è¯‘å™¨ä¼šæŠ¥ä¸€ä¸ªè­¦å‘Š,å¦‚æœåœ¨æ–¹æ³•å‰åŠ ä¸Š@discardableResult ä¸å¤„ç†çš„æ—¶å€™å°±ä¸ä¼šæœ‰è­¦å‘Šäº†ã€‚ æ·±åº¦å’Œé«˜åº¦å›æƒ³ä¸€ä¸‹èŠ‚ç‚¹çš„é«˜åº¦æ˜¯åˆ°æœ€ä½å¶èŠ‚ç‚¹çš„è·ç¦»ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹å‡½æ•°æ¥è®¡ç®—ï¼š 1234567public func height() -&gt; Int &#123; if isLeaf &#123; return 0 &#125; else &#123; return 1 + max(left?.height() ?? 0, right?.height() ?? 0) &#125;&#125; æˆ‘ä»¬çœ‹ä¸€ä¸‹å·¦å³åˆ†æ”¯çš„é«˜åº¦å¹¶å–æœ€å¤§å€¼ã€‚ åŒæ ·ï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ã€‚ ç”±äºè¿™ä¼šæŸ¥çœ‹æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå› æ­¤æ€§èƒ½ä¸º O(n)ã€‚ æ³¨æ„ï¼š Swiftçš„ç©ºåˆè¿ç®—ç¬¦æ–¹ä¾¿å¤„ç†leftæˆ–rightæŒ‡é’ˆä¸ºnilçš„æƒ…å†µã€‚ ä½ ä¹Ÿå¯ä»¥ç”¨if letï¼Œä½†è¿™æ›´ç®€æ´ã€‚ è¯•è¯•çœ‹ï¼š 1tree.height() // 2 æ‚¨è¿˜å¯ä»¥è®¡ç®—èŠ‚ç‚¹çš„ æ·±åº¦ï¼Œå³åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»ã€‚ è¿™æ˜¯ä»£ç ï¼š 123456789public func depth() -&gt; Int &#123; var node = self var edges = 0 while let parent = node.parent &#123; node = parent edges += 1 &#125; return edges&#125; å®ƒæ²¿ç€ parent æŒ‡é’ˆå‘ä¸Šé€æ­¥ç©¿è¿‡æ ‘ï¼Œç›´åˆ°æˆ‘ä»¬åˆ°è¾¾æ ¹èŠ‚ç‚¹ï¼ˆå³parentä¸ºnilï¼‰ã€‚ è¿™éœ€è¦ O(h) æ—¶é—´ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š 123if let node9 = tree.search(9) &#123; node9.depth() // returns 2&#125; å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹äºŒå‰æœç´¢æ ‘æ€»æ˜¯â€œæ’åºâ€ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€è¿ç»­çš„æ•°å­—å®é™…ä¸Šåœ¨æ ‘ä¸­æ˜¯å½¼æ­¤ç›¸é‚»çš„ã€‚ è¯·æ³¨æ„ï¼Œé€šè¿‡æŸ¥çœ‹å…¶å·¦å­èŠ‚ç‚¹ï¼Œæ‚¨æ— æ³•æ‰¾åˆ°7ä¹‹å‰çš„æ•°å­—ã€‚ å·¦å­èŠ‚ç‚¹æ˜¯2ï¼Œè€Œä¸æ˜¯5ã€‚ åŒæ ·åœ°ï¼Œä¹Ÿæ— æ³•æ‰¾åˆ°7ä¹‹åçš„æ•°å­—ã€‚ predecessor()å‡½æ•°ä»¥æ’åºé¡ºåºè¿”å›å…¶å€¼åœ¨å½“å‰å€¼ä¹‹å‰çš„èŠ‚ç‚¹ï¼š 123456789101112public func predecessor() -&gt; BinarySearchTree&lt;T&gt;? &#123; if let left = left &#123; return left.maximum() &#125; else &#123; var node = self while let parent = node.parent &#123; if parent.value &lt; value &#123; return parent &#125; node = parent &#125; return nil &#125;&#125; å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­æ ‘å¾ˆå®¹æ˜“ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å·¦å­æ ‘ä¸­çš„æœ€å¤§å€¼ã€‚ æ‚¨å¯ä»¥åœ¨ä¸Šé¢çš„å›¾ç‰‡ä¸­éªŒè¯5ç¡®å®æ˜¯7å·¦åˆ†æ”¯ä¸­çš„æœ€å¤§å€¼ã€‚ å¦‚æœæ²¡æœ‰å·¦å­æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¿…é¡»æŸ¥çœ‹çˆ¶èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªè¾ƒå°çš„å€¼ã€‚å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“èŠ‚ç‚¹9çš„å‰é©±èŠ‚ç‚¹æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¸€ç›´å‘ä¸Šï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªå…·æœ‰è¾ƒå°å€¼çš„çˆ¶èŠ‚ç‚¹ï¼Œå³7ã€‚ successor()çš„ä»£ç ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼š 123456789101112public func successor() -&gt; BinarySearchTree&lt;T&gt;? &#123; if let right = right &#123; return right.minimum() &#125; else &#123; var node = self while let parent = node.parent &#123; if parent.value &gt; value &#123; return parent &#125; node = parent &#125; return nil &#125;&#125; è¿™ä¸¤ç§æ–¹æ³•éƒ½åœ¨ O(h) æ—¶é—´å†…è¿è¡Œã€‚ æ³¨æ„ï¼š æœ‰ä¸€ç§ç§°ä¸ºâ€œçº¿ç´¢â€äºŒå‰æ ‘çš„äºŒå‰æœç´¢æ ‘å˜ä½“ï¼Œå…¶ä¸­â€œæœªä½¿ç”¨çš„â€å·¦å³æŒ‡é’ˆè¢«é‡æ–°ç”¨äºåœ¨å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹ä¹‹é—´å»ºç«‹ç›´æ¥é“¾æ¥ã€‚ éå¸¸èªæ˜ï¼ æœç´¢æ ‘æœ‰æ•ˆå—ï¼Ÿå¦‚æœæ‚¨æ‰“ç®—è¿›è¡Œç ´åï¼Œå¯ä»¥é€šè¿‡åœ¨éæ ¹èŠ‚ç‚¹ä¸Šè°ƒç”¨insert()å°†äºŒåˆ†æœç´¢æ ‘å˜ä¸ºæ— æ•ˆæ ‘ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š 123if let node1 = tree.search(1) &#123; node1.insert(100)&#125; æ ¹èŠ‚ç‚¹çš„å€¼ä¸º7ï¼Œå› æ­¤å€¼ä¸º100çš„èŠ‚ç‚¹å¿…é¡»ä½äºæ ‘çš„å³ä¾§åˆ†æ”¯ä¸­ã€‚ ä½†æ˜¯ï¼Œæ‚¨ä¸æ˜¯æ’å…¥æ ¹ï¼Œè€Œæ˜¯æ’å…¥æ ‘å·¦ä¾§åˆ†æ”¯ä¸­çš„å¶èŠ‚ç‚¹ã€‚ æ‰€ä»¥æ–°çš„100èŠ‚ç‚¹åœ¨æ ‘ä¸­çš„é”™è¯¯ä½ç½®ï¼ ç»“æœï¼Œtree.search(100)ç»™å‡ºnilã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ£€æŸ¥æ ‘æ˜¯å¦æ˜¯æœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ï¼š 123456public func isBST(minValue minValue: T, maxValue: T) -&gt; Bool &#123; if value &lt; minValue || value &gt; maxValue &#123; return false &#125; let leftBST = left?.isBST(minValue: minValue, maxValue: value) ?? true let rightBST = right?.isBST(minValue: value, maxValue: maxValue) ?? true return leftBST &amp;&amp; rightBST&#125; è¿™å°†éªŒè¯å·¦ä¾§åˆ†æ”¯åŒ…å«çš„å€¼æ˜¯å¦å°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œå³ä¾§åˆ†æ”¯ä»…åŒ…å«æ›´å¤§çš„å€¼ã€‚ ä½¿ç”¨å¦‚ä¸‹ï¼š 123456if let node1 = tree.search(1) &#123; tree.isBST(minValue: Int.min, maxValue: Int.max) // true node1.insert(100) // EVIL!!! tree.search(100) // nil tree.isBST(minValue: Int.min, maxValue: Int.max) // false&#125; ä»£ç ï¼ˆè§£å†³æ–¹æ¡ˆ2ï¼‰æˆ‘ä»¬å·²ç»ä½¿ç”¨ç±»å®ç°äºŒå‰æ ‘èŠ‚ç‚¹ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æšä¸¾ã€‚ é‰´äºå¼•ç”¨ç±»å‹ä¸å€¼ç±»å‹çš„ä¸åŒã€‚ å¯¹åŸºäºç±»çš„æ ‘è¿›è¡Œæ›´æ”¹å°†æ›´æ–°å†…å­˜ä¸­çš„ç›¸åŒå®ä¾‹ï¼Œä½†åŸºäºæšä¸¾çš„æ ‘æ˜¯ä¸å¯å˜çš„ - ä»»ä½•æ’å…¥æˆ–åˆ é™¤éƒ½å°†ä¸ºæ‚¨æä¾›æ ‘çš„å…¨æ–°å‰¯æœ¬ã€‚å“ªä¸€ä¸ªå¥½ï¼Œå®Œå…¨å–å†³äºä½ æƒ³ç”¨å®ƒåšä»€ä¹ˆã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨æšä¸¾åˆ›å»ºäºŒå‰æœç´¢æ ‘çš„æ–¹æ³•ï¼š 12345public enum BinarySearchTree&lt;T: Comparable&gt; &#123; case Empty case Leaf(T) indirect case Node(BinarySearchTree, T, BinarySearchTree)&#125; æšä¸¾æœ‰ä¸‰ç§æƒ…å†µï¼š Emptyæ ‡è®°åˆ†æ”¯çš„ç»“å°¾ï¼ˆåŸºäºç±»çš„ç‰ˆæœ¬ä½¿ç”¨nilå¼•ç”¨ï¼‰ã€‚ æ²¡æœ‰å­èŠ‚ç‚¹çš„å¶èŠ‚ç‚¹çš„Leafã€‚ å…·æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹çš„Nodeã€‚ è¿™æ ‡è®°ä¸ºindirectï¼Œå› æ­¤å®ƒå¯ä»¥ä¿å­˜BinarySearchTreeå€¼ã€‚ å¦‚æœæ²¡æœ‰indirectï¼Œä½ å°±æ— æ³•ç”Ÿæˆé€’å½’æšä¸¾ã€‚ æ³¨æ„ï¼šæ­¤äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹æ²¡æœ‰å¯¹å…¶çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨ã€‚ è¿™ä¸æ˜¯ä¸€ä¸ªä¸»è¦éšœç¢ï¼Œä½†å®ƒä¼šä½¿æŸäº›æ“ä½œå®æ–½èµ·æ¥æ›´åŠ éº»çƒ¦ã€‚ è¿™ä¸ªå®ç°æ˜¯é€’å½’çš„ï¼Œæšä¸¾çš„æ¯ä¸ªæƒ…å†µéƒ½å°†è¢«åŒºåˆ«å¯¹å¾…ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯æ‚¨å¯ä»¥è®¡ç®—æ ‘ä¸­èŠ‚ç‚¹æ•°å’Œæ ‘é«˜çš„æ–¹æ³•ï¼š 123456789101112131415public var count: Int &#123; switch self &#123; case .Empty: return 0 case .Leaf: return 1 case let .Node(left, _, right): return left.count + 1 + right.count &#125;&#125;public var height: Int &#123; switch self &#123; case .Empty: return 0 case .Leaf: return 1 case let .Node(left, _, right): return 1 + max(left.height, right.height) &#125;&#125; æ’å…¥æ–°èŠ‚ç‚¹å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920public func insert(newValue: T) -&gt; BinarySearchTree &#123; switch self &#123; case .Empty: return .Leaf(newValue) case .Leaf(let value): if newValue &lt; value &#123; return .Node(.Leaf(newValue), value, .Empty) &#125; else &#123; return .Node(.Empty, value, .Leaf(newValue)) &#125; case .Node(let left, let value, let right): if newValue &lt; value &#123; return .Node(left.insert(newValue), value, right) &#125; else &#123; return .Node(left, value, right.insert(newValue)) &#125; &#125;&#125; åœ¨playgroundå°è¯•ï¼š 123456var tree = BinarySearchTree.Leaf(7)tree = tree.insert(2)tree = tree.insert(5)tree = tree.insert(10)tree = tree.insert(9)tree = tree.insert(1) è¯·æ³¨æ„ï¼Œå¯¹äºæ¯æ¬¡æ’å…¥ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ ‘å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å°†ç»“æœåˆ†é…å›treeå˜é‡ã€‚ è¿™æ˜¯æœ€é‡è¦çš„æœç´¢åŠŸèƒ½ï¼š 12345678910111213141516public func search(x: T) -&gt; BinarySearchTree? &#123; switch self &#123; case .Empty: return nil case .Leaf(let y): return (x == y) ? self : nil case let .Node(left, y, right): if x &lt; y &#123; return left.search(x) &#125; else if y &lt; x &#123; return right.search(x) &#125; else &#123; return self &#125; &#125;&#125; å¤§å¤šæ•°è¿™äº›åŠŸèƒ½å…·æœ‰ç›¸åŒçš„ç»“æ„ã€‚ åœ¨playgroundå°è¯•ï¼š 123tree.search(10)tree.search(1)tree.search(11) // nil è¦æ‰“å°æ ‘ä»¥è¿›è¡Œè°ƒè¯•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š 12345678910extension BinarySearchTree: CustomDebugStringConvertible &#123; public var debugDescription: String &#123; switch self &#123; case .Empty: return "." case .Leaf(let value): return "\(value)" case .Node(let left, let value, let right): return "(\(left.debugDescription) &lt;- \(value) -&gt; \(right.debugDescription))" &#125; &#125;&#125; å½“ä½ æ‰§è¡Œprint(tree)æ—¶ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š 1((1 &lt;- 2 -&gt; 5) &lt;- 7 -&gt; (9 &lt;- 10 -&gt; .)) æ ¹èŠ‚ç‚¹ä½äºä¸­é—´ï¼Œç‚¹è¡¨ç¤ºè¯¥ä½ç½®æ²¡æœ‰å­èŠ‚ç‚¹ã€‚ å½“æ ‘å˜å¾—ä¸å¹³è¡¡æ—¶â€¦â€¦å½“äºŒå‰åˆ¶æœç´¢æ ‘çš„å·¦å³å­æ ‘åŒ…å«ç›¸åŒæ•°é‡çš„èŠ‚ç‚¹æ—¶ï¼Œå®ƒæ˜¯å¹³è¡¡çš„ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ ‘çš„é«˜åº¦ä¸º log(n)ï¼Œå…¶ä¸­ n æ˜¯èŠ‚ç‚¹æ•°ã€‚ è¿™æ˜¯ç†æƒ³çš„æƒ…å†µã€‚ å¦‚æœä¸€ä¸ªåˆ†æ”¯æ˜æ˜¾é•¿äºå¦ä¸€ä¸ªåˆ†æ”¯ï¼Œåˆ™æœç´¢å˜å¾—éå¸¸æ…¢ã€‚ æˆ‘ä»¬æœ€ç»ˆæ£€æŸ¥çš„èŠ±è´¹è¶…å‡ºäº†æˆ‘ä»¬çš„éœ€è¦ã€‚ åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ ‘çš„é«˜åº¦å¯ä»¥å˜ä¸º nã€‚ è¿™æ ·çš„æ ‘å°±åƒ é“¾è¡¨ è€Œä¸æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œæ€§èƒ½é™ä½åˆ° O(n)ã€‚ ä¸å¥½ï¼ ä½¿äºŒå‰åˆ¶æœç´¢æ ‘å¹³è¡¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä»¥å®Œå…¨éšæœºçš„é¡ºåºæ’å…¥èŠ‚ç‚¹ã€‚ å¹³å‡è€Œè¨€ï¼Œåº”è¯¥å¾ˆå¥½åœ°å¹³è¡¡æ ‘ï¼Œä½†ä¸ä¿è¯ï¼Œä¹Ÿä¸æ€»æ˜¯å®ç”¨ã€‚ å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ è‡ªå¹³è¡¡ äºŒå‰æ ‘ã€‚ æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹åï¼Œæ­¤ç±»å‹çš„æ•°æ®ç»“æ„ä¼šè°ƒæ•´æ ‘ä»¥ä½¿å…¶ä¿æŒå¹³è¡¡ã€‚ è¦æŸ¥çœ‹ç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹AVLæ ‘å’Œçº¢é»‘æ ‘ã€‚ æ‰©å±•é˜…è¯»äºŒå‰æ ‘æœç´¢çš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šNicolas Ameghino å’Œ Matthijs Hollemansè¯‘è€…ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>Binary Search Tree</tag>
        <tag>BST</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å“ˆå¸Œè¡¨]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%93%88%E5%B8%8C%E8%A1%A8.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Hash Table å“ˆå¸Œè¡¨(Hash Table) å“ˆå¸Œè¡¨å…è®¸æ‚¨é€šè¿‡â€œé”®â€å­˜å‚¨å’Œæ£€ç´¢å¯¹è±¡ã€‚ å“ˆå¸Œè¡¨ç”¨äºå®ç°ä¸€äº›ç»“æ„ï¼Œä¾‹å¦‚å­—å…¸ï¼Œæ˜ å°„å’Œå…³è”æ•°ç»„ã€‚ è¿™äº›ç»“æ„å¯ä»¥é€šè¿‡æ ‘æˆ–æ™®é€šæ•°ç»„å®ç°ï¼Œä½†ä½¿ç”¨å“ˆå¸Œè¡¨æ•ˆç‡æ›´é«˜ã€‚ è¿™ä¹Ÿå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆSwiftçš„å†…ç½®Dictionaryç±»å‹è¦æ±‚é”®ç¬¦åˆHashableåè®®ï¼šåœ¨å†…éƒ¨Dictionaryä½¿ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œå°±åƒä½ å°†åœ¨è¿™é‡Œå­¦åˆ°çš„é‚£æ ·ã€‚ æ€ä¹ˆå·¥ä½œçš„å“ˆå¸Œè¡¨åªä¸è¿‡æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ æœ€åˆï¼Œæ­¤æ•°ç»„ä¸ºç©ºã€‚ å°†å€¼æ”¾å…¥æŸä¸ªé”®ä¸‹çš„å“ˆå¸Œè¡¨æ—¶ï¼Œå®ƒä½¿ç”¨è¯¥é”®è®¡ç®—æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314hashTable["firstName"] = "Steve" The hashTable array: +--------------+ | 0: | +--------------+ | 1: | +--------------+ | 2: | +--------------+ | 3: firstName |---&gt; Steve +--------------+ | 4: | +--------------+ In this example, the key &quot;firstName&quot; maps to array index 3.åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé”®&quot;firstName&quot;æ˜ å°„åˆ°æ•°ç»„ç´¢å¼•3ã€‚ Adding a value under a different key puts it at another array index:åœ¨ä¸åŒçš„é”®ä¸‹æ·»åŠ å€¼ä¼šå°†å…¶æ”¾åœ¨å¦ä¸€ä¸ªæ•°ç»„ç´¢å¼•å¤„ï¼š 1234567891011121314hashTable["hobbies"] = "Programming Swift" The hashTable array: +--------------+ | 0: | +--------------+ | 1: hobbies |---&gt; Programming Swift +--------------+ | 2: | +--------------+ | 3: firstName |---&gt; Steve +--------------+ | 4: | +--------------+ The trick is how the hash table calculates those array indices. That is where the hashing comes in. When you write the following statement,è¿™è¾¹çš„è¯€çªæ˜¯å“ˆå¸Œè¡¨å¦‚ä½•è®¡ç®—è¿™äº›æ•°ç»„ç´¢å¼•ã€‚ è¿™å°±æ˜¯å“ˆå¸Œçš„ç”¨æ­¦ä¹‹åœ°ã€‚å½“ä½ å†™ä¸‹é¢çš„é™ˆè¿°æ—¶ï¼Œ 1hashTable["firstName"] = "Steve" å“ˆå¸Œè¡¨ä½¿ç”¨é”®&quot;firstName&quot;å¹¶è¯¢é—®å®ƒçš„hashValueå±æ€§ã€‚ å› æ­¤ï¼Œé”®å¿…é¡»ç¬¦åˆHashableåè®®ã€‚ å½“ä½ å†™&quot;firstName&quot;.hashValueæ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¤§æ•´æ•°ï¼š-4799450059917011053ã€‚ åŒæ ·ï¼Œ&quot;hobbies&quot;.hashValueçš„å“ˆå¸Œå€¼ä¸º4799450060928805186.ï¼ˆæ‚¨çœ‹åˆ°çš„å€¼å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ï¼‰ è¿™äº›æ•°å­—å¾ˆå¤§ï¼Œå¯ä»¥ç”¨ä½œæˆ‘ä»¬æ•°ç»„çš„ç´¢å¼•ï¼Œå…¶ä¸­ä¸€ä¸ªç”šè‡³æ˜¯è´Ÿæ•°ï¼ä½¿è¿™äº›å¤§æ•°å­—å¯ç”¨çš„å¸¸ç”¨æ–¹æ³•æ˜¯é¦–å…ˆä½¿å“ˆå¸Œå€¼ä¸ºæ­£ï¼Œç„¶åæ•°ç»„å¤§å°è¿›è¡Œå–æ¨¡è¿ç®—ï¼ˆå–ä½™æ•°ï¼‰ï¼Œè¿™ä¸ªå€¼å°±æ˜¯æ•°ç»„çš„ç´¢å¼•ã€‚ æˆ‘ä»¬çš„æ•°ç»„å¤§å°ä¸º5ï¼Œæ‰€ä»¥&quot;firstName&quot;é”®çš„ç´¢å¼•å˜ä¸ºabs(-4799450059917011053) % 5 = 3ã€‚ ä½ å¯ä»¥è®¡ç®—å‡º&quot;hobbies&quot;çš„æ•°ç»„ç´¢å¼•æ˜¯1ï¼ˆè¯‘æ³¨ï¼š abs(4799450060928805186) % 5 = 1ï¼‰ã€‚ ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å“ˆå¸Œæ˜¯ä½¿å­—å…¸æœ‰æ•ˆçš„åŸå› ï¼šè¦åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾å…ƒç´ ï¼Œå¿…é¡»ç”¨é”®çš„å“ˆå¸Œå€¼ä»¥è·å–æ•°ç»„ç´¢å¼•ï¼Œç„¶ååœ¨åº•å±‚æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚ æ‰€æœ‰è¿™äº›æ“ä½œéƒ½éœ€è¦ä¸å˜çš„æ—¶é—´ï¼Œå› æ­¤æ’å…¥ï¼Œæ£€ç´¢å’Œåˆ é™¤éƒ½æ˜¯ O(1)ã€‚ æ³¨æ„ï¼š å¾ˆéš¾é¢„æµ‹æ•°ç»„ä¸­å¯¹è±¡çš„æœ€ç»ˆä½ç½®ã€‚ å› æ­¤ï¼Œå­—å…¸ä¸ä¿è¯å“ˆå¸Œè¡¨ä¸­å…ƒç´ çš„ä»»ä½•ç‰¹å®šé¡ºåºã€‚ é¿å…å†²çªæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå› ä¸ºæˆ‘ä»¬é‡‡ç”¨å“ˆå¸Œå€¼çš„æ¨¡æ•°å’Œæ•°ç»„çš„å¤§å°ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸¤ä¸ªæˆ–å¤šä¸ªé”®è¢«èµ‹äºˆç›¸åŒçš„æ•°ç»„ç´¢å¼•ã€‚ è¿™ç§°ä¸ºå†²çªã€‚ é¿å…å†²çªçš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å¤§å‹æ•°ç»„ï¼Œè¿™æ ·å¯ä»¥é™ä½ä¸¤ä¸ªé”®æ˜ å°„åˆ°åŒä¸€ç´¢å¼•çš„å¯èƒ½æ€§ã€‚å¦ä¸€ä¸ªæŠ€å·§æ˜¯ä½¿ç”¨ç´ æ•°ä½œä¸ºæ•°ç»„å¤§å°ã€‚ä½†æ˜¯ï¼Œå¿…ç„¶ä¼šå‘ç”Ÿå†²çªï¼Œå› æ­¤æ‚¨éœ€è¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥å¤„ç†å†²çªã€‚ å› ä¸ºæˆ‘ä»¬çš„è¡¨å¾ˆå°ï¼Œå¾ˆå®¹æ˜“å‡ºç°å†²çªã€‚ ä¾‹å¦‚ï¼Œé”®&quot;lastName&quot; çš„æ•°ç»„ç´¢å¼•ä¹Ÿæ˜¯3ï¼Œä½†æˆ‘ä»¬ä¸æƒ³è¦†ç›–å·²åœ¨æ­¤æ•°ç»„ç´¢å¼•å¤„çš„å€¼ã€‚ å¤„ç†å†²çªçš„å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨é“¾æ¥ï¼ˆchainingï¼‰ã€‚ è¯¥æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112buckets:+-----+| 0 |+-----+ +----------------------------+| 1 |---&gt; | hobbies: Programming Swift |+-----+ +----------------------------+| 2 |+-----+ +------------------+ +----------------+| 3 |---&gt; | firstName: Steve |---&gt; | lastName: Jobs |+-----+ +------------------+ +----------------+| 4 |+-----+ ä½¿ç”¨é“¾æ¥ï¼Œé”®å’Œå®ƒä»¬çš„å€¼ä¸ä¼šç›´æ¥å­˜å‚¨åœ¨æ•°ç»„ä¸­ã€‚ ç›¸åï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ éƒ½æ˜¯é›¶ä¸ªæˆ–å¤šä¸ªé”®/å€¼å¯¹çš„åˆ—è¡¨ã€‚ æ•°ç»„å…ƒç´ é€šå¸¸ç§°ä¸º buckets(å¯ä»¥è¯‘ä¸ºæ¡¶)ï¼Œåˆ—è¡¨ç§°ä¸º chains(å¯ä»¥è¯‘ä¸ºé“¾)ã€‚ è¿™é‡Œæˆ‘ä»¬æœ‰5ä¸ªæ¡¶ï¼Œå…¶ä¸­ä¸¤ä¸ªæ¡¶æœ‰é“¾ã€‚ å…¶ä»–ä¸‰ä¸ªæ¡¶éƒ½æ˜¯ç©ºçš„ã€‚ å¦‚æœæˆ‘ä»¬ç¼–å†™ä»¥ä¸‹è¯­å¥æ¥ä»å“ˆå¸Œè¡¨ä¸­æ£€ç´¢é¡¹ç›®ï¼Œ 1let x = hashTable["lastName"] å®ƒé¦–å…ˆç”¨å“ˆå¸Œé”® &quot;lastName&quot; æ¥è®¡ç®—æ•°ç»„ç´¢å¼•ï¼Œå³3ã€‚ç”±äºæ¡¶3æœ‰ä¸€ä¸ªé“¾ï¼Œæˆ‘ä»¬é€æ­¥éå†åˆ—è¡¨ï¼Œæ‰¾åˆ°å¸¦æœ‰ &quot;lastName&quot;é”®çš„å€¼ã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒæ¥æ¯”è¾ƒé”®æ¥å®Œæˆçš„ã€‚ å“ˆå¸Œè¡¨æ£€æŸ¥é”®æ˜¯å¦å±äºé“¾ä¸­çš„æœ€åä¸€é¡¹ï¼Œå¹¶è¿”å›ç›¸åº”çš„å€¼ &quot;Jobs&quot;ã€‚ å®ç°æ­¤é“¾æœºåˆ¶çš„å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨é“¾è¡¨æˆ–å…¶ä»–æ•°ç»„ã€‚ç”±äºé“¾ä¸­é¡¹ç›®çš„é¡ºåºæ— å…³ç´§è¦ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä¸ºé›†åˆè€Œä¸æ˜¯åˆ—è¡¨ã€‚ï¼ˆç°åœ¨ä½ ä¹Ÿå¯ä»¥æƒ³è±¡æœ¯è¯­â€œæ¡¶â€çš„æ¥æº;æˆ‘ä»¬åªæ˜¯å°†æ‰€æœ‰å¯¹è±¡ä¸€èµ·è½¬å‚¨åˆ°æ¡¶ä¸­ã€‚ï¼‰ é“¾ä¸åº”è¯¥å˜é•¿ï¼Œå› ä¸ºæŸ¥æ‰¾å“ˆå¸Œè¡¨ä¸­çš„é¡¹å°†å˜å¾—ç¼“æ…¢ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰é“¾ï¼Œä½†å®é™…ä¸Šä¸å¯èƒ½é¿å…å†²çªã€‚æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨é«˜è´¨é‡å“ˆå¸Œå‡½æ•°ä¸ºå“ˆå¸Œè¡¨æä¾›è¶³å¤Ÿçš„æ¡¶æ¥æé«˜ï¼ˆé¿å…å†²çªçš„ï¼‰å‡ ç‡ã€‚ æ³¨æ„ï¼š é“¾çš„æ›¿ä»£æ–¹æ³•æ˜¯â€œå¼€æ”¾å¯»å€â€ã€‚ è¿™ä¸ªæƒ³æ³•æ˜¯è¿™æ ·çš„ï¼šå¦‚æœå·²ç»é‡‡ç”¨äº†æ•°ç»„ç´¢å¼•ï¼Œæˆ‘ä»¬å°†è¯¥å…ƒç´ æ”¾åœ¨ä¸‹ä¸€ä¸ªæœªä½¿ç”¨çš„å­˜å‚¨æ¡¶ä¸­ã€‚ è¿™ç§æ–¹æ³•æœ‰å…¶è‡ªèº«çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚ ä»£ç è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹Swiftä¸­å“ˆå¸Œè¡¨çš„åŸºæœ¬å®ç°ã€‚ æˆ‘ä»¬å°†é€æ­¥å»ºç«‹èµ·æ¥ã€‚ 12345678910111213public struct HashTable&lt;Key: Hashable, Value&gt; &#123; private typealias Element = (key: Key, value: Value) private typealias Bucket = [Element] private var buckets: [Bucket] private(set) public var count = 0 public var isEmpty: Bool &#123; return count == 0 &#125; public init(capacity: Int) &#123; assert(capacity &gt; 0) buckets = Array&lt;Bucket&gt;(repeatElement([], count: capacity)) &#125; HashTableæ˜¯ä¸€ä¸ªé€šç”¨å®¹å™¨ï¼Œä¸¤ä¸ªæ³›å‹ç±»å‹è¢«å‘½åä¸ºKeyï¼ˆå¿…é¡»æ˜¯Hashableï¼‰å’ŒValueã€‚ æˆ‘ä»¬è¿˜å®šä¹‰äº†å¦å¤–ä¸¤ç§ç±»å‹ï¼šElementæ˜¯åœ¨é“¾ä¸­ä½¿ç”¨çš„é”®/å€¼å¯¹ï¼Œè€ŒBucketæ˜¯è¿™æ ·çš„Elementsçš„æ•°ç»„ã€‚ ä¸»æ•°ç»„åä¸ºbucketsã€‚ åˆå§‹åŒ–æ–¹æ³•init(capacity)åˆ©ç”¨å›ºå®šå®¹é‡æ¥ç¡®å®šæ•°ç»„çš„å¤§å°ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨countå˜é‡è·Ÿè¸ªå·²ç»å‘å“ˆå¸Œè¡¨æ·»åŠ äº†å¤šå°‘é¡¹ã€‚ å¦‚ä½•åˆ›å»ºæ–°å“ˆå¸Œè¡¨å¯¹è±¡çš„ç¤ºä¾‹ï¼š 1var hashTable = HashTable&lt;String, String&gt;(capacity: 5) å“ˆå¸Œè¡¨è¿˜ä¸èƒ½åšä»»ä½•äº‹æƒ…ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ·»åŠ ä¸‹é¢çš„åŠŸèƒ½ã€‚ é¦–å…ˆï¼Œæ·»åŠ ä¸€ä¸ªå¸®åŠ©æ–¹æ³•æ¥è®¡ç®—ç»™å®šé”®çš„æ•°ç»„ç´¢å¼•ï¼š 123private func index(forKey key: Key) -&gt; Int &#123; return abs(key.hashValue) % buckets.count&#125; è¿™å°†æ‰§è¡Œæ‚¨ä¹‹å‰çœ‹åˆ°çš„è®¡ç®—ï¼šå®ƒå°†é”®çš„hashValueçš„ç»å¯¹å€¼å¯¹æ¡¶æ•°ç»„çš„å¤§å°å–æ¨¡ã€‚ æˆ‘ä»¬å·²å°†å…¶ç½®äºå…¶è‡ªèº«çš„åŠŸèƒ½ä¸­ï¼Œå› ä¸ºå®ƒåœ¨å°‘æ•°ä¸åŒçš„åœ°æ–¹ä½¿ç”¨ã€‚ ä½¿ç”¨å“ˆå¸Œè¡¨æˆ–å­—å…¸æœ‰å››ç§å¸¸è§çš„äº‹æƒ…ï¼š insert a new element æ’å…¥ä¸€ä¸ªæ–°å…ƒç´  æŸ¥æ‰¾å…ƒç´  æ›´æ–°ç°æœ‰å…ƒç´  åˆ é™¤å…ƒç´  è¿™äº›çš„è¯­æ³•æ˜¯ï¼š 1234hashTable["firstName"] = "Steve" // insertlet x = hashTable["firstName"] // lookuphashTable["firstName"] = "Tim" // updatehashTable["firstName"] = nil // delete æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ subscript å‡½æ•°å®Œæˆæ‰€æœ‰è¿™äº›æ“ä½œï¼š 123456789101112public subscript(key: Key) -&gt; Value? &#123; get &#123; return value(forKey: key) &#125; set &#123; if let value = newValue &#123; updateValue(value, forKey: key) &#125; else &#123; removeValue(forKey: key) &#125; &#125;&#125; è¿™éœ€è¦ä¸‰ä¸ªè¾…åŠ©å‡½æ•°æ¥å®Œæˆå®é™…å·¥ä½œã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹value(forKey:)ï¼Œå®ƒä»å“ˆå¸Œè¡¨ä¸­æ£€ç´¢ä¸€ä¸ªå¯¹è±¡ã€‚ 123456789public func value(forKey key: Key) -&gt; Value? &#123; let index = self.index(forKey: key) for element in buckets[index] &#123; if element.key == key &#123; return element.value &#125; &#125; return nil // key not in hash table&#125; é¦–å…ˆï¼Œå®ƒè°ƒç”¨index(forKey:)å°†é”®è½¬æ¢ä¸ºæ•°ç»„ç´¢å¼•ã€‚ è¿™ç»™äº†æˆ‘ä»¬æ¡¶å·ï¼Œä½†å¦‚æœæœ‰ç¢°æ’ï¼Œè¿™ä¸ªæ¡¶å¯èƒ½è¢«å¤šä¸ªé”®ä½¿ç”¨ã€‚ value(forKey:)ä»è¯¥å­˜å‚¨æ¡¶å¾ªç¯é“¾å¹¶é€ä¸ªæ¯”è¾ƒkeyã€‚ å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›ç›¸åº”çš„å€¼ï¼Œå¦åˆ™è¿”å›nilã€‚ æ’å…¥æ–°å…ƒç´ æˆ–æ›´æ–°ç°æœ‰å…ƒç´ çš„ä»£ç ä½äºupdateValue(_:forKey:)ä¸­ã€‚ è¿™å¤æ‚ä¸€ç‚¹ï¼š 1234567891011121314151617public mutating func updateValue(_ value: Value, forKey key: Key) -&gt; Value? &#123; let index = self.index(forKey: key) // Do we already have this key in the bucket? for (i, element) in buckets[index].enumerated() &#123; if element.key == key &#123; let oldValue = element.value buckets[index][i].value = value return oldValue &#125; &#125; // This key isn't in the bucket yet; add it to the chain. buckets[index].append((key: key, value: value)) count += 1 return nil&#125; åŒæ ·ï¼Œç¬¬ä¸€æ­¥æ˜¯å°†keyè½¬æ¢ä¸ºæ•°ç»„ç´¢å¼•ä»¥æŸ¥æ‰¾å­˜å‚¨æ¡¶ã€‚ç„¶åæˆ‘ä»¬å¾ªç¯é€šè¿‡è¯¥æ¡¶çš„é“¾ã€‚å¦‚æœæˆ‘ä»¬åœ¨é“¾ä¸­æ‰¾åˆ°keyï¼Œæˆ‘ä»¬å°±ä½¿ç”¨æ–°å€¼æ›´æ–°å®ƒã€‚å¦‚æœkeyä¸åœ¨é“¾ä¸­ï¼Œæˆ‘ä»¬å°†æ–°çš„é”®/å€¼å¯¹æ’å…¥åˆ°é“¾çš„æœ«å°¾ã€‚ æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œä¿æŒé“¾çŸ­ï¼ˆé€šè¿‡ä½¿å“ˆå¸Œè¡¨è¶³å¤Ÿå¤§ï¼‰éå¸¸é‡è¦ã€‚ å¦åˆ™ï¼Œä½ åœ¨è¿™äº›for â€¦inå¾ªç¯ä¸­èŠ±è´¹çš„æ—¶é—´è¿‡é•¿ï¼Œå“ˆå¸Œè¡¨çš„æ€§èƒ½å°†ä¸å†æ˜¯ O(1)ï¼Œè€Œæ›´åƒO(n)ã€‚ åˆ é™¤ä¹Ÿç±»ä¼¼ï¼Œå†æ¬¡éå†é“¾ï¼š 12345678910111213public mutating func removeValue(forKey key: Key) -&gt; Value? &#123; let index = self.index(forKey: key) // Find the element in the bucket's chain and remove it. for (i, element) in buckets[index].enumerated() &#123; if element.key == key &#123; buckets[index].remove(at: i) count -= 1 return element.value &#125; &#125; return nil // key not in hash table&#125; è¿™äº›æ˜¯å“ˆå¸Œè¡¨çš„åŸºæœ¬åŠŸèƒ½ã€‚ å®ƒä»¬éƒ½ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼šä½¿ç”¨å…¶å“ˆå¸Œå€¼å°†keyè½¬æ¢ä¸ºæ•°ç»„ç´¢å¼•ï¼Œæ‰¾åˆ°å­˜å‚¨æ¡¶ï¼Œç„¶åéå†è¯¥å­˜å‚¨æ¡¶çš„é“¾å¹¶æ‰§è¡Œæ‰€éœ€çš„æ“ä½œã€‚ åœ¨ playground è¯•è¯•è¿™äº›ä¸œè¥¿ã€‚ å®ƒåº”è¯¥åƒæ ‡å‡†çš„Swift Dictionary ä¸€æ ·å·¥ä½œã€‚ è°ƒæ•´å“ˆå¸Œè¡¨çš„å¤§å°è¿™ä¸ªç‰ˆæœ¬çš„HashTableæ€»æ˜¯ä½¿ç”¨å›ºå®šå¤§å°æˆ–å®¹é‡çš„æ•°ç»„ã€‚ å¦‚æœè¦åœ¨å“ˆå¸Œè¡¨ä¸­å­˜å‚¨è®¸å¤šé¡¹ç›®ï¼Œåˆ™å¯¹äºå®¹é‡ï¼Œè¯·é€‰æ‹©å¤§äºæœ€å¤§é¡¹æ•°çš„ç´ æ•°ã€‚ å“ˆå¸Œè¡¨çš„åŠ è½½å› å­æ˜¯å½“å‰ä½¿ç”¨çš„å®¹é‡çš„ç™¾åˆ†æ¯”ã€‚ å¦‚æœå“ˆå¸Œè¡¨ä¸­æœ‰3ä¸ªé¡¹æœ‰5ä¸ªæ¡¶ï¼Œé‚£ä¹ˆåŠ è½½å› å­æ˜¯3/5 = 60ï¼…ã€‚ å¦‚æœå“ˆå¸Œè¡¨å¾ˆå°ï¼Œå¹¶ä¸”é“¾å¾ˆé•¿ï¼Œé‚£ä¹ˆåŠ è½½å› å­å¯èƒ½ä¼šå¤§äº1ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ å¦‚æœåŠ è½½å› å­å˜å¤§ï¼Œå¤§äº75ï¼…ï¼Œåˆ™å¯ä»¥è°ƒæ•´å“ˆå¸Œè¡¨çš„å¤§å°ã€‚æ·»åŠ æ­¤æ¡ä»¶çš„ä»£ç ç•™ç»™è¯»è€…ç»ƒä¹ ã€‚è¯·è®°ä½ï¼Œä½¿æ¡¶æ•°ç»„æ›´å¤§å°†æ”¹å˜é”®æ˜ å°„åˆ°çš„æ•°ç»„ç´¢å¼•ï¼è¿™è¦æ±‚æ‚¨åœ¨è°ƒæ•´æ•°ç»„å¤§å°åå†æ¬¡æ’å…¥æ‰€æœ‰å…ƒç´ ã€‚ ç„¶åå»å“ªå„¿ï¼Ÿ(Where to go from here?)HashTableéå¸¸åŸºç¡€ã€‚ ä½œä¸ºSwiftæ ‡å‡†åº“é«˜æ•ˆé›†æˆä¸ºSequenceTypeã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šæ€è€ƒï¼Œå¿«ä¸æ…¢ã€‹â€”â€” ç›´è§‰å¿«é€Ÿè§£å†³å¤§éƒ¨åˆ†äº‹æƒ…ï¼Œæ…¢ä¸‹æ¥ç†æ€§è§£å†³å°éƒ¨åˆ†éº»çƒ¦]]></title>
    <url>%2F2018%2F%E6%80%9D%E8%80%83%EF%BC%8C%E5%BF%AB%E4%B8%8E%E6%85%A2.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦ä¸¹å°¼å°”Â·å¡å°¼æ›¼ï¼Œç¾å›½æ™®æ—æ–¯é¡¿å¤§å­¦æ•™æˆï¼Œå†å²ä¸Šç¬¬ä¸€ä½è·å¾—è¯ºè´å°”ç»æµå­¦å¥–çš„å¿ƒç†å­¦å®¶ï¼ˆ2002å¹´ï¼‰ï¼Œè¡Œä¸ºç»æµå­¦çš„é¼»ç¥–ã€‚ ã€Šæ€è€ƒï¼Œå¿«ä¸æ…¢ã€‹æ˜¯è¡Œä¸ºç»æµå­¦æµæ´¾çš„ç»å…¸åŠ›ä½œï¼Œè¿ç”¨å¿ƒç†å­¦ç†è®ºå’Œç»æµå­¦åˆ†æç»“åˆçš„æ–¹æ³•ï¼Œç¬¬ä¸€æ¬¡å¯¹äºå½±å“ä¸ªäººå’Œç¾¤ä½“ç»æµå†³ç­–çš„åè§é—®é¢˜è¿›è¡Œæ·±å…¥åˆ†æã€‚å®ƒè®¤ä¸ºäººå¹¶ä¸æ˜¯ç†æ€§çš„ç»æµåŠ¨ç‰©ï¼Œç›¸ååœ¨å¾ˆå¤šæƒ…å†µä¸‹å¹¶ä¸ç†æ€§ï¼Œåè§ä¸ç”Ÿä¿±æ¥ï¼Œä¸ç›´è§‰ç´§å¯†ç›¸å…³ã€‚ äººç±»çš„æ€è€ƒæ¨¡å¼å¯ä»¥æ‹†åˆ†æˆå¿«æ€è€ƒå’Œæ…¢æ€è€ƒä¸¤ä¸ªç³»ç»Ÿã€‚å‰è€…æ˜¯ä¾èµ–ç›´è§‰çš„ã€æ— æ„è¯†çš„æ€è€ƒç³»ç»Ÿï¼Œåè€…æ˜¯éœ€è¦ä¸»åŠ¨æ§åˆ¶çš„ã€æœ‰æ„è¯†è¿›è¡Œçš„æ€è€ƒç³»ç»Ÿã€‚åœ¨äººç±»çš„å†³ç­–è¡Œä¸ºä¸­ï¼Œç”±äºæ…¢æ€è€ƒç³»ç»Ÿçš„æ‡’æƒ°ï¼Œå¾ˆå¤šæ—¶å€™ä¼šç”±å¿«æ€è€ƒç³»ç»Ÿå æ®ä¸»å¯¼ã€‚è€Œå¿«æ€è€ƒçš„ç›´è§‰å­˜åœ¨å¾ˆå¤šç¼ºé™·ï¼Œå®¹æ˜“å¯¼è‡´ç§ç§åè§å’Œå¤±è¯¯ã€‚æˆ‘ä»¬åº”è¯¥æœ‰æ„è¯†çš„åœ°åŠ¨æ…¢æ€è€ƒç³»ç»Ÿå»å¼¥è¡¥ï¼Œæé«˜å†³ç­–è´¨é‡ã€‚ å†…å®¹ç¬¬ä¸€éƒ¨åˆ† ç³»ç»Ÿ1å’Œç³»ç»Ÿ2æ¦‚å¿µ ç³»ç»Ÿ1 æ˜¯ç›´è§‰ç³»ç»Ÿï¼Œè¿è¡Œèµ·æ¥é€Ÿåº¦å¿«ï¼Œä¸æ€ä¹ˆæ¶ˆè€—è„‘åŠ›ï¼Œä¸ç”¨æ„è¯†æ§åˆ¶ï¼Œéç†æ€§ï¼Œå¯ä»¥ç§°ä¸ºå¿«æ€è€ƒã€‚ ç³»ç»Ÿ2 æ˜¯éç›´è§‰ç³»ç»Ÿï¼Œæœ‰æ„è¯†è¿›è¡Œï¼Œéœ€è¦ä¿æŒè¶³å¤Ÿçš„ä¸“æ³¨ï¼Œä¸»åŠ¨æ§åˆ¶ï¼Œç†æ€§ï¼Œå¯ä»¥ç§°ä¸ºæ…¢æ€è€ƒã€‚ (ç³»ç»Ÿ1å’Œç³»ç»Ÿ2åªæ˜¯æ¦‚å¿µï¼Œä¸ºäº†ç†è§£æ–¹ä¾¿ï¼Œå¤§è„‘ä¸­å¹¶ä¸å­˜åœ¨å¯¹åº”éƒ¨ä½) ğŸŒ°ï¼š å½“ä½ çœ‹åˆ°ä¸€å¼ å¥³å£«çš„ç…§ç‰‡ï¼Œå¥¹çš„å¤´å‘æ˜¯é»‘è‰²çš„ï¼Œæ­£åœ¨çªå¤§çœ¼ç›ï¼Œçœ‹èµ·æ¥æ˜¯ä¸ªå¹´è½»äººã€‚è¿™äº›åˆ¤æ–­å¯¹ä½ æ¥è¯´å‡ ä¹æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œæ˜¯æ— æ„è¯†çš„ï¼Œè€Œä¸”æ¯«ä¸è´¹åŠ›ï¼Œè¿™å°±æ˜¯ç³»ç»Ÿ1åœ¨å‘æŒ¥ä½œç”¨ï¼Œè¿™æ˜¯ä½ çš„å¿«æ€è€ƒã€‚è€Œå½“ä½ é¢å¯¹ä¸€é“ä¹˜æ³•è®¡ç®—é¢˜ï¼Œæ¯”å¦‚17ä¹˜ä»¥24ï¼Œä½ å¯èƒ½çŸ¥é“ç­”æ¡ˆçš„å¤§æ¦‚èŒƒå›´ï¼Œä½†æ˜¯é™¤äº†å°‘æ•°æ¥å—è¿‡ä¸“é—¨è®­ç»ƒçš„äººå£«ä¹‹å¤–ï¼Œå¦‚æœä½ ä¸èŠ±ç‚¹æ—¶é—´å»è®¡ç®—çš„è¯ï¼Œå°±æ— æ³•å¾—åˆ°æ­£ç¡®ç­”æ¡ˆã€‚è¿™ä¸ªè®¡ç®—è¿‡ç¨‹å¯¹ä½ æ¥è¯´ï¼Œéœ€è¦é›†ä¸­æ³¨æ„åŠ›ï¼Œåˆ»æ„å¹¶ä¸”åŠªåŠ›è¿›è¡Œï¼Œè¿˜è¦éµå¾ªä¸€å®šçš„æ–¹æ³•ï¼Œè¿™æ˜¯ç³»ç»Ÿ2åœ¨å‘æŒ¥ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯æ…¢æ€è€ƒã€‚ å¡å°¼æ›¼é€šè¿‡å„ç§å¿ƒç†å­¦å®éªŒçš„æˆæœè¯æ˜äº†ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯ä½ åœ¨ä¸»è§‚ä¸Šï¼Œå¾€å¾€è§‰å¾—è‡ªå·±æ˜¯ç†æ€§çš„ï¼Œæ˜¯ç†æ€§åœ¨æŒæ§ç€è‡ªå·±çš„å†³ç­–ã€‚ä½†å®é™…ä¸Šï¼Œç³»ç»Ÿ1æ‰æ˜¯ä½ è¡ŒåŠ¨çš„ä¾æ®ï¼Œä½ çš„å¤§å¤šæ•°è¡Œä¸ºéƒ½æ˜¯åœ¨ç³»ç»Ÿ1çš„æŒ‡å¼•ä¸‹ï¼Œåœ¨æ— æ„è¯†ä¹‹é—´å®Œæˆçš„ã€‚ å› ä¸ºç³»ç»Ÿ2éœ€è¦é›†ä¸­æ³¨æ„åŠ›ï¼Œä½†äººç±»å¤§è„‘åˆæ˜¯å¤©ç”Ÿæœ‰æƒ°æ€§çš„ï¼Œä¸æ„¿æ„å¤šä»˜å‡ºè¿™äº›æ³¨æ„åŠ›ã€‚åœ¨è¿™ç§æƒ°æ€§ä¹‹ä¸‹ï¼Œç³»ç»Ÿ2å¾€å¾€ä¼šå¯¹ç³»ç»Ÿ1çš„ç›´è§‚åˆ¤æ–­æ— æ¡ä»¶æ¥å—ã€‚ æ¯ä¸€ä¸ªäººçš„å¤§è„‘é‡Œéƒ½å­˜åœ¨ç³»ç»Ÿ1å’Œç³»ç»Ÿ2ï¼Œå¯¹äºæ—¥å¸¸é—®é¢˜ï¼Œç”¨ç³»ç»Ÿ1å°±å¯ä»¥åšå‡ºç›´è§‰åˆ¤æ–­ï¼›å¯¹äºå¤æ‚é—®é¢˜ï¼Œéœ€è¦ç³»ç»Ÿ2å‘æŒ¥ç†æ€§ï¼Œç”¨æ…¢æ€è€ƒæ¥è§£å†³é—®é¢˜ã€‚ç³»ç»Ÿ1å’Œç³»ç»Ÿ2å¤„äºä¸€ç§åˆä½œåˆ†å·¥çš„çŠ¶æ€ï¼Œå¦‚æœèƒ½å®ç°åˆç†åˆ†å·¥åˆä½œï¼Œäººçš„æ€è€ƒå°†ä¼šäº‹åŠåŠŸå€ã€‚ ç¬¬äºŒéƒ¨åˆ† ç³»ç»Ÿ1ä¸»å¯¼å†³ç­–å¯¼è‡´åè§å¤±è¯¯ç³»ç»Ÿ1çš„â€œä¸ƒå®—ç½ªâ€ï¼šä¸‰ç§åå¥½å’Œå››ç§æ•ˆåº” 1 å…¸å‹æ€§åå¥½ è¿‡åº¦å…³æ³¨å…¸å‹äº‹ä»¶ï¼Œè€Œå¿½è§†äº†å…¸å‹èƒŒåçš„æ¦‚ç‡ã€‚ ğŸŒ°ï¼š ä¸€ä¸ªäººåœ¨çº½çº¦åœ°é“é‡Œé˜…è¯»ã€Šçº½çº¦æ—¶æŠ¥ã€‹ï¼Œç„¶åè®©ä½ çŒœæµ‹å¥¹çš„å­¦å†ï¼Œå¥¹æ˜¯æœ‰åšå£«å­¦ä½ï¼Œè¿˜æ˜¯è¿å¤§å­¦æ–‡å‡­éƒ½æ²¡æœ‰ã€‚å®éªŒç»“æœæ˜¾ç¤ºï¼Œå¤§å¤šæ•°äººæƒ³éƒ½æ²¡æƒ³ï¼Œå°±é€‰æ‹©äº†åšå£«å­¦ä½è¿™ä¸ªé€‰é¡¹ï¼Œè¿™æ˜¯åŸºäºå…¸å‹æ€§åå¥½åšå‡ºçš„åˆ¤æ–­ï¼Œä½†ä»æ¦‚ç‡æ¥è¯´ï¼Œè¿™ä¸ªç­”æ¡ˆè‚¯å®šæ˜¯ä¸æ˜æ™ºçš„ã€‚å› ä¸ºåœ¨äººç¾¤é‡Œï¼Œæœ‰åšå£«å­¦ä½çš„äººå’Œæ²¡æœ‰å¤§å­¦æ–‡å‡­çš„äººï¼Œç›¸å·®çš„æ˜¯å¾ˆå¤šçš„ã€‚è€Œç³»ç»Ÿ1å¯¹äºçœ‹æŠ¥çº¸è¿™ä¸ªå…¸å‹ç‰¹å¾çš„è¿‡åˆ†å…³æ³¨ï¼Œå¾ˆå®¹æ˜“è®©ä½ å¿½è§†åŸºç¡€æ¦‚ç‡ï¼Œè¿™å°±æ˜¯å…¸å‹æ€§åå¥½å¯¼è‡´çš„åè§ã€‚ 2 å¯å¾—æ€§åå¥½ å¦‚æœä¸€ä»¶äº‹æƒ…æ›´å®¹æ˜“å‡ºç°åœ¨å¤§è„‘é‡Œï¼Œäººä»¬å°±è®¤ä¸ºè¿™ä»¶äº‹æƒ…æ›´å®¹æ˜“å‘ç”Ÿã€‚ ğŸŒ°ï¼š ä½ çœ‹æ–°é—»ï¼Œå‘ç°ä¸Šä¸ªæœˆå‘ç”Ÿäº†ä¸€èµ·é£æœºç›¸æ’äº‹ä»¶ï¼Œé‚£ä½ å‡ºè¿œé—¨å°±å®¹æ˜“é€‰æ‹©å¼€è½¦æˆ–è€…åç«è½¦ã€‚å¦‚æœä¾é ç†æ€§ï¼Œä½ åº”è¯¥å»è®¤çœŸè®¡ç®—å„ç§äº¤é€šå·¥å…·çš„äº‹æ•…æ¦‚ç‡æ‰å¯¹ã€‚æœ‰æ„æ€çš„æ˜¯ï¼ŒæŠŠå¯å¾—æ€§åå¥½çš„æ•ˆç”¨å‘æŒ¥åˆ°æè‡´çš„ï¼Œä¸æ˜¯ç§‘å­¦å®¶ï¼Œä¹Ÿä¸æ˜¯æ”¿æ²»å®¶ï¼Œè€Œæ˜¯ææ€–åˆ†å­ã€‚ åœ¨ä»¥è‰²åˆ—ï¼Œææ€–ä¸»ä¹‰æ´»åŠ¨çŒ–ç—ï¼Œä½†æ˜¯åœ¨ææ€–æ´»åŠ¨ä¸­æ­»äº¡çš„äººæ•°ï¼Œä¹Ÿè¿œè¿œå°äºäº¤é€šäº‹æ•…çš„æ­»äº¡äººæ•°ã€‚ä½†æ˜¯ï¼Œæ–°é—»åª’ä½“æ›´å…³æ³¨ææ€–äº‹ä»¶ï¼Œç»å¸¸æŠ¥é“ææ€–äº‹ä»¶ï¼Œè¿™å°±å¯¼è‡´å…¬ä¼—æ›´å®¹æ˜“è”æƒ³åˆ°ææ€–äº‹ä»¶ï¼Œè€Œä¸æ˜¯å»è®¡ç®—èƒŒåçš„æ¦‚ç‡ã€‚è¿™æ ·ï¼Œå³ä¾¿æ˜¯è¢­å‡»è§„æ¨¡ä¸å¤§çš„ææ€–äº‹ä»¶ï¼Œä¹Ÿèƒ½å¼•èµ·ç¤¾ä¼šçš„å·¨å¤§ææ…Œã€‚å¯å¾—æ€§åå¥½çš„æˆå› ï¼Œåœ¨äºç³»ç»Ÿ1ä¼šå°†â€œå®¹æ˜“å‡ºç°â€å’Œâ€œæ¦‚ç‡è¾ƒé«˜â€å¼„æ··ï¼Œå®å¯åšç›´è§‰åˆ¤æ–­ï¼Œä¹Ÿæ‡’å¾—å¯åŠ¨ç³»ç»Ÿ2è¿›è¡Œç§‘å­¦çš„æ¦‚ç‡è¿ç®—ã€‚ 3 å› æœæ€§åå¥½ ç³»ç»Ÿ1æœ‰ä¸ªç‰¹ç‚¹ï¼Œå–œæ¬¢å¯¹äº‹ç‰©è¿›è¡Œå› æœå…³ç³»è§£é‡Šã€‚è¿™è§£é‡Šå®¹æ˜“å¯¼è‡´åè§ã€‚ å¯¹éšæœºäº‹ä»¶è¿›è¡Œå› æœå…³ç³»è§£é‡Š ğŸŒ°ï¼šäºŒæˆ˜æœŸé—´ï¼Œå¾·å›½å‘å°„ V å‹ç«ç®­è¢­å‡»ä¼¦æ•¦ï¼Œä¼¦æ•¦äººå‘ç°ï¼Œåœ¨ä¸åŒåœ°åŒºï¼Œçˆ†ç‚¸ç‚¹ä¸ä¸€æ ·ã€‚å¾ˆå¤šäººç›¸ä¿¡ï¼Œåœ¨æ²¡æœ‰çˆ†ç‚¸çš„åœ°ç‚¹ä¸€å®šè—ç€å¾·å›½çš„é—´è°ã€‚ä½†æ˜¯ä¸¥è°¨çš„ç»Ÿè®¡åˆ†ææ˜¾ç¤ºï¼Œçˆ†ç‚¸ç‚¹çš„åˆ†å¸ƒåªæ˜¯å…¸å‹çš„éšæœºäº‹ä»¶ã€‚ å¯¹å›å½’å¹³å‡å€¼çš„ç»“æœè¿›è¡Œå› æœå…³ç³»è§£é‡Š å›å½’å¹³å‡å€¼æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç»Ÿè®¡å­¦åŸç†ï¼Œæ„æ€æ˜¯æ¯ä¸€æ¬¡çš„è¡¨ç°ï¼Œæ€»ä¼šè¶‹å‘äºå›å½’å¹³å‡æ°´å¹³ã€‚ ğŸŒ°ï¼šé«˜ç©ºæ»‘é›ªæŠ€å·§æ¯”èµ›ï¼Œè¿åŠ¨å‘˜è¦æ˜¯è¿™å›åšå‡ºä¸€ä¸ªå®Œç¾åŠ¨ä½œï¼Œä¸‹ä¸€æ¬¡å°±å¾ˆæœ‰å¯èƒ½å‡ºç°å¤±è¯¯ã€‚ä½†æ˜¯ï¼Œç³»ç»Ÿ1å¯¹ç»Ÿè®¡å­¦åŸç†ç¼ºä¹ç›´è§‚ç†è§£ï¼Œæ€»æ˜¯è¦ç”¨å› æœå…³ç³»å»è§£é‡Šã€‚è¦æ˜¯ä¸‹ä¸€æ¬¡åŠ¨ä½œè¡¨ç°ä¸å¥½ï¼Œä½ ä¼šè®¤ä¸ºï¼Œè¿åŠ¨å‘˜å·²ç»é¢†å…ˆäº†ï¼Œæ‰€ä»¥ç‰¹åˆ«ç´§å¼ ï¼Œå‘æŒ¥å¤±å¸¸ã€‚å¦‚æœä¸‹ä¸€ä¸ªåŠ¨ä½œè¡¨ç°å¾—æ›´å¥½ï¼Œä½ å°±ä¼šè®¤ä¸ºï¼Œè¿åŠ¨å‘˜å·²ç»æ‹¿åˆ°äº†é«˜åˆ†ï¼Œå¿ƒæƒ…æ”¾æ¾ï¼Œä¹Ÿå°±èƒ½æ›´å¥½å‘æŒ¥ç«æŠ€çŠ¶æ€äº†ã€‚ è¿™æ ·çš„åˆ¤æ–­å¾€å¾€æ²¡æœ‰ä»€ä¹ˆäº‹å®æ ¹æ®ï¼Œåªä¸è¿‡æ˜¯ä½ å¤§è„‘é‡Œçš„ç³»ç»Ÿ1ï¼Œè‡ªåŠ¨ç”Ÿæˆäº†å› æœå…³ç³»è§£é‡Šã€‚å› æœæ€§åå¥½çš„æˆå› ï¼Œå¯èƒ½å’Œäººç±»ä¸ç”Ÿä¿±æ¥çš„åˆç†åŒ–å¤©æ€§æœ‰å…³ï¼Œæ‰€è§æ‰€çŸ¥çš„å„ç§äº‹ç‰©ï¼Œéƒ½éœ€è¦æœ‰ä¸€ä¸ªè¯´å¾—è¿‡å»çš„åˆç†åŒ–è§£é‡Šã€‚ 4 å…‰ç¯æ•ˆåº” ä½ å…ˆæ¥å—äº†äº‹ç‰©çš„ä¸€äº›ä¿¡æ¯ä¹‹åï¼Œè¿™äº›ä¿¡æ¯å°±ä¼šå½±å“ä½ å¯¹äº‹ç‰©çš„æ•´ä½“åˆ¤æ–­å’Œç†è§£ã€‚ ğŸŒ°ï¼š å‡è®¾æœ‰ä¸¤ä¸ªäººï¼Œä¸€ä¸ªå«è‰¾ä¼¦ï¼Œå¦ä¸€ä¸ªå«æœ¬ï¼Œç”¨ä¸€ç»„è¯è¯­å¯¹ä»–ä»¬è¿›è¡Œæè¿°ï¼Œç„¶åå†è¦æ±‚å¿—æ„¿è€…å¯¹è¿™ä¸¤ä¸ªäººçš„ä¸ªæ€§è¿›è¡Œè¯„ä»·ã€‚å¯¹è‰¾ä¼¦çš„æè¿°ï¼ŒæŠŠè¤’ä¹‰è¯æ”¾åœ¨å‰è¾¹ï¼Œæ¯”å¦‚èªæ˜ã€å‹¤å¥‹ï¼ŒæŠŠè´¬ä¹‰è¯æ”¾åœ¨åè¾¹ï¼Œæ¯”å¦‚å†²åŠ¨ã€æŒ‘å‰”ã€å›ºæ‰§ã€å¿Œå¦’å¿ƒå¼ºï¼›å¯¹æœ¬çš„æè¿°ï¼Œè¿˜æ˜¯è¿™äº›è¯ï¼Œä½†æ˜¯é¡ºåºæ‰äº†ä¸ªä¸ªå„¿ï¼Œè´¬ä¹‰è¯æ”¾åœ¨å‰è¾¹ï¼Œè¤’ä¹‰è¯æ”¾åœ¨åè¾¹ã€‚ç»“æœï¼Œå¿—æ„¿è€…éƒ½è®¤ä¸ºè‰¾ä¼¦æ˜¯ä¸ªå¥½äººï¼Œæœ¬æœ‰é—®é¢˜ã€‚è€Œä¸”ï¼Œä½ è¿˜ä¼šåœ¨å¤§è„‘é‡Œåšè§£é‡Šï¼Œä½ ä¼šè®¤ä¸ºè‰¾ä¼¦é¦–å…ˆæ˜¯ä¸ªèªæ˜äººï¼Œèªæ˜äººæœ‰ç†ç”±å›ºæ‰§ï¼Œç”šè‡³è¿™ç§å›ºæ‰§è¿˜æ˜¯å€¼å¾—å°Šé‡çš„ï¼›æœ¬é¦–å…ˆæ˜¯ä¸ªå¿Œå¦’å¿ƒå¼ºå’Œå›ºæ‰§çš„äººï¼Œè¿™ç§äººè¶Šèªæ˜ï¼Œä½ å°±ä¼šè§‰å¾—ä»–è¶Šå±é™©ã€‚ å…¶å®ï¼Œä¸¤ä¸ªäººå”¯ä¸€çš„åŒºåˆ«ï¼Œåªæ˜¯ä½ å¯¹ä»–ä»¬çš„äº†è§£é¡ºåºä¸åŒï¼Œç³»ç»Ÿ1å¯¹å…ˆäº†è§£çš„ä¿¡æ¯å…ˆå…¥ä¸ºä¸»äº†ï¼Œè¿™å°±æ˜¯å…‰ç¯æ•ˆåº”å¯¼è‡´çš„åè§ã€‚ 5 é”šå®šæ•ˆåº” ä½ è¯„ä¼°æŸä¸€ä¸ªæœªçŸ¥äº‹ç‰©ä¹‹å‰ï¼Œå…ˆä¼šä¼°è®¡ä¸€ä¸ªå‚è€ƒç­”æ¡ˆï¼Œè¿™å«é”šå®šå€¼ï¼Œç„¶åå†æ¥è°ƒæ•´ã€‚ ğŸŒ°1ï¸âƒ£ï¼š å•†å®¶åœ¨è°ƒæ•´å•†å“ä»·æ ¼æ—¶ï¼Œæ˜¯åº”è¯¥ç›´æ¥é™ä»·ï¼Œè¿˜æ˜¯åº”è¯¥æ‰“æŠ˜å‘¢ï¼ŸæŒ‰ç…§ä¼ ç»Ÿç»æµå­¦ç†è®ºï¼Œå¦‚æœé™ä»·å’Œæ‰“æŠ˜ä¹‹åçš„ä»·æ ¼ç›¸åŒï¼Œå¯¹æ¶ˆè´¹è€…çš„å†³ç­–ä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚ä½†æ˜¯æœ‰ç»éªŒçš„å•†äººéƒ½çŸ¥é“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ‰“æŠ˜çš„æ•ˆæœæ¯”ç›´æ¥é™ä»·è¦å¥½å¾—å¤šã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæ‰“æŠ˜çš„æ—¶å€™ä¼šé™„å¸¦å•†å“åŸä»·ï¼Œæ ¹æ®é”šå®šæ•ˆåº”ï¼ŒåŸä»·ä¼šå½±å“æ¶ˆè´¹è€…è„‘å­é‡Œå¯¹å•†å“çš„ä¼°ä»·ï¼Œå½¢æˆä¸€ä¸ªæ¯”è¾ƒé«˜çš„é”šå®šå€¼ï¼Œæ¶ˆè´¹è€…ä¼šè§‰å¾—æ‰“æŠ˜åçš„ä»·æ ¼å¾ˆåˆç®—ï¼Œæ›´å®¹æ˜“æˆäº¤ã€‚ ğŸŒ°2ï¸âƒ£ï¼š å®éªŒäººå‘˜å‘å‚è§‚åšç‰©é¦†çš„æ¸¸å®¢æä¸¤ä¸ªé—®é¢˜ï¼šç¬¬ä¸€ï¼Œæœ€é«˜çš„é‚£æ£µçº¢æ‰æ ‘æ˜¯é«˜äº1200è‹±å°ºè¿˜æ˜¯ä½äº1200è‹±å°ºï¼Ÿç¬¬äºŒï¼Œä½ è®¤ä¸ºæœ€é«˜çš„é‚£æ£µçº¢æ‰æ ‘æœ‰å¤šé«˜ï¼Ÿç¬¬ä¸€ä¸ªé—®é¢˜é‡Œæåˆ°çš„1200è‹±å°ºï¼Œä¼šå¯¹æ¸¸å®¢çš„å¤´è„‘äº§ç”Ÿå½±å“ï¼Œæˆä¸ºæ¸¸å®¢å›ç­”ç¬¬äºŒä¸ªé—®é¢˜æ—¶çš„é”šå®šå€¼ã€‚åœ¨è¿™ä¸ªé”šå®šå€¼ä¸‹ï¼Œæ¸¸å®¢å¯¹ç¬¬äºŒä¸ªé—®é¢˜çš„å¹³å‡ç­”æ¡ˆæ˜¯842è‹±å°ºã€‚è€Œå¦‚æœæŠŠç¬¬ä¸€ä¸ªé—®é¢˜ä¸­çš„æ•°å€¼æ”¹æˆ180è‹±å°ºï¼Œæ¸¸å®¢å¯¹ç¬¬äºŒä¸ªé—®é¢˜çš„å¹³å‡ç­”æ¡ˆå˜æˆäº†282è‹±å°ºã€‚æ­£æ˜¯é”šå®šå€¼çš„æ”¹å˜ï¼Œè®©æ¸¸å®¢çš„åˆ¤æ–­å‘ç”Ÿäº†å·¨å¤§å˜åŒ–ã€‚ 6 æ¡†æ¶æ•ˆåº” åŒä¸€ä¸ªé—®é¢˜çš„ä¸åŒæè¿°ï¼Œä¼šå¯¼è‡´ä½ åšå‡ºå®Œå…¨ä¸åŒçš„å†³ç­–åˆ¤æ–­ã€‚ ğŸŒ°ï¼š åœ¨æè¿°æŸä¸ªæ‰‹æœ¯æœ¯åç—…äººç”Ÿå­˜æƒ…å†µæ—¶ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§è¯´æ‰‹æœ¯å3ä¸ªæœˆå†…çš„å­˜æ´»ç‡æ˜¯90%ï¼Œç¬¬äºŒç§è¯´æ‰‹æœ¯3ä¸ªæœˆåä¼šæœ‰10%çš„ç—…äººæ­»äº¡ã€‚è¿™ä¸¤ç§æè¿°åªæ˜¯è¯´æ³•ä¸åŒï¼Œå…¶å®å«ä¹‰æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œå®éªŒè¯æ˜ï¼Œæ— è®ºæ˜¯åŒ»ç”Ÿè¿™æ ·çš„ä¸“ä¸šäººå£«ï¼Œè¿˜æ˜¯ä¸€èˆ¬ç¤¾ä¼šå…¬ä¼—ï¼Œéƒ½è§‰å¾—ç¬¬ä¸€ç§æ–¹æ³•æ›´å¥½ã€‚ å…‰ç¯æ•ˆåº”ã€é”šå®šæ•ˆåº”å’Œæ¡†æ¶æ•ˆåº”ï¼Œå…±åŒè¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼Œäººç±»çš„ç³»ç»Ÿ1æ˜¯ä¸€ä¸ªå…·æœ‰å…ˆå…¥ä¸ºä¸»ç‰¹æ€§çš„ç³»ç»Ÿï¼Œå…ˆè¾“å…¥çš„ä¿¡æ¯åœ¨åˆ¤æ–­ä¸­èƒ½å¤Ÿå æ®ä¼˜åŠ¿åœ°ä½ï¼Œä¸ç®¡è¿™ç§ä¿¡æ¯æ˜¯ç¬¬ä¸€å°è±¡ï¼Œæ˜¯äº‹å…ˆè®¾å®šçš„å‚è€ƒå€¼ï¼Œè¿˜æ˜¯æè¿°æ—¶çš„è¯è¯­å’Œä¿®è¾ï¼Œéƒ½ä¼šæå¤§å½±å“æˆ‘ä»¬çš„åˆ¤æ–­ 7 ç¦€èµ‹æ•ˆåº” æŒ‡å½“ä½ æ‹¥æœ‰æŸä¸ªç‰©å“ä¹‹åï¼Œä½ å°±ä¼šè§‰å¾—å®ƒä»·å€¼æ›´å¤§ã€‚ ğŸŒ°é©¬å…‹æ¯å®éªŒï¼š å®éªŒäººå‘˜æŠŠé©¬å…‹æ¯ä½œä¸ºå•†å“åœ¨å­¦ç”Ÿä¹‹ä¸­éšæœºåˆ†é…ï¼Œç„¶åè®©å­¦ç”Ÿè‡ªç”±äº¤æ˜“ï¼Œç»“æœå‘ç°æˆåŠŸå®Œæˆäº¤æ˜“çš„æ²¡æœ‰å‡ ä¸ªï¼Œå› ä¸ºé©¬å…‹æ¯ä¹°å®¶å’Œå–å®¶å¯¹äºé©¬å…‹æ¯çš„ä¼°ä»·å·®å¾—ç‰¹åˆ«å¤šã€‚å–å®¶ä¼°ä»·ä¸­ä½æ•°ä¸º5.25ç¾å…ƒï¼Œä½†ä¹°å®¶çš„ä¼°ä»·ä¸­ä½æ•°åªæœ‰2.25ç¾å…ƒã€‚ æœ€å…ˆè®¾è®¡è¿™ä¸ªé©¬å…‹æ¯å®éªŒçš„æ˜¯å¦ä¸€ä½è¡Œä¸ºç»æµå­¦å®¶ç†æŸ¥å¾·Â·å¡å‹’ï¼ˆ2017è¯ºè´å°”ç»æµå­¦å¥–å¾—ä¸»ï¼‰ã€‚ç†æŸ¥å¾·Â·å¡å‹’ç”¨å‰æ™¯ç†è®ºè§£é‡Šç¦€èµ‹æ•ˆåº”ï¼Œäººå¯¹æŸå¤±å’Œè·å¾—çš„æ•æ„Ÿç¨‹åº¦æ˜¯ä¸åŒçš„ï¼Œåœ¨æŸå¤±æ—¶é­å—çš„ç—›è‹¦æ„Ÿï¼Œè¦å¤§å¤§è¶…è¿‡è·å¾—æ—¶æ”¶è·çš„å¿«ä¹æ„Ÿã€‚é€šä¿—çš„è¯´å°±æ˜¯ä½ æ¡åˆ°100å—é’±è·å¾—çš„å¿«ä¹ï¼Œä¸èƒ½æŠµæ¶ˆä¸¢å¤±100å—é’±å¸¦æ¥çš„ç—›è‹¦ã€‚ ç¬¬ä¸‰éƒ¨åˆ† å¦‚ä½•åˆ©ç”¨ç³»ç»Ÿ2æ¥é¿å…ç³»ç»Ÿ1å¸¦æ¥çš„åè§å’Œå¤±è¯¯æ”¾æ…¢æ€è€ƒï¼Œä¸»åŠ¨çš„æ¿€æ´»ç³»ç»Ÿ2ï¼Œæ¥å¯¹ç³»ç»Ÿ1çš„ç›´è§‰æ€è€ƒç»“æœè¿›è¡Œç†æ€§æ£€éªŒï¼Œå¼¥è¡¥ç³»ç»Ÿ1çš„ç¼ºé™·ï¼Œå‡å°‘é‚£äº›ç”±ç›´è§‰äº§ç”Ÿçš„åè§å’Œé”™è§‰ã€‚ æ¿€æ´»ç³»ç»Ÿ2æœ‰è‡ªæˆ‘æç¤ºå’Œå¤–éƒ¨æç¤ºä¸¤ç§æ–¹å¼ã€‚å¤–éƒ¨æç¤ºæ›´åŠ æœ‰æ•ˆï¼Œâ€œæ—è§‚è€…æ¸…â€ã€‚ äº‹å‰éªŒå°¸ äº‹å‰éªŒå°¸æ˜¯ä¸€ç§æœ‰æ„è¯†çš„æ¿€æ´»ç³»ç»Ÿ2ã€å¯åŠ¨æ…¢æ€è€ƒçš„é›†ä½“å†³ç­–æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è®©æˆ‘ä»¬åœ¨å¯¹ä¸€ä»¶äº‹æƒ…åšå†³ç­–æ—¶ï¼Œå…ˆå‡è®¾è¿™ä»¶äº‹æƒ…å°†æ¥ä¼šå¤±è´¥ï¼Œç„¶åæ¯ä¸ªäººæŒ‰ç…§è‡ªå·±çš„ç†è§£ï¼Œå†™ä¸‹å¯¼è‡´è¿™ä»¶äº‹å¤±è´¥çš„å¯èƒ½åŸå› ï¼ŒåŒæ—¶æŒ‰é‡è¦æ€§å’Œæ¦‚ç‡è¿›è¡Œæ’åºã€‚è¿™æ ·å¯ä»¥æœªé›¨ç»¸ç¼ªï¼Œé¢„é˜²è¿™äº›å› ç´ ï¼Œæé«˜å·¥ä½œçš„æˆåŠŸç‡ã€‚ é¥®æ°´æœºé—²è°ˆ é¥®æ°´æœºé—²è°ˆæ˜¯è®©å†³ç­–è€…åœ¨å†³ç­–ä¹‹å‰ï¼Œåˆ°æ¯”è¾ƒè½»æ¾çš„ç¯å¢ƒï¼Œæ¯”å¦‚åŠå…¬å®¤çš„é¥®æ°´æœºæ—ï¼Œå¬å¬å¤§å®¶çš„é—²è°ˆå’Œæ‰¹è¯„ã€‚å»é¢å¯¹è¿™äº›æ‰¹è¯„è™½ç„¶ä¸å®¹æ˜“ï¼Œä½†æ˜¯æ¯”èµ·è‡ªå·±é¼“èµ·å‹‡æ°”è‡ªæˆ‘æ‰¹è¯„ï¼Œè¿˜æ˜¯å®¹æ˜“å¾—å¤šã€‚è€Œæ— è®ºæ˜¯å¬åˆ«äººçš„é—²è¨€ç¢è¯­ï¼Œè¿˜æ˜¯è‡ªæˆ‘åæ€è‡ªæˆ‘æ‰¹è¯„ï¼Œç›®çš„éƒ½æ˜¯ä¸€ä¸ªï¼Œè®©æ€è€ƒæ…¢ä¸‹æ¥ï¼Œè®©ç³»ç»Ÿ2è¿è½¬èµ·æ¥ï¼Œå°½é‡é¿å…ç³»ç»Ÿ1çš„ç›´è§‰æ€ç»´å’Œå¿«æ€è€ƒï¼Œå¯èƒ½ç»™ä½ å¸¦æ¥çš„åè§å’Œå¤±è¯¯ã€‚ å‚è€ƒï¼š å¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¡Œä¸ºç»æµå­¦</tag>
        <tag>åè§</tag>
        <tag>å¿«æ€è€ƒ</tag>
        <tag>æ…¢æ€è€ƒ</tag>
        <tag>é”šå®šæ•ˆåº”</tag>
        <tag>å…¸å‹æ€§åå¥½</tag>
        <tag>å…‰ç¯æ•ˆåº”</tag>
        <tag>å¯å¾—æ€§åå¥½</tag>
        <tag>å› æœæ€§åå¥½</tag>
        <tag>æ¡†æ¶æ•ˆåº”</tag>
        <tag>ç¦€èµ‹æ•ˆåº”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-é“¾è¡¨]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E9%93%BE%E8%A1%A8.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Linked List é“¾è¡¨(Linked List) è¿™ä¸ªä¸»é¢˜å·²ç»æœ‰è¾…å¯¼æ–‡ç«  é“¾è¡¨æ˜¯ä¸€ç³»åˆ—æ•°æ®é¡¹ï¼Œå°±åƒæ•°ç»„ä¸€æ ·ã€‚ æ•°ç»„åˆ†é…äº†ä¸€å¤§å—å†…å­˜æ¥å­˜å‚¨å¯¹è±¡ï¼Œè€Œé“¾è¡¨ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯å®Œå…¨ç‹¬ç«‹çš„å¯¹è±¡ï¼Œå¹¶é€šè¿‡é“¾æ¥è¿æ¥ï¼š +--------+ +--------+ +--------+ +--------+ | | | | | | | | | node 0 |---&gt;| node 1 |---&gt;| node 2 |---&gt;| node 3 | | | | | | | | | +--------+ +--------+ +--------+ +--------+ é“¾è¡¨çš„å…ƒç´ ç§°ä¸º èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº† å•é“¾è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå¼•ç”¨ - æˆ–å«åšâ€œæŒ‡é’ˆâ€ - åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ åœ¨ åŒå‘é“¾è¡¨ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ŒèŠ‚ç‚¹è¿˜æœ‰æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼š +--------+ +--------+ +--------+ +--------+ | |---&gt;| |---&gt;| |---&gt;| | | node 0 | | node 1 | | node 2 | | node 3 | | |&lt;---| |&lt;---| |&lt;---| | +--------+ +--------+ +--------+ +--------+ æ‚¨éœ€è¦è·Ÿè¸ªé“¾è¡¨çš„å¼€å§‹ä½ç½®ã€‚ è¿™é€šå¸¸ç”¨ä¸€ä¸ªåä¸º head çš„æŒ‡é’ˆå®Œæˆï¼š +--------+ +--------+ +--------+ +--------+ head ---&gt;| |---&gt;| |---&gt;| |---&gt;| |---&gt; nil | node 0 | | node 1 | | node 2 | | node 3 | nil &lt;---| |&lt;---| |&lt;---| |&lt;---| |&lt;--- tail +--------+ +--------+ +--------+ +--------+ å¼•ç”¨é“¾è¡¨æœ«å°¾ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œç§°ä¸º tailã€‚ æ³¨æ„ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„â€œä¸‹ä¸€ä¸ªâ€æŒ‡é’ˆæ˜¯nilï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„â€œå‰ä¸€ä¸ªâ€æŒ‡é’ˆä¹Ÿæ˜¯nilã€‚ é“¾è¡¨çš„æ€§èƒ½é“¾è¡¨ä¸Šçš„å¤§å¤šæ•°æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(n) ï¼Œå› æ­¤é“¾è¡¨é€šå¸¸æ¯”æ•°ç»„æ…¢ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¹Ÿæ›´åŠ çµæ´» â€”â€” è€Œä¸æ˜¯åƒæ•°ç»„ä¸€æ ·å¤åˆ¶å¤§å—å†…å­˜ï¼Œé“¾è¡¨ä¸Šçš„è®¸å¤šæ“ä½œåªéœ€è¦æ›´æ”¹å‡ ä¸ªæŒ‡é’ˆã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(n)çš„åŸå› æ˜¯ä½ ä¸èƒ½ç®€å•åœ°å†™list[2]æ¥ä»é“¾è¡¨ä¸­è®¿é—®èŠ‚ç‚¹2ã€‚ å¦‚æœä½ å·²ç»æ²¡æœ‰å¯¹è¯¥èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä½ å¿…é¡»ä»headå¼€å§‹ï¼Œç„¶åæŒ‰ç…§nextæŒ‡é’ˆé€ä¸ªè®¿é—®ï¼ˆæˆ–è€…ä»tailå¼€å§‹ï¼Œä½¿ç”¨previousæŒ‡é’ˆï¼Œé€ä¸ªè®¿é—®å¹¶æ‰¾åˆ°æŒ‡å®šèŠ‚ç‚¹ï¼‰ã€‚ ä½†æ˜¯ä¸€æ—¦ä½ æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œæ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œçœŸçš„å¾ˆå¿«ã€‚ åªæ˜¯å¯»æ‰¾èŠ‚ç‚¹æ…¢ã€‚ è¿™æ„å‘³ç€å½“æ‚¨å¤„ç†é“¾è¡¨æ—¶ï¼Œåº”å°½å¯èƒ½åœ¨å‰é¢æ’å…¥æ–°é¡¹ç›®ã€‚ è¿™æ˜¯O(1)æ“ä½œã€‚ å¦‚æœä½ è·Ÿè¸ªtailæŒ‡é’ˆï¼ŒåŒæ ·å¯ä»¥åœ¨åé¢æ’å…¥ã€‚ å•é“¾è¡¨ vs åŒé“¾è¡¨å•é“¾è¡¨ä½¿ç”¨æ¯”åŒé“¾è¡¨ä½¿ç”¨æ›´å°‘çš„å†…å­˜ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å­˜å‚¨æ‰€æœ‰é‚£äº›previousæŒ‡é’ˆã€‚ ä½†æ˜¯å¦‚æœä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä»¥å‰çš„èŠ‚ç‚¹ï¼Œä½ å°±æç ¸äº†ã€‚ æ‚¨å¿…é¡»ä»å¤´éƒ¨å¼€å§‹å¹¶éå†æ•´ä¸ªé“¾è¡¨ï¼Œç›´åˆ°åˆ°è¾¾æ­£ç¡®çš„èŠ‚ç‚¹ã€‚ å¯¹äºè®¸å¤šä»»åŠ¡ï¼ŒåŒå‘é“¾è¡¨ä½¿äº‹æƒ…å˜å¾—æ›´å®¹æ˜“ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨é“¾è¡¨ï¼Ÿä½¿ç”¨é“¾è¡¨çš„å…¸å‹ç¤ºä¾‹æ˜¯é˜Ÿåˆ—ã€‚ ä½¿ç”¨æ•°ç»„ï¼Œä»é˜Ÿåˆ—å‰é¢åˆ é™¤å…ƒç´ å¾ˆæ…¢ï¼Œå› ä¸ºå®ƒéœ€è¦å‘ä¸‹ç§»åŠ¨å†…å­˜ä¸­çš„æ‰€æœ‰å…¶ä»–å…ƒç´ ã€‚ ä½†æ˜¯é€šè¿‡é“¾æ¥é“¾è¡¨ï¼Œåªéœ€å°†headæ›´æ”¹ä¸ºæŒ‡å‘ç¬¬äºŒä¸ªå…ƒç´ å³å¯ã€‚ å¿«å¤šäº†ã€‚ ä½†è¯´å®è¯ï¼Œç°åœ¨ä½ å‡ ä¹ä¸éœ€è¦ç¼–å†™è‡ªå·±çš„é“¾è¡¨ã€‚ ä¸è¿‡ï¼Œäº†è§£å®ƒä»¬çš„å·¥ä½œæ–¹å¼ä»ç„¶å¾ˆæœ‰ç”¨; å°†å¯¹è±¡é“¾æ¥åœ¨ä¸€èµ·çš„åŸåˆ™ä¹Ÿä¸æ ‘å’Œå›¾ä¸€èµ·ä½¿ç”¨ã€‚ ä»£ç æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªæè¿°èŠ‚ç‚¹çš„ç±»å‹ï¼š 123456789public class LinkedListNode&lt;T&gt; &#123; var value: T var next: LinkedListNode? weak var previous: LinkedListNode? public init(value: T) &#123; self.value = value &#125;&#125; è¿™æ˜¯ä¸€ç§æ³›å‹ç±»å‹ï¼Œå› æ­¤Tå¯ä»¥æ˜¯æ‚¨æƒ³è¦å­˜å‚¨åœ¨èŠ‚ç‚¹ä¸­çš„ä»»ä½•ç±»å‹çš„æ•°æ®ã€‚ æˆ‘ä»¬å°†åœ¨åé¢çš„ç¤ºä¾‹ä¸­ä½¿ç”¨å­—ç¬¦ä¸²ã€‚ è¿™è¾¹å®šä¹‰çš„æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªnextå’ŒpreviousæŒ‡é’ˆã€‚ å¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæˆ–å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™è¿™äº›å¯ä»¥æ˜¯nilï¼Œå› æ­¤è¿™äº›å˜é‡å¿…é¡»æ˜¯å¯é€‰é¡¹ã€‚ ï¼ˆåœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘å°†æŒ‡å‡ºå“ªäº›å‡½æ•°éœ€è¦æ›´æ”¹ï¼Œå¦‚æœè¿™åªæ˜¯å•ä¸ªè€Œä¸æ˜¯åŒå‘é“¾è¡¨ã€‚ï¼‰ æ³¨æ„ï¼š ä¸ºé¿å…å¾ªç¯å¼ºå¼•ç”¨ï¼Œæˆ‘ä»¬å£°æ˜previousæŒ‡é’ˆä¸ºå¼±ã€‚ å¦‚æœé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªèŠ‚ç‚¹Aåé¢è·Ÿç€èŠ‚ç‚¹Bï¼Œé‚£ä¹ˆAæŒ‡å‘Bï¼Œè€ŒBæŒ‡å‘Aã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå³ä½¿åœ¨åˆ é™¤èŠ‚ç‚¹åï¼Œæ­¤å¾ªç¯å¼ºå¼•ç”¨ä¹Ÿå¯èƒ½å¯¼è‡´èŠ‚ç‚¹ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚ æˆ‘ä»¬ä¸å¸Œæœ›è¿™æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆweakæ¥æ‰“ç ´å¾ªç¯ã€‚ è®©æˆ‘ä»¬å¼€å§‹æ„å»ºLinkedListã€‚ è¿™æ˜¯ç¬¬ä¸€ç‚¹ï¼š 12345678910111213public class LinkedList&lt;T&gt; &#123; public typealias Node = LinkedListNode&lt;T&gt; private var head: Node? public var isEmpty: Bool &#123; return head == nil &#125; public var first: Node? &#123; return head &#125;&#125; ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ç±»åå°½å¯èƒ½å…·æœ‰æè¿°æ€§ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¯æ¬¡è¦ä½¿ç”¨ç±»æ—¶éƒ½æ‰“é•¿åç§°ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨LinkedListä¸­ç»™LinkedListNode&lt;T&gt;å®šä¹‰äº†ä¸€ä¸ªçŸ­çš„åˆ«åNodeã€‚ è¿™ä¸ªé“¾è¡¨åªæœ‰ä¸€ä¸ªheadæŒ‡é’ˆï¼Œæ²¡æœ‰å°¾éƒ¨ã€‚ æ·»åŠ å°¾æŒ‡é’ˆç•™ç»™è¯»è€…ç»ƒä¹ ã€‚ ï¼ˆå¦‚æœæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå°¾æŒ‡é’ˆï¼Œæˆ‘ä¼šæŒ‡å‡ºå“ªäº›å‡½æ•°ä¼šæœ‰æ‰€ä¸åŒã€‚ï¼‰ å¦‚æœheadä¸ºnilï¼Œåˆ™é“¾è¡¨ä¸ºç©ºã€‚ å› ä¸ºheadæ˜¯ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œæ‰€ä»¥æˆ‘æ·»åŠ äº†å±æ€§firstæ¥è¿”å›å¯¹é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚ åœ¨playgroundä¸­æµ‹è¯•ï¼š 123let list = LinkedList&lt;String&gt;()list.isEmpty // truelist.first // nil æˆ‘ä»¬è¿˜æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œä¸ºæ‚¨æä¾›é“¾è¡¨ä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚ è¿™æ˜¯å°†å¼€å§‹å˜å¾—æœ‰è¶£äº†ï¼š 12345678910public var last: Node? &#123; guard var node = head else &#123; return nil &#125; while let next = node.next &#123; node = next &#125; return node&#125; å¦‚æœä½ æ˜¯Swiftçš„æ–°æ‰‹ï¼Œä½ å¯èƒ½å·²ç»çœ‹è¿‡if letä½†ä¹Ÿè®¸ä¸æ˜¯if varã€‚ å®ƒåšäº†åŒæ ·çš„äº‹æƒ… - å®ƒè§£å¼€headå¯é€‰é¡¹å¹¶å°†ç»“æœæ”¾å…¥ä¸€ä¸ªåä¸ºnodeçš„æ–°å±€éƒ¨å˜é‡ä¸­ã€‚ åŒºåˆ«åœ¨äºnodeä¸æ˜¯å¸¸é‡è€Œæ˜¯å½“å‰è¿è¡Œç¯å¢ƒä¸‹çš„å˜é‡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯å†…æ›´æ”¹å®ƒã€‚ å¾ªç¯ä¹Ÿåšäº†ä¸€äº›Swifté­”æ³•ã€‚ while let next = node.nextä¿æŒå¾ªç¯ï¼Œç›´åˆ°node.nextä¸ºnilã€‚ æ‚¨å¯ä»¥å†™å¦‚ä¸‹ï¼š 1234var node: Node? = headwhile node != nil &amp;&amp; node!.next != nil &#123; node = node!.next&#125; ä½†è¿™å¯¹æˆ‘æ¥è¯´å¹¶ä¸æ˜¯å¾ˆå¼€å¿ƒã€‚ æˆ‘ä»¬å¯ä»¥å¾ˆå¥½åœ°åˆ©ç”¨Swiftå¯¹è§£åŒ…é€‰é¡¹çš„å†…ç½®æ”¯æŒã€‚ ä½ ä¼šåœ¨éšåçš„ä»£ç ä¸­çœ‹åˆ°ä¸€å †è¿™æ ·çš„å¾ªç¯ã€‚ æ³¨æ„ï¼š å¦‚æœæˆ‘ä»¬ä¿ç•™ä¸€ä¸ªå°¾æŒ‡é’ˆï¼Œlaståªä¼šåšreturn tailã€‚ ä½†æˆ‘ä»¬æ²¡æœ‰ï¼Œæ‰€ä»¥å®ƒå¿…é¡»ä»å¤´åˆ°å°¾é€æ­¥å®Œæˆæ•´ä¸ªé“¾è¡¨ã€‚è¿™æ˜¯ä¸€é¡¹æ˜‚è´µçš„æ“ä½œï¼Œç‰¹åˆ«æ˜¯å¦‚æœé“¾è¡¨å¾ˆé•¿çš„è¯ã€‚ å½“ç„¶ï¼Œlaståªè¿”å›nilï¼Œå› ä¸ºé“¾è¡¨ä¸­æ²¡æœ‰ä»»ä½•èŠ‚ç‚¹ã€‚ è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ï¼š 123456789public func append(value: T) &#123; let newNode = Node(value: value) if let lastNode = last &#123; newNode.previous = lastNode lastNode.next = newNode &#125; else &#123; head = newNode &#125;&#125; append()æ–¹æ³•é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„Nodeå¯¹è±¡ï¼Œç„¶åè¯·æ±‚æˆ‘ä»¬åˆšåˆšæ·»åŠ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹lastå±æ€§ã€‚ å¦‚æœæ²¡æœ‰è¿™æ ·çš„èŠ‚ç‚¹ï¼Œé“¾è¡¨ä»ç„¶æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ä½¿headæŒ‡å‘è¿™ä¸ªæ–°çš„Nodeã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç¡®å®æ‰¾åˆ°äº†ä¸€ä¸ªæœ‰æ•ˆçš„æœ€åèŠ‚ç‚¹å¯¹è±¡ï¼Œæˆ‘ä»¬è¿æ¥nextå’ŒpreviousæŒ‡é’ˆå°†è¿™ä¸ªæ–°èŠ‚ç‚¹é“¾æ¥åˆ°é“¾ä¸­ã€‚è®¸å¤šé“¾è¡¨ä»£ç æ¶‰åŠè¿™ç§nextå’ŒpreviousæŒ‡é’ˆæ“ä½œã€‚ åœ¨playgroundä¸­æµ‹è¯•ï¼š 1234list.append("Hello")list.isEmpty // falselist.first!.value // "Hello"list.last!.value // "Hello" The list looks like this:è¿™ä¸ªé“¾è¡¨ç›®å‰çœ‹ä¸Šå»æ˜¯ï¼š +---------+ head ---&gt;| |---&gt; nil | &quot;Hello&quot; | nil &lt;---| | +---------+ å¢åŠ ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼š 123list.append("World")list.first!.value // "Hello"list.last!.value // "World" ç°åœ¨é“¾è¡¨çœ‹ä¸Šå»æ˜¯ï¼š +---------+ +---------+ head ---&gt;| |---&gt;| |---&gt; nil | &quot;Hello&quot; | | &quot;World&quot; | nil &lt;---| |&lt;---| | +---------+ +---------+ æ‚¨å¯ä»¥é€šè¿‡æŸ¥çœ‹nextå’ŒpreviousæŒ‡é’ˆæ¥è‡ªè¡ŒéªŒè¯ï¼š 1234list.first!.previous // nillist.first!.next!.value // "World"list.last!.previous!.value // "Hello"list.last!.next // nil è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—é“¾è¡¨ä¸­æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚ è¿™ä¸æˆ‘ä»¬å·²ç»å®Œæˆçš„å·¥ä½œéå¸¸ç›¸ä¼¼ï¼š 123456789101112public var count: Int &#123; guard var node = head else &#123; return 0 &#125; var count = 1 while let next = node.next &#123; node = next count += 1 &#125; return count&#125; å®ƒä»¥ç›¸åŒçš„æ–¹å¼å¾ªç¯éå†é“¾è¡¨ï¼Œä½†è¿™æ¬¡å¢åŠ äº†ä¸€ä¸ªè®¡æ•°å™¨ã€‚ æ³¨æ„ï¼š åŠ å¿«è·å¾—countçš„é€Ÿåº¦ï¼ˆä»O(n)åˆ°O(1)ï¼‰çš„ä¸€ç§æ–¹æ³•æ˜¯è·Ÿè¸ªä¸€ä¸ªè®¡ç®—é“¾è¡¨ä¸­æœ‰å¤šå°‘èŠ‚ç‚¹çš„å˜é‡ã€‚ æ— è®ºä½•æ—¶æ·»åŠ æˆ–åˆ é™¤èŠ‚ç‚¹ï¼Œéƒ½ä¼šæ›´æ–°æ­¤å˜é‡ã€‚ å¦‚æœæˆ‘ä»¬æƒ³åœ¨é“¾è¡¨ä¸­çš„ç‰¹å®šç´¢å¼•å¤„æ‰¾åˆ°èŠ‚ç‚¹ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿä½¿ç”¨æ•°ç»„æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªO(1)æ“ä½œarray[index]ã€‚è¿™æ›´å¤šåœ°æ¶‰åŠé“¾æ¥é“¾è¡¨ï¼Œä½†ä»£ç éµå¾ªç±»ä¼¼çš„æ¨¡å¼ï¼š 1234567891011121314public func node(atIndex index: Int) -&gt; Node &#123; if index == 0 &#123; return head! &#125; else &#123; var node = head!.next for _ in 1..&lt;index &#123; node = node?.next if node == nil &#123; //(*1) break &#125; &#125; return node! &#125;&#125; é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥ç»™å®šçš„ç´¢å¼•æ˜¯å¦ä¸º0ã€‚ å› ä¸ºå¦‚æœå®ƒæ˜¯0ï¼Œå®ƒä¼šæŒ‰åŸæ ·è¿”å›headã€‚ä½†æ˜¯ï¼Œå½“ç»™å®šç´¢å¼•å¤§äº0æ—¶ï¼Œå®ƒä»å¤´å¼€å§‹ï¼Œç„¶åç»§ç»­è¿½è¸ªnode.nextæŒ‡é’ˆé€æ­¥æ‰§è¡Œé“¾è¡¨ã€‚ä¸æ­¤æ—¶è®¡æ•°æ–¹æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºå­˜åœ¨ä¸¤ç§ç»ˆæ­¢æ¡ä»¶ã€‚ä¸€ç§æ˜¯å½“forå¾ªç¯è¯­å¥åˆ°è¾¾ç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè·å–ç»™å®šç´¢å¼•çš„èŠ‚ç‚¹ã€‚ç¬¬äºŒä¸ªæ˜¯for-loopè¯­å¥ä¸­çš„node.nextè¿”å›nilå¹¶å¯¼è‡´breakã€‚ï¼ˆ*1ï¼‰è¿™æ„å‘³ç€ç»™å®šçš„ç´¢å¼•è¶…å‡ºèŒƒå›´å¹¶å¯¼è‡´å´©æºƒã€‚ æµ‹è¯•ä¸€ä¸‹ï¼š 123list.nodeAt(0)!.value // "Hello"list.nodeAt(1)!.value // "World"// list.nodeAt(2) // crash ä¸ºäº†å¥½ç©ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°subscriptï¼ˆä¸‹æ ‡ï¼‰æ–¹æ³•ï¼š 1234public subscript(index: Int) -&gt; T &#123; let node = node(atIndex: index) return node.value&#125; ç°åœ¨å¯ä»¥ç¼–å†™å¦‚ä¸‹å†…å®¹ï¼š 123list[0] // "Hello"list[1] // "World"list[2] // crash! å®ƒåœ¨list [2]ä¸Šå´©æºƒï¼Œå› ä¸ºè¯¥ç´¢å¼•ä¸Šæ²¡æœ‰èŠ‚ç‚¹ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†å°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾çš„ä»£ç ï¼Œä½†è¿™å¾ˆæ…¢ï¼Œå› ä¸ºæ‚¨éœ€è¦å…ˆæ‰¾åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚ï¼ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨å°¾æŒ‡é’ˆä¼šå¾ˆå¿«ã€‚ï¼‰å› æ­¤ï¼Œå¦‚æœé“¾è¡¨ä¸­é¡¹ç›®çš„é¡ºåºæ— å…³ç´§è¦ï¼Œåˆ™åº”åœ¨é“¾è¡¨çš„å‰é¢æ‰§è¡Œæ’å…¥æ“ä½œã€‚ è¿™æ€»æ˜¯ä¸€ä¸ªO(1)æ“ä½œã€‚ è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå…è®¸æ‚¨åœ¨é“¾è¡¨ä¸­çš„ä»»ä½•ç´¢å¼•å¤„æ’å…¥æ–°èŠ‚ç‚¹ã€‚ 12345678910111213141516public func insert(_ node: Node, at index: Int) &#123; let newNode = node if index == 0 &#123; newNode.next = head head?.previous = newNode head = newNode &#125; else &#123; let prev = self.node(at: index-1) let next = prev.next newNode.previous = prev newNode.next = prev.next prev.next = newNode next?.previous = newNode &#125;&#125; ä¸node(at:)æ–¹æ³•ä¸€æ ·ï¼Œinsert(_:at:)æ–¹æ³•ä¹Ÿä¼šæ ¹æ®ç´¢å¼•å‚æ•°æ˜¯å¦ä¸º0è¿›è¡Œåˆ¤æ–­ã€‚é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹å‰ä¸€ç§æƒ…å†µï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯index == 0ï¼Œæ’å…¥æœ€å‰é¢çš„æƒ…å†µï¼‰ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹é“¾è¡¨å’Œæ–°èŠ‚ç‚¹ï¼ˆCï¼‰ã€‚ +---------+ +---------+ head ---&gt;| |----&gt;| |-----//-----&gt; | A | | B | nil &lt;---| |&lt;----| |&lt;----//------ +---------+ +---------+ [0] [1] +---------+ new ---&gt;| |----&gt; nil | C | | | +---------+ ç°åœ¨å°†æ–°èŠ‚ç‚¹æ”¾åœ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼š new.next = head head.previous = new +---------+ +---------+ +---------+ new ---&gt;| |--&gt; head --&gt;| |----&gt;| |-----//-----&gt; | C | | A | | B | | |&lt;-----------| |&lt;----| |&lt;----//------ +---------+ +---------+ +---------+ æœ€åï¼Œç”¨æ–°èŠ‚ç‚¹ä½œä¸ºå¤´éƒ¨ã€‚ head = new +---------+ +---------+ +---------+ head ---&gt;| |---&gt;| |----&gt;| |-----//-----&gt; | C | | A | | B | nil &lt;---| |&lt;---| |&lt;----| |&lt;----//------ +---------+ +---------+ +---------+ [0] [1] [2] ä½†æ˜¯ï¼Œå½“ç»™å®šç´¢å¼•å¤§äº0æ—¶ï¼Œå¿…é¡»è·å–èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªç´¢å¼•å¹¶åœ¨å®ƒä»¬ä¹‹é—´æ’å…¥ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨node(at:)è·å–ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š +---------+ +---------+ +---------+ head ---&gt;| |---//---&gt;| |----&gt;| |---- | | | A | | B | nil &lt;---| |---//&lt;---| |&lt;----| |&lt;--- +---------+ +---------+ +---------+ [0] [index-1] [index] ^ ^ | | prev next prev = node(at: index-1) next = prev.next ç°åœ¨åœ¨prevå’Œnextä¹‹é—´æ’å…¥æ–°èŠ‚ç‚¹ã€‚ new.prev = prev; prev.next = new // connect prev and new. new.next = next; next.prev = new // connect new and next. +---------+ +---------+ +---------+ +---------+ head ---&gt;| |---//---&gt;| |----&gt;| |----&gt;| | | | | A | | C | | B | nil &lt;---| |---//&lt;---| |&lt;----| |&lt;----| | +---------+ +---------+ +---------+ +---------+ [0] [index-1] [index] [index+1] ^ ^ ^ | | | prev new next æµ‹è¯•ï¼š 1234list.insert(LinedListNode(value: "Swift"), at: 1)list[0] // "Hello"list[1] // "Swift"list[2] // "World è¿˜å¯ä»¥å°è¯•åœ¨é“¾è¡¨çš„å‰é¢å’Œåé¢æ·»åŠ æ–°èŠ‚ç‚¹ï¼Œä»¥éªŒè¯å…¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ æ³¨æ„ï¼š node(at:) å’Œ insert(_:at:)å‡½æ•°ä¹Ÿå¯ä»¥ä¸å•é“¾è¡¨ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä¾èµ–äºèŠ‚ç‚¹çš„previousæŒ‡é’ˆæ¥æŸ¥æ‰¾å‰ä¸€ä¸ªå…ƒç´ ã€‚ æˆ‘ä»¬è¿˜éœ€è¦ä»€ä¹ˆï¼Ÿ å½“ç„¶è¦åˆ é™¤èŠ‚ç‚¹ï¼ é¦–å…ˆæˆ‘ä»¬è¦åšremoveAll()ï¼Œè¿™å¾ˆç®€å•ï¼š 123public func removeAll() &#123; head = nil&#125; å¦‚æœä½ æœ‰ä¸€ä¸ªå°¾æŒ‡é’ˆï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ä¸ºnilã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€äº›å¯ä»¥åˆ é™¤å•ä¸ªèŠ‚ç‚¹çš„å‡½æ•°ã€‚ å¦‚æœä½ å·²ç»æœ‰äº†å¯¹èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œé‚£ä¹ˆä½¿ç”¨remove()æ˜¯æœ€ä¼˜çš„ï¼Œå› ä¸ºä½ ä¸éœ€è¦éå†é“¾è¡¨æ¥é¦–å…ˆæ‰¾åˆ°èŠ‚ç‚¹ã€‚ 123456789101112131415public func remove(node: Node) -&gt; T &#123; let prev = node.previous let next = node.next if let prev = prev &#123; prev.next = next &#125; else &#123; head = next &#125; next?.previous = prev node.previous = nil node.next = nil return node.value&#125; å½“æˆ‘ä»¬å°†æ­¤èŠ‚ç‚¹ä»é“¾è¡¨ä¸­å–å‡ºæ—¶ï¼Œæˆ‘ä»¬å°†æ–­å¼€æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾æ¥ã€‚ è¦ä½¿é“¾è¡¨å†æ¬¡å®Œæ•´ï¼Œæˆ‘ä»¬å¿…é¡»å°†å‰ä¸€ä¸ªèŠ‚ç‚¹é“¾æ¥åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ä¸è¦å¿˜è®°headæŒ‡é’ˆï¼ å¦‚æœè¿™æ˜¯é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™éœ€è¦æ›´æ–°headä»¥æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ï¼ˆåŒæ ·ï¼Œå½“ä½ æœ‰ä¸€ä¸ªå°¾æŒ‡é’ˆï¼Œè¿™æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼‰ã€‚ å½“ç„¶ï¼Œå¦‚æœæ²¡æœ‰å‰©ä½™çš„èŠ‚ç‚¹ï¼Œheadåº”è¯¥å˜ä¸ºnilã€‚ å°è¯•ä¸€ä¸‹ï¼š 1234list.remove(node: list.first!) // "Hello"list.count // 2list[0] // "Swift"list[1] // "World" å¦‚æœä½ æ²¡æœ‰å¯¹èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨removeLast()æˆ– removeAt()ï¼š 123456789public func removeLast() -&gt; T &#123; assert(!isEmpty) return remove(node: last!)&#125;public func remove(at index: Int) -&gt; T &#123; let node = self.node(at: index) return remove(node: node)&#125; æ‰€æœ‰è¿™äº›åˆ é™¤å‡½æ•°éƒ½è¿”å›å·²åˆ é™¤å…ƒç´ çš„å€¼ã€‚ 123456list.removeLast() // "World"list.count // 1list[0] // "Swift"list.remove(at: 0) // "Swift"list.count // 0 æ³¨æ„ï¼š å¯¹äºå•é“¾è¡¨ï¼Œåˆ é™¤æœ€åä¸€ä¸ªèŠ‚ç‚¹ç¨å¾®å¤æ‚ä¸€äº›ã€‚ æ‚¨ä¸èƒ½åªä½¿ç”¨lastæ¥æŸ¥æ‰¾é“¾è¡¨çš„æœ«å°¾ï¼Œå› ä¸ºæ‚¨è¿˜éœ€è¦å¯¹å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚ ç›¸åï¼Œä½¿ç”¨nodesBeforeAndAfter()è¾…åŠ©æ–¹æ³•ã€‚ å¦‚æœé“¾è¡¨æœ‰ä¸€ä¸ªå°¾æŒ‡é’ˆï¼Œé‚£ä¹ˆremoveLast()éå¸¸å¿«ï¼Œä½†ä½ éœ€è¦è®°ä½è®©tailæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ æˆ‘ä»¬çš„LinkedListç±»è¿˜å¯ä»¥åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚ ä¸€äº›å¾ˆæ–¹ä¾¿å¯è¯»çš„è°ƒè¯•è¾“å‡ºï¼š 123456789101112extension LinkedList: CustomStringConvertible &#123; public var description: String &#123; var s = "[" var node = head while node != nil &#123; s += "\(node!.value)" node = node!.next if node != nil &#123; s += ", " &#125; &#125; return s + "]" &#125;&#125; è¿™å°†å¦‚ä¸‹å½¢å¼æ‰“å°é“¾è¡¨ï¼š [Hello, Swift, World] å¦‚ä½•åè½¬é“¾è¡¨ï¼Œä½¿å¤´éƒ¨æˆä¸ºå°¾éƒ¨ï¼Œåä¹‹äº¦ç„¶ï¼Ÿ æœ‰ä¸€ä¸ªéå¸¸å¿«é€Ÿçš„ç®—æ³•ï¼š 123456789public func reverse() &#123; var node = head tail = node // If you had a tail pointer while let currentNode = node &#123; node = currentNode.next swap(&amp;currentNode.next, &amp;currentNode.previous) head = currentNode &#125;&#125; è¿™å¾ªç¯éå†æ•´ä¸ªé“¾è¡¨ï¼Œå¹¶ç®€å•åœ°äº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„nextå’ŒpreviousæŒ‡é’ˆã€‚ å®ƒè¿˜å°†headæŒ‡é’ˆç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´ ã€‚ ï¼ˆå¦‚æœä½ æœ‰ä¸€ä¸ªå°¾éƒ¨æŒ‡é’ˆï¼Œä½ è¿˜éœ€è¦æ›´æ–°å®ƒã€‚ï¼‰ä½ æœ€ç»ˆå¾—åˆ°è¿™æ ·çš„ä¸œè¥¿ï¼š +--------+ +--------+ +--------+ +--------+ tail ---&gt;| |&lt;---| |&lt;---| |&lt;---| |---&gt; nil | node 0 | | node 1 | | node 2 | | node 3 | nil &lt;---| |---&gt;| |---&gt;| |---&gt;| |&lt;--- head +--------+ +--------+ +--------+ +--------+ æ•°ç»„æœ‰map()å’Œfilter()å‡½æ•°ï¼Œé‚£ä¹ˆæ²¡æœ‰ç†ç”±è¯´é“¾æ¥é“¾è¡¨æ²¡æœ‰ã€‚ 123456789public func map&lt;U&gt;(transform: (T) -&gt; U) -&gt; LinkedList&lt;U&gt; &#123; let result = LinkedList&lt;U&gt;() var node = head while node != nil &#123; result.append(transform(node!.value)) node = node!.next &#125; return result&#125; ä½¿ç”¨å¦‚ä¸‹ï¼šï¼ˆè¯‘æ³¨ï¼šåˆ›å»ºä¸€ä¸ªæ–°é“¾è¡¨ï¼Œç”¨æ¥å­˜æ”¾ä¹‹å‰é“¾è¡¨ä¸­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼‰ 1234567let list = LinkedList&lt;String&gt;()list.append("Hello")list.append("Swifty")list.append("Universe")let m = list.map &#123; s in s.count &#125;m // [5, 6, 8] filter()å‡½æ•°ï¼š 1234567891011public func filter(predicate: (T) -&gt; Bool) -&gt; LinkedList&lt;T&gt; &#123; let result = LinkedList&lt;T&gt;() var node = head while node != nil &#123; if predicate(node!.value) &#123; result.append(node!.value) &#125; node = node!.next &#125; return result&#125; ä¸€ä¸ªç®€å•çš„ä½¿ç”¨ä¾‹å­ï¼šï¼ˆè¯‘æ³¨ï¼šç­›é€‰å‡ºé“¾è¡¨ä¸­å­—ç¬¦ä¸²é•¿åº¦å¤§äº5çš„å…ƒç´ å¹¶ç»„æˆæ–°çš„é“¾è¡¨ï¼‰ 12let f = list.filter &#123; s in s.count &gt; 5 &#125;f // [Universe, Swifty] ä¸ºè¯»è€…ç»ƒä¹ ï¼šmap() å’Œfilter() çš„è¿™äº›å®ç°ä¸æ˜¯å¾ˆå¿«ï¼Œå› ä¸ºå®ƒä»¬å°†æ–°èŠ‚ç‚¹è¿½åŠ åˆ°æ–°é“¾è¡¨çš„æœ«å°¾ã€‚ å›æƒ³ä¸€ä¸‹ï¼Œappendæ˜¯O(n)ï¼Œå› ä¸ºå®ƒéœ€è¦æ‰«ææ•´ä¸ªé“¾è¡¨ä»¥æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚ ä½ èƒ½åŠ å¿«é€Ÿåº¦å—ï¼Ÿ ï¼ˆæç¤ºï¼šè·Ÿè¸ªæ‚¨æ·»åŠ çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚ï¼‰ å¦ä¸€ç§æ–¹æ³•åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨çœ‹åˆ°çš„LinkedListç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯ç±»ï¼Œå…·æœ‰å¼•ç”¨è¯­ä¹‰ã€‚ è¿™æ²¡æœ‰ä»€ä¹ˆä¸å¯¹ï¼Œä½†è¿™ç¡®å®ä½¿å®ƒä»¬æ¯”Swiftçš„å…¶ä»–é›†åˆï¼ˆä¾‹å¦‚Arrayå’ŒDictionaryï¼‰æ›´é‡è¦ã€‚(è¯‘æ³¨ï¼š è¿™é‡Œåº”è¯¥æ˜¯æƒ³è¡¨è¾¾ï¼ŒArrayå’ŒDictionaryéƒ½æ˜¯ç»“æ„ä½“ï¼Œé“¾è¡¨ä¹Ÿå¯ä»¥ä½¿ç”¨ç»“æ„ä½“å’Œæšä¸¾å®ç°) å¯ä»¥ä½¿ç”¨æšä¸¾å®ç°å…·æœ‰å€¼è¯­ä¹‰çš„é“¾è¡¨ã€‚ è¿™çœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·ï¼š 1234enum ListNode&lt;T&gt; &#123; indirect case node(T, next: ListNode&lt;T&gt;) case end&#125; ä¸åŸºäºç±»çš„ç‰ˆæœ¬çš„æœ€å¤§åŒºåˆ«åœ¨äºï¼Œæ‚¨å¯¹æ­¤é“¾è¡¨æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½å°†å¯¼è‡´åˆ›å»ºæ–°å‰¯æœ¬ã€‚ è¿™æ˜¯å¦æ˜¯æ‚¨æƒ³è¦çš„å–å†³äºåº”ç”¨ç¨‹åºã€‚ [å¦‚æœæœ‰éœ€æ±‚ï¼Œæˆ‘å¯èƒ½ä¼šæ›´è¯¦ç»†åœ°å¡«å†™æ­¤éƒ¨åˆ†ã€‚] ç¬¦åˆCollectionåè®®ç¬¦åˆSequenceåè®®çš„ç±»å‹ï¼Œå…¶å…ƒç´ å¯ä»¥å¤šæ¬¡éå†ã€‚éç ´åæ€§åœ°é€šè¿‡ç´¢å¼•çš„ä¸‹æ ‡è®¿é—®ï¼Œåº”è¯¥ç¬¦åˆSwiftæ ‡å‡†åº“ä¸­å®šä¹‰çš„Collectionåè®®ã€‚ è¿™æ ·åšå¯ä»¥è®¿é—®å¤„ç†æ•°æ®é›†åˆæ—¶å¸¸è§çš„å¤§é‡å±æ€§å’Œæ“ä½œã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å…è®¸è‡ªå®šä¹‰ç±»å‹éµå¾ªSwiftå¼€å‘äººå‘˜å¸¸ç”¨çš„æ¨¡å¼ã€‚ ä¸ºäº†ç¬¦åˆè¿™ä¸ªåè®®ï¼Œç±»éœ€è¦æä¾›ï¼š 1 startIndexå’ŒendIndexå±æ€§ã€‚ 2 å¯¹å…ƒç´ çš„ä¸‹æ ‡è®¿é—®ä¸ºO(1)ã€‚ éœ€è¦è®°å½•è¿™ç§æ—¶é—´å¤æ‚æ€§çš„å˜åŒ–ã€‚ 1234567891011121314151617181920/// The position of the first element in a nonempty collection.public var startIndex: Index &#123; get &#123; return LinkedListIndex&lt;T&gt;(node: head, tag: 0) &#125;&#125; /// The collection's "past the end" position---that is, the position one/// greater than the last valid subscript argument./// - Complexity: O(n), where n is the number of elements in the list./// This diverts from the protocol's expectation.public var endIndex: Index &#123; get &#123; if let h = self.head &#123; return LinkedListIndex&lt;T&gt;(node: h, tag: count) &#125; else &#123; return LinkedListIndex&lt;T&gt;(node: nil, tag: startIndex.tag) &#125; &#125;&#125; 12345public subscript(position: Index) -&gt; T &#123; get &#123; return position.node!.value &#125;&#125; å› ä¸ºé›†åˆè´Ÿè´£ç®¡ç†è‡ªå·±çš„ç´¢å¼•ï¼Œä¸‹é¢çš„å®ç°ä¿ç•™å¯¹é“¾è¡¨ä¸­èŠ‚ç‚¹çš„å¼•ç”¨ã€‚ ç´¢å¼•ä¸­çš„æ ‡è®°å±æ€§è¡¨ç¤ºé“¾è¡¨ä¸­èŠ‚ç‚¹çš„ä½ç½®ã€‚ 1234567891011121314/// Custom index type that contains a reference to the node at index 'tag'public struct LinkedListIndex&lt;T&gt; : Comparable&#123; fileprivate let node: LinkedList&lt;T&gt;.LinkedListNode&lt;T&gt;? fileprivate let tag: Int public static func==&lt;T&gt;(lhs: LinkedListIndex&lt;T&gt;, rhs: LinkedListIndex&lt;T&gt;) -&gt; Bool &#123; return (lhs.tag == rhs.tag) &#125; public static func&lt; &lt;T&gt;(lhs: LinkedListIndex&lt;T&gt;, rhs: LinkedListIndex&lt;T&gt;) -&gt; Bool &#123; return (lhs.tag &lt; rhs.tag) &#125;&#125; æœ€åï¼Œé“¾æ¥èƒ½å¤Ÿé€šè¿‡ä»¥ä¸‹å®ç°è®¡ç®—ç»™å®šçš„ç´¢å¼•ä¹‹åçš„ç´¢å¼•ã€‚ 123public func index(after idx: Index) -&gt; Index &#123; return LinkedListIndex&lt;T&gt;(node: idx.node?.next, tag: idx.tag+1)&#125; è¦æ³¨æ„çš„ä¸€äº›äº‹æƒ…é“¾æ¥é“¾è¡¨æ˜¯çµæ´»çš„ï¼Œä½†è®¸å¤šæ“ä½œæ˜¯O(n)ã€‚ åœ¨é“¾è¡¨ä¸Šæ‰§è¡Œæ“ä½œæ—¶ï¼Œæ‚¨æ€»æ˜¯éœ€è¦å°å¿ƒæ›´æ–°ç›¸å…³çš„nextå’ŒpreviousæŒ‡é’ˆï¼Œè¿˜å¯èƒ½æ›´æ–°headå’ŒtailæŒ‡é’ˆã€‚ å¦‚æœä½ æç ¸äº†ï¼Œä½ çš„é“¾è¡¨å°†ä¸å†æ­£ç¡®ï¼Œä½ çš„ç¨‹åºå¯èƒ½ä¼šåœ¨æŸäº›æ—¶å€™å´©æºƒã€‚ å°å¿ƒï¼ å¤„ç†é“¾è¡¨æ—¶ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨é€’å½’ï¼šå¤„ç†ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶ååœ¨é“¾è¡¨çš„å…¶ä½™éƒ¨åˆ†å†æ¬¡é€’å½’è°ƒç”¨è¯¥å‡½æ•°ã€‚ å½“æ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ æ—¶ä½ å°±å®Œæˆäº†ã€‚ è¿™å°±æ˜¯é“¾è¡¨æ˜¯LISPç­‰å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€çš„åŸå› ã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-tutorial-16ï¼šTravelVlogsâ€”â€”ä½¿ç”¨AVKitå’ŒAVFoundationåˆ›å»ºè§†é¢‘åº”ç”¨]]></title>
    <url>%2F2018%2Fios-tutorial-16-TravelVlogs.html</url>
    <content type="text"><![CDATA[TravelVlogsé¡¹ç›®æ˜¯ä»‹ç»å¦‚ä½•ä½¿ç”¨AVKitå’ŒAVFoundationæ¡†æ¶æ„å»ºç®€å•çš„è§†é¢‘æµåº”ç”¨ã€‚ é¢„è§ˆå›¾ ä»£ç TravelVlogs æ³¨æ„ç‚¹AVKit ä»‹ç»ä¸€ä¸ªæœ‰ç”¨çš„å¼€å‘æ™ºæ…§ï¼šå§‹ç»ˆæ”¯æŒæ‚¨å¯ç”¨çš„æœ€é«˜æŠ½è±¡çº§åˆ«ã€‚ ç„¶åï¼Œå½“æ‚¨ä½¿ç”¨çš„ä¸å†é€‚åˆæ‚¨çš„éœ€æ±‚æ—¶ï¼Œæ‚¨å¯ä»¥é™ä½åˆ°è¾ƒä½çš„æ°´å¹³ã€‚ æ ¹æ®è¿™ä¸€å»ºè®®ï¼Œæ‚¨å°†åœ¨æœ€é«˜çº§åˆ«çš„è§†é¢‘æ¡†æ¶ä¸­å¼€å§‹æ‚¨çš„æ—…ç¨‹ã€‚ AVKitä½äºAVFoundationä¹‹ä¸Šï¼Œæä¾›ä¸è§†é¢‘äº¤äº’æ‰€éœ€çš„æ‰€æœ‰UIã€‚ AVFoundationä»‹ç»AVFoundationæ˜¯ä¸€ä¸ªå·¨å¤§çš„ç±»ï¼Œè¿™ä¸ªé¡¹ç›®ç”¨åˆ°ä¸€äº›ç±»ï¼š AVPlayerLayerï¼š è¿™ä¸ªç‰¹æ®Šçš„CALayerå­ç±»å¯ä»¥æ˜¾ç¤ºç»™å®šAVPlayerå¯¹è±¡çš„å›æ”¾ã€‚ AVAssetï¼šè¿™äº›æ˜¯åª’ä½“èµ„äº§çš„é™æ€è¡¨ç¤ºã€‚ èµ„äº§å¯¹è±¡åŒ…å«æŒç»­æ—¶é—´å’Œåˆ›å»ºæ—¥æœŸç­‰ä¿¡æ¯ã€‚ AVPlayerItemï¼šAVAssetçš„åŠ¨æ€å¯¹åº”ç‰©ã€‚ æ­¤å¯¹è±¡è¡¨ç¤ºå¯æ’­æ”¾è§†é¢‘çš„å½“å‰çŠ¶æ€ã€‚ // è¿™æ˜¯æ‚¨éœ€è¦ä¸ºAVPlayeræä¾›çš„ä¸œè¥¿ã€‚ æœ¬åœ°è§†é¢‘æ’­æ”¾AVPlayerï¼ˆæ’­æ”¾å™¨å¯¹è±¡ï¼‰æ˜¯iOSä¸­æ’­å‘è§†é¢‘çš„æ ¸å¿ƒã€‚å®ƒå¯ä»¥å¯åŠ¨å’Œåœæ­¢è§†é¢‘ï¼Œæ›´æ”¹æ’­æ”¾é€Ÿç‡ç”šè‡³å¯ä»¥ä¸Šä¸‹è°ƒèŠ‚éŸ³é‡ã€‚ æ‚¨å¯ä»¥å°†æ’­æ”¾å™¨è§†ä¸ºèƒ½å¤Ÿä¸€æ¬¡ç®¡ç†ä¸€ä¸ªåª’ä½“èµ„æºæ’­æ”¾çš„æ§åˆ¶å™¨å¯¹è±¡ã€‚ è¿œç¨‹è§†é¢‘æ’­æ”¾123let videoURLString = &quot;https://wolverine.raywenderlich.com/content/ios/tutorials/video_streaming/foxVillage.mp4&quot;let videoURLString = &quot;https://wolverine.raywenderlich.com/content/ios/tutorials/video_streaming/foxVillage.m3u8&quot; ä¸Šé¢ä¸¤ä¸ªURLçš„å”¯ä¸€çš„åŒºåˆ«æ˜¯ç¬¬äºŒä¸ªURLä»£è¡¨HLS Livestreamã€‚ HLS Livestreamé€šè¿‡å°†è§†é¢‘åˆ†æˆå—æ¥æå‡è§†é¢‘åŠ è½½é€Ÿåº¦ã€‚ å³ä¸‹è§’çš„å°è§†å›¾å³ä¸‹è§’çš„å°è§†å›¾æ˜¯ä¸€ä¸ªæµ®åŠ¨çš„è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å™¨ã€‚ å®ƒçš„ç›®çš„æ˜¯æ’­æ”¾ä¸€ç»„å¾ªç¯å‰ªè¾‘ï¼Œè®©ç”¨æˆ·å¯¹æ‰€æœ‰è¿™äº›è§†é¢‘æ„Ÿåˆ°å…´å¥‹ã€‚ å¾ªç¯æ—¶éœ€è¦ç”¨åˆ°ç±»ä¼¼OCä¸­çš„KVO(åŸºæœ¬æ€æƒ³å°±æ˜¯åœ¨ç‰¹å®šå±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶å¾—åˆ°é€šçŸ¥)ã€‚ å³ä¸‹è§’çš„å°è§†å›¾ä¸¤ä¸ªæ‰‹åŠ¿ ç‚¹å‡»ä¸€æ¬¡æ‰“å¼€å…³é—­å£°éŸ³ åŒå‡»ä¸¤å€æ’­æ”¾é€Ÿåº¦ å½“å¤§è§†é¢‘æ’­å‘æ—¶è¦æŠŠå°è§†å›¾è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å™¨çš„è§†é¢‘æ’­æ”¾å…³é—­è®©è§†é¢‘æ’­æ”¾ä¸è¦å½±å“å…¶ä»–éŸ³ä¹åº”ç”¨çš„éŸ³ä¹æ’­æ”¾åœ¨AppDelegate.swiftçš„ application(_:didFinishLaunchingWithOptions:)æ–¹æ³•æ·»åŠ ä¸€æ®µå¦‚ä¸‹ä»£ç ï¼š 1try? AVAudioSession.sharedInstance().setCategory(AVAudioSession.Category.ambient, mode: AVAudioSession.Mode.moviePlayback, options: [.mixWithOthers]) å‚è€ƒVideo Streaming Tutorial for iOS: Getting Started]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
      <tags>
        <tag>AVKit</tag>
        <tag>AVFoundation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-åŸºæ•°æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Radix Sort åŸºæ•°æ’åº(Radix Sort)åŸºæ•°æ’åºæ˜¯ä¸€ç§æ’åºç®—æ³•ï¼Œå®ƒå°†æ•´æ•°æ•°ç»„ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä½¿ç”¨æ’åºå­ç¨‹åºï¼ˆé€šå¸¸æ˜¯å¦ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ï¼‰æ¥æŒ‰æ•´æ•°åŸºæ•°æˆ–è€…å®ƒä»¬çš„æ•°å­—å¯¹æ•´æ•°è¿›è¡Œæ’åºã€‚ Counting Sortå’ŒBucket Sorté€šå¸¸ç”¨ä½œRadix Sortçš„å­ç¨‹åºã€‚ ä¾‹å­ Input Array: [170, 45, 75, 90, 802, 24, 2, 66] Output Array (Sorted): [2, 24, 45, 66, 75, 90, 170, 802] ç¬¬ä¸€æ­¥ï¼šæ­¤ç®—æ³•çš„ç¬¬ä¸€æ­¥æ˜¯å®šä¹‰æ•°å­—ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´æ˜¯æˆ‘ä»¬å°†ç”¨äºæ’åºçš„â€œbaseâ€æˆ–åŸºæ•°ã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†radix = 10ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ•´æ•°æ˜¯åŸºæ•°10ã€‚ ç¬¬äºŒæ­¥ï¼šä¸‹ä¸€æ­¥æ˜¯ç®€å•åœ°è¿­ä»£næ¬¡ï¼ˆå…¶ä¸­næ˜¯è¾“å…¥æ•°ç»„ä¸­æœ€å¤§æ•´æ•°ä¸­çš„ä½æ•°ï¼‰ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡è¿­ä»£æ—¶å¯¹å½“å‰æ•°å­—æ‰§è¡Œæ’åºå­ç¨‹åºã€‚ ç®—æ³•ä¸­çš„è¡ŒåŠ¨æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬çš„ç¤ºä¾‹è¾“å…¥æ•°ç»„ã€‚ æˆ‘ä»¬æ•°ç»„ä¸­çš„æœ€å¤§æ•´æ•°æ˜¯802ï¼Œå®ƒæœ‰ä¸‰ä½æ•°ï¼ˆä¸€ï¼Œåï¼Œç™¾ï¼‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬çš„ç®—æ³•å°†è¿­ä»£ä¸‰æ¬¡ï¼ŒåŒæ—¶å¯¹æ¯ä¸ªæ•´æ•°çš„æ•°å­—æ‰§è¡Œä¸€äº›æ’åºç®—æ³•ã€‚ Iteration 1: 170, 90, 802, 2, 24, 45, 75, 66 Iteration 2: 802, 2, 24, 45, 66, 170, 75, 90 Iteration 3: 2, 24, 45, 66, 75, 90, 170, 802 ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import Foundation// ä¸èƒ½å¤„ç†è´Ÿæ•°public func radixSort(_ array: inout [Int]) &#123; let radix = 10 var done = false var index: Int var digit = 1 while !done &#123; done = true var buckets: [[Int]] = [] // æˆ‘ä»¬çš„æ’åºå­ç¨‹åºæ˜¯æ¡¶æ’åºï¼Œæ‰€ä»¥è®©æˆ‘ä»¬é¢„å®šä¹‰æˆ‘ä»¬çš„æ¡¶ for _ in 1...radix &#123; buckets.append([]) &#125; for number in array &#123; index = number / digit buckets[index % radix].append(number) if done &amp;&amp; index &gt; 0 &#123; done = false &#125; &#125; var i = 0 for j in 0..&lt;radix &#123; let bucket = buckets[j] for number in bucket &#123; array[i] = number i += 1 &#125; &#125; digit *= radix &#125;&#125;// å°æ•°ç»„çš„æµ‹è¯•var array: [Int] = [19, 4242, 2, 9, 912, 101, 55, 67, 89, 32]radixSort(&amp;array)print(array)// å¤§æ•°ç»„çš„æµ‹è¯•var bigArray = [Int](repeating: 0, count: 1000)var i = 0while i &lt; 100 &#123; bigArray[i] = Int(arc4random_uniform(1000) + 1) i += 1&#125;radixSort(&amp;bigArray)print(bigArray) æ›´å¤šæŸ¥çœ‹åŸºæ•°æ’åºçš„ç»´åŸºç™¾ç§‘åŸºæ•°æ’åºçš„ä¸­æ–‡ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šChristian Encarnacionç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron ç¿»è¯‘åè¡¥å……åŸºæ•°æ’åºå¯¹æ•°ç»„[53, 3, 542, 748, 14, 214, 154, 63, 616]çš„æ’åºï¼Œç¤ºæ„å›¾(æ¥æºï¼šhttps://www.cnblogs.com/skywang12345/p/3603669.html) è¯´æ˜ï¼š]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>åŸºæ•°æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-è®¡æ•°æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Counting Sort è®¡æ•°æ’åº(Counting Sort)Counting sort is an algorithm for sorting a collection of objects according to keys that are small integers. It operates by counting the number of objects that have each distinct key values, and using arithmetic on those counts to determine the positions of each key value in the output sequence.è®¡æ•°æ’åºæ˜¯ä¸€ç§æ ¹æ®å°æ•´æ•°é”®å¯¹å¯¹è±¡é›†åˆè¿›è¡Œæ’åºçš„ç®—æ³•ã€‚é€šè¿‡è®¡ç®—å…·æœ‰æ¯ä¸ªä¸åŒé”®å€¼çš„å¯¹è±¡çš„æ•°é‡æ¥æ“ä½œï¼Œå¹¶å¯¹è¿™äº›è®¡æ•°ä½¿ç”¨ç®—æœ¯æ¥ç¡®å®šè¾“å‡ºåºåˆ—ä¸­æ¯ä¸ªé”®å€¼çš„ä½ç½®ã€‚ ä¾‹å­ä¸ºäº†ç†è§£ç®—æ³•ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå°ä¾‹å­ã€‚ è€ƒè™‘æ•°ç»„: [ 10, 9, 8, 7, 1, 2, 7, 3 ] ç¬¬ä¸€æ­¥ï¼šç¬¬ä¸€æ­¥æ˜¯è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªé¡¹çš„æ€»å‡ºç°æ¬¡æ•°ã€‚ ç¬¬ä¸€æ­¥çš„è¾“å‡ºå°†æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12Index 0 1 2 3 4 5 6 7 8 9 10Count 0 1 1 1 0 0 0 2 1 1 1 è¯‘æ³¨ï¼š è¿™è¾¹Indexçš„æœ€å¤§å€¼å¯¹åº”äºï¼Œæ•°ç»„ä¸­æœ€å¤§å€¼10ã€‚ è¿™æ˜¯å®Œæˆç¬¬ä¸€æ­¥çš„ä»£ç ï¼š 123456let maxElement = array.max() ?? 0var countArray = [Int](repeating: 0, count: Int(maxElement + 1))for element in array &#123; countArray[element] += 1&#125; ç¬¬äºŒæ­¥ï¼šåœ¨æ­¤æ­¥éª¤ä¸­ï¼Œç®—æ³•å°è¯•ç¡®å®šåœ¨æ¯ä¸ªå…ƒç´ ä¹‹å‰æ”¾ç½®çš„å…ƒç´ çš„æ•°é‡ã€‚é€šè¿‡ç¬¬ä¸€æ­¥å·²ç»çŸ¥é“æ¯ä¸ªå…ƒç´ çš„æ€»å‡ºç°æ¬¡æ•°ï¼Œå¯ä»¥å¾—åˆ°ã€‚æ–¹æ³•å°±æ˜¯æŠŠå‰ä¸€ä¸ªè®¡æ•°å’Œå½“å‰è®¡æ•°ç›¸åŠ å­˜å‚¨åˆ°æ¯ä¸ªç´¢å¼•ä¸­ï¼ˆå¯¹åº”ä»£ç å°±æ˜¯countArray[index] + countArray[index - 1]ï¼‰ã€‚ è®¡æ•°æ•°ç»„å¦‚ä¸‹ï¼š 12Index 0 1 2 3 4 5 6 7 8 9 10Count 0 1 2 3 3 3 3 5 6 7 8 ç¬¬äºŒæ­¥çš„ä»£ç ï¼š 1234for index in 1 ..&lt; countArray.count &#123; let sum = countArray[index] + countArray[index - 1] countArray[index] = sum&#125; ç¬¬ä¸‰æ­¥è¿™æ˜¯ç®—æ³•çš„æœ€åä¸€æ­¥ã€‚ åŸå§‹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ”¾ç½®åœ¨ç¬¬äºŒæ­¥çš„è¾“å‡ºå®šä¹‰çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œæ•°å­—10å°†æ”¾åœ¨è¾“å‡ºæ•°ç»„ä¸­çš„ç´¢å¼•7å¤„ã€‚ æ­¤å¤–ï¼Œå½“æ‚¨æ”¾ç½®å…ƒç´ æ—¶ï¼Œæ‚¨éœ€è¦å°†è®¡æ•°å‡å°‘1ï¼Œå› ä¸ºä»æ•°ç»„ä¸­å‡å°‘äº†è®¸å¤šå…ƒç´ ã€‚ æœ€ç»ˆçš„è¾“å‡ºæ˜¯ï¼š 12Index 0 1 2 3 4 5 6 7Output 1 2 3 7 7 8 9 10 ä»¥ä¸‹æ˜¯æœ€åä¸€æ­¥çš„ä»£ç ï¼š 123456var sortedArray = [Int](repeating: 0, count: array.count)for element in array &#123; countArray[element] -= 1 sortedArray[countArray[element]] = element&#125;return sortedArray æ€§èƒ½è¯¥ç®—æ³•ä½¿ç”¨ç®€å•å¾ªç¯å¯¹é›†åˆè¿›è¡Œæ’åºã€‚ å› æ­¤ï¼Œè¿è¡Œæ•´ä¸ªç®—æ³•çš„æ—¶é—´æ˜¯O(n+k)å…¶ä¸­O(n)è¡¨ç¤ºåˆå§‹åŒ–è¾“å‡ºæ•°ç»„æ‰€éœ€çš„å¾ªç¯ï¼ŒO(k)æ˜¯åˆ›å»ºè®¡æ•°æ•°ç»„æ‰€éœ€çš„å¾ªç¯ã€‚ è¯¥ç®—æ³•ä½¿ç”¨é•¿åº¦ä¸ºn + 1å’Œnçš„æ•°ç»„ï¼Œå› æ­¤æ‰€éœ€çš„æ€»ç©ºé—´ä¸ºO(2n)ã€‚ å› æ­¤ï¼Œå¯¹äºå¯†é’¥æ²¿ç€æ•°å­—çº¿åˆ†æ•£åœ¨å¯†é›†åŒºåŸŸä¸­çš„é›†åˆï¼Œå®ƒå¯ä»¥èŠ‚çœç©ºé—´ã€‚ ä½œè€…ï¼šAli Hafizjiç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron ç¿»è¯‘åè¡¥å……è®¡æ•°æ’åºå‡è®¾nä¸ªè¾“å…¥å…ƒç´ ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ˜¯åœ¨0åˆ°kåŒºé—´å†…çš„ä¸€ä¸ªæ•´æ•°ï¼Œå…¶ä¸­kä¸ºæŸä¸ªæ•´æ•°ã€‚å½“k=O(n)æ—¶ï¼Œæ’åºçš„è¿è¡Œæ—¶é—´ä¸ºÎ˜(n)ã€‚ è®¡æ•°æ’åºçš„æ€æƒ³æ˜¯ï¼Œå¯¹æ¯ä¸€ä¸ªè¾“å…¥å…ƒç´ ï¼Œè®¡ç®—å°äºå®ƒçš„å…ƒç´ ä¸ªæ•°ï¼Œå¦‚æœæœ‰10ä¸ªå…ƒç´ å°äºå®ƒï¼Œé‚£ä¹ˆå®ƒå°±åº”è¯¥æ”¾åœ¨11çš„ä½ç½®ä¸Šï¼Œå¦‚æœæœ‰17ä¸ªå…ƒç´ å°äºå®ƒï¼Œå®ƒå°±åº”è¯¥æ”¾åœ¨18çš„ä½ç½®ä¸Šã€‚å½“æœ‰å‡ ä¸ªå…ƒç´ ç›¸åŒæ—¶ï¼Œè¿™ä¸€æ–¹æ¡ˆè¦ç•¥åšä¿®æ”¹ï¼Œå› ä¸ºä¸èƒ½æŠŠå®ƒä»¬æ”¾åœ¨åŒä¸€ä¸ªè¾“å‡ºä½ç½®ä¸Šã€‚ä¸‹å›¾ï¼ˆæ¥æºäºã€Šç®—æ³•å¯¼è®ºã€‹ï¼‰å±•ç¤ºäº†å®é™…çš„è¿è¡Œè¿‡ç¨‹ã€‚ æ„é€ è¾…åŠ©æ•°ç»„Cï¼ŒCçš„é•¿åº¦ä¸ºkã€‚ç¬¬ä¸€æ¬¡éå†Aåï¼Œå¾—åˆ°[0,k)åŒºé—´ä¸Šæ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå°†è¿™äº›æ¬¡æ•°å†™å…¥Cï¼Œå¾—åˆ°å›¾(a)çš„ç»“æœã€‚ç„¶åæŠŠCä¸­æ¯ä¸ªå…ƒç´ å˜æˆå‰é¢æ‰€æœ‰å…ƒç´ çš„ç´¯åŠ å’Œï¼Œå¾—åˆ°å›¾(b)çš„ç»“æœã€‚æ¥ä¸‹æ¥ï¼Œå†æ¬¡ä»åå‘å‰éå†æ•°ç»„Aï¼Œæ ¹æ®å–å‡ºçš„å…ƒç´ æŸ¥æ‰¾Cä¸­å¯¹åº”ä¸‹æ ‡çš„å€¼ï¼Œå†æŠŠè¿™ä¸ªå€¼ä½œä¸ºä¸‹æ ‡æ‰¾åˆ°Bä¸­çš„ä½ç½®ï¼Œå³æ˜¯è¯¥å…ƒç´ æ’åºåçš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå›¾ä¸­Açš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯3ï¼Œæ‰¾åˆ°C[3]æ˜¯7ï¼Œå†ä»¤B[7]=3å³å¯ï¼Œç„¶åé¡ºä¾¿æŠŠC[3]å‡ä¸€ï¼Œè¿™æ˜¯é˜²æ­¢ç›¸åŒçš„æ•°è¢«æ”¾åˆ°åŒä¸€ä¸ªä½ç½®ã€‚ è®¡æ•°æ’åºçš„æ—¶é—´ä»£ä»·å¯ä»¥è¿™æ ·è®¡ç®—ï¼Œç¬¬ä¸€æ¬¡éå†Aå¹¶è®¡ç®—Cæ‰€èŠ±æ—¶é—´æ˜¯Î˜(n)ï¼ŒCç´¯åŠ æ‰€èŠ±æ—¶é—´æ˜¯Î˜(k)ï¼Œå†æ¬¡éå†Aå¹¶ç»™Bèµ‹å€¼æ‰€èŠ±æ—¶é—´æ˜¯Î˜(n)ï¼Œå› æ­¤ï¼Œæ€»æ—¶é—´ä¸ºÎ˜(k + n)ã€‚åœ¨å®é™…ä¸­ï¼Œå½“k=O(n)æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨è®¡æ•°æ’åºï¼Œè¿™æ—¶çš„è¿è¡Œæ—¶é—´ä¸ºÎ˜(n)ã€‚ å‚è€ƒhttps://www.jianshu.com/p/ff1797625d66]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>è®¡æ•°æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å¸Œå°”æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Shell Sort å¸Œå°”æ’åº(Shell Sort)å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ›´é«˜æ•ˆçš„æ”¹è¿›ç‰ˆæœ¬ï¼Œæ–¹æ³•æ˜¯å°†åŸå§‹åˆ—è¡¨åˆ†æˆè¾ƒå°çš„å­åˆ—è¡¨ï¼Œç„¶åä½¿ç”¨æ’å…¥æ’åºå¯¹å…¶è¿›è¡Œå•ç‹¬æ’åºã€‚ Sapientiaå¤§å­¦åˆ›å»ºäº†ä¸€ä¸ªå¾ˆå¥½çš„è§†é¢‘ï¼Œæ˜¾ç¤ºäº†åŒˆç‰™åˆ©æ°‘é—´èˆè¹ˆçš„è¿‡ç¨‹ã€‚ï¼ˆè¯‘æ³¨ï¼šç±»ä¼¼å¸Œå°”æ’åºçš„è¿‡ç¨‹ï¼Œæ²¹ç®¡è§†é¢‘éœ€è¦ç¿»å¢™ï¼‰ æ€ä¹ˆè¿è¡Œçš„æ’å…¥æ’åºæ˜¯æ¯”è¾ƒç›¸è¿çš„å…ƒç´ ï¼Œå¦‚æœå®ƒä»¬é¡ºåºä¸å¯¹å°±äº¤æ¢å®ƒä»¬ï¼Œè€Œå¸Œå°”æ’åºç®—æ³•ä¼šæ¯”è¾ƒç›¸è·å¾ˆè¿œçš„å…ƒç´ ã€‚ å…ƒç´ ä¹‹é—´çš„è·ç¦»ç§°ä¸º gapã€‚ å¦‚æœè¢«æ¯”è¾ƒçš„å…ƒç´ çš„é¡ºåºé”™è¯¯ï¼Œåˆ™å®ƒä»¬ä¼šåœ¨ gap ä¸­äº¤æ¢ã€‚ è¿™æ¶ˆé™¤äº†æ’å…¥æ’åºä¸­å¸¸è§çš„è®¸å¤šä¸­é—´å‰¯æœ¬ã€‚ è¯‘æ³¨ï¼š gapå·²ç»è¢«ç¿»è¯‘æˆæ­¥é•¿/å¢é‡/é—´è·ç­‰ï¼Œä¸ºäº†é¿å…æ­§ä¹‰ï¼Œæœ¬æ–‡å°±ä¸åšç¿»è¯‘ï¼Œç›´æ¥å†™æˆgap è¿™ä¸ªæƒ³æ³•æ˜¯ï¼Œé€šè¿‡åœ¨å¤§ gap ä¸Šç§»åŠ¨å…ƒç´ ï¼Œæ•°ç»„å˜å¾—éå¸¸å¿«é€Ÿåœ°éƒ¨åˆ†æ’åºã€‚ è¿™ä½¿å¾—ä¹‹åçš„æ’åºè¿‡ç¨‹æ›´å¿«ï¼Œå› ä¸ºä»–ä»¬ä¸å†éœ€è¦äº¤æ¢é‚£ä¹ˆå¤šé¡¹ã€‚ ä¸€è½®å®Œæˆåï¼Œgapå˜å°ï¼Œæ–°ä¸€è½®å¼€å§‹ã€‚ è¿™å°†é‡å¤ï¼Œç›´åˆ° gap å¤§å°ä¸º1ï¼Œæ­¤æ—¶ç®—æ³•çš„åŠŸèƒ½å°±åƒæ’å…¥æ’åºä¸€æ ·ã€‚ ä½†æ˜¯ç”±äºæ•°æ®å·²ç»å¾ˆå¥½åœ°æ’åºï¼Œæ‰€ä»¥æœ€åä¸€è½®å¯ä»¥éå¸¸å¿«ã€‚ ä¾‹å­å‡è®¾æˆ‘ä»¬æƒ³ä½¿ç”¨å¸Œå°”æ’åºå¯¹æ•°ç»„ [64, 20, 50, 33, 72, 10, 23, -1, 4] è¿›è¡Œæ’åºã€‚ æˆ‘ä»¬é¦–å…ˆå°†æ•°ç»„çš„é•¿åº¦é™¤ä»¥2ï¼š n = floor(9/2) = 4 è¿™æ˜¯ gap å¤§å°ã€‚ æˆ‘ä»¬åˆ›å»ºnå­åˆ—è¡¨ã€‚ åœ¨æ¯ä¸ªå­åˆ—è¡¨ä¸­ï¼Œæ¯ä¸€é¡¹çš„é—´éš”æ˜¯å¤§å°ä¸ºnçš„gap ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¶ä½œå…¶ä¸­å››ä¸ªå­åˆ—è¡¨ã€‚ å­åˆ—è¡¨æŒ‰insertionSort()å‡½æ•°æ’åºã€‚ è¿™å¯èƒ½æ²¡æœ‰å¤šå¤§æ„ä¹‰ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ ç¬¬ä¸€è½®å¦‚ä¸‹ã€‚ æˆ‘ä»¬æœ‰n = 4ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¶ä½œäº†å››ä¸ªå­åˆ—è¡¨ï¼š sublist 0: [ 64, xx, xx, xx, 72, xx, xx, xx, 4 ] sublist 1: [ xx, 20, xx, xx, xx, 10, xx, xx, xx ] sublist 2: [ xx, xx, 50, xx, xx, xx, 23, xx, xx ] sublist 3: [ xx, xx, xx, 33, xx, xx, xx, -1, xx ] å¦‚æ‚¨æ‰€è§ï¼Œæ¯ä¸ªå­åˆ—è¡¨ä»…åŒ…å«åŸå§‹æ•°ç»„ä¸­çš„æ¯é—´éš”4çš„é¡¹ã€‚ ä¸åœ¨å­åˆ—è¡¨ä¸­çš„é¡¹ç”¨xxè¡¨ç¤ºã€‚ æ‰€ä»¥ç¬¬ä¸€ä¸ªå­åˆ—è¡¨æ˜¯[64,72,4]ï¼Œç¬¬äºŒä¸ªå­åˆ—è¡¨æ˜¯[20,10]ï¼Œä¾æ­¤ç±»æ¨ã€‚ æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªâ€œgapâ€çš„åŸå› æ˜¯æˆ‘ä»¬ä¸å¿…å®é™…åˆ¶ä½œæ–°çš„æ•°ç»„ã€‚ ç›¸åï¼Œæˆ‘ä»¬å°†å®ƒä»¬äº¤ç»‡åœ¨åŸå§‹æ•°ç»„ä¸­ã€‚ æˆ‘ä»¬ç°åœ¨åœ¨æ¯ä¸ªå­åˆ—è¡¨ä¸Šè°ƒç”¨ä¸€æ¬¡insertionSort()ã€‚ æ’å…¥æ’åºçš„è¿™ä¸ªç‰¹å®šç‰ˆæœ¬ä»åé¢åˆ°å‰é¢æ’åºã€‚å­åˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®éƒ½ä¸å…¶ä»–é¡¹ç›®è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯ï¼Œåˆ™äº¤æ¢å€¼å¹¶ä¸€ç›´å‘ä¸‹ç§»åŠ¨ï¼Œç›´åˆ°æˆ‘ä»¬åˆ°è¾¾å­åˆ—è¡¨çš„å¼€å¤´ã€‚ å› æ­¤å¯¹äºå­åˆ—è¡¨0ï¼Œæˆ‘ä»¬å°†4ä¸72äº¤æ¢ï¼Œç„¶åå°†4ä¸64äº¤æ¢ã€‚ æ’åºåï¼Œæ­¤å­åˆ—è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š sublist 0: [ 4, xx, xx, xx, 64, xx, xx, xx, 72 ] æ’åºåçš„å…¶ä»–ä¸‰ä¸ªå­åˆ—è¡¨ï¼š sublist 1: [ xx, 10, xx, xx, xx, 20, xx, xx, xx ] sublist 2: [ xx, xx, 23, xx, xx, xx, 50, xx, xx ] sublist 3: [ xx, xx, xx, -1, xx, xx, xx, 33, xx ] å®Œæ•´çš„æ•°ç»„çœ‹ä¸Šå»æ˜¯ï¼š [ 4, 10, 23, -1, 64, 20, 50, 33, 72 ] å®ƒè¿˜æ²¡æœ‰å®Œå…¨æ’åºï¼Œä½†å®ƒæ¯”ä»¥å‰æ›´åŠ æ’åºã€‚ è¿™å®Œæˆäº†ç¬¬ä¸€æ¬¡è½®æ“ä½œã€‚ åœ¨ç¬¬äºŒè½®ä¸­ï¼Œæˆ‘ä»¬å°† gap å¤§å°é™¤ä»¥2ï¼š n = floor(4/2) = 2 è¿™æ„å‘³ç€æˆ‘ä»¬ç°åœ¨åªåˆ›å»ºä¸¤ä¸ªå­åˆ—è¡¨ï¼š sublist 0: [ 4, xx, 23, xx, 64, xx, 50, xx, 72 ] sublist 1: [ xx, 10, xx, -1, xx, 20, xx, 33, xx ] æ¯ä¸ªå­åˆ—è¡¨åŒ…å«æ¯ä¸ªé—´éš”ä¸º2çš„é¡¹ã€‚ æˆ‘ä»¬å†æ¬¡è°ƒç”¨insertionSort()æ¥å¯¹è¿™äº›å­åˆ—è¡¨è¿›è¡Œæ’åºã€‚ ç»“æœæ˜¯ï¼š sublist 0: [ 4, xx, 23, xx, 50, xx, 64, xx, 72 ] sublist 1: [ xx, -1, xx, 10, xx, 20, xx, 33, xx ] è¯·æ³¨æ„ï¼Œåœ¨æ¯ä¸ªåˆ—è¡¨ä¸­åªæœ‰ä¸¤ä¸ªå…ƒç´ ä½ç½®é¡ºåºä¸å¯¹ï¼ˆè¯‘æ³¨ï¼šsublist 0æ˜¯64å’Œ50ï¼Œsublist 1æ˜¯10å’Œ-1ï¼‰ã€‚ å› æ­¤æ’å…¥æ’åºéå¸¸å¿«ã€‚ é‚£æ˜¯å› ä¸ºæˆ‘ä»¬å·²ç»åœ¨ç¬¬ä¸€è½®ä¸­å¯¹æ•°ç»„è¿›è¡Œäº†ä¸€äº›æ’åºã€‚ æ€»æ•°ç»„ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š [ 4, -1, 23, 10, 50, 20, 64, 33, 72 ] è¿™æ ·å°±å®Œæˆäº†ç¬¬äºŒè½®ã€‚ æœ€åä¸€è½®çš„gapæ˜¯ï¼š n = floor(2/2) = 1 gap å¤§å°ä¸º1è¡¨ç¤ºæˆ‘ä»¬åªæœ‰ä¸€ä¸ªå­åˆ—è¡¨ï¼Œå³æ•°ç»„æœ¬èº«ï¼Œæˆ‘ä»¬å†æ¬¡è°ƒç”¨insertionSort()å¯¹å…¶è¿›è¡Œæ’åºã€‚ æœ€ç»ˆæ’åºçš„æ•°ç»„æ˜¯ï¼š [ -1, 4, 10, 20, 23, 33, 50, 64, 72 ] åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¸Œå°”æ’åºçš„æ€§èƒ½ä¸ºO(n^2)ï¼Œå¦‚æœå¹¸è¿ï¼Œåˆ™ä¸º O(nlogn)ã€‚ è¯¥ç®—æ³•æ˜¯ä¸ç¨³å®šçš„æ’åº; å®ƒå¯èƒ½ä¼šæ”¹å˜å…·æœ‰ç›¸ç­‰å€¼çš„å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚ gap åºåˆ—â€œ gap åºåˆ—â€ç¡®å®š gap çš„åˆå§‹å¤§å°ä»¥åŠæ¯æ¬¡è¿­ä»£å¦‚ä½•ä½¿ gap å˜å°ã€‚ è‰¯å¥½çš„ gap åºåˆ—å¯¹äºå¸Œå°”æ’åºè¡¨ç°è‰¯å¥½éå¸¸é‡è¦ã€‚ ä¸Šé¢å®ç°ä¾‹å­ä¸­çš„ gap åºåˆ—æ˜¯å¸Œå°”åŸå§‹ç‰ˆæœ¬ä¸­çš„ gap åºåˆ—ï¼šåˆå§‹å€¼æ˜¯æ•°ç»„å¤§å°çš„ä¸€åŠï¼Œç„¶åæ¯æ¬¡é™¤ä»¥2ã€‚ è¿˜æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥è®¡ç®— gap åºåˆ—ã€‚ åªæ˜¯ä¸ºäº†å¥½ç©â€¦è¿™æ˜¯ Matthijs å¾ˆä¹…ä»¥å‰ä½¿ç”¨çš„ä¸€ä¸ªæ—§çš„Commodore 64 BASICç‰ˆæœ¬çš„å¸Œå°”æ’åºï¼Œå¹¶ä¸”ç§»æ¤åˆ°ä»–æ›¾ç»ä½¿ç”¨çš„å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼š 61200 REM S is the array to be sorted 61205 REM AS is the number of elements in S 61210 W1=AS 61220 IF W1&lt;=0 THEN 61310 61230 W1=INT(W1/2): W2=AS-W1 61240 V=0 61250 FOR N1=0 TO W2-1 61260 W3=N1+W1 61270 IF S(N1)&gt;S(W3) THEN SH=S(N1): S(N1)=S(W3): S(W3)=SH: V=1 61280 NEXT N1 61290 IF V&gt;0 THEN 61240 61300 GOTO 61220 61310 RETURN ä»£ç å¸Œå°”æ’åºçš„Swiftå®ç°ï¼š 12345678910111213141516171819202122232425public func insertSort(_ list: inout[Int], start: Int, gap: Int) &#123; for i in stride(from: (start + gap), to: list.count, by: gap) &#123; let currentValue = list[i] var pos = i while pos &gt;= gap &amp;&amp; list[pos - gap] &gt; currentValue &#123; list[pos] = list[pos - gap] pos -= gap &#125; list[pos] = currentValue &#125;&#125;public func shellSort(_ list: inout [Int]) &#123; var sublistCount = list.count / 2 while sublistCount &gt; 0 &#123; for pos in 0..&lt;sublistCount &#123; insertionSort(&amp;list, start: pos, gap: sublistCount) &#125; sublistCount = sublistCount / 2 &#125;&#125;var arr = [64, 20, 50, 33, 72, 10, 23, -1, 4, 5]shellSort(&amp;arr) æ‰©å±•é˜…è¯»å¸Œå°”æ’åºçš„ç»´åŸºç™¾ç§‘ Rosetta codeçš„å¸Œå°”æ’åºï¼ˆè¯‘æ³¨ï¼šå¤§æ¦‚70ç§ä¸åŒè¯­è¨€å®ç°å¸Œå°”æ’åºğŸ˜…ğŸ˜“ï¼‰ ä½œè€…ï¼šMike Taghaviï¼ŒMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron ç¿»è¯‘åè¡¥å……å¸Œå°”æ’åºï¼Œä¹Ÿç§°é€’å‡å¢é‡æ’åºç®—æ³•ï¼ŒæŒ‰å…¶è®¾è®¡è€…å¸Œå°”ï¼ˆDonald Shellï¼‰çš„åå­—å‘½åï¼Œåœ¨1959å¹´å…¬å¸ƒã€‚ å®šä¹‰å¸Œå°”æ’åºæ˜¯å°†å¾…æ’åºçš„æ•°ç»„å…ƒç´ æŒ‰ä¸‹æ ‡çš„ä¸€å®šå¢é‡åˆ†ç»„ ï¼Œåˆ†æˆå¤šä¸ªå­åºåˆ—ï¼Œç„¶åå¯¹å„ä¸ªå­åºåˆ—è¿›è¡Œç›´æ¥æ’å…¥æ’åºç®—æ³•æ’åºï¼›ç„¶åä¾æ¬¡ç¼©å‡å¢é‡å†è¿›è¡Œæ’åºï¼Œç›´åˆ°å¢é‡ä¸º1æ—¶ï¼Œè¿›è¡Œæœ€åä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºï¼Œæ’åºç»“æŸã€‚ å¸Œå°”æ’åºçš„åŸç†å›¾ å›¾ç‰‡ä¸€æ¥æºï¼šå›¾è§£æ’åºç®—æ³•(äºŒ)ä¹‹å¸Œå°”æ’åº å›¾ç‰‡äºŒæ¥æºï¼šæ’åºï¼šå¸Œå°”æ’åºï¼ˆç®—æ³•ï¼‰ ä¸€ä¸ªå¸Œå°”æ’åºçš„åŠ¨ç”» Comparison Sorting Algorithms å‚è€ƒå›¾è§£æ’åºç®—æ³•(äºŒ)ä¹‹å¸Œå°”æ’åº æ’åºï¼šå¸Œå°”æ’åºï¼ˆç®—æ³•ï¼‰]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>å¸Œå°”æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šåˆ†äº«æ—¶ä»£ï¼šå¦‚ä½•ç¼”é€ å½±å“åŠ›ã€‹]]></title>
    <url>%2F2018%2F%E5%88%86%E4%BA%AB%E6%97%B6%E4%BB%A3%EF%BC%9A%E5%A6%82%E4%BD%95%E7%BC%94%E9%80%A0%E5%BD%B1%E5%93%8D%E5%8A%9B.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦ä½œè€…å¸ƒèµ–æ©Â·å…‹é›·é»˜(Bryan Kramer)ï¼Œ çŸ¥åæ¼”è®²äººã€å’¨è¯¢å¸ˆã€æ•™ç»ƒã€ç•…é”€ä¹¦ä½œè€…ã€‚ ã€Šåˆ†äº«æ—¶ä»£ï¼šå¦‚ä½•ç¼”é€ å½±å“åŠ›ã€‹åŸè‘—åæ˜¯ã€ŠShareology: how sharing is powering the human economyã€‹ï¼Œæœ¬ä¹¦æ˜¯ä¸€æœ¬æ•™ä½ é€šè¿‡åˆ†äº«æå‡å½±å“åŠ›çš„ä¹¦ã€‚å®ƒæ·±åˆ»å‰–æäº†äººç±»åˆ†äº«çš„æœ¬è´¨ï¼ŒåŒæ—¶ä¸ºè¯»è€…é˜æ˜äº†åˆ†äº«ç»æµåœ¨æœªæ¥å°†è¦å‘æŒ¥çš„åŠ›é‡ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæœ¬ä¹¦å‘Šè¯‰ä½ å¦‚ä½•å»ºç«‹ä¸ªäººå½±å“åŠ›ï¼Œå¦‚ä½•æŠŠæœ‰ä»·å€¼çš„å†…å®¹ä¼ é€’åˆ°ç›®æ ‡å®¢æˆ·ä¸­ä»è€Œæå‡ä¼ä¸šçš„å½±å“åŠ›ã€‚ å†…å®¹ä¸€ã€åˆ†äº«çš„æœ¬è´¨æ˜¯è·å¾—èº«ä»½è®¤åŒæ„Ÿå²å‰æ—¶ä»£ï¼Œäººä»¬åˆ†äº«æ˜¯ä¸ºäº†ç”Ÿå­˜ã€‚ç°ä»£ç¤¾ä¼šï¼Œåˆ†äº«æ˜¯ä¸ºäº†æ²Ÿé€šã€‚æ²Ÿé€šæ˜¯ä¸€ç§èå…¥ç¾¤ä½“çš„éœ€æ±‚ï¼Œä¸€ç§å¯¹å½’å±æ„Ÿçš„éœ€æ±‚ï¼Œåªæœ‰è·Ÿå¤§å®¶åœ¨ä¸€èµ·æˆ‘ä»¬æ‰å®‰å…¨ã€‚ äºŒã€åˆ†äº«çš„å†…å®¹å†³å®šäº†ä¸ªäººå“ç‰Œåªæœ‰åˆ›é€ å’Œåˆ†äº«ä¸ªäººå“ç‰Œæ‰èƒ½æ”¹å˜äººä»¬å¯¹ä½ çš„è®¤çŸ¥ï¼Œå¹¶ä»¥æ­¤ç›¸äº’è”ç³»ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ‰èƒ½æ‰¾åˆ°è·Ÿä½ å¿—è¶£ç›¸åŒçš„äººã€‚ å…¬å¼ï¼šä¸€ä¸ªäººçš„ä¸ªäººå“ç‰Œ = åˆ«äººå¦‚ä½•è¯„ä»·ä½ åˆ†äº«çš„ ä¿¡æ¯å†…å®¹ å’Œ ä¿¡æ¯æ¥æº ã€‚ ä¸‰ã€æŠŠåˆ†äº«ä½œä¸ºå•†ä¸šä¹‹é“è¿›è¡Œåˆ†äº«è¥é”€ä»å“ç‰Œè§’åº¦è€Œè¨€ï¼Œæ•°å­—åŒ–æ—¶ä»£æœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯ç»Ÿä¸€çš„å“ç‰Œè®¤çŸ¥ä¸ä¸ªæ€§åŒ–çš„å®¢æˆ·ä¹‹é—´çš„çŸ›ç›¾ã€‚ å…¬å¼ï¼šä½ çš„ç”¨æˆ·æ„¿æ„åˆ†äº«ä½ çš„è¨€è®º = ä»–ä»¬ä¿¡ä»»ä½ åˆ†äº«çš„å†…å®¹å’Œä½ ä¿¡æ¯çš„æ¥æºã€‚ ä½ è¦å°½é‡äººæ€§åŒ–ï¼Œäººæ€§åŒ–å°±ä»£è¡¨ç€å…·æœ‰å¯åˆ†äº«æ€§ã€‚æœªæ¥çš„å•†ä¸šæ¨¡å¼å°±æ˜¯åœ¨äººé™…å…³ç³»ä¹‹ä¸Šå»ºç«‹é¡¾å®¢å…³ç³»ï¼Œå¹¶å’Œé¡¾å®¢ä¿æŒäº’åŠ¨ã€‚ä»å¹¿è€Œå‘Šä¹‹çš„ä¼ æ’­æ–¹å¼è½¬å˜ä¸ºå¯»æ±‚æ€æ ·æ‰èƒ½åˆ›é€ å‡ºæœ‰è¶£çš„åˆ†äº«å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œåˆ†äº«è¥é”€ã€‚ å››ã€å¦‚ä½•åšå¥½åˆ†äº«è¥é”€ åˆ†äº«å†…å®¹ï¼šåªæœ‰è§¦åŠ¨äº†äººæ€§çš„å†…å®¹æ‰å€¼å¾—è¢«åˆ†äº« å½“ä¸€æ¡æ¨é€çš„å†…å®¹è§¦åŠ¨äº†ä¸€äº›äººçš„äººæ€§ï¼Œä»–ä»¬å°±ä¼šè½¬å‘ï¼Œæ¥ç€è½¬å‘çš„äººä¹Ÿæ˜¯ç”±äºåŒæ ·è¢«è§¦ç¢°äº†å†…å¿ƒæ·±å¤„ï¼Œä»¥æ­¤ç±»æ¨ã€‚ ğŸŒ°å†°æ¡¶æŒ‘æˆ˜ åˆ†äº«å¯¹è±¡ï¼šè®©æ¯ä½å‘˜å·¥æˆä¸ºå½±å“è€… ç½‘ç»œå·²ç»æ”¹å˜äº†å½±å“åŠ›çš„æºå¤´ï¼Œäººäººéƒ½èƒ½æˆä¸ºæœ‰å½±å“åŠ›çš„å½±å“è€…ã€‚å½±å“åŠ›çš„èƒŒåï¼Œæ˜¯ä¿¡ä»»ï¼Œäººä»¬å› ä¸ºä¿¡ä»»ä¸€ä¸ªäººæˆ–æ˜¯æœºæ„è€Œæ„¿æ„æ¥å—ä»–ä»¬çš„è§‚ç‚¹ã€‚ å‘˜å·¥å°±åƒæ˜¯åé™¢ä¸­è¢«äººå¿½è§†çš„é’»çŸ³ï¼Œè€Œä»–ä»¬æ˜¯å¯¹ä½ çš„ä¼ä¸šå’Œç›®æ ‡æœ‰ç€æ·±åˆ»ç†è§£çš„äººã€‚1.ç»™å‘˜å·¥æä¾›æ—¶é—´å’Œèµ„æºã€‚2.è¦è®©åˆé€‚çš„å‘˜å·¥æˆä¸ºå½±å“è€… åˆ†äº«æ—¶æœºï¼šæŠŠæ¡åˆ†äº«æ—¶æœºçš„æ ‡å‡†å°±æ˜¯ï¼Œå—ä¼—æ˜¯å¦ä¼šâ€œäº§ç”Ÿå…±é¸£â€ åˆ†äº«çš„å†…å®¹å’Œé¢‘ç‡éƒ½åº”è¯¥é€‚åº¦ï¼Œå¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ã€‚æ‰¾åˆ°è‡ªå·±æœ€ä½³çš„åˆ†äº«é¢‘ç‡ã€‚ åˆ†äº«æ–¹å¼ï¼šç”¨å¸®åŠ©æ›¿ä»£æ¨é”€ æ¯å½“ä¹°å®¶æˆ–æ˜¯ä»–ä»¬èº«è¾¹çš„åœˆå­æœ‰æ‰€éœ€è¦æ—¶ï¼Œä½ æ€»èƒ½åŠæ—¶å‡ºç°ï¼Œå¹¶ä»¥é«˜æ¶µå…»ã€é«˜ä»·å€¼çš„å†…å®¹åˆ†äº«æ¥æ¢å–ç”Ÿæ„å’Œå•†æœºï¼Œä½ å°±æ—©å°±èµ¢å¾—äº†å®¢æˆ·çš„ä¿¡ä»»ï¼Œè¿™ä¹Ÿæ˜¯æŠŠæœ€åˆçš„äººé™…å…³ç³»å˜ä¸ºå•†ä¸šåˆ©æ¶¦çš„æœ€ä½³æ–¹å¼ã€‚è¿™å°±æ˜¯æˆ‘ä»¬è¯´çš„å†…å®¹è¥é”€æ–¹å¼ã€‚ äº”ã€åˆ†äº«çš„æœªæ¥å‘å±•æœªæ¥å°†ä¼šæ˜¯äººä»¬æ‰“å¼€å¿ƒæ‰‰çš„æ—¶ä»£ï¼Œå› ä¸ºäººä»¬æ„¿æ„åˆ†äº«çš„ä¿¡æ¯è¶Šå¤šï¼Œç¤¾ä¼šä½œä¸ºä¸€ä¸ªæ•´ä½“çš„è¿›æ­¥å°±è¶Šå¿«ã€‚ äººä»¬èƒ½å¤Ÿæ¥è§¦æ›´å¤šçš„ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬èƒ½å¤Ÿæ›´å¿«ã€æ›´è½»æ¾åœ°è§£å†³ç¤¾ä¼šé—®é¢˜ï¼Œæˆ‘ä»¬æ¸…æ¥šåœ°çŸ¥é“ä¸€ä»¶äº‹è¯¥ç”±è°å»åšã€‚ å½“æ‰€æœ‰äººéƒ½å¯ä»¥æ— æ‰€é¡¾å¿Œåœ°æµè§ˆä¿¡æ¯å¹¶ä¸”éšæ—¶åˆ†äº«è‡ªå·±çš„ä¿¡æ¯æ—¶ï¼Œæœªæ¥ä¼šè¿›å…¥åˆ†äº«å‹ç¤¾ä¼šã€‚ä¸ä»…æŠŠè‡ªå·±çš„æƒ³æ³•åˆ†äº«å‡ºæ¥ï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰äººå†…å¿ƒæ·±å¤„çš„ç§‘å­¦å’Œå“²å­¦æ€æƒ³è”ç³»åœ¨ä¸€èµ·ï¼Œå…±åŒåˆ†äº«ï¼Œä¸€ä¼ åã€åä¼ ç™¾ï¼Œæœ€ç»ˆæ”¹å˜è¿™ä¸ªä¸–ç•Œã€‚ å‚è€ƒï¼š å¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åˆ†äº«</tag>
        <tag>ä¸ªäººå“ç‰Œ</tag>
        <tag>å½±å“åŠ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€ŠçŸ¥è¯†çš„è¾¹ç•Œã€‹â€”â€” è‡ªä¸‹è€Œä¸Šï¼Œé“¾æ¥ä¸€åˆ‡]]></title>
    <url>%2F2018%2F%E7%9F%A5%E8%AF%86%E7%9A%84%E8%BE%B9%E7%95%8C.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦æˆ´ç»´Â·æ¸©ä¼¯æ ¼ æ˜¯å“ˆä½›å¤§å­¦ä¼¯å…‹æ›¼ç½‘ç»œä¸ç¤¾ä¼šç ”ç©¶ä¸­å¿ƒçš„èµ„æ·±ç ”ç©¶å‘˜ï¼Œè¿˜æ›¾æ‹…ä»»è¿‡ç¾å›½æ€»ç»Ÿå€™é€‰äººçš„ç½‘ç»œæ”¿ç­–é¡¾é—®ã€‚åœ¨è¿‡å»äºŒåå¤šå¹´çš„æ—¶é—´é‡Œï¼Œä»–éƒ½åœ¨æ€è€ƒäº’è”ç½‘å¯¹äºäººç±»çš„æ€æƒ³ã€æ²Ÿé€šå’Œç¤¾ä¼šçš„å½±å“ï¼Œå†™äº†å¾ˆå¤šé‡è¦çš„è‘—ä½œï¼Œå¯ä»¥ç§°å¾—ä¸Šä¸€ä½äº’è”ç½‘æ€æƒ³å®¶ã€‚ ã€ŠçŸ¥è¯†çš„è¾¹ç•Œã€‹ï¼Œè‹±æ–‡ä¹¦åä¸ºâ€œToo Big to Knowâ€ï¼Œç›´æ¥ç¿»è¯‘å°±æ˜¯â€œå¤§åˆ°ä¸å¯çŸ¥â€ã€‚çœ‹è¿™ä¸ªä¹¦åçš„æ„æ€æœ‰ç‚¹å’Œå¦ä¸€æœ¬ç•…é”€ä¹¦ã€Šæµ…è–„ - äº’è”ç½‘å¦‚ä½•æ¯’åŒ–äº†æˆ‘ä»¬çš„å¤§è„‘ã€‹è§‚ç‚¹ç±»ä¼¼ï¼šäº’è”ç½‘å¸¦æ¥äº†ä¿¡æ¯è¿‡è½½çš„é—®é¢˜ï¼ŒçŸ¥è¯†ç¢ç‰‡åŒ–çš„é—®é¢˜ï¼Œç½‘ç»œä¸–ç•Œå®åœ¨æ˜¯å¤ªå¤§äº†ï¼Œå¤§åˆ°æˆ‘ä»¬æ ¹æœ¬ä¸å¯èƒ½å»ç†è§£å®ƒã€‚ç„¶è€Œæ°æ°ç›¸åï¼Œæœ¬ä¹¦çš„ä½œè€…æˆ´ç»´Â·æ¸©ä¼¯æ ¼è®¤ä¸ºï¼Œå¦‚æœæœ‰äººè®¤ä¸ºäº’è”ç½‘æˆä¸ºäº†è·å–çŸ¥è¯†çš„é˜»ç¢ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯å› ä¸ºä»–æ²¡æœ‰çœŸæ­£ç†è§£æ­£åœ¨å‘ç”Ÿçš„çŸ¥è¯†å˜é©ï¼Œäº’è”ç½‘åˆ›é€ å‡ºçš„æ— é™è¿æ¥çš„ä¿¡æ¯ç½‘ç»œï¼Œè®©æˆ‘ä»¬æ›´æ¥è¿‘çŸ¥è¯†çš„çœŸç›¸ã€‚ ã€ŠçŸ¥è¯†çš„è¾¹ç•Œã€‹ å’Œ ã€Šæµ…è–„ - äº’è”ç½‘å¦‚ä½•æ¯’åŒ–äº†æˆ‘ä»¬çš„å¤§è„‘ã€‹ ä¸¤æœ¬ä¹¦è§‚ç‚¹æœ‰ç‚¹å¯¹ç«‹å¯ä»¥ä¸€èµ·çœ‹çœ‹ã€‚ å†…å®¹ä¸€ã€äº’è”ç½‘æ—¶ä»£çš„çŸ¥è¯†ï¼Œäººä»¬æŠ±æœ‰å“ªäº›åè§åè§1ï¼šçº¸è´¨ä¹¦æ¯”ç½‘ç»œè·å–çŸ¥è¯†æ›´å¥½ çº¸è´¨ä¹¦çœ‹ç€æœ‰â€œè´¨æ„Ÿâ€ï¼Ÿ â€œè´¨æ„Ÿâ€æ€ä¹ˆå»å®šä¹‰å‘¢ï¼ å®é™…ä¸Šï¼Œå¤§å¤šæ•°äººçœ‹çš„ä¹¦éƒ½æ˜¯é‚£ç§å»‰ä»·çš„ã€çœ‹å®Œå°±æ‰”çš„ä¸€æ¬¡æ€§ç”¨å“ã€‚ å¯èƒ½å¾ˆå¤šæ—¶å€™è¿™ç§â€œè´¨æ„Ÿâ€æ˜¯è™šè£å¿ƒçš„ä¸€ç§è¡¨ç°ã€‚ çº¸è´¨ä¹¦ä¸Šçš„çŸ¥è¯†çœŸçš„â€œæ›´æˆä½“ç³»â€å—ï¼Ÿè€Œä¸”ï¼Œä¹¦ç±è¿™ç§ä¸€é¡µä¸€é¡µè£…è®¢èµ·æ¥çš„ç‰©ç†æ€§è´¨ï¼Œå†³å®šäº†å®ƒçš„å†…å®¹å¤§å¤šæ˜¯æŒ‰é¡ºåºå±•å¼€ï¼Œä½œå®¶çš„æ€è·¯ä¹Ÿå°±è¢«å®ƒé™åˆ¶ä½äº†ã€‚ä½œå®¶åœ¨å†™ä¹¦çš„æ—¶å€™ï¼Œè®ºè¯ä¸€ä»¶äº‹æƒ…çš„æ€è·¯å°±åƒä¸€æ¡å°è·¯ï¼Œä»–ä¼šå¸¦ç€è¯»è€…ä» A åœ°åˆ° Z åœ°ï¼Œè¿™ä¹ˆä¸€è·¯èµ°ä¸‹æ¥ï¼Œæ¯ä¸€æ­¥éƒ½è¦ä»”ç»†æ¨æ•²ã€‚å¦‚æœæœ‰ä»€ä¹ˆå’Œè¿™æ¡å°è·¯ä¸åŒçš„è§‚ç‚¹ï¼Œæˆ–è€…æ˜¯ä»ä¸»è§‚ç‚¹åˆ†æ”¯å‡ºæ¥çš„å°è§‚ç‚¹ï¼Œéƒ½ä¼šå› ä¸ºæ€•å¹²æ‰°äº†è¯»è€…çš„æ³¨æ„åŠ›è€Œè¢«åˆ æ‰ã€‚è¿™æ ·å¾—åˆ°çš„çŸ¥è¯†æ˜¯åº”è¯¥æ˜¯ä¸€ä¸ªé“¾æ¡ï¼Œè¦è¯´â€œæˆä½“ç³»â€ï¼Œææ€•è¿˜è¦è¯»è€…è‡ªå·±å¤šå¤šæœç½—èµ„æ–™äº†ã€‚ åè§2ï¼šäº’è”ç½‘è®©æˆ‘ä»¬é™·å…¥äº†ä¿¡æ¯è¿‡è½½çš„ç„¦è™‘ä¿¡æ¯è¿‡è½½å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªä¼ªé—®é¢˜ã€‚ å…¶å®åœ¨äººç±»å†å²ä¸Šï¼Œä¸€ç›´éƒ½æœ‰ä¿¡æ¯è¿‡è½½çš„é—®é¢˜ã€‚ ä»Šå¤©çš„é—®é¢˜ä¸æ˜¯ä¿¡æ¯è¿‡è½½ï¼Œè€Œæ˜¯æ–°å¼çš„ä¿¡æ¯è¿‡æ»¤å™¨å¤±æ•ˆäº†ï¼Œæ¯”å¦‚è¯´ï¼Œä»¥å‰çš„è¿‡æ»¤å™¨æœ‰æŠ¥çº¸ã€ç™¾ç§‘å…¨ä¹¦ã€æ•™æï¼Œå®ƒä»¬æ˜¯æœ‰æƒå¨æ€§çš„ï¼Œä¼šå¸®è¯»è€…ç­›æ‰å¤§éƒ¨åˆ†ä¿¡æ¯ï¼Œè¿™æ ·å°±ç¼“è§£äº†äººä»¬å¯¹ä¿¡æ¯è¿‡è½½çš„ç„¦è™‘ã€‚è€Œäº’è”ç½‘çš„ä¸€ä¸ªç‰¹å¾ï¼Œå°±æ˜¯ä¿¡æ¯å‡ ä¹ä¸ä¼šè¢«çœŸæ­£åœ°è¿‡æ»¤æ‰ï¼Œå®ƒä»¬æ°¸è¿œéƒ½å­˜åœ¨ã€‚æƒ³æƒ³çœ‹ï¼Œä½ æ˜¯ä¸æ˜¯ç»å¸¸ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æ ‡é¢˜ï¼Œâ€œ2018å¹´æœ€ä¸å®¹é”™è¿‡çš„8æ¡æ–°é—»â€ï¼Œè¿™ä¸ªç­›é€‰æœ¬èº«ä¹Ÿæ˜¯ä¿¡æ¯ã€‚è€Œä¸”ï¼Œå®ƒå¹¶æ²¡æœ‰æŠŠå…¶ä»–æ²¡è¢«é€‰å…¥çš„æ–°é—»åˆ æ‰ï¼Œé‚£äº›æ–°é—»ä»ç„¶åœ¨ç½‘ä¸Šï¼Œåªä¸è¿‡å¯èƒ½åœ¨æœç´¢å¼•æ“æ’åçš„ç¬¬100ä¸‡æ¡ä¹‹åã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦é¿å…é™·å…¥ç„¦è™‘ï¼Œä¸æ˜¯è¦è¿œç¦»ä¿¡æ¯ï¼Œè€Œæ˜¯è¦ æ‰¾åˆ°æ–°çš„ä¿¡æ¯è¿‡æ»¤å™¨ã€‚æ¯”å¦‚é€šè¿‡ç¤¾äº¤ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥ä»è‡ªå·±ç†Ÿæ‚‰ã€ä¿¡ä»»çš„äººé‚£é‡Œï¼Œè·å¾—æœ‰æ•ˆçš„ä¿¡æ¯ï¼Œå¿½ç•¥å…¶ä»–æ¸ é“çš„ä¿¡æ¯ã€‚ åè§3ï¼šâ€œå›å£°å®¤æ•ˆåº”â€è®©æç«¯ä¸»ä¹‰åŠ å‰§â€œå›å£°å®¤æ•ˆåº”â€ï¼Œæ˜¯æŒ‡äººä»¬åœ¨ç½‘ä¸Šç»å¸¸ä¼šçœ‹ä¸€äº›å’Œè‡ªå·±è§‚ç‚¹ç›¸è¿‘çš„æ¶ˆæ¯ï¼Œå°±å¥½åƒåœ¨ä¸€ä¸ªå°é—­çš„ç©ºé—´é‡Œï¼Œæ„è§ç›¸ä¼¼çš„å£°éŸ³ä¸æ–­åœ°é‡å¤ï¼Œäººä»¬éƒ½ä»¥ä¸ºè¿™äº›ç‰‡é¢çš„æ¶ˆæ¯å°±æ˜¯äº‹å®äº†ã€‚ç°åœ¨æˆ‘ä»¬ç”¨çš„ä¸€äº›æ‰‹æœºè½¯ä»¶ï¼Œä¹Ÿä¼šæŒ‰ä½ çš„å–œå¥½æ¥æ¨èå†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å›å£°å®¤ã€‚å›å£°å®¤æ•ˆåº”ä¼šè®©äººä»¬æ›´å®¹æ˜“å±è”½æ‰é‚£äº›å’Œè‡ªå·±æ„è§ç›¸å·¦çš„å£°éŸ³ï¼Œå’ŒçœŸæ­£çš„ç†æ€§çŸ¥è¯†éš”ç»å¼€ï¼Œç”šè‡³æœ‰äººè®¤ä¸ºï¼Œäº’è”ç½‘å°±æ˜¯å­µåŒ–æç«¯ä¸»ä¹‰çš„æ¸©åºŠã€‚ ä¸è¿‡ï¼Œäº‹æƒ…çœŸçš„æœ‰è¿™ä¹ˆç³Ÿç³•å—ï¼Ÿæœ‰ä¸¤ä½ç¾å›½çš„ç»æµå­¦å®¶ï¼Œè·Ÿè¸ªè°ƒæŸ¥äº†äººä»¬ä¸Šç½‘æ—¶æµè§ˆçš„ç½‘ç«™ï¼Œå‘ç°æƒ…å†µå’Œæˆ‘ä»¬æƒ³è±¡çš„ä¼¼ä¹ç›¸åã€‚é‚£äº›ç»å¸¸ç™»å½•æç«¯ä¿å®ˆä¸»ä¹‰ç½‘ç«™çš„äººï¼Œä¹Ÿä¼šç™»å½•è‡ªç”±ä¸»ä¹‰çš„ç½‘ç«™ï¼Œè€Œä¸”è¿˜æ¯”ä¸€èˆ¬ä¸Šç½‘è€…ç™»å½•çš„å¯èƒ½æ€§æ›´å¤§ã€‚åè¿‡æ¥ä¹Ÿä¸€æ ·ï¼Œå¸¸å¸¸ç™»é™†æç«¯è‡ªç”±ä¸»ä¹‰ç½‘ç«™çš„äººï¼Œä¹Ÿæ›´å¯èƒ½å»è®¿é—®åä¿å®ˆä¸»ä¹‰çš„ç½‘ç«™ã€‚æ¸©ä¼¯æ ¼è¯´ï¼Œå›å£°å®¤è™½ç„¶æœ‰å››é¢é«˜å¢™ï¼Œä½†æ˜¯å› ä¸ºç½‘ç»œçš„å­˜åœ¨ï¼Œé«˜å¢™å·²ç»å˜å¾—å¯æ¸—é€äº†ã€‚åŸæ¥çš„å›å£°å®¤æ˜¯å®Œå…¨ä¸ä¸–éš”ç»çš„ï¼Œç°åœ¨çš„å›å£°å®¤å°±åƒä¸´è¡—çš„æˆ¿å­ï¼Œè¡—ä¸Šè½¦æ°´é©¬é¾™çš„å™ªéŸ³éƒ½å¯ä»¥è½»æ˜“åœ°ä¼ åˆ°å±‹é‡Œæ¥ã€‚ ç½‘ç»œä¸Šè™½ç„¶å­˜åœ¨å›å£°å®¤æ•ˆåº”ï¼Œä½†å¹¶æ²¡æœ‰æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆå¯æ€•ã€‚ åè§4ï¼šäº‹å®è¿˜æ˜¯çŸ¥è¯†çš„åŸºç¡€å—ï¼Ÿæœ€åä¸€ä¸ªåè§ï¼Œæˆ‘è¦è¯´ä¸€ä¸ªæœ€é¢ è¦†çš„ã€‚æˆ‘ä»¬å¸¸è¯´ï¼ŒæŒæ¡çŸ¥è¯†è¦æˆä½“ç³»ï¼Œè¿™è¯´æ˜æˆ‘ä»¬è®¤ä¸ºçŸ¥è¯†æ˜¯æœ‰ä¸€ä¸ªæ¡†æ¶çš„ï¼Œå®ƒçš„åœ°åŸºéå¸¸æ‰å®ï¼Œèƒ½è®©æˆ‘ä»¬åœ¨åœ°åŸºä¸Šå»ºèµ·ä¸€åº§çŸ¥è¯†å®«æ®¿ã€‚è¿™ä¸ªâ€œåœ°åŸºâ€å°±æ˜¯äº‹å®ã€‚é‚£æˆ‘å°±è¦é—®ä¸€ä¸ªé—®é¢˜äº†ï¼Œåœ¨äº’è”ç½‘æ—¶ä»£ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¸ªé—®é¢˜å¤ªå¥‡æ€ªäº†ï¼Œå°±è¯´ç§‘å­¦çŸ¥è¯†å§ï¼Œè¦ä¸æ˜¯å»ºç«‹åœ¨äº‹å®çš„åŸºç¡€ä¸Šï¼Œé‚£ä¸å°±æˆä¼ªç§‘å­¦äº†å—ï¼Ÿæˆ‘ä»¬æ¥å¬å¬æ¸©ä¼¯æ ¼æ˜¯æ€ä¹ˆè¯´çš„ã€‚ æ¸©ä¼¯æ ¼æŠŠäººç±»è¿‘ä»£å†å²åˆ’åˆ†æˆäº†ä¸‰ä¸ªé˜¶æ®µï¼Œâ€”â€” åœ¨ç»å…¸äº‹å®é˜¶æ®µï¼Œäº‹å®å¾ˆç¨€ç¼ºï¼Œæ‰¾åˆ°å¾ˆä¸å®¹æ˜“ï¼Œæ¯”å¦‚è¾¾å°”æ–‡æ›¾ç»èŠ±äº†7å¹´çš„æ—¶é—´ç ”ç©¶è—¤å£¶è¿™ç§ç”Ÿç‰©ï¼Œæœ€åç¡®å®šå®ƒæ˜¯ç”²å£³çº²çš„åŠ¨ç‰©ã€‚â€”â€” åæ¥åˆ°äº†åŸºäºæ•°æ®çš„äº‹å®é˜¶æ®µï¼Œè™½ç„¶è¿™ä¸ªæ—¶å€™æ•°æ®æ¯”åŸæ¥å¤šå¾ˆå¤šï¼Œä½†å› ä¸ºæŠ€æœ¯é™åˆ¶ï¼Œæ¯”å¦‚ç¡¬ç›˜å®¹é‡å¤ªå°ï¼Œè¿˜æ˜¯éœ€è¦æœ‰äººå¯¹æ•°æ®æ¥è¿›è¡Œç­›é€‰ï¼Œæˆ‘ä»¬å¯¹çŸ¥è¯†çš„è®¤è¯†æ²¡ä»€ä¹ˆå˜åŒ–ã€‚â€”â€” åˆ°äº†ç°åœ¨ï¼Œäººä»¬è¿›å…¥åˆ°â€œç½‘ç»œåŒ–äº‹å®â€çš„é˜¶æ®µï¼Œæ•°æ®é‡å‰§å¢ï¼ŒåŸæ¥å†™åœ¨æœŸåˆŠä¸Šçš„æ–‡ç« ï¼Œå› ä¸ºç‰ˆé¢æœ‰é™ï¼Œæ–‡ç« å¼•ç”¨çš„æ•°æ®åªèƒ½æ‘˜å½•ä¸€å°éƒ¨åˆ†å‡ºç°ã€‚è€Œç°åœ¨åœ¨ç½‘ç»œä¸Šï¼Œä¸€ä¸ªè¶…é“¾æ¥å°±å¯ä»¥äº†ï¼Œäºæ˜¯æ¯ä¸ªäººéƒ½å¯ä»¥éšæ‰‹è·å¾—å¤§é‡çš„äº‹å®ã€‚ è€Œè¿™å°±å¸¦æ¥äº†ä¸€ä¸ªçŸ›ç›¾ï¼Œäº‹å®å¤ªå¤šï¼Œæˆ‘ä»¬å¤±å»äº†å¾—å‡ºç»“è®ºçš„èƒ½åŠ›ï¼Œåè€Œæ¯”åŸæ¥æ›´å®¹æ˜“çŠ¯é”™äº†ã€‚ä½ å¯ä»¥è¯´ï¼Œæˆ‘åœ¨ä¸–ç•Œèµ„æºç ”ç©¶æ‰€æ”¶é›†çš„æ•°æ®é‡Œï¼Œæ‰¾åˆ°å…³äºå…¨çƒæ°”å€™å˜åŒ–çš„è¯æ®ã€‚ä»–ä¹Ÿå¯ä»¥è¯´ï¼Œæˆ‘ä»æ¬§æ´²åŠ¨ç‰©ç¾¤ç‰©ç§åˆ†å¸ƒçš„æ•°æ®åº“é‡Œæ‹¿åˆ°çš„æ•°æ®ï¼Œå¾—å‡ºäº†è·Ÿä½ å®Œå…¨ä¸ä¸€æ ·çš„ç»“è®ºã€‚ å¯¹äºè¿™ä¸ªæƒ…å†µï¼Œæ¸©ä¼¯æ ¼æ‹¿ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹åšäº†ä¸ªç±»æ¯”ã€‚ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ˜¯è¯´ï¼Œä¸¤ä¸ªç‰©ä½“ä¹‹é—´çš„ç›¸äº’ä½œç”¨åŠ›ï¼Œæ€»æ˜¯å¤§å°ç›¸ç­‰ï¼Œæ–¹å‘ç›¸åçš„ã€‚æ¸©ä¼¯æ ¼è§‰å¾—ï¼Œåœ¨ç½‘ç»œä¸Šï¼Œäº‹å®ä¹Ÿæ˜¯è¿™æ ·ï¼Œæ¯ä¸ªäº‹å®éƒ½æœ‰ä¸€ä¸ªâ€œåä½œç”¨åŠ›â€ï¼Œå®ƒä¸ä¸€å®šå¯¹ï¼Œä½†æ˜¯å½“å¾ˆå¤šå¾ˆå¤šäº‹å®ç›¸äº’è¿æ¥ï¼Œå„ç§ç›¸äº’ä½œç”¨åŠ›å……æ»¡äº†ç½‘ç»œçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ï¼Œäº‹å®å¤±å»äº†å®ƒå¤è€çš„ä½œç”¨ï¼Œå®ƒæ²¡æœ‰é‚£ç§æ¿ä¸Šé’‰é’‰çš„æ„Ÿè§‰äº†ã€‚ä½ è¦æ˜¯ä¸å–œæ¬¢æˆ‘çš„ç»“è®ºï¼Œå‡ ç§’é’Ÿå°±èƒ½æ‰¾åˆ°åé©³æˆ‘çš„äº‹å®ã€‚äººä»¬éƒ½è§‰å¾—è‡ªå·±çš„è§‚ç‚¹æ˜¯ç»å¯¹æ­£ç¡®çš„ï¼Œäº‹å®å˜å¾—éå¸¸æ— åŠ›ï¼Œå˜å¾—å¾ˆå®¹æ˜“è¢«æ¨ç¿»ã€‚ å¬åˆ°è¿™é‡Œï¼Œä½ ä¼šä¸ä¼šå¾ˆæ€€å¿µåŸæ¥çš„çº¸è´¨åª’ä½“æ—¶ä»£ï¼Ÿåœ¨é‚£æ—¶ï¼Œäººä»¬åœ¨æŠ¥åˆŠä¸Šæ€»èƒ½æ‰¾åˆ°ç¡®å®šçš„ç»“è®ºï¼Œè€Œä¸åƒç°åœ¨ï¼Œè¯´ä»€ä¹ˆå¥½åƒéƒ½æœ‰äººèƒ½åé©³ã€‚ä¸è¿‡æ¸©ä¼¯æ ¼æé†’æˆ‘ä»¬ï¼Œå› ä¸ºçº¸å¼ çš„æˆæœ¬é—®é¢˜ï¼Œçº¸è´¨åª’ä½“æ²¡æœ‰é‚£ä¹ˆå¤šç‰ˆé¢æ¥å‘è¡¨å…¨éƒ¨çš„äº‹å®ï¼Œè€Œä¸”å³ä½¿æœ‰é”™ï¼Œåœ¨å·²ç»åˆŠç™»çš„ç‰ˆé¢ä¸Šä¹Ÿæ— æ³•ä¿®æ”¹äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬é‚£ä¸ªæ—¶å€™ç›¸ä¿¡çš„ï¼Œå¯èƒ½ä¹Ÿä¸æ˜¯äº‹å®æœ¬èº«ï¼Œè€Œæ˜¯æŠ¥çº¸åˆŠç™»çš„æŠ¥é“ã€‚ æ‰€ä»¥æ¸©ä¼¯æ ¼æ‰è¯´ï¼Œä¼ ç»Ÿçš„çŸ¥è¯†æ˜¯çº¸å¼ çš„æ„å¤–äº§ç‰©ã€‚ äº‹å®å¤±å»äº†å®ƒå¤è€çš„ä½œç”¨ï¼Œä¸å†æ˜¯çŸ¥è¯†åšå®çš„åœ°åŸºã€‚ ç¬¬äºŒéƒ¨åˆ†ï¼Œäº’è”ç½‘å¡‘é€ å‡ºçš„å…¨æ–°çš„çŸ¥è¯†ç”Ÿæ€ç³»ç»Ÿï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆæ¨¡æ ·ï¼›äº’è”ç½‘å¡‘é€ å‡ºçš„å…¨æ–°çš„çŸ¥è¯†ç”Ÿæ€ç³»ç»Ÿã€‚æˆ‘å°†ä»çŸ¥è¯†çš„æœ¬è´¨ï¼ŒçŸ¥è¯†çš„ç”Ÿäº§æ–¹å¼ï¼ŒçŸ¥è¯†çš„ä¼ æ’­æ–¹å¼å’Œäººä»¬æ€ç»´çš„å½¢çŠ¶ï¼Œè¿™å››ä¸ªæ–¹é¢çš„å˜åŒ–æ¥è·Ÿä½ æè¿°è¿™ä¸ªç”Ÿæ€ç³»ç»Ÿã€‚ ç”Ÿç‰©å­¦ä¸Šçš„ç”Ÿæ€ç³»ç»Ÿæ˜¯è¯´ï¼Œåœ¨è‡ªç„¶ç•Œçš„ä¸€éƒ¨åˆ†ç©ºé—´é‡Œï¼Œç”Ÿç‰©å’Œç¯å¢ƒæ„æˆäº†ä¸€ä¸ªç»Ÿä¸€çš„æ•´ä½“ï¼Œè€Œç°åœ¨ç½‘ç»œä¹Ÿæ˜¯è¿™æ ·çš„ä¸€ä¸ªç³»ç»Ÿã€‚ä¹Ÿæ˜¯å› ä¸ºäº’è”ç½‘è¿™æ ·çš„ç‰¹æ€§ï¼Œå®ƒé‡æ–°å®šä¹‰äº†â€œçŸ¥è¯†â€ã€‚ æˆ‘ä»¬åŸæ¥è§‰å¾—ï¼Œå°åˆ·åœ¨å›¾ä¹¦ã€æŠ¥çº¸ä¸Šçš„æ–‡å­—å°±æ˜¯çŸ¥è¯†ï¼Œå®ƒä¼šè¢«ä¸€ç›´ä¿å­˜åœ¨å›¾ä¹¦é¦†é‡Œï¼Œæ°¸è¿œæ²¡æœ‰å˜åŒ–ã€‚ä½†æ¸©ä¼¯æ ¼æå‡ºï¼Œå…¶å®ä¸–ç•Œä¸Šæ ¹æœ¬ä¸å­˜åœ¨ä¸€ç§å«â€œçŸ¥è¯†â€çš„ä¸œè¥¿èƒ½è®©æˆ‘ä»¬è¿™ä¹ˆä¿å­˜ï¼Œåœ¨ç½‘ç»œä¸–ç•Œé‡Œï¼ŒçŸ¥è¯†ä¸åœ¨ä¹¦æœ¬é‡Œï¼Œä¹Ÿä¸åœ¨æ¯ä¸ªäººçš„å¤§è„‘é‡Œï¼Œè€Œåœ¨ç½‘ç»œæœ¬èº«ã€‚ æ€ä¹ˆç†è§£è¿™å¥è¯å‘¢ï¼Ÿä½ å¯ä»¥æŠŠäº’è”ç½‘æƒ³è±¡æˆä¸€é—´æœ‰å¥½å¤šäººçš„æˆ¿é—´ï¼Œå½“çŸ¥è¯†ç½‘ç»œåŒ–ä¹‹åï¼Œæœ€èªæ˜çš„ä¸æ˜¯æˆ¿é—´é‡Œçš„å“ªä¸ªäººï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰äººçš„ç¾¤ä½“æ™ºæ…§ï¼Œè€Œæ˜¯è¿™ä¸ªå®¹çº³äº†æ‰€æœ‰çš„äººå’Œæ€æƒ³ï¼Œå¹¶ä¸”å’Œå¤–ç•Œç›¸è¿æ¥çš„æˆ¿é—´ã€‚è¿™å°±åƒç”Ÿå‘½ä¸€æ ·ï¼Œä½ ä¸èƒ½è¯´ç”Ÿå‘½æ´»åœ¨æˆ‘ä»¬çš„ç¥ç»é‡Œã€æ´»åœ¨è¡€æ¶²é‡Œï¼Œå®ƒæ´»åœ¨ä¸€åˆ‡çš„è”ç³»å½“ä¸­ã€‚ æ—¢ç„¶çŸ¥è¯†çš„æœ¬è´¨å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£å®ƒçš„ç”Ÿäº§æ–¹å¼å’Œä¼ æ’­æ–¹å¼åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿå…ˆæ¥è¯´ç”Ÿäº§æ–¹å¼çš„å˜åŒ–ã€‚è¦è¯´ç”Ÿäº§çŸ¥è¯†çš„äººï¼Œä½ ä¸€å®šæƒ³åˆ°äº†ï¼Œé‚£å°±æ˜¯ä¸“å®¶ã€‚å¤§åˆ°å„å›½æ”¿åºœçš„æ™ºåº“ï¼Œå°åˆ°çˆ¶æ¯ä¾èµ–çš„è‚²å„¿ä¸“å®¶ï¼Œå¾ˆå¤šäººå¯¹ä»–ä»¬ç¬ƒä¿¡ä¸ç–‘ã€‚ å’Œä¸“å®¶ç›¸å¯¹çš„ï¼Œå°±æ˜¯â€œç¾¤ä¼—â€ã€‚åœ¨å¤§ä¼—ä¼ åª’æ—¶ä»£ï¼Œâ€œç¾¤ä¼—â€è¿™ä¸ªè¯å·²ç»å’Œâ€œä»ä¼—â€è”ç³»åœ¨ä¸€èµ·ã€‚æŠŠç¾¤ä¼—èšé›†åœ¨ä¸€èµ·ï¼Œå°±ä¼šå‡ºç°ç¤¾ä¼šå¿ƒç†å­¦è‘—ä½œã€Šä¹Œåˆä¹‹ä¼—ã€‹é‚£æ ·çš„æƒ…å†µï¼Œäººä»¬ä¸€æ—¦èšé›†èµ·æ¥ï¼Œå°±å˜å¾—ç›²ç›®ã€å†²åŠ¨ã€æ›´å®¹æ˜“è½»ä¿¡åˆ«äººã€‚å¦‚æœè¯´è¦æŒ‡æœ›ç¾¤ä¼—æ¥ç”Ÿäº§çŸ¥è¯†ï¼Œé‚£ç®€ç›´æ˜¯å¤©æ–¹å¤œè°­ã€‚ ä½†æ˜¯åœ¨äº’è”ç½‘æˆç†Ÿä¹‹åï¼Œæƒ…å†µå°±å˜å¾—ä¸ä¸€æ ·äº†ã€‚ç½‘ç»œèƒ½æˆä¸ºçŸ¥è¯†çš„æ¥æºï¼Œæœ‰ä¸ªå¾ˆé‡è¦çš„åŸå› æ°å¥½å°±æ˜¯å®ƒè¿æ¥äº†æ›´å¤šçš„äººã€‚å¾ˆå¤šåŸæœ¬å¯èƒ½èŠ±è´¹é«˜æ˜‚ã€è´¹æ—¶è´¹åŠ›çš„ä»»åŠ¡ï¼Œä¾é åºå¤§çš„ç½‘ç»œå¤§å†›å°±èƒ½è½»æ¾å®Œæˆã€‚ è€Œä¸”ï¼Œäº’è”ç½‘ä¹Ÿæ‰“é€šäº†ä¼ ç»Ÿä¸“å®¶ä»¬ç»†åˆ†é¢†åŸŸçš„åœˆå­ï¼Œå®ƒèƒ½è®©æ›´å¤šä¸ä¸€æ ·é¢†åŸŸçš„äººæ¥è§£å†³ç›¸åŒçš„é—®é¢˜ï¼Œè€Œè¿™å¾€å¾€æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚ æ¸©ä¼¯æ ¼åœ¨ä¹¦é‡Œç»™æˆ‘ä»¬ä¸¾äº†ä¸ªä¾‹å­ï¼Œæœ‰ä¸€åç”µåŠ›å·¥ç¨‹å¸ˆï¼Œä»–å¸®é«˜éœ²æ´å…¬å¸è§£å†³äº†ä¸€ä¸ªéš¾é¢˜ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ°ŸåŒ–ç‰©èƒ½æœ‰æ•ˆé¢„é˜²é¾‹é½¿ï¼Œä½†æ˜¯å®ƒåœ¨è¢«è£…è¿›ç‰™è†ç®¡çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å‘ç©ºæ°”é‡Œæ‰©æ•£ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿè¿™åå·¥ç¨‹å¸ˆå‘æŒ¥äº†ä»–çš„ä¸“ä¸šç‰¹é•¿ï¼Œä»–æå‡ºï¼Œåªè¦åœ¨å¾€ç‰™è†ç®¡é‡Œæ³¨å…¥æ°ŸåŒ–ç‰©çš„æ—¶å€™ï¼Œç»™æ°ŸåŒ–ç‰©åŠ ä¸Šä¸€è‚¡ç”µå­æµå°±è¡Œäº†ã€‚åœ¨ç”µå­æµçš„ä½œç”¨ä¸‹ï¼Œæ°ŸåŒ–ç‰©çš„é¢—ç²’å°±ä¼šç´§è´´ç€ç‰™è†ç®¡å£ã€‚å“ˆä½›å•†å­¦é™¢çš„æ•™æˆæ‹‰å¡å°¼è¯„ä»·è¯´ï¼Œè°çš„ä¸“ä¸šçŸ¥è¯†ç¦»é—®é¢˜è¶Šè¿œï¼Œåè€Œè¶Šå¯èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨äº’è”ç½‘çš„å¸¦åŠ¨ä¸‹ï¼ŒçŸ¥è¯†çš„ç”Ÿäº§æ–¹å¼ï¼Œæ­£åœ¨ä»â€œä¼ ç»Ÿçš„ä¸“å®¶â€å‘â€œæ¯ä¸ªäººéƒ½æ˜¯ä¸“å®¶â€è½¬å˜ã€‚ è¯´å®Œäº†ç”Ÿäº§ï¼Œæˆ‘ä»¬å†æ¥è¯´ä¼ æ’­ï¼Œäº’è”ç½‘å°†çŸ¥è¯†çš„ä¼ æ’­æ–¹å¼ä»åŸæ¥çš„é‡‘å­—å¡”æ¨¡å¼ï¼Œå˜æˆæ‰å¹³çš„ç½‘çŠ¶æ¨¡å¼ã€‚ çŸ¥è¯†çš„é‡‘å­—å¡”æ¨¡å‹ä½ å¯èƒ½ä¸é™Œç”Ÿäº†ï¼Œæœ€åº•å±‚æ˜¯æ•°æ®ï¼Œå¾€ä¸Šæ˜¯ä¿¡æ¯ï¼Œç„¶åæ˜¯çŸ¥è¯†ï¼Œæœ€é¡¶ç«¯æ˜¯æ™ºæ…§ã€‚æˆ‘ä»¬ä»¥å‰å¤„ç†ä¿¡æ¯çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯è¿™ç§é‡‘å­—å¡”æ¨¡å¼ï¼Œæ•°æ®æœ¬èº«æ²¡æœ‰ä»·å€¼ï¼Œæˆ‘ä»¬é€šè¿‡å¤„ç†æ•°æ®ï¼Œå¾—åˆ°ä¿¡æ¯ï¼Œå†é€šè¿‡å¤„ç†ä¿¡æ¯å¾—åˆ°çŸ¥è¯†ï¼Œä»¥æ­¤ç±»æ¨ã€‚æœ‰äº†è¿™ä¸ªæ¨¡å¼ï¼Œæˆ‘ä»¬å°±èƒ½å†³å®šä¼ æ’­å“ªäº›ä¸œè¥¿äº†ã€‚æœ€åº•å±‚æ²¡æœ‰ä»·å€¼çš„æ•°æ®ä¸å€¼å¾—ä¼ æ’­ï¼Œäººä»¬ä¼šé€‰æ‹©æ›´ä¸Šå±‚çš„ï¼Œæ¯”å¦‚ä¿¡æ¯ã€çŸ¥è¯†æ¥ä¼ æ’­ã€‚ æ¸©ä¼¯æ ¼è¯´ï¼Œåœ¨é‡‘å­—å¡”æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å¤„ç†çŸ¥è¯†æœ€åŸºæœ¬çš„ç­–ç•¥å°±æ˜¯è¿‡æ»¤ã€ç­›é€‰ã€‚æ¯”å¦‚æˆ‘ä»¬ä¼šè®¾è®¡ä¸€ä¸ªå¤æ‚çš„è¿‡æ»¤ç³»ç»Ÿï¼Œè¿‡æ»¤æ‰å¤§å¤šæ•°äººå†™çš„ä¸œè¥¿ï¼Œåªå‰©ä¸‹ç²¾å“æ‰èƒ½å‘è¡¨å‡ºæ¥ï¼Œé‚£è¿™ä¸ªè¿‡æ»¤ç³»ç»Ÿå¯èƒ½å°±æ˜¯æ‚å¿—ç¼–è¾‘éƒ¨ã€‚è¿™ç§é ä¸­å¤®æƒå¨æœºæ„æ¥è¿‡æ»¤çš„æ¨¡å¼ï¼Œå°±æ˜¯é‡‘å­—å¡”æ¨¡å‹ã€‚æˆ‘ä»¬çš„å•†ä¸šã€æ–‡åŒ–ã€ç§‘å­¦ã€æ”¿åºœéƒ½æ˜¯å›´ç»•ç€ä¸­å¤®æƒå¨æ¥è¿è¡Œçš„ã€‚ å½“ç„¶ï¼Œåœ¨ç½‘ç»œé‡Œï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æƒå¨ï¼Œåªä¸è¿‡ï¼Œæƒå¨æœºæ„ã€æƒå¨çš„äººä¸å†æ˜¯çŸ¥è¯†çš„ç»ˆç‚¹äº†ã€‚åœ¨ç½‘ç»œåŒ–çŸ¥è¯†é‡Œï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸æ˜¯ç»ˆç»“ç‚¹ï¼Œå®ƒä»¬æ„æˆäº†ä¸€ä¸ªæ‰å¹³çš„ç½‘ã€‚æƒ³äº†è§£è¿›åŒ–è®ºçš„çŸ¥è¯†ï¼Œå°±ç®—æœç´¢åˆ°äº†è¾¾å°”æ–‡çš„ä½œå“ï¼Œä½ ä¹Ÿå¯ä»¥ç»§ç»­ä»ä»–ä½œå“å½“ä¸­æ‰¾åˆ°å¯ä»¥å»¶ä¼¸å‡ºå»çš„é“¾æ¥ï¼Œè¿™äº›é“¾æ¥ä¼šè®©è¾¾å°”æ–‡çš„è§‚ç‚¹æ›´å®¹æ˜“ç†è§£ã€æ›´åŠ è´´è¿‘ç°ä»£ã€‚è€Œä¸”ï¼Œä¸€éƒ¨ä½œå“æ˜¯ä¸æ˜¯æƒå¨ï¼Œä¹Ÿä¸å•å•æ˜¯ç”±å•ä¸ªäººæˆ–ç»„ç»‡æ¥å†³å®šçš„ï¼Œè€Œæ˜¯åœ¨ä¸æ–­åœ°è®¨è®ºã€ç¼–è¾‘ã€ä¿®æ”¹å½“ä¸­ï¼Œé€æ¸ç¡®ç«‹çš„ã€‚ æ¸©ä¼¯æ ¼çš„è¿™ä¸ªè§‚ç‚¹ï¼Œå€’æ˜¯å’Œç‰›æ´¥å¤§å­¦çš„åŠ¨ç‰©å­¦åšå£«é©¬ç‰¹Â·é‡Œå¾·åˆ©ä¸è°‹è€Œåˆã€‚é‡Œå¾·åˆ©åœ¨ã€Šè‡ªä¸‹è€Œä¸Šã€‹è¿™æœ¬ä¹¦é‡Œæå‡ºäº†ä¸€ä¸ªè§‚ç‚¹ï¼Œä»–æŠŠäººä»¬é¢„å…ˆè®¾è®¡ä¸€å¥—æ–¹æ¡ˆå†å»æ¨å¹¿çš„è¿‡ç¨‹ï¼Œå«â€œè‡ªä¸Šè€Œä¸‹çš„è®¾è®¡â€ï¼Œè€Œé‚£ç§ä»æ··ä¹±ä¸­è‡ªå‘å‡ºç°ç§©åºçš„è¿‡ç¨‹ï¼Œå«åšâ€œè‡ªä¸‹è€Œä¸Šçš„æ¼”å˜â€ã€‚æƒ³æƒ³çœ‹ï¼ŒåŸæ¥äººä»¬å¤„ç†çŸ¥è¯†çš„é‡‘å­—å¡”æ¨¡å‹ï¼Œå°±æ˜¯ç”±æƒå¨æœºæ„è‡ªä¸Šè€Œä¸‹è®¾è®¡çš„ï¼Œè€Œåœ¨äº’è”ç½‘å½“ä¸­ï¼Œäººä»¬èƒ½ä»ç½‘ä¸Šæµ·é‡çš„æ•°æ®ä¸­ï¼Œé¡ºç€ä¸€è¿ä¸²çš„é“¾æ¥å¾—åˆ°è‡ªå·±æƒ³è¦çš„çŸ¥è¯†ï¼Œè¿™å°±æ˜¯è‡ªä¸‹è€Œä¸Šçš„æ¶Œç°ã€‚é‡Œå¾·åˆ©åœ¨ã€Šè‡ªä¸‹è€Œä¸Šã€‹è¿™æœ¬ä¹¦é‡Œè¿˜ä¸‹äº†ä¸ªæ–­è¨€è¯´ï¼Œå¥½ä¸œè¥¿å‡ ä¹éƒ½ä¸æ˜¯è®¾è®¡å‡ºæ¥ã€‚ æœ¬ä¹¦çš„ä½œè€…æ¸©ä¼¯æ ¼å€’æ²¡æœ‰è¯´å¾—è¿™ä¹ˆç»å¯¹ï¼Œå› ä¸º é‚£äº›æœ‰é”™è¯¯å’Œæœ‰å®³çš„è§‚ç‚¹ä¹Ÿèƒ½é€šè¿‡æ‰å¹³çš„ç½‘ç»œè¿…é€Ÿä¼ æ’­ã€‚ é‚£ä¹ˆï¼Œæ—¢ç„¶çŸ¥è¯†æœ‰äº†è¿™æ ·çš„å˜åŒ–ï¼Œæˆ‘ä»¬æ€è€ƒæ–¹å¼ä¼šéšç€æ€ä¹ˆå˜åŒ–å‘¢ï¼Ÿåœ¨ç¾å›½ä½œå®¶å¡å°”ã€Šæµ…è–„ã€‹è¿™æœ¬ä¹¦é‡Œï¼Œä»–æåˆ°è¯´ï¼Œç½‘ç»œä¸Šçš„é‚£äº›é—ªçƒçš„å›¾æ ‡ã€å„ç§é“¾æ¥è®©æˆ‘ä»¬å˜å¾—æ„šè ¢ã€‚å› ä¸ºè¿™äº›ä¸œè¥¿åˆ†æ•£äº†æ³¨æ„åŠ›ï¼Œå‡å¼±äº†æˆ‘ä»¬å¯¹ä¿¡æ¯â€œæ·±åŠ å·¥â€çš„èƒ½åŠ›ã€‚ æ¸©ä¼¯æ ¼æŠŠè¿™ç§èƒ½åŠ›å«åšâ€œé•¿å½¢å¼æ€è€ƒâ€çš„èƒ½åŠ›ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä½ çœ‹ï¼Œä¹¦æŠŠæ€æƒ³å›ºå®šåˆ°äº†çº¸ä¸Šï¼Œæƒ³è¦è®©è¯»è€…æ˜ç™½ä½ æœ€åçš„ç»“è®ºï¼Œé‚£å°±è¦æŠŠè®ºè¯è¿‡ç¨‹ç»†è‡´åœ°æ‘†å‡ºæ¥ï¼Œå¿…è¦çš„æ—¶å€™è¿˜è¦è§£å†³è¯»è€…å¯èƒ½æå‡ºçš„ä¸åŒæ„è§ï¼Œä¿è¯è®ºè¯çš„å®Œæ•´ã€‚æ¯”å¦‚è¾¾å°”æ–‡åœ¨å†™ã€Šç‰©ç§èµ·æºã€‹çš„æ—¶å€™ï¼Œåœ¨å…¨ä¹¦15ç« çš„å†…å®¹é‡Œï¼ŒèŠ±äº†6ç« æ¥è§£å†³ä»–è®¤ä¸ºè¯»è€…å¯èƒ½æœ‰çš„æ‰¹è¯„ã€‚è¿™å½“ç„¶å¾ˆé«˜æ˜ï¼Œä½†è¿™å¹¶ä¸æ˜¯å› ä¸ºæˆ‘ä»¬æ€æƒ³æœ¬æ¥å°±æ˜¯è¿™æ ·çš„ï¼Œè€Œæ˜¯å—é™äºä¹¦ç±çš„å½¢å¼ã€‚å› ä¸ºä¹¦æ˜¯ä¸€ç§å•å‘çš„åª’ä»‹ï¼Œä½œè€…ä¸å¾—ä¸è‡ªè¨€è‡ªè¯­ï¼Œæƒ³è±¡è¯»è€…çš„ååº”ï¼Œå®Œå–„è‡ªå·±çš„è®ºè¯ã€‚ ä¹¦å……å½“äº†â€œçŸ¥è¯†â€å¤ªé•¿æ—¶é—´çš„è½½ä½“ï¼Œæˆ‘ä»¬å°±è¯¯ä»¥ä¸ºï¼Œæ€è€ƒå°±åº”è¯¥æ˜¯é•¿å½¢å¼çš„ã€‚ é‚£ä¹ˆè„±ç¦»äº†ä¹¦ï¼ŒçŸ¥è¯†ç½‘ç»œåŒ–ä¹‹åï¼Œæ€è€ƒä¼šå›å½’æœ¬æ¥çš„æ ·å­å—ï¼Ÿé‚£ä¼šæ˜¯ä»€ä¹ˆå½¢çŠ¶çš„ï¼Ÿä½œè€…è¯´ï¼Œè¿™ç§è§‰å¾—æ€è€ƒä¸€å®šæœ‰å½¢çŠ¶çš„æƒ³æ³•ä¼šé˜»ç¢äººä»¬ï¼Œä¸é™é•¿åº¦ã€ä¸é™å½¢å¼çš„æ€è€ƒæ‰æ›´å¥½ï¼Œè€Œç½‘ç»œå°±æ˜¯è¿™æ ·ä¸€ä¸ªæ— è¾¹ç•Œçš„è½½ä½“ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ åœ¨çœ‹ã€Šæµ…è–„ã€‹è¿™æœ¬ä¹¦ï¼Œä½ æ˜¯å¯ä»¥ä»ä½œè€…è§„å®šå¥½çš„é•¿å½¢å¼æ€è€ƒä¸­è·³å‡ºæ¥çš„ï¼Œä½ å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°å…³äºè¿™æœ¬ä¹¦çš„äº‰è®ºï¼Œå¯ä»¥çœ‹çš„æ›´å¤šå…³äºäº’è”ç½‘å¯¹äººä»¬å½±å“çš„è§‚ç‚¹ã€‚è¿™äº›è§‚ç‚¹ç»„åˆèµ·æ¥ï¼Œå°±æ˜¯ä¸€å¼ æ²¡æœ‰å½¢çŠ¶çš„æ€æƒ³ä¹‹ç½‘ã€‚ é‚£æ€æƒ³çš„è¿™ç§å½¢çŠ¶çš„å˜åŒ–ï¼ŒçœŸçš„è®©æˆ‘ä»¬å˜æµ…è–„äº†å—ï¼Ÿä½œè€…ä¹Ÿä¸åŒæ„è¿™ä¸ªè§‚ç‚¹ï¼Œä»–å¼•ç”¨äº†è®¤çŸ¥ç§‘å­¦å®¶å²è’‚èŠ¬Â·å¹³å…‹çš„è¯ã€‚å¹³å…‹æ‹¿ç§‘å­¦ç ”ç©¶ä¸¾äº†ä¸ªä¾‹å­ï¼Œä»–è¯´å¦‚æœäº’è”ç½‘çœŸçš„è®©æˆ‘ä»¬å˜æ„šè ¢äº†ï¼Œé‚£ç§‘å­¦çš„è´¨é‡åº”è¯¥ç›´çº¿ä¸‹é™æ‰å¯¹ï¼Œä½†æ˜¯ä½ æƒ³ä¸€ä¸‹ï¼Œä»1994å¹´ä¸‡ç»´ç½‘è¯ç”Ÿåˆ°ç°åœ¨ï¼Œç§‘å­¦æŠ€æœ¯çš„æ–°å‘ç°æ˜¯æ›´å¤šäº†è¿˜æ˜¯æ›´å°‘äº†?ç­”æ¡ˆæ˜¾è€Œæ˜“è§ã€‚å…¶ä»–çš„ç²¾ç¥ç”Ÿæ´»é¢†åŸŸä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚æ–‡å­¦ã€è‰ºæœ¯ï¼Œéƒ½åœ¨ä¸æ–­è¿›æ­¥ï¼Œæ²¡æœ‰å€’é€€çš„è¿¹è±¡ã€‚ æ€»ç»“ä¸€ä¸‹è¿™éƒ¨åˆ†çš„å†…å®¹ã€‚äº’è”ç½‘å¡‘é€ å‡ºæ¥çš„å…¨æ–°çŸ¥è¯†ç”Ÿæ€ç³»ç»Ÿï¼Œå’ŒåŸæ¥ç›¸æ¯”éƒ½æœ‰å“ªäº›å˜åŒ–å‘¢ï¼Ÿæˆ‘ä»¬åˆ†åˆ«è®²è¿°äº†çŸ¥è¯†çš„æœ¬è´¨ã€çŸ¥è¯†çš„ç”Ÿäº§æ–¹å¼ã€çŸ¥è¯†çš„ä¼ æ’­æ–¹å¼å’Œäººä»¬æ€ç»´å½¢çŠ¶çš„å˜åŒ–ã€‚æ€»çš„æ¥çœ‹ï¼Œç½‘ç»œåŒ–çš„çŸ¥è¯†å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸–ç•Œæ›´åƒæ˜¯ä¸€ä¸ªä¸å®šå½¢çŠ¶çš„ã€ç›¸äº’äº¤ç»‡çš„ã€ä¸å¯æŒæ§çš„å¤§ç½‘ã€‚ ç¬¬ä¸‰éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸ªè·Ÿæ¯ä¸ªäººéƒ½æœ‰å…³ç³»çš„é—®é¢˜ï¼Œåœ¨è¿™ä¸ªæµ·é‡ä¿¡æ¯ã€æ— é™è¿æ¥çš„ç½‘ç»œä¸–ç•Œï¼Œæˆ‘ä»¬æ€æ ·æ‰èƒ½å˜å¾—æ›´èªæ˜ã€‚å†å²ä¸Šæ¯æ¬¡å‡ºç°ä¸åŒçš„åª’ä»‹ï¼Œéƒ½ä¼šå¸¦æ¥çŸ¥è¯†é©å‘½ï¼Œä»ç«¹ç®€åˆ°çº¸å¼ ï¼Œåˆ°å¹¿æ’­ã€ç”µè§†ï¼Œå†åˆ°ç°åœ¨çš„äº’è”ç½‘ï¼Œæ¯æ¬¡éƒ½å¸¦åŠ¨äº†äººç±»æ–‡æ˜çš„è¿›æ­¥ã€‚ æ¸©ä¼¯æ ¼è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªè¿‡ç¨‹èƒ½æ›´åŠ è¿…é€Ÿåœ°å‘ç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨çš„çŸ¥è¯†åª’ä»‹æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´åŠ ä¾¿åˆ©ã€‚ é‚£æ¥ä¸‹æ¥æˆ‘ä»¬è¦è®¨è®ºä¸€ä¸ªå’Œæ¯ä¸ªäººéƒ½æœ‰å…³ç³»çš„é—®é¢˜ï¼šæˆ‘ä»¬è¯¥æ€ä¹ˆåˆ©ç”¨ç½‘ç»œï¼Œè®©è‡ªå·±å˜å¾—æ›´èªæ˜å‘¢ï¼Ÿè¿™å°±åˆ°äº†è¿™æœ¬ä¹¦çš„æœ€åä¸€éƒ¨åˆ†ã€‚æ¸©ä¼¯æ ¼è¯´ï¼Œä¸€å¥—æ–°çš„è®¤è¯†ä¸–ç•Œçš„ç­–ç•¥æ­£åœ¨å½¢æˆï¼Œæˆ‘ä»¬è¦åœ¨æ— æ³•è¾¾æˆå…±è¯†çš„ä¸–ç•Œé‡Œæ¢ç´¢çŸ¥è¯†ï¼Œæˆ‘ä»¬è¦ä¸»åŠ¨å‡ºå‡»ã€‚ä»–ä¸ºæˆ‘ä»¬æå‡ºäº†å››ä¸ªå»ºè®®ã€‚ ç¬¬ä¸€ï¼Œæ˜¯åœ¨å¼€æ”¾çš„ç½‘ç»œç”Ÿæ€é‡Œï¼Œå¥½å¥½åˆ©ç”¨è¿‡æ»¤å™¨ã€‚æˆ‘ä»¬åœ¨å‰é¢æåˆ°ï¼Œåœ¨çº¸è´¨ä¹¦çš„æ—¶ä»£ï¼Œæœ‰å„ç§è¿‡æ»¤å™¨ä¼šå¸®åŠ©æˆ‘ä»¬è¿‡æ»¤å†…å®¹ã€‚åœ¨å¼€æ”¾çš„ç”Ÿæ€é‡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¼šä»å›¾ä¹¦å‡ºç‰ˆç¤¾ã€æœŸåˆŠç¼–è¾‘é‚£é‡Œå—ç›Šï¼Œåªä¸è¿‡æˆ‘ä»¬è¦å­¦ä¹ å¦‚ä½•æ‰èƒ½æ··åˆä½¿ç”¨è¿™äº›è¿‡æ»¤å™¨ï¼Œæ€ä¹ˆç”¨ä¸€äº›è¿‡æ»¤å™¨ä½œä¸ºå…¶ä»–è¿‡æ»¤å™¨çš„æŒ‡æ ‡ã€‚åˆ©ç”¨å¥½è¿™ä¸ªè¿‡æ»¤ä½“ç³»ï¼Œä½ å°±èƒ½æ›´å¥½åœ°åˆ©ç”¨è¿™ä¸ªå¼€æ”¾çš„ç½‘ç»œã€‚ ç¬¬äºŒä¸ªå»ºè®®æ˜¯ï¼Œä¸Šä¼ èµ„æ–™æ—¶ï¼Œè¦ä¸Šä¼ â€œå…³è”æ•°æ®â€ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šå¾ˆå¤šå…³äºåŒ–å­¦å…ƒç´ çš„ä¿¡æ¯ï¼Œé‚£ä½ åœ¨ä¸Šä¼ çš„æ—¶å€™ï¼Œä¸è¦ä¸Šä¼ å•ä¸ªçš„æ•°æ®ï¼Œè€Œå¯ä»¥ç”¨ä¸€ç§â€œä¸‰å…ƒç»„â€çš„å½¢å¼ä¸Šä¼ ã€‚ä¸‰å…ƒç»„å°±æ˜¯åŒ…å«ä¸¤ä¸ªå¯¹è±¡å’Œä¸€ç§å…³ç³»ï¼Œæ¯”å¦‚â€œæ±â€å’Œâ€œå…ƒç´ â€åˆ†åˆ«æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬çš„å…³ç³»å°±æ˜¯â€œæ±æ˜¯ä¸€ç§å…ƒç´ â€ã€‚å› ä¸ºâ€œæ±â€è¿™ä¸ªè¯åœ¨è‹±è¯­é‡Œè¿˜ä»£è¡¨æ°´æ˜Ÿï¼Œè¿˜ä»£è¡¨ç½—é©¬ç¥è¯çš„é‡Œçš„ä¸€ä¸ªç¥ï¼Œæ‰€ä»¥ä¸‰å…ƒç»„çš„å¥½å¤„å°±æ˜¯è¶…è¶Šäº†å•ä¸ªæ•°æ®ï¼Œè®©æ•°æ®ä¹‹é—´å‘ç”Ÿè”ç³»ï¼Œå˜æˆäº†çŸ¥è¯†ã€‚æƒ³æƒ³çœ‹ï¼Œå½“ç§‘å­¦ã€å•†ä¸šã€æ–‡åŒ–ç­‰ç­‰æ‰€æœ‰é¢†åŸŸçš„äººéƒ½è¿™ä¹ˆåšçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±èƒ½æ‹¿åˆ°å‰æ‰€æœªæœ‰çš„ã€å·¨å¤§çš„èµ„æºã€‚æ¸©ä¼¯æ ¼è¯´ï¼Œè¿™ç§èµ„æºå°±æ˜¯ä¸€ä¸ªæ•°æ®å…¬åœ°ï¼Œæˆ‘ä»¬æ‰åˆšåˆšçŸ¥é“å®ƒçš„å˜é©ä½œç”¨ã€‚ ç¬¬ä¸‰ä¸ªå»ºè®®æ˜¯å±•ç¤ºä½ çš„å·¥ä½œï¼Œé“¾æ¥ä¸€åˆ‡ã€‚åœ¨äº’è”ç½‘æ—¶ä»£ï¼Œæ¸©ä¼¯æ ¼è®¤ä¸ºæˆ‘ä»¬çš„çŸ¥è¯†ç³»ç»Ÿåº”è¯¥æ˜¯å¼€æ”¾å–ç”¨æœŸåˆŠé‚£æ ·çš„ã€‚æ¯”å¦‚ï¼Œç§‘å­¦å¤§åˆŠã€Šè‡ªç„¶ã€‹æ‚å¿—ï¼Œå¯ä»¥è¯´æ˜¯åœ¨é‡‘å­—å¡”é¡¶ç«¯çš„æ‚å¿—äº†ã€‚å®ƒç°åœ¨å·²ç»åˆ›åŠäº†è‡ªå·±çš„ç½‘ç»œç‰ˆï¼Œå¯ä»¥ä¸å—é¡µé¢çš„é™åˆ¶åˆŠç™»æ‰€æœ‰æœ‰ä»·å€¼çš„æ–‡ç« ï¼Œç ”ç©¶è€…ä»¬å¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŠŠè‡ªå·±çš„ç ”ç©¶ä¸Šä¼ ï¼Œè®©å…¶ä»–äººèƒ½æ›´å¿«åœ°æ¥è§¦åˆ°æœ‰ä»·å€¼çš„è§‚ç‚¹ã€‚è€Œä¸”ï¼Œä¹Ÿè¦æŠŠä½ çš„ä½œå“é“¾æ¥åˆ°æ›´å¤šçš„æ–‡ç« ã€‚å’±ä»¬å‰é¢å·²ç»è¯´äº†å¾ˆå¤šå…³äºé“¾æ¥çš„å¥½å¤„ï¼Œå®ƒèƒ½è®©æˆ‘ä»¬æ‰¾åˆ°æ‰€æœ‰æ„Ÿå…´è¶£çš„çŸ¥è¯†ã€‚è¿™ä¸ªæƒ³æ³•å‡¯æ–‡Â·å‡¯åˆ©åœ¨ã€Šå¤±æ§ã€‹è¿™æœ¬ä¹¦é‡Œä¹Ÿè¯´è¿‡ï¼Œä»–è¯´ï¼Œåœ¨æœªæ¥ï¼Œè¿æ¥æ‰æ˜¯ç‹é“ã€‚ä»–æŠŠæ•´ä¸ªä¸–ç•Œçš„ç‰©è´¨éƒ½å«åšâ€œè¿›åŒ–ä½“â€ï¼Œä¸ç®¡æ˜¯çŸ³å¤´ã€é’è›™ã€äººç±»ã€å›½å®¶ï¼Œè¿˜æ˜¯äº’è”ç½‘ï¼Œå®ƒä»¬éƒ½æ˜¯æ‰“é€šçš„ã€‚è€Œè¿›åŒ–ä½“å†…éƒ¨ä¸ªä½“è¿æ¥çš„ç¨‹åº¦è¶Šé«˜ï¼Œè¿™ä¸ªè¿›åŒ–ä½“å°±è¶Šä¼˜ç§€ã€‚ æœ€åä¸€ä¸ªå»ºè®®æ˜¯ï¼Œå­¦ä¼šæ‹¥æŠ±ä¸åŒã€‚ç½‘ä¸Šçš„çŸ¥è¯†è¶Šæ¥è¶Šå¤šï¼Œæˆ‘ä»¬è¦å­¦ä¼šç”¨æ‰¹åˆ¤æ€§æ€ç»´å»åˆ†è¾¨å“ªäº›æ˜¯åºŸè¯ï¼Œå“ªäº›æ˜¯è¯æ®å……åˆ†çš„ç»“è®ºã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿè¦æ³¨æ„ï¼Œæƒ³è¦é¿å…å›å£°å®¤æ•ˆåº”ï¼Œæˆ‘ä»¬å°±è¦å­¦ä¼šåŒ…å®¹ä¸åŒçš„è§‚ç‚¹ï¼Œä¸è¦åªå…³å¿ƒè‡ªå·±ç†Ÿæ‚‰çš„ã€å’Œè‡ªå·±æ„è§ä¸€è‡´çš„è§‚ç‚¹ã€‚æ¸©ä¼¯æ ¼è¯´ï¼Œæˆ‘ä»¬ä¸€ç›´æ˜¯åœ¨æŠ€æœ¯çš„èŒƒç•´é‡Œç†è§£è‡ªå·±ï¼Œæƒ³æƒ³çœ‹ï¼ŒçŸ¥è¯†çš„è½½ä½“æ˜¯ä¹¦ç±æ—¶ï¼Œäººä»¬çš„æ€è€ƒå½¢çŠ¶å°±æ˜¯é•¿å½¢å¼çš„æ€è€ƒï¼Œè€Œäº’è”ç½‘çªç ´äº†è¿™ä¸ªæ€è€ƒæ¨¡å¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè‡ªå·±æƒ³è±¡æˆä¸€å¸§ç½‘é¡µï¼Œè®©è¶…é“¾æ¥è¿™ä¸ªæ–°å‹çš„åŸºç¡€è®¾æ–½ï¼Œå¸¦ç»™æˆ‘ä»¬æ›´å¤šçš„ã€å¯¹è‡ªèº«çš„æ–°å‘ç°ã€‚ æ€»ç»“äººä»¬å¯¹äº’è”ç½‘å’ŒçŸ¥è¯†æœ€å¤§çš„å››ä¸ªåè§ã€‚ ç¬¬ä¸€ï¼Œçº¸è´¨ä¹¦çœŸçš„æ¯”ç½‘ç»œè·å–çŸ¥è¯†æ›´å¥½å—ï¼Ÿæ¸©ä¼¯æ ¼è®¤ä¸ºï¼Œäººä»¬åªæ˜¯æŠŠå›¾ä¹¦è¿‡åˆ†æµªæ¼«åŒ–äº†ã€‚è€Œä¸”å—é™äºä¹¦ç±çš„å½¢å¼ï¼Œæˆ‘ä»¬åªèƒ½è·Ÿéšè€…ä½œè€…çš„æ€è·¯ï¼Œæ‹¿åˆ°ä¸€ä¸ªâ€œé“¾æ¡çŠ¶â€çš„çŸ¥è¯†ï¼Œè€Œä¸èƒ½åƒåœ¨äº’è”ç½‘é‡Œä¸€æ ·ï¼Œå‘æ•£æ€ç»´ï¼Œå¼€ææ•£å¶ã€‚ ç¬¬äºŒï¼Œç°ä»£äººä»¬çš„ç„¦è™‘ï¼Œæ˜¯å› ä¸ºä¿¡æ¯è¿‡è½½å—ï¼Ÿæ¸©ä¼¯æ ¼è®¤ä¸ºï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿‡æ»¤å™¨å¤±æ•ˆäº†ï¼Œå®ƒä¸å†èƒ½å¸®æˆ‘ä»¬åˆ æ‰ä¿¡æ¯ï¼Œåè€Œä¼šå¢åŠ ä¿¡æ¯ã€‚ ç¬¬ä¸‰ï¼Œå›å£°å®¤æ•ˆåº”ä¼šè®©æç«¯ä¸»ä¹‰åŠ å‰§å—ï¼Ÿç½‘ç»œä¸Šè™½ç„¶å­˜åœ¨å›å£°å®¤æ•ˆåº”ï¼Œä½†å¹¶æ²¡æœ‰æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆå¯æ€•ã€‚æˆ‘ä»¬è¿›å…¥ä¸€ä¸ªå›å£°å®¤ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ç‰‡å˜ˆæ‚å½“ä¸­å¬è¿‡äº†å¾ˆå¤šå£°éŸ³ä¹‹åï¼Œæ‰è¿›å…¥çš„ã€‚ ç¬¬å››ï¼Œäº‹å®è¿˜æ˜¯çŸ¥è¯†çš„åŸºç¡€å—ï¼Ÿæ¸©ä¼¯æ ¼è¯´ï¼Œåœ¨äº’è”ç½‘ä¸Šï¼Œå¦‚æœä½ ä¸å–œæ¬¢æˆ‘çš„ç»“è®ºï¼Œé‚£ä½ å¾ˆå¿«å°±èƒ½æ‰¾åˆ°åé©³æˆ‘çš„äº‹å®ã€‚äº‹å®å¤±å»äº†å®ƒå¤è€çš„ä½œç”¨ï¼Œä¸å†æ˜¯çŸ¥è¯†åšå®çš„åœ°åŸºã€‚ ä»çŸ¥è¯†çš„æœ¬è´¨ã€çŸ¥è¯†çš„ç”Ÿäº§æ–¹å¼ã€çŸ¥è¯†çš„ä¼ æ’­æ–¹å¼å’Œäººä»¬æ€ç»´çš„å½¢çŠ¶ï¼Œè¿™å››ä¸ªè§’åº¦æ¥ç»™ä½ æè¿°äº†äº’è”ç½‘å¡‘é€ å‡ºçš„ã€å…¨æ–°çš„çŸ¥è¯†ç”Ÿæ€ç³»ç»Ÿã€‚ åœ¨äº’è”ç½‘æ—¶ä»£ï¼ŒçŸ¥è¯†çš„æœ¬è´¨å‘ç”Ÿäº†å˜åŒ–ï¼Œå®ƒä¸å†æ˜¯ä¹¦æœ¬ä¸Šå›ºå®šçš„æ–‡å­—ï¼Œä¹Ÿä¸æ˜¯ç½‘ç»œä¸Šçš„ä¿¡æ¯ï¼Œè€Œæ˜¯ç½‘ç»œæœ¬èº«ã€‚ çŸ¥è¯†çš„ç”Ÿäº§æ–¹å¼æ­£åœ¨ä»â€œä¼ ç»Ÿçš„ä¸“å®¶â€å‘â€œæ¯ä¸ªäººéƒ½æ˜¯ä¸“å®¶â€è½¬å˜ï¼Œè€ŒçŸ¥è¯†çš„ä¼ æ’­æ–¹å¼ï¼Œæ­£åœ¨ä»åŸæ¥çš„é‡‘å­—å¡”æ¨¡å¼ï¼Œå˜æˆæ‰å¹³çš„ç½‘çŠ¶æ¨¡å¼ã€‚çŸ¥è¯†çš„è¿™äº›å˜åŒ–ä¹Ÿè®©æˆ‘ä»¬çš„æ€è€ƒæ–¹å¼å‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä»¬åŸæ¥å—é™äºä¹¦æœ¬çš„é™åˆ¶ï¼Œéƒ½æ˜¯ä» A åˆ° Z çš„é•¿å½¢å¼æ€è€ƒï¼Œè€Œäº’è”ç½‘çš„è¶…é“¾æ¥å¸®åŠ©æˆ‘ä»¬ï¼Œèƒ½æŠŠè¿™æ¡é“¾æ¡æ‰©å±•æˆä¸€å¼ ç½‘ã€‚ æœ€åï¼Œæ¸©ä¼¯æ ¼ç»™å‡ºäº†å››æ¡è®©æˆ‘ä»¬èƒ½æ›´å¥½åœ°åˆ©ç”¨äº’è”ç½‘çš„å»ºè®®ã€‚ç¬¬ä¸€æ˜¯åœ¨å¼€æ”¾çš„ç½‘ç»œç”Ÿæ€é‡Œï¼Œå­¦ä¼šæ··åˆåˆ©ç”¨è¿‡æ»¤å™¨ï¼Œè®©ä¸€äº›è¿‡æ»¤å™¨æˆä¸ºç­›é€‰å…¶ä»–è¿‡æ»¤å™¨çš„æŒ‡æ ‡ã€‚ç¬¬äºŒä¸ªå»ºè®®æ˜¯ä¸Šä¼ èµ„æ–™æ—¶ï¼Œè¦ä¸Šä¼ â€œå…³è”æ•°æ®â€ï¼Œè®©æ•°æ®å’Œæ•°æ®ä¹‹é—´å‘ç”Ÿè”ç³»ï¼Œå˜æˆçŸ¥è¯†ã€‚ç¬¬ä¸‰ä¸ªå»ºè®®æ˜¯å±•ç¤ºä½ çš„å·¥ä½œï¼Œè®©æœ‰ä»·å€¼çš„è§‚ç‚¹èƒ½åŠæ—¶è®©äººä»¬çœ‹åˆ°ï¼Œå¹¶ä¸”é“¾æ¥ä¸€åˆ‡ï¼Œé“¾æ¥è¶Šå¤šï¼Œç½‘ç»œå°±ä¼˜ç§€ã€‚ç¬¬å››ä¸ªå»ºè®®æ˜¯ï¼Œå­¦ä¼šæ‹¥æŠ±ä¸åŒï¼Œæˆ‘ä»¬æ—¢è¦ç”¨æ‰¹åˆ¤æ€§æ€ç»´çœ‹å¾…åˆ«äººçš„è§‚ç‚¹ï¼Œä¹Ÿè¦åŒ…å®¹ä¸åŒçš„æ„è§ã€‚è¯·æŠŠè‡ªå·±å½“æˆä¸€å¸§ç½‘é¡µï¼Œå’Œä¸–ç•Œåšæ›´å¤šçš„è¿æ¥ï¼Œæ”¶è·æ›´å¤šå¯¹è‡ªèº«çš„ç†è§£ã€‚ ä¿¡æ¯ç½‘ç»œçš„è¿™ç§è¶…é“¾æ¥ï¼Œçš„ç¡®ä¼šè¯±æƒ‘æˆ‘ä»¬ä¸€è·¯å‘å‰ã€ä¸åœåœ°ç‚¹å‡»ï¼Œä¸è¿‡æˆ‘ä»¬æ¢ä¸ªè§’åº¦æ¥æƒ³ï¼Œå¦‚æœè¿™ä¸ªè¯±æƒ‘è®©æˆ‘ä»¬åç¦»äº†æœ¬æ¥çš„ç›®çš„ï¼Œé‚£ä¹Ÿè®¸å®ƒçœŸçš„æ¶ˆè€—äº†æˆ‘ä»¬çš„ä¸“æ³¨åŠ›ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆä¸€ç§æ–°çš„å­¦ä¹ å½¢å¼ã€‚å› ä¸ºå®ƒä¸ä»…è¿…é€Ÿåœ°å¸®æˆ‘ä»¬è§£ç­”äº†å›°æƒ‘ï¼Œä¹Ÿè®©æˆ‘ä»¬èƒ½æ²¿ç€è‡ªå·±çš„å…´è¶£å»æ¢ç´¢ã€‚ æ¸©ä¼¯æ ¼åæ¥åœ¨ä¸€æ¬¡æ¥å—ä¸­å›½åª’ä½“é‡‡è®¿çš„æ—¶å€™è¯´ï¼ŒçŸ¥è¯†ç½‘ç»œå¹¶ä¸å…³å¿ƒæˆ‘ä»¬ä»å“ªé‡Œè·å¾—çŸ¥è¯†ï¼Œæ— è®ºæ˜¯ä»ç½‘ç»œä¸Šå…è´¹è·å–ï¼Œè¿˜æ˜¯ä»ä¹¦æœ¬ã€è¯¾ç¨‹é‡Œä»˜è´¹å¾—åˆ°ã€‚å®ƒå…³å¿ƒçš„æ˜¯ï¼Œåœ¨è·å–çŸ¥è¯†ä¹‹åï¼Œä½ æ˜¯ä¸æ˜¯èƒ½å’Œåˆ«äººæ„æˆç½‘ç»œï¼Œä¸€èµ·ç†è§£è¿™ä¸ªçŸ¥è¯†ï¼Ÿäº’è”ç½‘å½¢æˆäº†æ¯”èµ·èªæ˜äººè¿˜è¦èªæ˜çš„ä¸“å®¶ç½‘ç»œï¼Œç½‘ç»œèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´èªæ˜ï¼Œåªè¦æˆ‘ä»¬è‡ªå·±æƒ³è¦æ›´èªæ˜ã€‚ å‚è€ƒï¼š å¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†</tag>
        <tag>äº’è”ç½‘</tag>
        <tag>çº¸è´¨ä¹¦</tag>
        <tag>ç”µå­ä¹¦</tag>
        <tag>é“¾æ¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šè…¾è®¯ä¼ ã€‹â€”â€” è…¾è®¯çš„å‘å±•ä¹Ÿæ˜¯ä¸­å›½äº’è”ç½‘ä¼ä¸šçš„ç¼©å½±]]></title>
    <url>%2F2018%2F%E8%AF%BB%E3%80%8A%E8%85%BE%E8%AE%AF%E4%BC%A0%E3%80%8B.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦å´æ™“æ³¢ï¼šè‘—åè´¢ç»ä½œå®¶ï¼Œâ€œå´æ™“æ³¢é¢‘é“â€ã€è“ç‹®å­å‡ºç‰ˆåˆ›å§‹äººï¼Œå¸¸å¹´ä»äº‹ä¸­å›½ä¼ä¸šå²å’Œå…¬å¸æ¡ˆä¾‹ç ”ç©¶ã€‚è‘—æœ‰ã€Šå¤§è´¥å±€ã€‹Iå’ŒIIã€ã€Šæ¿€è¡ä¸‰åå¹´ã€‹ã€Šè·Œè¡ä¸€ç™¾å¹´ã€‹ã€Šæµ©è¡ä¸¤åƒå¹´ã€‹ã€Šå†ä»£ç»æµå˜é©å¾—å¤±ã€‹ç­‰å¹¿å…·å½±å“åŠ›çš„è´¢ç»ä¹¦ç±ï¼Œè‘—ä½œä¸¤æ¬¡å…¥é€‰ã€Šäºšæ´²å‘¨åˆŠã€‹å¹´åº¦æœ€ä½³å›¾ä¹¦ã€‚ ã€Šè…¾è®¯ä¼ 1998-2016ï¼šä¸­å›½äº’è”ç½‘å…¬å¸è¿›åŒ–è®ºã€‹ï¼Œè…¾è®¯å®˜æ–¹å”¯ä¸€æˆæƒçš„æƒå¨ä¼ è®°ï¼Œè…¾è®¯çš„å‘å±•è·¯å¾„ï¼Œäº¦æ˜¯ä¸­å›½äº’è”ç½‘ä¼ä¸šæˆé•¿çš„ç¼©å½±ã€‚è¯»æ‡‚è…¾è®¯ï¼Œè¯»æ‡‚ä¸­å›½äº’è”ç½‘ã€‚ å†…å®¹0)å‰è¨€ è°èƒ½å®šæ ¼ä¸€åº§æ­£åœ¨å–·å‘çš„ç«å±± â€œåœ¨äº’è”ç½‘è¡Œä¸šé‡Œï¼Œæ‰€æœ‰äººçš„çœ¼ç›éƒ½ç›¯ç€æœªæ¥ï¼Œæ˜¨å¤©ä¸€æ—¦è¿‡å»ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚â€ ä¸€ä¸ªä¼˜ç§€ç”»å®¶åº”å½“æç”»ä¸¤ä»¶ä¸»è¦çš„ä¸œè¥¿ï¼Œå³äººå’Œä»–çš„æ€æƒ³æ„å›¾ã€‚ç¬¬ä¸€ä»¶äº‹åšåˆ°å¾ˆå®¹æ˜“ï¼Œç¬¬äºŒä»¶äº‹æƒ…å°±å¾ˆéš¾ã€‚ â€œè¦çŸ¥é“æˆ‘ä»¬è¯´çš„ä¸œè¥¿å¾ˆå®¹æ˜“ï¼Œä½†è¦çŸ¥é“æˆ‘ä»¬ä¸ºä½•è¿™æ ·è¯´å´éå¸¸éš¾ã€‚â€ â€œä¸–ä¸Šå°šæœªå‘ç”Ÿè¿‡ä»»ä½•æ€»ç»“æ€§çš„äº‹æƒ…ï¼Œä¹Ÿæ— äººè¯´è¿‡é’ˆå¯¹ä¸–ç•Œï¼Œæˆ–å…³äºä¸–ç•Œçš„æœ€ç»ˆæ€»ç»“ã€‚è¿™ä¸–ç•Œæ˜¯å¼€æ”¾è‡ªç”±çš„ï¼Œæ‰€æœ‰ä¸€åˆ‡ä»æœ‰å¾…äºå°†æ¥ï¼Œè€Œä¸”æ°¸è¿œå¦‚æ­¤ã€‚â€ åˆ›ä¸šï¼š1998-2004 â€œä»»ä½•èƒ½æ‰“ç ´å¯¹äºäººã€äº§å“å’Œä¿¡æ¯çš„æ—¶ç©ºé™åˆ¶çš„æ–°å‘å±•ï¼Œéƒ½ä¼šå¯¹å•†ä¸šè¿ä½œçš„æ–¹å¼äº§ç”Ÿå·¨å¤§çš„å½±å“ã€‚â€ å°é˜¿å°”å¼—é›·å¾·Â·é’±å¾·å‹’ åœ¨ç ”ç©¶ç¾å›½æ—©æœŸå·¥å•†ä¼ä¸šçš„å‘å®¶å²ä¸­ï¼Œæå‡ºè¿‡è‘—åçš„â€œæˆé•¿å››é˜¶æ®µâ€è®ºï¼Œ å³ç§¯ç´¯èµ„æºã€èµ„æºçš„åˆç†åŒ–åˆ©ç”¨ã€æŒç»­å¢é•¿å’Œå¯¹æ‰©å±•ä¸­çš„èµ„æºçš„åˆç†åˆ©ç”¨ è…¾è®¯çš„æ¡ˆä¾‹ä¸­å¯è§ï¼Œä¸­å›½äº’è”ç½‘ä»ä¸šè€…åœ¨åº”ç”¨æ€§åˆ›æ–°ä¸Šçš„èƒ½åŠ›å’Œé€Ÿåº¦å¹¶ä¸é€Šè‰²äºä»»ä½•å›½é™…åŒè¡Œï¼Œè¿™ä¸€ç‰¹å¾ä¸ç”µå­äº§å“ã€æ±½è½¦ã€åŒ»è¯ã€æœºæ¢°è£…å¤‡ç­‰é¢†åŸŸå‘ç”Ÿçš„æ™¯è±¡å®Œå…¨ä¸åŒ ç½‘ç»œç¯å¢ƒã€ç”¨æˆ·ä¹ æƒ¯ã€æ”¯ä»˜ä½“ç³»ã€å›½å®¶æ”¿ç­–ç­‰å®¢è§‚æ¡ä»¶ ä¸­å›½åœ¨ç§»åŠ¨é€šä¿¡é¢†åŸŸçš„å¢å€¼æœåŠ¡èµ·æ­¥æ¯”ç¾å›½æ—©å¾—å¤š 2000å¹´åº•ï¼Œâ€œç§»åŠ¨æ¢¦ç½‘â€ å‡ºå‡»ï¼š2005-2009 â€œæœºå™¨åº”è¯¥å·¥ä½œï¼Œäººç±»åº”è¯¥æ€è€ƒã€‚â€â€”â€” æ‰˜é©¬æ–¯Â·æ²ƒæ£®ï¼ˆIBMï¼‰ è™šæ‹Ÿé“å…·çš„å¸é‡‘èƒ½åŠ›ï¼Œå¹¶ä»¥åŒ…æœˆæ¨¡å¼åˆ›é€ æ€§åœ°æ¿€å‘å‡ºä¸­å›½ç½‘æ°‘çš„æ¶ˆè´¹çƒ­æƒ… ä¼ ç»Ÿçš„ä¸‰å¤§æ–°é—»é—¨æˆ·â€”â€”æ–°æµªã€æœç‹å’Œç½‘æ˜“ï¼Œè…¾è®¯ä»¥è¿‚å›æˆ˜æœ¯æ‚„æ‚„è¶…è¶Šã€‚åˆ˜èƒœä¹‰é‡æ–°å®šä¹‰äº†ç½‘ç»œå¹¿å‘Šçš„æŠ•æ”¾è§„åˆ™ï¼Œå¹¶è·å¾—äº†å¹¿å‘Šä¸»çš„è®¤åŒï¼Œè€ŒQQè¿·ä½ é¦–é¡µå¯¹æµé‡çš„å·¨å¹…æ‹‰åŠ¨æ›´æ˜¯è®©æ‰€æœ‰å¯¹æ‰‹æ— å¯å¥ˆä½•ã€‚ â€æˆé•¿æ€»æ˜¯è„†å¼±çš„â€ è…¾è®¯åœ¨2010åªæœ‰é‡åˆ°ç©ºå‰çš„è´¨ç–‘å’Œæ”»å‡» å·¨å¤´ï¼š2010-2016ä¸­å›½äº’è”ç½‘çš„ä¸‰æ¬¡â€œåœˆåœ°è¿åŠ¨â€ã€‚ ç¬¬ä¸€æ¬¡æ˜¯åœ¨1999å¹´å‰åï¼Œä»¥æ–°é—»é—¨æˆ·ä¸ºåŸºæœ¬ä¸šæ€ï¼Œå‡ºç°äº†æ–°æµªã€æœç‹å’Œç½‘æ˜“â€œä¸‰å·¨å¤´â€ã€‚ 2007å¹´ä¹‹åï¼Œå‡ºç°äº†ä»¥åº”ç”¨å¹³å°ä¸ºåŸºæœ¬ä¸šæ€çš„å¤§æ´—ç‰Œï¼Œé—¨æˆ·ä»¬é™·å…¥â€œæ¨¡å¼å›°å¢ƒâ€ï¼Œå‡ºç°äº†æˆé•¿ä¹åŠ›çš„æ€åŠ¿ï¼Œè€Œç™¾åº¦ã€é˜¿é‡Œå·´å·´å’Œè…¾è®¯åˆ™åˆ†åˆ«ä»æœç´¢ã€ç”µå­å•†åŠ¡å’Œå³æ—¶é€šä¿¡å·¥å…·ä¸‰ä¸ªæ–¹å‘å‡ºå‘ï¼Œåˆ°2010å¹´å‰åå®Œæˆäº†åå‘è¶…è¶Šï¼Œæˆä¸ºâ€œæ–°ä¸‰å·¨å¤´â€ï¼Œå®ƒä»¬è¢«åˆç§°ä¸ºBATã€‚ ä»2012å¹´å¼€å§‹ï¼Œæ™ºèƒ½æ‰‹æœºå¼‚å†›çªèµ·ï¼Œäº’è”ç½‘çš„ç”¨æˆ·é‡å¿ƒä»ç”µè„‘ç«¯å‘ç§»åŠ¨ç«¯å¿«é€Ÿå¹³ç§» é©¬åŒ–è…¾çš„ä¸ƒç§æ­¦å™¨ ä¸€ä½åˆ›å§‹å‹ä¼ä¸šå®¶çš„æ€§æ ¼å’Œæ‰èƒ½ï¼Œå°†æœ€ç»ˆå†³å®šè¿™å®¶ä¼ä¸šçš„æ‰€æœ‰ä¸ªæ€§ã€‚ äº§å“æç®€ä¸»ä¹‰ å°‘å°±æ˜¯æœ€åˆé€‚çš„â€ï¼Œ â€œDonâ€™t make me thinkï¼ï¼ˆåˆ«è®©æˆ‘æ€è€ƒï¼ï¼‰â€ï¼Œ â€œè®©åŠŸèƒ½å­˜åœ¨äºæ— å½¢ä¹‹ä¸­â€ è…¾è®¯ä¹Ÿæ˜¯å·¥ç¨‹å¸ˆæ–‡åŒ–ä¸äº§å“ç»ç†æ–‡åŒ–èåˆçš„æ ‡æœ¬ã€‚ ç”¨æˆ·é©±åŠ¨æˆ˜ç•¥ æŠ€æœ¯é©±åŠ¨ã€åº”ç”¨é©±åŠ¨ã€ç”¨æˆ·å’ŒæœåŠ¡é©±åŠ¨ å†…éƒ¨èµ›é©¬æœºåˆ¶ è¯•é”™è¿­ä»£ç­–ç•¥ ç”Ÿæ€å…»æˆæ¨¡å¼ èµ„æœ¬æ•´åˆèƒ½åŠ› ä¸“æ³¨åˆ›ä¸šåˆå¿ƒ ä¸¤ä¸ªäº’è”ç½‘ä¸–ç•Œï¼šç¾å›½çš„ï¼Œä¸­å›½çš„ ä¸­å›½äº’è”ç½‘æ²¡æœ‰ç»è¿‡æ—©æœŸçš„éå•†ä¸šé˜¶æ®µï¼Œä¸€å¼€å§‹å®ƒå°±æ˜¯ä¸€ä¸ªèµ„æœ¬çš„èˆå°ï¼Œæ‰€ä»¥äº’è”ç½‘æœ¬èº«çš„æ°‘ä¸»æ€§ã€éä¸­å¿ƒæ€§ï¼Œåœ¨ä¸­å›½ä»æ¥éƒ½æ²¡æœ‰è¢«å¹¿æ³›å…³æ³¨è¿‡ã€‚ è…¾è®¯å†å²ä¸Šçš„æˆ˜ç•¥æ€§äº§å“éƒ½æ‰¾å¾—åˆ°ä»¿æ•ˆçš„å½±å­ã€‚è€Œè€äººå¯»å‘³çš„æ˜¯ï¼Œè¢«æ•ˆä»¿è€…å¾ˆå¿«é”€å£°åŒ¿è¿¹ï¼Œè€Œè…¾è®¯åˆ™æ®æ­¤è·å¾—æˆåŠŸã€‚ å¦‚æœè¯´ç¾å›½äººæ€»åœ¨æƒ³å¦‚ä½•æ”¹å˜ä¸–ç•Œï¼Œé‚£ä¹ˆï¼Œä¸­å›½äººæƒ³å¾—æ›´å¤šçš„æ˜¯ï¼Œå¦‚ä½•é€‚åº”æ­£åœ¨æ”¹å˜ä¸­çš„ä¸–ç•Œï¼Œä»–ä»¬æ›´ä¹æ„æ”¹å˜è‡ªå·±çš„ç”Ÿæ´»ï¼Œè¿™æ˜¯å•†ä¸šä»·å€¼è§‚â€”â€”å¹¿è€Œè¨€ä¹‹ï¼Œæ›´æ˜¯äººç”Ÿè§‚çš„åŒºåˆ«ï¼Œä¹Ÿæ˜¯å¾ˆå¤šç¾å›½ä¸ä¸­å›½å•†ä¸šæ•…äº‹çš„ä¸åŒèµ·ç‚¹ã€‚ äº’è”ç½‘æ˜¯ç½•è§çš„é˜³å…‰äº§ä¸šï¼Œå› å˜é©çš„å¿«é€Ÿå’Œèµ„æºçš„ä¸ç¡®å®šæ€§ï¼Œå›½æœ‰èµ„æœ¬è¿„ä»Šæ²¡æœ‰æ‰¾åˆ°å¯¹å…¶è¿›è¡Œæœ‰æ•ˆæ§åˆ¶å’Œè·å–å„æ–­åˆ©ç›Šçš„è·¯å¾„ã€‚ Part 1 åˆ›ä¸šï¼š1998-20041)å–œæ¬¢å¤©æ–‡çš„Ponyç«™é•¿ â€œäº’è”ç½‘æ˜¯ä¸æ˜¯å¾ˆåƒä¸€ä¸ªä¸ç¡®å®šçš„ã€æ­£åœ¨çˆ†ç‚¸çš„æ˜Ÿç³»ï¼Ÿâ€ é©¬åŒ–è…¾å’Œä»–çš„ä¸‰ä¸ªä¸­å­¦åŒå­¦ï¼šè®¸æ™¨æ™”ã€å¼ å¿—ä¸œå’Œé™ˆä¸€ä¸¹ã€‚ é©¬åŒ–è…¾æ—¥åè¢«ç§°ä¸ºâ€œä¸­å›½ç¬¬ä¸€äº§å“ç»ç†â€ï¼Œä»–çš„äº§å“æ„è¯†ä»¥åŠå¯¹ç”¨æˆ·ä½“éªŒçš„ç†è§£ï¼Œæœ€æ—©éƒ½æ˜¯åœ¨â€œé©¬ç«™â€æ—¶æœŸå½¢æˆçš„ã€‚ 1955å·¦å³å’Œ1970å·¦å³å‡ºç”Ÿçš„ä¸¤æ‰¹äºº é©¬å…‹Â·å®‰å¾·æ£®ï¼Œé©¬åŒ–è…¾ï¼Œé©¬æ–¯å…‹ï¼Œä¸ç£Šæ˜¯71å¹´ï¼Œæå½¦å®68å¹´ æ‹‰é‡ŒÂ·ä½©å¥‡å’Œè°¢å°”ç›–Â·å¸ƒæ—éƒ½æ˜¯73å¹´ Linus 69å¹´çš„â€¦ ä»–ä»¬æˆå¹´æ—¶å·®ä¸å¤šå°±æ˜¯äº’è”ç½‘å¼€å§‹çˆ†å‘çš„æ—¶å€™ è¿™æœ‰ç‚¹åƒ1955å¹´å·¦å³é‚£ä¸€æ‰¹ï¼Œåˆ°1975å¹´å·®ä¸å¤šæˆå¹´èµ¶ä¸Šä¸ªäººè®¡ç®—æœºçš„æ—¶ä»£ æ¯”å°”ç›–èŒ¨ã€ä¹”å¸ƒæ–¯1955 ä¿ç½—Â·è‰¾ä¼¦ï¼š1953å¹´1æœˆ21æ—¥ã€‚ å²è’‚å¤«Â·é²å°”é»˜ï¼š1956å¹´3æœˆ24æ—¥ã€‚ åŸƒé‡Œå…‹Â·æ–½å¯†ç‰¹ï¼š1955å¹´4æœˆ27æ—¥ æ¯”å°”Â·ä¹”ä¼Šï¼š1954å¹´11æœˆ8æ—¥ ç­‰ç­‰ä¸€å¤§æ‰¹è®¡ç®—æœºç‰›äºº è¿™ä¹Ÿè¯¥å«åšå¤©æ—¶ 2)å¼€å±€ï¼šå¹¶ä¸æ¸…æ™°çš„å‡ºå‘ å…¬å¸è‹±æ–‡åTencentçš„çµæ„Ÿï¼Œåˆ™æ¥è‡ªLucentï¼ˆæœ—è®¯ï¼‰ï¼Œâ€œå½“æ—¶è®²ç©¶å·¦å³å¯¹ç§°ï¼ŒTencentå°±å¾ˆå¯¹ç§°â€ã€‚æŠŠè¿™ä¸ªè¯åˆ†å¼€æ¥ï¼Œå°±æ˜¯TenCentï¼ˆååˆ†é’±ï¼‰ï¼Œè…¾è®¯æ—¥åä»¥å¾®ç»“ç®—çš„ç›ˆåˆ©æ¨¡å¼æˆå°±å¤§ä¸šï¼Œä¹Ÿè®¸æ˜¯â€œå¤©æ„â€ã€‚ åœ¨ä¸­å›½ä¹ƒè‡³å…¨çƒçš„äº’è”ç½‘å²ä¸Šï¼Œä»1998å¹´åˆ°1999å¹´çš„ä¸¤å¹´ï¼Œæ˜¯ä¸€ä¸ªç¥ç§˜çš„æ—¶æœŸï¼Œé”™è¿‡äº†è¿™ä¸€æ®µï¼Œä¹Ÿå°±é”™è¿‡äº†ä¸€ä¸ªä¸–ä»£ã€‚ Googleï¼Œæœç‹ï¼Œæ–°æµªï¼Œç½‘æ˜“ï¼Œé›…è™ä¸­å›½ï¼Œè”ä¼—æ¸¸æˆï¼Œç››å¤§ç½‘ç»œï¼Œäº¬ä¸œï¼Œé˜¿é‡Œå·´å·´ï¼Œæºç¨‹ï¼Œå½“å½“ï¼Œ3721ï¼Œç™¾åº¦â€¦è¿™äº›åå£°æ˜¾èµ«çš„äº’è”ç½‘ä¼ä¸šå…¨éƒ¨è¯ç”Ÿäº1998-1999å¹´ æ¨è‡´è¿œåšäº†ä¸€ç”Ÿä¸­æœ€æ„šè ¢çš„ä¸€ä¸ªå†³å®šï¼š1998å¹´æœ‰ä¸¤ä½å‡ºç”Ÿäº1973å¹´çš„æ–¯å¦ç¦æ ¡å‹ä¸Šé—¨æ‰¾åˆ°æ¨è‡´è¿œï¼Œæƒ³è¦æŠŠè‡ªå·±çš„ä¸€ä¸ªæœç´¢æŠ€æœ¯ä»¥100ä¸‡ç¾å…ƒçš„ä»·æ ¼å–ç»™é›…è™ï¼Œæ¨è‡´è¿œä¼˜é›…åœ°æ‹’ç»äº†ä»–ä»¬ã€‚9æœˆ7æ—¥ï¼Œæ‹‰é‡ŒÂ·ä½©å¥‡å’Œè°¢å°”ç›–Â·å¸ƒæ—è¢«è¿«åœ¨åŠ å·éƒŠåŒºçš„ä¸€ä¸ªè½¦åº“å†…å­¤ç‹¬åˆ›ä¸šï¼Œä»–ä»¬æŠŠå…¬å¸å–åä¸ºGoogleã€‚ é‡‡ç”¨UDPæŠ€æœ¯çš„å¼€å‘éš¾åº¦è¾ƒé«˜ï¼Œä½†èƒ½å¤§å¤§èŠ‚çº¦æœåŠ¡å™¨çš„æˆæœ¬ï¼Œä½¿å¾—å•å°æœåŠ¡å™¨å¯ä»¥æ”¯æŒæ›´å¤šçš„å®¢æˆ·ç«¯ 3) ç”Ÿæ­»ï¼šæ³¡æ²«ç ´ç­ä¸­çš„æŒ£æ‰ æ•‘å‘½çš„IDGä¸ç›ˆç§‘ ç‹æ ‘çš„å¯¹èµŒæ¡æ¬¾ï¼šâ€œåœ¨åè®®ç­¾è®¢åï¼Œå…ˆæŠ•ä¸€åŠçš„èµ„é‡‘ï¼Œæˆ‘ä»¬åœ¨ä¸€å¹´å†…é¡»è¾¾åˆ°ä¸€å®šçš„ç”¨æˆ·æ•°é‡ï¼Œå¦åˆ™å¦å¤–ä¸€åŠçš„é’±å°±ä¸ç»™äº†ï¼Œè€Œä»–ä»¬ä»ç„¶å 20%çš„è‚¡ä»½ï¼Œæˆ‘ä»¬ç­”åº”äº†ã€‚â€ ä»OICQåˆ°QQ ä»»å®‡æ˜•ï¼ˆè…¾è®¯é¦–å¸­è¿è¥å®˜ï¼‰æ˜¯åœ¨è…¾è®¯æœ€ç¼ºé’±çš„æ—¶å€™è¿›å…¥å…¬å¸çš„ã€‚ MIHçš„æ„å¤–è¿›å…¥ å¶ç„¶é—¯å…¥çš„MIHä»¥32.8%è‚¡ä»½æˆä¸ºè…¾è®¯çš„ç¬¬äºŒå¤§è‚¡ä¸œã€‚ 4)æ¢¦ç½‘ï¼šæ„å¤–çš„æ‹¯æ•‘è€… â€œå½±å­å›½ç‹â€çš„æ¢¦ç½‘è®¡åˆ’ æ–‡åŒ–å·®åˆ«å¤ªå¤§äº†ï¼Œä¸­å›½çš„æ‰‹æœºç”¨æˆ·å¯¹æ‰‹æœºçŸ­ä¿¡çš„çƒ­æƒ…ä¹Ÿè®¸æ˜¯å…¨ä¸–ç•Œæœ€é«˜çš„ï¼Œè€Œç¾å›½äººçˆ½æœ—ç›´ç‡çš„ä¸ªæ€§ä½¿å¾—å¤§å¤šæ•°äººæ›´å–œæ¬¢ç›´æ¥é€šç”µè¯ã€‚åœ¨2002å¹´ï¼Œå…¨ç¾å›½çš„æ‰‹æœºç”¨æˆ·å‘é€çŸ­ä¿¡æ¯çš„æ€»æ•°ä¸º81äº¿æ¡ï¼Œä½†ä¸­å›½äººä»…åœ¨2004å¹´æ˜¥èŠ‚7å¤©é•¿å‡æœŸé—´å°±å‘é€äº†70äº¿æ¡ã€‚åˆ°2006å¹´ï¼Œç¾å›½å…¨å¹´çš„çŸ­ä¿¡é‡éƒ½æ¯”ä¸ä¸Šä¸­å›½æ˜¥èŠ‚ä¸€å¤©ã€‚ ä¸æˆåŠŸçš„æ”¶è´¹è¯•éªŒ â€œå½“æ—¶çš„æŠ•æ”¾å®¢æˆ·å‡ ä¹éƒ½æ˜¯æ­£åœ¨çƒ§é’±çš„äº’è”ç½‘å…¬å¸ï¼Œå¤§å®¶äº’ç›¸æŠ•æ”¾ï¼Œæˆ‘åœ¨ä½ é‚£é‡ŒæŠ•å¹¿å‘Šï¼Œä½ ä¹Ÿåœ¨æˆ‘è¿™é‡ŒæŠ•ä¸€äº›ï¼Œå¤§å®¶å°±éƒ½æœ‰äº†æ”¶å…¥ï¼Œå…¶å®æ˜¯éª—æŠ•èµ„äººçš„ã€‚â€ åœ¨è…¾è®¯å²ä¸Šï¼Œ2002å¹´çš„â€œé“å·æ”¶è´¹â€åœ¨æ—¥åå¾ˆå°‘è¢«æåŠï¼Œäº‹å®ä¸Šï¼Œè¿™æ˜¯ä¸€æ¬¡éå¸¸å±é™©çš„æ­§é€”ç»å†ã€‚ Qå¸ï¼šè™šæ‹Ÿè´§å¸çš„è¯ç”Ÿ ç”±äºé‡‘èä¿¡ç”¨ä½“ç³»çš„ç¼ºå¤±â€”â€”è¿™æ˜¯ä¸­å›½ä¸ç¾å›½äº’è”ç½‘äº§ä¸šæœ€å¤§çš„å·®å¼‚ä¹‹ä¸€â€”â€”é•¿æœŸä»¥æ¥ï¼Œå¦‚ä½•å»ºç«‹è‡ªå·±çš„æ”¯ä»˜ä½“ç³»å›°æ‰°ç€æ‰€æœ‰çš„ç»è¥è€…ã€‚ 5)QQç§€ï¼šçœŸå®ä¸–ç•Œçš„å€’å½± ç½‘ç»œä¹Ÿæ˜¯ä¸€ä¸ªä¸–ç•Œï¼Œä¸€ä¸ªæˆ‘ä»¬å¯ä»¥å®ç°ç°å®ä¸­ä¸å¯èƒ½å®ç°çš„æ¢¦æƒ³ä¸–ç•Œï¼Œâ€œé˜¿å‡¡è¾¾ï¼ˆAvatarï¼‰â€æä¾›äº†è¿™ç§å¯èƒ½ã€‚â€”â€” è…¾è®¯â€œé˜¿å‡¡è¾¾é¡¹ç›®â€è®¡åˆ’ä¹¦ ç¾¤èŠï¼šâ€œç¤¾åŒºâ€çš„ç¬¬ä¸€æ¬¡å‡ºç°ï¼ˆ2002ï¼‰ QQç¾¤çš„å‘æ˜ï¼Œå½»åº•æ”¹å˜äº†ç½‘æ°‘ç»´ç³»å…³ç³»é“¾å’Œåœ¨çº¿äº’åŠ¨äº¤æµçš„æ–¹å¼ï¼Œæ ‡å¿—ç€ç¤¾äº¤ç½‘ç»œæ¦‚å¿µåœ¨ä¸­å›½çš„å‡ºç°ï¼Œè€Œè¿™æ¯”Facebookè¦æ—©18ä¸ªæœˆã€‚ å¸‚åœºéƒ¨çš„â€œé˜¿å‡¡è¾¾è®¡åˆ’â€ â€œè…¾è®¯åœ¨å†…å®¹ç­–åˆ’ä¸ŠåŠ›é‡è–„å¼±ï¼Œä¸å†…å®¹ç›¸å…³çš„æœåŠ¡ä¸€ç›´ä¸æ˜¯å¼ºé¡¹â€åœ¨è…¾è®¯çš„å†å²ï¼Œä¹ƒè‡³ä¸­å›½äº’è”ç½‘å²ä¸Šï¼ŒQQç§€éƒ½å ªç§°ä¸€æ¬¾é©å‘½æ€§çš„æ”¶è´¹äº§å“ï¼Œå®ƒå¯ä»¥è¢«è§†ä¸ºå…¨çƒäº’è”ç½‘äº§ä¸šçš„ä¸€æ¬¡â€œä¸œæ–¹å¼åº”ç”¨åˆ›æ–°â€ è¥¿æ–¹çš„å¾ˆå¤šäº’è”ç½‘ç ”ç©¶è€…ï¼Œå¯¹äºä¸­å›½ç½‘æ°‘æ„¿æ„èŠ±é’±è´­ä¹°è™šæ‹Ÿé“å…·æ¥è£…æ‰®è‡ªå·±è¿™ä¸€ç‚¹ï¼Œæ„Ÿåˆ°éå¸¸çš„ä¸å¯æ€è®®ã€‚åœ¨è¿™é‡Œï¼Œå¯ä»¥é€è§†å‡ºä¸œè¥¿æ–¹ç¤¾ä¼šäººåœ¨è§’è‰²è®¤çŸ¥ä¸Šçš„å·¨å¤§å·®å¼‚ã€‚â€œæƒ…æ„Ÿçš„å¯„æ‰˜â€ QQç§€ä¹Ÿæ˜¯è…¾è®¯ä¸€ä¸ªâ€œèœ•å˜ä¹‹ç§€â€ï¼Œä»æ­¤ï¼Œè¿™å®¶å³æ—¶é€šä¿¡æœåŠ¡å•†æˆä¸ºä¸€ä¸ªå‘æ˜äººæ€§ã€å‡ºå”®å¨±ä¹ä½“éªŒçš„ä¾›åº”å•†ã€‚ 2003å¹´ï¼šä¸‰ä¸ªæˆ˜ç•¥çº§çš„è¡å˜ QQã€QQä¼šå‘˜ã€QQç§€ä»¥åŠQå¸ï¼Œæ„æˆä¸€ä¸ªç‹¬ç«‹çš„ã€é—­ç¯å¼è¿è½¬çš„QQä¸–ç•Œï¼Œè…¾è®¯çš„ç»„ç»‡ä½“åˆ¶å†…éƒ¨ä¹Ÿè¯±å‘å‡ºä¸€ç³»åˆ—æˆ˜ç•¥çº§çš„è¡å˜ã€‚ è¡å˜ä¹‹ä¸€ï¼šä¸å·¥ç¨‹å¸ˆæ–‡åŒ–ç›¸äº¤èçš„äº§å“ç»ç†åˆ¶ã€‚â€œè°æå‡ºï¼Œè°æ‰§è¡Œâ€â€œä¸€æ—¦åšå¤§ï¼Œç‹¬ç«‹æˆå†›â€ è¡å˜ä¹‹äºŒï¼šä»¥Qå¸ä¸ºæµé€šä¸»ä½“çš„æ”¯ä»˜ä½“ç³»ã€‚ è¡å˜ä¹‹ä¸‰ï¼šä»¥ç‰¹æƒå’Œç­‰çº§åˆ¶ä¸ºç‰¹è‰²çš„ä¼šå‘˜æœåŠ¡ä½“ç³»ã€‚ äº’è”ç½‘äº§å“çš„æ”¶å…¥å¢é•¿å–å†³äºå¯¹ç”¨æˆ·æƒ…æ„Ÿéœ€æ±‚çš„æŒ–æ˜å’Œå¯¹æ•´ä¸ªæœåŠ¡æµç¨‹çš„æŒæ§ã€‚ è¿›å…¥ç½‘æ¸¸ï¼šæ²¡æœ‰â€œå‡¯æ—‹â€çš„ã€Šå‡¯æ—‹ã€‹ï¼ˆ2003ï¼‰ è…¾è®¯ç¬¬ä¸€æ¬¡è¯•æ°´ç½‘æ¸¸ï¼Œä»¥å°´å°¬çš„ç»“å±€å‘Šä¸€æ®µè½ QQ.com:â€œé’å¹´çš„æ–°é—»é—¨æˆ·â€ï¼ˆ2003ï¼‰ 6)ä¸Šå¸‚ï¼šå¤¹å‡»ä¸­çš„â€œæˆäººç¤¼â€ ä¸ºä»€ä¹ˆé€‰æ‹©é«˜ç›› â€œé©¬åŒ–è…¾ä¸å¤ªçˆ±è®²å®¢å¥—è¯ï¼Œè¯´è¯çš„é€»è¾‘æ€§å¾ˆå¼ºï¼ŒåŒæ—¶ï¼Œä»–ä¹Ÿæ˜¯ä¸€ä¸ªä¸ä¼šè½»æ˜“äº®å‡ºåº•ç‰Œçš„äººã€‚â€è¿™æ˜¯åˆ˜ç‚½å¹³å¯¹é©¬åŒ–è…¾çš„ç¬¬ä¸€å°è±¡ã€‚ çº³æ–¯è¾¾å…‹è¿˜æ˜¯é¦™æ¸¯ï¿¼ç†è®ºä¸Šï¼Œä¸€å®¶ç«‹è¶³äºæœåŠ¡å¤§ä¼—ç”¨æˆ·çš„å…¬å¸ï¼Œå®ƒçš„ä¸Šå¸‚åœ°ç‚¹è¶Šè´´è¿‘å®ƒçš„æœ¬åœŸå¸‚åœºï¼Œå…¬å¸ä»·å€¼å°±ååº”å¾—è¶Šä¸ºçœŸå®ã€‚ å‘˜å·¥æœŸæƒçš„å…‘ç° æ¥è‡ªç”µä¿¡å¢å€¼æœåŠ¡çš„æ”¶å…¥å åˆ°äº†æ€»æ”¶å…¥çš„56%ï¼Œè€Œå…¶ä»–å½’å…¥äº’è”ç½‘å¢å€¼ä¸šåŠ¡çš„æ”¶å…¥ä¹Ÿæœ‰ä¸€åŠä¸æ­¤ç›¸å…³ï¼Œæ‰€ä»¥ï¼Œå¦‚æœç²¾ç¡®è®¡ç®—çš„è¯ï¼Œåˆšä¸Šå¸‚æ—¶çš„è…¾è®¯å‡ ä¹æ˜¯ä¸€ä¸ªè¢«â€œç§»åŠ¨æ¢¦ç½‘â€â€œç»‘æ¶â€äº†çš„å¯„ç”Ÿå‹ä¼ä¸šã€‚ Part 2 å‡ºå‡»ï¼š2005-20097)è°ƒæ•´ï¼šä¸€ç«™å¼åœ¨çº¿ç”Ÿæ´» â€œè™šæ‹Ÿç”µä¿¡è¿è¥å•†â€çš„å¹»ç­ åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼Œè…¾è®¯å†³ç­–å±‚ä¸€ç›´å¯¹SP(Service Providerï¼ŒæœåŠ¡æä¾›å•†)ä¸šåŠ¡ä¿æŒç€ä¸€ç§å…‹åˆ¶çš„æ€åº¦ï¼Œé©¬åŒ–è…¾ä¹‹æ‰€ä»¥â€œä¸€æ„å­¤è¡Œâ€ï¼Œç›¸ç»§æŠ•å…¥æ¸¸æˆã€é—¨æˆ·ç­‰ä¸šåŠ¡ä¹Ÿä¸å†…å¿ƒçš„ææƒ§æœ‰å…³ã€‚ æ–°æˆ˜ç•¥ï¼šâ€œåƒæ°´å’Œç”µä¸€æ ·èå…¥ç”Ÿæ´»å½“ä¸­â€ åˆ˜ç‚½å¹³è¯´ï¼šâ€œæˆ‘ç®¡ä¸‰ä»¶æ²¡æœ‰äººç®¡çš„äº‹æƒ…ï¼Œä¸€æ˜¯æˆ˜ç•¥ï¼ŒäºŒæ˜¯å¹¶è´­ï¼Œä¸‰æ˜¯æŠ•èµ„è€…å…³ç³»ã€‚â€ è…¾è®¯å”¯ä¸€çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯æŒæ¡äº†äººé™…å…³ç³»ç½‘ç»œ å¦‚ä½•å®šä¹‰â€œåœ¨çº¿ç”Ÿæ´»â€ï¼ŸICECã€‚Iä»£è¡¨Informationï¼ˆä¿¡æ¯ï¼‰ï¼ŒCä»£è¡¨Communicationï¼ˆé€šä¿¡ï¼‰ï¼ŒEä»£è¡¨Entertainmentï¼ˆå¨±ä¹ï¼‰ï¼ŒCä»£è¡¨Commerceï¼ˆå•†åŠ¡ï¼‰ã€‚ â€œè…¾è®¯å¸Œæœ›èƒ½å¤Ÿå…¨æ–¹ä½æ»¡è¶³äººä»¬åœ¨çº¿ç”Ÿæ´»ä¸åŒå±‚æ¬¡çš„éœ€æ±‚ï¼Œå¹¶å¸Œæœ›è‡ªå·±çš„äº§å“å’ŒæœåŠ¡åƒæ°´å’Œç”µä¸€æ ·èå…¥ç”Ÿæ´»å½“ä¸­ã€‚è…¾è®¯å·²ç»åˆæ­¥å®Œæˆäº†é¢å‘åœ¨çº¿ç”Ÿæ´»äº§ä¸šæ¨¡å¼çš„ä¸šåŠ¡å¸ƒå±€ã€‚â€è¾¹ç•Œ ç¬¬äºŒæ¬¡ç»„ç»‡æ¶æ„è°ƒæ•´ 2005å¹´10æœˆ24æ—¥,å…¬å¸çš„ç»„ç»‡æ¶æ„è¢«åˆ’åˆ†ä¸º8ä¸ªåºåˆ—ï¼Œåˆ†åˆ«ç”±5ä¸ªä¸šåŠ¡éƒ¨é—¨å’Œ3ä¸ªæœåŠ¡æ”¯æŒéƒ¨é—¨ç»„æˆã€‚B0ï¼šä¼ä¸šå‘å±•ç³»ç»Ÿï¼Œä¸‹å±å›½é™…ä¸šåŠ¡éƒ¨ã€ç”µå­å•†åŠ¡éƒ¨ã€æˆ˜ç•¥å‘å±•éƒ¨ã€æŠ•èµ„å¹¶è´­éƒ¨ï¼Œè´Ÿè´£æˆ˜ç•¥ã€æŠ•èµ„å¹¶è´­åŠç›¸å…³ä¸šåŠ¡ï¼Œç”±é¦–å¸­æˆ˜ç•¥æŠ•èµ„å®˜åˆ˜ç‚½å¹³å…¼ç®¡ã€‚B1ï¼šæ— çº¿ä¸šåŠ¡ç³»ç»Ÿï¼Œä¸‹å±æ— çº¿äº§å“éƒ¨ã€ç§»åŠ¨é€šä¿¡éƒ¨ã€ç”µä¿¡äº‹ä¸šéƒ¨å’Œå„åœ°åŠäº‹æœºæ„ï¼Œè´Ÿè´£ä¸ç”µä¿¡è¿è¥å•†ç›¸å…³çš„ä¸šåŠ¡ï¼Œè´Ÿè´£äººä¸ºåˆ˜æˆæ•ã€‚B2ï¼šäº’è”ç½‘ä¸šåŠ¡ç³»ç»Ÿï¼Œä¸‹å±äº’è”ç½‘ç ”å‘éƒ¨ã€ç¤¾åŒºäº§å“éƒ¨å’Œæ–°æˆç«‹çš„æ•°å­—éŸ³ä¹éƒ¨ï¼Œè´Ÿè´£QQåŠç›¸å…³ä¸šåŠ¡ï¼Œè´Ÿè´£äººä¸ºå´å®µå…‰ã€‚B3ï¼šäº’åŠ¨å¨±ä¹ä¸šåŠ¡ç³»ç»Ÿï¼Œä¸‹å±äº’å¨±ç ”å‘éƒ¨ã€äº’å¨±è¿è¥éƒ¨ã€æ¸ é“è¥é”€éƒ¨ï¼Œè´Ÿè´£ç½‘ç»œæ¸¸æˆä¸šåŠ¡ï¼Œè´Ÿè´£äººä¸ºä»»å®‡æ˜•ã€‚B4ï¼šç½‘ç»œåª’ä½“ä¸šåŠ¡ç³»ç»Ÿï¼Œä¸‹å±ç½‘ç«™éƒ¨ã€å¹¿å‘Šé”€å”®éƒ¨ã€æœç´¢äº§å“ä¸­å¿ƒï¼Œè´Ÿè´£é—¨æˆ·ç½‘ç«™ä¸šåŠ¡ï¼Œç”±é¦–å¸­ä¿¡æ¯å®˜è®¸æ™¨æ™”å…¼ç®¡ã€‚Oçº¿ï¼šè¿è¥æ”¯æŒç³»ç»Ÿï¼Œä¸‹å±è¿è¥æ”¯æŒéƒ¨ã€ç³»ç»Ÿæ¶æ„éƒ¨ã€å®‰å…¨ä¸­å¿ƒã€ç®¡ç†å·¥ç¨‹éƒ¨ã€ç ”å‘ç®¡ç†éƒ¨å’Œå®¢æœéƒ¨ï¼Œè´Ÿè´£æœåŠ¡å™¨ã€æ•°æ®åº“åŠå®‰å…¨ä¸šåŠ¡ï¼Œè´Ÿè´£äººä¸ºææµ·ç¿”ã€‚Rçº¿ï¼šå¹³å°ç ”å‘ç³»ç»Ÿï¼Œä¸‹å±å³æ—¶é€šä¿¡äº§å“éƒ¨ã€æ·±åœ³ç ”å‘ä¸­å¿ƒã€å¹¿å·ç ”å‘ä¸­å¿ƒï¼Œè´Ÿè´£æŠ€æœ¯ç ”å‘ï¼Œç”±é¦–å¸­æŠ€æœ¯å®˜å¼ å¿—ä¸œå…¼ç®¡ã€‚Sçº¿ï¼šèŒèƒ½ç³»ç»Ÿï¼Œä¸‹å±è¡Œæ”¿ã€äººäº‹ã€è´¢åŠ¡ã€æ³•å¾‹ã€æŠ•èµ„è€…å…³ç³»ã€å†…å®¡ã€å…¬å…³åŠè‘£äº‹ä¼šåŠå…¬å®¤ï¼Œç”±é¦–å¸­è¡Œæ”¿å®˜é™ˆä¸€ä¸¹å…¼ç®¡ã€‚ â€æœªæ¥5å¹´ï¼Œè…¾è®¯æœ€å¤§çš„æŒ‘æˆ˜å°±æ˜¯æ‰§è¡ŒåŠ›ã€‚å¸‚åœºæ€ä¹ˆæ ·ï¼Œå¤§å®¶éƒ½çœ‹å¾—è§ï¼Œä½†ä¸ä¸€å®šéƒ½æ‹¿å¾—ä½ã€‚é€šè¿‡å®Œæ•´çš„æŒ‡æ ‡ä½“ç³»å’Œç»„ç»‡ç»“æ„ä¿è¯å‹åŠ›çš„ä¼ å¯¼ï¼Œé€šè¿‡ä¸¥æ ¼è€ƒæ ¸å’Œæœ«ä½æ·˜æ±°åˆ¶ç•™ä½å¥½çš„äººæ‰ï¼Œè€Œæ‰€æœ‰è¿™äº›ï¼Œèƒ½æŠŠè…¾è®¯æ‰“é€ æˆä¸€ä¸ªä¸ä¾èµ–ä¸ªäººç²¾è‹±ï¼Œè€Œæ˜¯ä¾é ä½“åˆ¶åŒ–åŠ¨åŠ›çš„æˆç†Ÿä½“ç³»ã€‚â€ â€”â€” é©¬åŒ–è…¾ â€œæˆ‘ä¸ç›²ç›®åˆ›æ–°ï¼Œå¾®è½¯ã€è°·æ­Œåšçš„éƒ½æ˜¯åˆ«äººåšè¿‡çš„ä¸œè¥¿ã€‚æœ€èªæ˜çš„æ–¹æ³•è‚¯å®šæ˜¯å­¦ä¹ æœ€ä½³æ¡ˆä¾‹ï¼Œç„¶åå†è¶…è¶Šã€‚æˆ‘ä¸äº‰ç¬¬ä¸€ï¼Œæ²¡æ„ä¹‰ã€‚æ–°äº§å“ä¸€å‡ºæ¥å°±è¦ä¿è¯ç¨³å®šï¼Œä¸èƒ½æƒ³æ€ä¹ˆæ”¹å°±æ€ä¹ˆæ”¹ï¼Œè¦æ…é‡ã€‚â€ â€”â€” é©¬åŒ–è…¾ 8)æˆ˜MSNï¼šè£èª‰ä¸å‘½è¿ MSNæ¥äº†ï¼ˆ2004.8ï¼‰ â€œæ”¶è´­â€å¼ å°é¾™ æ¯”å°”Â·ç›–èŒ¨é€šè¿‡æ†ç»‘æˆ˜ç•¥å‡»æºƒç½‘æ™¯çš„æ•…äº‹æ›´æ˜¯æ®·é‰´ä¸è¿œï¼ˆæŒ‡æ®·å•†å­å­™åº”ä»¥å¤çš„ç­äº¡ä¸ºé‰´æˆ’ã€‚åæ³›æŒ‡å‰äººçš„æ•™è®­å°±åœ¨çœ¼å‰ã€‚ï¼‰ã€‚ 1äº¿å¤šQQç”¨æˆ·ä¸­ï¼Œä½¿ç”¨QQé‚®ç®±çš„ä¸åˆ°1%ï¼Œè¡¥æ¿çš„æœ€ä½³åŠæ³•ï¼Œå°±æ˜¯æ”¶è´­Hotmailåœ¨ä¸­å›½çš„æœ€å¼ºç«äº‰å¯¹æ‰‹ï¼Œäºæ˜¯Foxmailè¿›å…¥äº†è…¾è®¯çš„è§†é‡ä¸­ã€‚ å¼ å°é¾™å› æ­¤è¢«ä¸šç•Œè§†ä¸ºç»§æ±‚ä¼¯å›ä¹‹åçš„ç¬¬äºŒä»£è½¯ä»¶å·¥ç¨‹å¸ˆçš„ä»£è¡¨äººç‰©ã€‚å¼ å°é¾™ä¸ªæ€§å†…å‘ï¼Œä¸å–œæ¬¢æ··åœˆå­ï¼Œæ˜¯ä¸€ä½ä¸šä½™ç½‘çƒé«˜æ‰‹ã€‚ä»–å¯¹å•†ä¸šçš„å…´è¶£ä¸å¤§ï¼Œåœ¨Foxmailå¦‚æ—¥ä¸­å¤©çš„æ—¶å€™ï¼Œä»–éƒ½æ²¡æœ‰æƒ³åˆ°è¦ç»„å»ºä¸€å®¶å…¬å¸æ¥è¿›è¡Œå•†ä¸šåŒ–è¿è¥ã€‚ è…¾è®¯ä¸ç¾å›½è°·æ­Œå®£å¸ƒä¸šåŠ¡åˆä½œã€‚è…¾è®¯å·²ç»å¼€å§‹ä¸ºå…¶å›½å†…ç”¨æˆ·æä¾›è°·æ­Œçš„ç½‘é¡µæœç´¢æœåŠ¡ã€‚åŒæ—¶ï¼Œè…¾è®¯è¿˜å°†æä¾›è°·æ­Œåœ¨ç½‘ä¸Šé’ˆå¯¹æœç´¢ç»“æœçš„å¹¿å‘ŠæœåŠ¡AdSenseã€‚è°·æ­Œçš„ç½‘é¡µæœç´¢æ¡†åµŒå…¥è…¾è®¯çš„å„ä¸»è¦äº’è”ç½‘æœåŠ¡ï¼ŒåŒ…æ‹¬QQå³æ—¶é€šä¿¡çš„å®¢æˆ·ç«¯ã€ç½‘ç«™ã€TTæµè§ˆå™¨ã€è…¾è®¯TMå’Œè…¾è®¯é€šRTXã€‚ é‡æ–°å®šä¹‰å³æ—¶é€šä¿¡ æˆ‘ä»¬ä¸èƒ½æ‹¿ç”¨æˆ·ä»·å€¼å†’é™©ï¼Œè¿™æ ·ä¸è´Ÿè´£ä»» 2007å¹´10æœˆï¼Œä¸ºäº†é˜»å‡»æ­£åœ¨å¿«é€Ÿå´›èµ·ä¸­çš„Facebookï¼Œå¾®è½¯çš„Hotmailå°†è®¸å¤šæ¥è‡ªFacebookçš„é‚€è¯·ä¿¡å½’ç±»ä¸ºåƒåœ¾é‚®ä»¶ï¼Œå¯¼è‡´Facebookç”¨æˆ·å¢é•¿ä¸‹è·Œäº†å‡ ä¹70%ï¼Œæœ€ç»ˆï¼Œä¸¤å®¶åä¸‹æ¥è°ˆåˆ¤ï¼Œæ‰å…‹ä¼¯æ ¼ç­”åº”äº†å¾®è½¯çš„æŠ•èµ„è¦æ±‚ï¼Œåè€…ä»¥2.4äº¿ç¾å…ƒè·å¾—1.6%çš„è‚¡æƒã€‚ é©¬åŒ–è…¾å®£å¸ƒï¼šâ€œä¸­å›½çš„å³æ—¶é€šä¿¡åº”ç”¨ç›®å‰å·²ç»é¢†å…ˆä¸–ç•Œï¼Œå³æ—¶é€šä¿¡çš„ä¸‹ä¸€ä¸ªå‘å±•é˜¶æ®µä¹Ÿå°†è¿›å…¥ç”±ä¸­å›½é¢†å¯¼çš„å³æ—¶é€šä¿¡å…¨é¢ç¤¾ä¼šåŒ–çš„é˜¶æ®µã€‚â€ MSNåšé”™äº†ä»€ä¹ˆ é¦–è¦çš„é—®é¢˜æ˜¯ï¼ŒæŒ‡æŒ¥ä½“ç³»çš„ç´Šä¹±ã€‚å¦‚æœè¯´è…¾è®¯å°†å®ƒä¸MSNçš„ç«äº‰è§†ä¸ºä¸€åœºæˆ˜äº‰çš„è¯ï¼Œé‚£ä¹ˆï¼Œåœ¨å¾®è½¯çœ‹æ¥ï¼Œè¿™è¿æˆ˜å½¹éƒ½ç®—ä¸ä¸Šï¼Œé¡¶å¤šæ˜¯ä¸€åœºæ— å…³ç—›ç—’çš„å±€éƒ¨æˆ˜æ–—è€Œå·²ã€‚ å…¶æ¬¡ï¼Œå¾®è½¯çš„å…¨çƒå¼€å‘æ¨¡å¼å¾ˆéš¾é€‚åº”åŒºåŸŸæ€§çš„å¸‚åœºç«äº‰ã€‚ å…¶ä¸‰ï¼Œç½—å·ç‹¬åˆ›çš„åˆ†åŒ…åˆä½œæ¨¡å¼åœ¨è¿è¥ä¸­å‡ºç°äº†æ··ä¹±ã€‚ å…¶å››ï¼Œå¾®è½¯ä¸é›…è™çš„äº’è”äº’é€šæ²¡æœ‰å–å¾—é¢„æ–™ä¸­çš„â€œé‡Œç¨‹ç¢‘å¼çš„æ•ˆæœâ€ã€‚åœ¨æœ¬è´¨ä¸Šï¼Œå¾®è½¯å§‹ç»ˆæ˜¯ä¸€å®¶è½¯ä»¶æŠ€æœ¯å…¬å¸ï¼Œè€Œä¸æ˜¯äº’è”ç½‘å…¬å¸ï¼Œå®ƒæ²¡æœ‰è¿è¥ä¸€ä¸ªäº’è”ç½‘äº§å“çš„ç»éªŒã€‚ 2005å¹´ï¼šä¸­å›½äººç»Ÿæ²»ä¸­å›½äº’è”ç½‘ å®‰è¸ç‰Œè¿åŠ¨é‹çš„ä¸å¿—å¿ æè¿°äº†ä¸­ç¾ä¼ä¸šå¯¹ä¸­å›½æ¶ˆè´¹å¸‚åœºçš„ä¸åŒç†è§£ï¼Œâ€œè€å…‹ã€é˜¿è¿ªè¾¾æ–¯çš„ç¯®çƒé‹ä¸»è¦æ˜¯åœ¨å¡‘èƒ¶åœ°æ¿ä¸Šç©¿ï¼Œå¼¹æ€§æ˜¯é‡è¦è€ƒæ ¸æŒ‡æ ‡ï¼Œè€Œå®‰è¸çš„æ¶ˆè´¹è€…åªæœ‰1%èƒ½åœ¨å¡‘èƒ¶åœ°æ¿ä¸Šæ‰“çƒï¼Œå…¶ä»–éƒ½æ˜¯åœ¨æ°´æ³¥åœ°ä¸Šã€‚å®‰è¸æ›´å…³å¿ƒçš„æ˜¯ï¼Œåœ¨æ°´æ³¥åœ°ä¸Šæ‰“çƒçš„å­©å­å¦‚ä½•æ‰èƒ½ä¸æ‰­è„šã€‚â€ 9)ç©ºé—´ï¼šæœ‰åˆ«äºFacebookçš„ç¤¾äº¤æ¨¡å¼ â€œä¸€ä¸ªå¤§å·çš„QQç§€â€ é»„é’»ä¸è¿›é˜¶å¼ä¼šå‘˜ä½“ç³» QQç©ºé—´åœ¨è·åˆ©æ¨¡å¼ä¸Šçš„åˆ›æ–°ä¹Ÿå¯è°“ç‹¬æ­¥å¤©ä¸‹ï¼Œæ— å…¶ä»–å…¬å¸å¯ä»¥æ¯”æ‹Ÿã€‚æ®æ‘©æ ¹å£«ä¸¹åˆ©çš„äº’è”ç½‘ç ”ç©¶æŠ¥å‘Šæ˜¾ç¤ºï¼Œå¤šå¹´ä»¥æ¥ï¼Œäºšæ´²äº’è”ç½‘å…¬å¸åœ¨è™šæ‹Ÿå•†å“çš„æ¢ç´¢ä¸Šä¸€ç›´é¢†å…ˆäºæ¬§ç¾åŒè¡Œ ç»¿é’»ï¼šä¸iTunesä¸åŒ åœ¨ç¤¾äº¤ç½‘ç»œä¸­ï¼Œé€šè¿‡ä¼šå‘˜åˆ¶çš„æ–¹å¼è·åˆ©ï¼Œæ˜¯è…¾è®¯æˆåŠŸçš„ç§˜å¯†ä¹‹ä¸€ã€‚ è…¾è®¯æä¾›éŸ³ä¹æœåŠ¡æ˜¯ä»2005å¹´2æœˆå¼€å§‹ QQç©ºé—´æ˜¯ç”¨æˆ·åœ¨è™šæ‹Ÿä¸–ç•Œé‡Œçš„ã€ç‹¬äº«çš„ç§äººåœºæ‰€ï¼Œå¦‚åŒä¸€ä¸ªå®¶åº­çš„å®¢å…ï¼Œå½“å®¢äººåˆ°è®¿çš„æ—¶å€™ï¼Œç”¨éŸ³ä¹æ¬¾å¾…å®¢äººæ˜¯ä¸€ç§æœ€å¸¸è§çš„ç¤¼è²Œã€‚äººä»¬è´­ä¹°éŸ³ä¹çš„åŠ¨æœºï¼Œæ˜¯ä¸ºäº†å¯¹ç‰¹å®šçš„äººè¡¨è¾¾æƒ…æ„Ÿã€‚ è…¾è®¯ä»¥è‡ªå·±çš„æ–¹å¼æˆä¸ºå”¯ä¸€é€šè¿‡æ­£ç‰ˆéŸ³ä¹è·å¾—æ”¶å…¥çš„äº’è”ç½‘å…¬å¸ã€‚ åœ¨ä¸­å›½æ•°å­—éŸ³ä¹ä»æ— åºåˆ°æœ‰åºçš„è¿‡ç¨‹ä¸­ï¼ŒQQéŸ³ä¹æ‰€å¼€åˆ›çš„æ­£ç‰ˆåŒ–æˆ˜ç•¥åŠæ„å»ºä»˜è´¹ç”Ÿæ€çš„ç§ç§è¡ŒåŠ¨ï¼Œé€æ¸ä¸ºå…¨è¡Œä¸šæ‰€æ¥å—å’Œæ™®åŠã€‚ ç¾å›½å¤§å­¦ä¸ä¸­å›½ç½‘å§ â€œå¾—ç½‘å§è€…å¾—å¤©ä¸‹â€ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œæ˜¯ä¸€ä¸ªä»ä¸è¢«å…¬å¼€è®¨è®ºçš„ä¸­å›½ç§˜å¯†ã€‚ é«˜å­¦å†çš„ç¾å›½å¤§å­¦ç”Ÿä¸â€œä¸‰ä½â€ï¼ˆä½å¹´é¾„ã€ä½å­¦å†ã€ä½æ”¶å…¥ï¼‰çš„ä¸­å›½ç½‘å§äººï¼Œè®©è¿™ä¸¤ä¸ªå›½å®¶çš„äº’è”ç½‘ä¸–ç•Œéš”æ´‹ç›¸æœ›ã€‚ é©¬åŒ–è…¾ä¸æ‰å…‹ä¼¯æ ¼ â€œFacebookä»æ¥éƒ½æ²¡èƒ½å¤Ÿè®¾è®¡å‡ºæœ€å¥½çš„åº”ç”¨è½¯ä»¶ï¼Œä½†æ˜¯ï¼Œæ‰å…‹ä¼¯æ ¼é€šè¿‡ï¼ˆæˆä¸ºï¼‰ä¸€ä¸ªå¹³å°ï¼Œä¸ºè‡ªèº«å¸ä¸‹ä¸€äº›è´Ÿæ‹…ï¼Œè€Œä¸ç”¨å†é¢é¢ä¿±åˆ°ã€‚â€ æ‰å…‹ä¼¯æ ¼åœ¨å¼€æ”¾ä¸­â€œå¤±å»çš„æ˜¯é”é“¾ï¼Œå¾—åˆ°çš„æ˜¯æ•´ä¸ªä¸–ç•Œâ€ â€œä»¥æˆ‘ä»¬åœ¨ç¾å›½æ‰€è·å¾—çš„ç»éªŒæ¥çœ‹å¾…å°åº¦æˆ–ä¸­å›½ï¼Œæœ‰ä¸€åŠæ˜¯çœ‹ä¸æ‡‚çš„ï¼Œè¿˜æœ‰ä¸€åŠæ˜¯é”™è¯¯çš„ã€‚â€ 10)é‡‘çŸ¿ï¼šâ€œæ¸¸æˆä¹‹ç‹â€çš„è¯ç”Ÿ è…¾è®¯ä»¥ä¸€ä¸ªæ¸¸æˆä¸ºç‹¬ç«‹å•å…ƒç»„å»ºä¸“é—¨çš„å·¥ä½œå®¤ï¼Œæˆåˆ™æŠ¥é…¬ä¸°åšï¼Œè´¥åˆ™æ‹†æ•£é‡æ„ï¼Œå½¢æˆäº†å†…éƒ¨çš„èµ›é©¬æœºåˆ¶ã€‚ æ­»äºæ²¡æœ‰åº”å¯¹ï¼Œæ²¡æœ‰ç»§ç»­å†’é™©åˆ›æ–° ã€Šæ³¡æ³¡å ‚ã€‹ä¸ã€ŠQQå ‚ã€‹ä¹‹æˆ˜ ç´§ç›¯å¸‚åœºæ–°çƒ­ç‚¹ï¼Œå¿«é€Ÿè·Ÿè¿›ä¼˜åŒ–ï¼Œåˆ©ç”¨è‡ªå·±çš„æµé‡ä¼˜åŠ¿å®ç°æ•´ä½“æ›¿ä»£ã€‚ç¯èŠ‚æ„æƒ³å’Œè¿è¥æ€è·¯ QQå® ç‰©ï¼šæ¯çˆ±æƒ…ç»“çš„å®£æ³„ã€‚ è¿™ç§äººæ ¼åŒ–çš„ä»£å…¥åŠå¯¹ä¹‹çš„çµæ´»æŒæ¡ï¼Œæ˜¯è…¾è®¯å…¬å¸æœ€æ“…é•¿çš„ç§˜å¯†æ­¦å™¨ã€‚ é”å®šä¸€ä¸ªâ€œçœŸå®çš„è¯‰æ±‚ç‚¹â€ï¼Œåœ¨ç”¨æˆ·ä½“éªŒä¸ŠåŠ›äº‰åšåˆ°æè‡´â€”ä»åºå¤§çš„ç”¨æˆ·åŸºæ•°ä¸­æŠ“å–æ¶ˆè´¹ç¾¤â€”åœ¨å½¢æˆä¸€å®šæ•°é‡çš„åŸºç¡€ç”¨æˆ·ä¹‹åæ¨å‡ºè¿›é˜¶å¼æœ‰å¿å•†ä¸šæœåŠ¡â€”æŒç»­ä¼˜åŒ–ã€å°½åŠ›å»¶é•¿äº§å“çš„ç”Ÿå‘½å‘¨æœŸâ€”å¯»æ‰¾æ–°çš„è¯‰æ±‚ç‚¹ã€‚ ã€Šç©¿è¶Šç«çº¿ã€‹ä¸ã€Šåœ°ä¸‹åŸä¸å‹‡å£«ã€‹ ç»è¿‡æ•°å¹´ç£¨ç ºï¼Œè…¾è®¯åœ¨ç”¨æˆ·çƒ­æƒ…çš„æ¿€å‘ä¸Šè¶Šæ¥è¶Šå¨´ç†Ÿï¼Œä¹Ÿè¶Šæ¥è¶Šè®©äººéš¾ä»¥æŠµæŠ—ã€‚ ä¸å³æ—¶é€šä¿¡å·¥å…·ä¸åŒï¼Œç½‘æ¸¸ç”¨çš„å¿ è¯šåº¦å’Œä¾æˆ·å¯¹å¹³å°èµ–åº¦å¾ˆä½ï¼Œæ¸¸æˆä¸€æ—¦ä¸å¥½ç©ï¼Œä»–ä»¬ç«‹å³æ‰å¤´è€Œå» 11)å¹¿å‘Šï¼šç¤¾äº¤å¹³å°çš„é€†è¢­ 2005å¹´8æœˆï¼Œè…¾è®¯ç½‘å†æ¬¡æ”¹ç‰ˆï¼Œå®£å¸ƒä»â€œé’å¹´çš„æ–°é—»é—¨æˆ·â€å‘â€œç«‹å¿—åšæœ€å¥½çš„ç»¼åˆé—¨æˆ·â€è½¬å‹ï¼Œè¿™æ„å‘³è¿™å®¶ä¸“æ³¨äºå¨±ä¹æ–°é—»å’Œå¹´è½»äººçš„ç½‘ç«™å°†æ›´å¤šåœ°å…³æ³¨ä¸»æµç¤¾ä¼šã€‚ â€œæˆ‘ä»¬åˆ©ç”¨QQç»ˆç«¯å®ç°äº†æ–°é—»çš„å³æ—¶æ€§å’Œäº’åŠ¨æ€§ï¼Œå…¶ä»–é—¨æˆ·åªèƒ½çœ‹ç€æˆ‘ä»¬å¹²ç€æ€¥ã€‚â€ â€œåœ¨è™šæ‹Ÿä¸–ç•Œä¸­ï¼Œäººä»¬è®¿é—®äº’è”ç½‘çš„è·¯å¾„å¯ä»¥äº§ç”Ÿæ— æ•°ä¸ªå¹¿å‘Šæ¥è§¦ç‚¹ï¼Œå±æ€§ä¸åŒçš„æ•°å­—æ¥è§¦ç‚¹ä¹Ÿå¯ä»¥è¢«éœ€æ±‚ä¸åŒçš„å¹¿å‘Šæ‹¦æˆªã€‚â€ â€äº’è”ç½‘å°†ä¼šç»™æ•´åˆè¥é”€ä¼ æ’­å¸¦æ¥å·¨å¤§å˜åŒ–ã€‚å›´ç»•å•çº¯å‘å¤–çš„ä¼ æ’­ç³»ç»Ÿï¼Œè¿™ç§æƒ…å†µåœ¨äº’è”ç½‘ä¸Šå°†ä¸å¤å­˜åœ¨ã€‚è¿™é‡Œï¼Œä¼ æ’­ä½“ç³»ä¸æ˜¯å•çº¯å‘å¤–çš„ï¼Œè€Œæ˜¯äº’åŠ¨çš„ã€‚ä¿¡æ¯ä¸å†ç”±è¥é”€äººå‘˜æˆ–ä¿¡æ¯ä¼ æ’­äººå‘˜æ‰€æ§åˆ¶ï¼Œè€Œæ˜¯ç”±é¡¾å®¢æ‰€æ§åˆ¶ã€‚é¡¾å®¢ä¸å†æ˜¯ä¼ æ’­çš„ç›®æ ‡ï¼Œè€Œæ˜¯ä¸è¥é”€äººå‘˜æˆ–ä¿¡æ¯ä¼ æ’­äººå‘˜å¤„äºåŒç­‰åœ°ä½ï¼›æ¶ˆè´¹è€…ä¹Ÿä¸å†æ˜¯ä¼ä¸šè¯´æœçš„å¯¹è±¡ï¼Œè€Œæ˜¯ä¼ä¸šè†å¬å’Œå“åº”çš„å¯¹è±¡ã€‚â€ å¹¿ç‚¹é€šï¼ˆç°åœ¨å«è…¾è®¯ç¤¾äº¤å¹¿å‘Šï¼‰çš„æ¨¡å¼ä¹Ÿæ˜¯æŠŠè…¾è®¯åºå¤§çš„æµé‡èµ„æºé‡Šæ”¾å‡ºæ¥ï¼Œç»™å¹¿å‘Šä¸»ä¸€ä¸ªè‡ªç”±é…ç½®å’ŒæŠ•æ”¾çš„æƒåˆ©ã€‚ åŒºåˆ«äºâ€œé—¨æˆ·å¹¿å‘Šâ€å’Œâ€œæœç´¢å¹¿å‘Šâ€ï¼Œå¹¿ç‚¹é€šæå‡ºäº†â€œæ•ˆæœå¹¿å‘Šâ€è¿™ä¸ªå…¨æ–°çš„æ¦‚å¿µã€‚ å¹¿ç‚¹é€šæ ¹æ®ç”¨æˆ·å±æ€§å’Œå¥½å‹ç¾¤ä½“æ¨èå¹¶å±•ç¤ºå¹¿å‘Šå†…å®¹ï¼Œè®¿é—®åŒä¸€ç•Œé¢çš„ä¸åŒç”¨æˆ·ï¼Œçœ‹åˆ°çš„æ˜¯ä¸ºå…¶é‡èº«å®šåˆ¶çš„ä¸åŒçš„å¹¿å‘Šï¼Œåœ¨å¢å¼ºå¹¿å‘Šäººæ€§åŒ–å’Œäº¤äº’å¼ä½“éªŒçš„åŒæ—¶ï¼Œé€šè¿‡ç”¨æˆ·çš„ç¤¾äº¤å±æ€§å’Œå¥½å‹å…³ç³»é“¾è¿›è¡Œå½±å“åŠ›æ”¾å¤§å’Œè¾å°„ã€‚ Part 3 å·¨å¤´ï¼š2010-201612)ç”¨æˆ·ï¼šå°é©¬å“¥çš„äº§å“å“²å­¦ â€œé‚£ä¸ªåªçœ‹è§é¸Ÿçš„å­©å­æ˜¯å¥½å­¦ç”Ÿâ€ å°åº¦å²è¯—ç¥è¯ã€Šæ‘©è¯ƒå©†ç½—å¤šã€‹ä¸­å…³äºä¸“æ³¨çš„æ•…äº‹ï¼š å¤§å¸ˆç‰¹æ´›é‚£æ•™å­¦ç”Ÿå°„ç®­ï¼Œåˆ°äº†æ—å­ä¸­ï¼Œé—®ä¸€å­¦ç”Ÿï¼šçœ‹è§é¸Ÿæ²¡æœ‰ï¼Ÿç­”ï¼Œçœ‹è§ã€‚åˆé—®ï¼šçœ‹è§æ ‘æ—å’Œæˆ‘æ²¡æœ‰ï¼Ÿç­”ï¼šéƒ½çœ‹è§äº†ã€‚åˆé—®å¦ä¸€å­¦ç”Ÿï¼šçœ‹è§é¸Ÿã€æ ‘æ—å’Œä¼—äººæ²¡æœ‰ï¼Ÿç­”ï¼šæˆ‘åªçœ‹è§é¸Ÿã€‚ç‰¹æ´›é‚£ä»¤å…¶å°„ï¼Œä¸­ã€‚ç‰¹æ´›é‚£è¯´ï¼Œé‚£ä¸ªåªçœ‹è§é¸Ÿçš„å­©å­æ˜¯å¥½å­¦ç”Ÿã€‚ â€œä»–å°±æ˜¯ä¸€ä¸ªé‚®ä»¶ç‹‚äººâ€ é©¬åŒ–è…¾è‡ªé™ˆæ˜¯â€œä¸€ä¸ªä¸å–„è¨€è¾çš„äººâ€ï¼Œä»–ç”¨ä»¥æ¨åŠ¨è¿­ä»£è¿›åŒ–çš„åŠæ³•ï¼Œå°±æ˜¯äº²è‡ªå‚ä¸å‡ ä¹æ‰€æœ‰çš„äº§å“ç ”å‘ï¼Œç„¶åç”¨å‘é‚®ä»¶çš„æ–¹å¼ä¸‹â€œæŒ‡å¯¼æ£‹â€ï¼Œä»–å¯ä»¥ç®—å¾—ä¸Šæ˜¯ä¸­å›½é¦–å±ˆä¸€æŒ‡çš„â€œé‚®ä»¶ç‹‚äººâ€ã€‚ â€œæˆåŠŸçš„ç§˜è¯€ï¼Œåœ¨äºæŠŠè‡ªå·±çš„è„šæ”¾å…¥ä»–äººçš„é‹å­é‡Œï¼Œè¿›è€Œç”¨ä»–äººçš„è§’åº¦æ¥è€ƒè™‘äº‹ç‰©ï¼ŒæœåŠ¡å°±æ˜¯è¿™æ ·çš„ç²¾ç¥ï¼Œç«™åœ¨å®¢äººçš„ç«‹åœºå»çœ‹æ•´ä¸ªä¸–ç•Œã€‚â€ è…¾è®¯çš„å·¥ç¨‹å¸ˆï¼šæ¯ä¸¤ä¸ªå°æ—¶è½®æµç›‘æµ‹ã€å›å¤ç½‘ä¸Šå‡ºç°çš„ç”¨æˆ·æ„è§ã€‚ é©¬åŒ–è…¾çš„æ¨åŠ¨ä¸‹ï¼Œè…¾è®¯å½¢æˆäº†ä¸€ä¸ªâ€œ10/100/1000æ³•åˆ™â€ï¼šäº§å“ç»ç†æ¯ä¸ªæœˆå¿…é¡»åš10ä¸ªç”¨æˆ·è°ƒæŸ¥ï¼Œå…³æ³¨100ä¸ªç”¨æˆ·åšå®¢ï¼Œæ”¶é›†åé¦ˆ1000ä¸ªç”¨æˆ·ä½“éªŒã€‚ ç¬é—´å˜æˆâ€œç™½ç—´çº§ç”¨æˆ·â€çš„é€Ÿåº¦ é©¬åŒ–è…¾å…³äºç”¨æˆ·ä½“éªŒï¼šâ€œäº’è”ç½‘åŒ–çš„äº§å“ä¸åƒä¼ ç»Ÿè½¯ä»¶å¼€å‘ï¼Œä¸€ä¸‹å­åˆ»å…‰ç›˜å°±æ¨å‡ºã€‚æˆ‘ä»¬æ°¸è¿œæ˜¯Betaç‰ˆæœ¬ï¼Œè¦å¿«é€Ÿåœ°å»å‡çº§ï¼Œå¯èƒ½æ¯ä¸¤ä¸‰å¤©ä¸€ä¸ªç‰ˆæœ¬ï¼Œè¿™å°±è¦ä¸æ–­åœ°æ”¹åŠ¨ï¼Œè€Œä¸”ä¸æ–­åœ°å¬è®ºå›ã€ç”¨æˆ·çš„åé¦ˆï¼Œç„¶åå†³å®šä½ åé¢çš„æ–¹å‘ã€‚å› æ­¤ï¼Œäº§å“ç»ç†è¦æŠŠè‡ªå·±å½“æˆä¸€ä¸ªæŒ‘å‰”çš„ç”¨æˆ·ã€‚â€ é©¬åŒ–è…¾çš„ç¬¬ä¸€æ¬¡äº§å“æ¼”è®² å¸Œæœ›çš„äº§å“ç»ç†æ˜¯éå¸¸èµ„æ·±çš„ï¼Œæœ€å¥½æ˜¯ç”±åšè¿‡å‰ç«¯ã€åç«¯å¼€å‘çš„æŠ€æœ¯ç ”å‘äººå‘˜æ™‹å‡è€Œæ¥ã€‚å¥½çš„äº§å“æœ€å¥½äº¤åˆ°ä¸€ä¸ªæœ‰æŠ€æœ¯èƒ½åŠ›ã€æœ‰ç»éªŒçš„äººå‘˜æ‰‹ä¸Šï¼Œè¿™æ ·ä¼šè®©å¤§å®¶æ›´åŠ æ”¾å¿ƒã€‚å¦‚æœäº§å“ç»ç†ä¸åˆæ ¼ï¼Œè®©å¾ˆå¤šå…„å¼Ÿé™ªç€å¹²ï¼Œç»“æœå‘ç°æ–¹å‘é”™è¯¯ï¼Œè¿™æ˜¯éå¸¸æµªè´¹å’ŒæŒ«ä¼¤å›¢é˜Ÿå£«æ°”çš„ã€‚ ä¸€ä¸ªäº§å“åœ¨æ²¡æœ‰å£ç¢‘çš„æ—¶å€™ï¼Œä¸è¦æ»¥ç”¨å¹³å°ã€‚ åœ¨è®¾è®¡ä¸Šæˆ‘ä»¬åº”è¯¥åšæŒå‡ ç‚¹ï¼šâ€”â€”ä¸å¼ºè¿«ç”¨æˆ·ï¼›â€”â€”ä¸ä¸º1%çš„éœ€æ±‚éªšæ‰°99%çš„ç”¨æˆ·ï¼›â€”â€”æ·¡æ·¡çš„ç¾æœ¯ï¼Œç‚¹åˆ°å³æ­¢ï¼›â€”â€”ä¸èƒ½åˆ»æ„åœ°è¿åˆä½é¾„åŒ–ã€‚ åœ¨äº§å“çš„æ€»ä½“æ„æ¶åŠè¿è¥ä¸Šï¼Œåˆ™å¯ä»¥é‡‡ç”¨ä¸‹è¿°çš„ç­–ç•¥ï¼šâ€”â€”äº¤äº’åŠŸèƒ½ï¼šâ€œDonâ€™t make me thinkï¼â€ï¼ˆåˆ«è®©æˆ‘æ€è€ƒï¼ï¼‰â€”â€”ç¾æœ¯å‘ˆç°ï¼šâ€œå°½å¯èƒ½ç®€å•ã€‚â€â€”â€”äº§å“è®¾è®¡ï¼šâ€œè®©åŠŸèƒ½å­˜åœ¨äºæ— å½¢ä¹‹ä¸­ã€‚â€â€”â€”è¿è¥è¦æ±‚ï¼šâ€œä¸ç¨³å®šä¼šåŠŸäºä¸€ç¯‘ï¼â€â€”â€”æ€»ä½“è¦æ±‚ï¼šâ€œå¿«é€Ÿï¼Œç¨³å®šï¼ŒåŠŸèƒ½å¼ºï¼Œä½“éªŒå¥½ï¼â€â€”â€”å‘ç°éœ€æ±‚ï¼šå‹¤çœ‹BBSå’ŒBlogã€‚ å¤§æ•°æ®ä¸‹çš„åé¦ˆä½“åˆ¶ 2005å¹´å¼€å§‹ï¼Œé©¬åŒ–è…¾è¦æ±‚å„æ¡ä¸šåŠ¡çº¿çš„ä¸»ç®¡æ¯å¤©ç»™ä»–å’Œå¼ å¿—ä¸œå‘é€ä¸€å°åæ˜ ä¸šåŠ¡æŒ‡æ ‡æ•°å­—çš„é‚®ä»¶ï¼Œå†…å®¹åŒ…æ‹¬ï¼šåŒ…æœˆç”¨æˆ·æ˜¯å¤šå°‘ï¼Ÿå¢åŠ äº†å¤šå°‘ï¼Ÿå‡å°‘äº†å¤šå°‘ï¼Ÿè·Ÿä¸Šå‘¨åŒæ—¥æ¯”ï¼Œæˆ–è€…è¯´æ˜¯è·Ÿä¸Šä¸ªæœˆåŒæ—¥æ¯”ï¼Œåˆ†åˆ«å‡è·Œäº†å¤šå°‘ï¼Ÿæœ‰ä»€ä¹ˆå¼‚åŠ¨ï¼Ÿ æ•°å­—ç»è¥ ä¸ºäº†è§£ç­”ç”¨æˆ·ä½“éªŒçš„ä¸€ä¸ªç»ˆæé—®é¢˜â€œç”¨æˆ·åˆ°åº•éœ€è¦ä»€ä¹ˆâ€ï¼šSupportäº§å“äº¤æµå¹³å° è…¾è®¯ç”šè‡³æŠŠå„ä¸ªäº§å“çº¿ä¸Šçš„ç”¨æˆ·ä½“éªŒäººå‘˜ï¼Œå…¨éƒ¨æ‹å‡ºæ¥æˆç«‹äº†ä¸€ä¸ªå…¬å¸çº§çš„éƒ¨é—¨â€”â€”ç”¨æˆ·ä½“éªŒä¸ç ”ç©¶éƒ¨ï¼Œä»æˆ˜ç•¥æ€§çš„é«˜åº¦æ¥å»ºè®¾ï¼Œåˆšå¼€å§‹æ˜¯åå‡ ä¸ªäººï¼Œåæ¥è¾¾åˆ°è¿‘ç™¾äººçš„è§„æ¨¡ â€œæ•°æ®æŒ–æ˜â€æ‰æ˜¯è…¾è®¯æœ€å…·é—¨æ§›æ€§è´¨çš„æŠ€æœ¯ 13)è½¬æŠ˜ï¼š3Qå¤§æˆ˜ ä¼é¹…å¸å›½çš„â€œä¸‰å®—ç½ªâ€ â€œä¸€ç›´åœ¨æ¨¡ä»¿ä»æ¥ä¸åˆ›æ–°â€â€œèµ°è‡ªå·±çš„è·¯è®©åˆ«äººæ— è·¯å¯èµ°â€â€œå„æ–­å¹³å°æ‹’ç»å¼€æ”¾â€ æ¯•ç«Ÿå•†ä¸šæ¨¡å¼ä½ å¾ˆéš¾è‹›æ±‚å»åŸåˆ›ï¼Œå› ä¸ºæœ¬æ¥å°±è¿™ä¹ˆå‡ ç§ï¼Œå…³é”®çœ‹è°åšå¾—å¥½ã€‚ èˆ†è®ºçªè¢­ï¼šâ€œç‹—æ—¥çš„â€è…¾è®¯ â€œåªè¦æ˜¯ä¸€ä¸ªé¢†åŸŸå‰æ™¯çœ‹å¥½ï¼Œè…¾è®¯å°±è‚¯å®šä¼šä¼ºæœºå……å½“æ é£Ÿè€…ã€‚å®ƒæ€»æ˜¯é»˜é»˜åœ°å¸ƒå±€ã€æ‚„æ— å£°æ¯åœ°å‡ºç°åœ¨ä½ çš„èƒŒåï¼›å®ƒæ€»æ˜¯åœ¨æœ€æ°å½“çš„æ—¶å€™å‡ºæ¥æ…å±€ï¼Œè®©åŒä¸šè€…å¿ƒç¥ä¸å®šã€‚è€Œä¸€æ—¦æ—¶æœºæˆç†Ÿï¼Œå®ƒå°±ä¼šæ¯«ä¸ç•™æƒ…åœ°åˆ’èµ°è‡ªå·±çš„é‚£å—è›‹ç³•ï¼Œæœ‰æ—¶å®ƒç”šè‡³ä¼šæˆä¸ºç»ˆç»“è€…ï¼Œéœ¸å æ•´ä¸ªå¸‚åœºã€‚â€ å®¿æ•Œçš„å‡ºç°ï¼šä»åˆ¶æ¯’è€…åˆ°æ€æ¯’è€… æ­£é¢å†²çªï¼šç”µè„‘ç®¡å®¶ä¸éšç§ä¿æŠ¤å™¨ èˆ†è®ºæ”»é˜²ï¼šæŠ€æœ¯çš„ï¼Œè¿˜æ˜¯é“å¾·çš„ â€œè…¾è®¯æ¯ä¸€æ¬¡é‡å¤§å‡çº§éƒ½ä¼šé€‰åœ¨èŠ‚å‡æ—¥ä¹‹å‰ï¼Œè¿™å¾€å¾€è®©å¯¹æ‰‹æªæ‰‹ä¸åŠã€‚â€ ç™½çƒ­åŒ–ï¼šâ€œæ‰£æ‰£ä¿é•–â€ä¸è‰°éš¾çš„å†³å®š å°´å°¬çš„ç»“å±€ï¼šâ€œèµ¢äº†å®˜å¸ï¼Œè¾“äº†èˆ†è®ºâ€ äººç±»çš„çœŸå®ï¼šäº‹å®çœŸå®ã€é€»è¾‘çœŸå® äº’è”ç½‘ä¸–ç•Œé‡Œçš„çœŸå®ï¼šäº‹å®çœŸå®ã€é€»è¾‘çœŸå®å’Œæƒ…ç»ªçœŸå® ç›¸æ¯”è¾ƒï¼Œå‘¨é¸¿ç¥çš„å†’é™©å–å¾—äº†ç©ºå‰çš„å•†ä¸šæˆåŠŸï¼Œä»–èµ¤èº«ä¸Šæ‰‘ï¼Œåªè¦ä¸è¢«æ‰¼æ€å³æ˜¯å¤§èƒœï¼Œä»–å¯¹äº’è”ç½‘èˆ†è®ºçš„è¶…å‡¡ç†è§£åŠæŒæ§ï¼Œæ›´æ˜¯å‰æ‰€æœªè§ã€‚ 14)å¼€æ”¾ï¼šæ–°çš„æŒ‘æˆ˜ä¸èƒ½åŠ› ä¸€ä¸ªè¡Œä¸šå‘å±•å¾—è¶Šå¿«ï¼Œå®ƒçš„å•†ä¸šæ¨¡å¼å°±ä¼šè¶Šæ—©è¾¾åˆ°æé™ï¼Œæ‰€ä»¥è¯´ï¼Œå½“ä¸‹çš„æˆåŠŸæŠ›ç‰©çº¿ç»å¸¸æ˜¯çª„çš„å°–å³°çŠ¶ã€‚â€”â€”åŠ é‡ŒÂ·å“ˆé»˜ï¼ˆç¾å›½å•†ä¸šæˆ˜ç•¥å¤§å¸ˆï¼‰ï¼Œã€Šç®¡ç†çš„æœªæ¥ã€‹ â€œæ‰“å¼€æœªæ¥ä¹‹é—¨â€ è‹±å›½å†å²å­¦å®¶æ±¤å› æ¯”åœ¨æè¿°äº†äººç±»ä¼—å¤šæ–‡æ˜çš„å…´è¡°ä¹‹åï¼Œæå‡ºè¿‡ä¸€ä¸ªæ„å‘³æ‚ é•¿çš„é—®é¢˜ï¼šå¯¹ä¸€æ¬¡æŒ‘æˆ˜åšå‡ºäº†æˆåŠŸåº”æˆ˜çš„åˆ›é€ æ€§çš„å°‘æ•°äººï¼Œéœ€å¤šé•¿æ—¶é—´æ‰èƒ½ç»è¿‡ä¸€ç§ç²¾ç¥ä¸Šçš„é‡ç”Ÿï¼Œä½¿è‡ªå·±æœ‰èµ„æ ¼åº”å¯¹ä¸‹ä¸€æ¬¡ã€å†ä¸‹ä¸€æ¬¡çš„æŒ‘æˆ˜ï¼Ÿ 2010å¹´11æœˆ11æ—¥æ™šé—´ï¼Œé©¬åŒ–è…¾é€šè¿‡å†…éƒ¨é‚®ä»¶å‘å¸ƒè‡´å…¨ä½“å‘˜å·¥çš„ä¿¡ä¸­ç§°ï¼šâ€œè¿‡å»ï¼Œæˆ‘ä»¬æ€»åœ¨æ€è€ƒä»€ä¹ˆæ˜¯å¯¹çš„ã€‚ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬è¦æ›´å¤šåœ°æƒ³ä¸€æƒ³ä»€ä¹ˆæ˜¯èƒ½è¢«è®¤åŒçš„ã€‚â€ æˆ˜æ–—æ—¶å…¨åŠ›ä»¥èµ´ï¼Œæˆ˜æ–—ç»“æŸåï¼Œæ”¾ä¸‹æƒ…ç»ªå’Œæ„¤æ€’ï¼Œç»§ç»­å‰è¡Œï¼ â€œè¯Šæ–­è…¾è®¯â€ï¼šååœºç¥ä»™ä¼š è¯Šæ–­ä¼šçš„ä¸»é¢˜ç”±ä¸‰ä¸ªæ„æˆï¼šå…³äºå…¬ä¼—è´£ä»»ä¸ç¾èª‰åº¦ã€è¡Œä¸šçš„å¼€æ”¾ä¸å„æ–­ä»¥åŠåˆ›æ–°å’Œå±±å¯¨çš„éš¾é¢˜ ã€Š21ä¸–çºªå•†ä¸šè¯„è®ºã€‹ä¸»ç¼–å´ä¼¯å‡¡ï¼šâ€œå¸å›½çš„æ€ç»´â€ï¼Œâ€œå¦‚åŒè’™å¤å¸å›½é‚£æ ·ï¼Œç–†åŸŸéå¸¸å¤§ï¼Œä½†ç®¡ç†åŠå¾„ä¸å¤Ÿå¤§ï¼Œå¯èƒ½è†¨èƒ€å¾—éå¸¸å¿«ï¼Œä½†ç”±äºç®¡ç†åŠå¾„çš„ä¸å¯¹ç§°ï¼Œä¼šåœ¨çŸ­æ—¶é—´é­é‡ä¸¥é‡å±æœºï¼Œç”šè‡³åœ¨æŸä¸€ç‚¹ä¸Šè¢«å½»åº•ç“¦è§£â€ã€‚ å¼€æ”¾èƒ½åŠ›ï¼šèµ„æœ¬ä¸æµé‡ æˆ‘ä»¬è‡³å°‘åœ¨ä¸‰ä¸ªæ–¹é¢æœ‰è¿‡çº ç»“ï¼šç¬¬ä¸€ï¼Œå¼€æ”¾åˆ°åº•æ˜¯ä»¥åº”ç”¨ä¸ºä¸»ï¼Œè¿˜æ˜¯ä»¥å†…å®¹ä¸ºä¸»ï¼›ç¬¬äºŒï¼Œç¤¾äº¤ç½‘ç»œæ˜¯å¦è¦å¼€æ”¾å¹¿å‘Šèµ„æºï¼Œæˆ‘ä»¬å—åˆ°äº†æ¥è‡ªå“ç‰Œå¹¿å‘Šéƒ¨é—¨å’Œæœç´¢éƒ¨é—¨çš„å‹åŠ›ï¼›ç¬¬ä¸‰ï¼Œå¼€æ”¾æ˜¯é’ˆå¯¹å¹³å°ï¼Œè¿˜æ˜¯é’ˆå¯¹ä¸Šä¸‹æ¸¸äº§ä¸šé“¾ã€‚ â€œæ•°å­—ä¸–ç•Œæœ€æ ¹æœ¬çš„åˆ†æ­§æ˜¯å¼€æ”¾å’Œå°é—­ï¼Œè€Œå¯¹ä¸€ä½“åŒ–ç³»ç»Ÿçš„æœ¬èƒ½çƒ­çˆ±è®©ä¹”å¸ƒæ–¯åšå®šåœ°ç«™åœ¨äº†å°é—­ä¸€è¾¹â€â€”â€” è‰¾è¨å…‹æ£®ã€Šå²è’‚å¤«Â·ä¹”å¸ƒæ–¯ä¼ ã€‹ å¾®åšï¼šç§»åŠ¨æ—¶ä»£çš„æ–°å¯¹æ‰‹ ç¤¾äº¤ç½‘ç»œæ‹¥æœ‰â€œèµ¢è€…é€šåƒâ€å’Œâ€œç¯å¢ƒé€šåƒâ€çš„å›¢ä½“åŒ–ç‰¹å¾ â€œæŒ‘æˆ˜è€…å¿…é¡»æ‰¾åˆ°ä¸åŒäºé¢†å…ˆè€…çš„æ–°ç«äº‰æ–¹å¼ä»¥å–å¾—æˆåŠŸâ€ 15)å¾®ä¿¡ï¼šç§»åŠ¨äº’è”æ—¶ä»£çš„â€œç«™å°ç¥¨â€ å¼ å°é¾™ä¸é›·å†›èµ›è·‘ ç±³èŠï¼š2010å¹´12æœˆ10æ—¥ï¼Œå°ç±³ä»…ä»…ç”¨äº†1ä¸ªæœˆçš„å¼€å‘æ—¶é—´ï¼Œå‘å¸ƒäº†ä¸­å›½ç¬¬ä¸€æ¬¾æ¨¡ä»¿kikçš„äº§å“ï¼Œå…ˆæ˜¯Androidç‰ˆï¼Œç»§è€Œæ˜¯iPhoneç‰ˆã€‚ å¾®ä¿¡ï¼š2011å¹´1æœˆ21æ—¥ï¼Œä¸ç±³èŠä¸åŒçš„æ˜¯ï¼Œå¼ å°é¾™å…ˆå‘å¸ƒäº†iPhoneç‰ˆï¼Œç„¶åæ‰æ˜¯Androidç‰ˆå’ŒSymbianç‰ˆã€‚ å¾®ä¿¡å¼€å±é¡µï¼šä¸€ä¸ªå­¤ç‹¬çš„èº«å½±ç«™ç«‹åœ¨åœ°å¹³çº¿ä¸Šï¼Œé¢å¯¹è“è‰²æ˜Ÿçƒï¼Œä»¿ä½›åœ¨æœŸå¾…æ¥è‡ªå®‡å®™åŒç±»çš„å‘¼å”¤ã€‚ å¾®ä¿¡1.2ç‰ˆè¿…é€Ÿè½¬å‘å›¾ç‰‡åˆ†äº«ã€‚åœ¨å¼ å°é¾™çœ‹æ¥ï¼Œç§»åŠ¨äº’è”ç½‘æ—¶ä»£å¿…ç„¶æ˜¯ä¸€ä¸ªå›¾ç‰‡ä¸ºç‹çš„æ—¶ä»£ï¼Œäººä»¬åœ¨æœ‰é™çš„è½½ä½“ä¸Šæ²¡æœ‰è€å¿ƒè¿›è¡Œæ·±åº¦é˜…è¯»ï¼Œè€Œå¯¹å›¾ç‰‡çš„æ¶ˆè´¹é‡ä¼šè¾¾åˆ°ä¸€ä¸ªç©ºå‰çš„ç¨‹åº¦ã€‚ 5æœˆï¼Œå¼ å°é¾™çš„å¾®ä¿¡æ–°ç‰ˆæœ¬ä¹ŸåŠæ—¶åœ°å¢åŠ äº†è¯­éŸ³èŠå¤©åŠŸèƒ½ï¼Œç”¨æˆ·çŒ›ç„¶é—´å‡ºç°äº•å–·ï¼Œç”¨æˆ·æ—¥å¢æ•°ä»ä¸€ä¸¤ä¸‡æé«˜åˆ°äº†äº”å…­ä¸‡ã€‚ â€œå¦‚æœä½ è¯´æˆ‘æ˜¯é”™çš„ï¼Œä½ è¦è¯æ˜ä½ æ˜¯å¯¹çš„ã€‚â€ 7æœˆï¼Œå¾®ä¿¡æ¨å‡ºâ€œæŸ¥çœ‹é™„è¿‘çš„äººâ€åŠŸèƒ½ï¼Œç”¨å¼ å°é¾™çš„è¯è¯´ï¼Œâ€œè¿™ä¸ªåŠŸèƒ½å½»åº•æ‰­è½¬äº†æˆ˜å±€â€ã€‚ ä¸ºä»€ä¹ˆæ˜¯å¼ å°é¾™ï¼Ÿ å¼ å°é¾™ï¼šâ€œäº§å“ç»ç†æ°¸è¿œéƒ½åº”è¯¥æ˜¯æ–‡è‰ºé’å¹´ï¼Œè€Œéç†æ€§é’å¹´â€ â€œåœ¨æŸä¸€åœºæ™¯ä¸‹çš„ç”¨æˆ·ä½“éªŒæ˜¯ä¸€æ¬¾äº’è”ç½‘äº§å“èƒ½å¦æˆåŠŸçš„å…³é”®ï¼Œè€Œä¸æ˜¯å…¶ä»–ã€‚â€ å¼ å°é¾™å¯¹äº§å“ç»ç†çš„ç´ å…»æå‡ºäº†æå…·ä¸ªäººè‰²å½©çš„è§£è¯»ï¼š â€”â€” æ•é”æ„ŸçŸ¥æ½®æµå˜åŒ–ã€‚ç§»åŠ¨äº’è”ç½‘äº§å“ä¼šä»ç›¸å¯¹åŒ®ä¹æ—¶ä»£è¿›å…¥ç›¸å¯¹å¯Œè¶³æ—¶ä»£ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©çš„äº§å“ä¼šéšæ—¶æ—¥æµé€è€Œæ—¥æ¸å¢åŠ ã€‚äº§å“ç»ç†è‹¥æ˜¯æ²‰æººäºå„ç§æ–°é²œç©æ„å„¿ä¹‹ä¸­ï¼Œè¿½é€æ–°å¥‡ï¼Œå¾ˆå¯èƒ½é”™è¿‡çœŸå®çš„æ—¶ä»£æ½®æµï¼Œæ— æ³•æŠŠæ¡äººç¾¤çš„çœŸå®éœ€æ±‚ã€‚ â€”â€” ç”¨æˆ·æ„ŸçŸ¥éœ€æ±‚ã€‚ç§»åŠ¨äº’è”ç½‘çš„æœ€å¤§ç‰¹ç‚¹æ˜¯å˜åŒ–æå¿«ï¼Œä¼ ç»Ÿçš„åˆ†æç”¨æˆ·ã€è°ƒç ”å¸‚åœºã€åˆ¶å®šäº§å“ä¸‰å¹´è§„åˆ’ï¼Œåœ¨æ–°çš„æ—¶ä»£é‡Œå·²ç»è½ä¼ã€‚äººç±»ç¾¤è½æœ¬èº«ä¹Ÿåœ¨è¿ç§»æ¼”å˜ï¼Œäº§å“ç»ç†æ›´åº”è¯¥ä¾é ç›´è§‰å’Œæ„Ÿæ€§ï¼Œè€Œéå›¾è¡¨å’Œåˆ†æï¼Œæ¥æŠŠæ¡ç”¨æˆ·éœ€æ±‚ã€‚ â€”â€” æµ·é‡çš„å®è·µã€‚å°½ç®¡ç§»åŠ¨äº’è”ç½‘æ–¹å…´æœªè‰¾ï¼Œç›®å‰æ²¡æœ‰ä»»ä½•äººå¯ä»¥è‡ªç§°æ˜¯é¢†åŸŸå†…çš„ä¸“å®¶ï¼Œä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å¯ä»¥å¯„å¸Œæœ›äºå¤©é™å¤©æ‰ã€‚ã€Šå¼‚ç±»ã€‹ä¸­æå‡ºçš„ä¸€ä¸‡å°æ—¶å®šå¾‹ï¼ŒåŒæ ·é€‚ç”¨äºäº§å“ç»ç†ã€‚ä»–ä»¬éœ€è¦å¼€å±•è¶…è¿‡åƒæ¬¡çš„äº§å“å®è·µï¼Œæ‰èƒ½ç§°å¾—ä¸Šæ˜¯äº†è§£äº§å“è®¾è®¡ï¼Œæ‹¥æœ‰è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚ â€”â€” åšè€Œä¸ä¸“çš„ç§¯ç´¯ã€‚ç¾æœ¯ã€éŸ³ä¹ã€é˜…è¯»ã€æ‘„å½±ã€æ—…æ¸¸ç­‰ç­‰æ–‡è‰ºè¡Œä¸ºè²Œä¼¼ä¸èƒ½ç›´æ¥è½¬åŒ–ä¸ºç”Ÿäº§åŠ›ï¼Œä½†æ˜¯åˆæ ¼çš„äº§å“ç»ç†éœ€è¦å¹¿åšçš„çŸ¥è¯†å‚¨å¤‡ï¼Œä»¥æ­¤æ‰èƒ½äº†è§£å’Œè®¤è¯†å¤§æ•°é‡çš„äººç¾¤ï¼Œç†è§£æ—¶ä»£çš„å®¡ç¾ï¼Œè®©è‡ªå·±çš„æ‰€æ€æ‰€æ„Ÿç¬¦åˆæ™®é€šç”¨æˆ·çš„æ€ç»´èŒƒå¼ã€‚ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œè®¾è®¡çš„äº§å“æ‰ä¸ä¼šè„±ç¦»äººç¾¤ã€‚ â€”â€” è´Ÿè´£çš„æ€åº¦ã€‚æ‹¥æœ‰åˆé€‚çš„æ–¹æ³•è®ºå’Œåˆé€‚çš„ç´ å…»ï¼ŒæˆåŠŸçš„äº§å“ç»ç†è¿˜åº”è¯¥æœ‰å¯¹è‡ªå·±å’Œäº§å“è´Ÿè´£çš„æ€åº¦ï¼Œå”¯æœ‰å¦‚æ­¤ï¼Œäº§å“ç»ç†æ‰èƒ½è¶³å¤Ÿåæ‰§ï¼Œæ¸…æ¥šåœ°çŸ¥é“è‡ªå·±ç©¶ç«Ÿè¦åšä»€ä¹ˆï¼ŒæŠµæŒ¡ä½æ¥è‡ªä¸Šçº§å’Œç»©æ•ˆè€ƒæ ¸çš„å‹åŠ›ï¼ŒæŒ‰ç…§è‡ªå·±çš„æ„å¿—ä¸å˜å½¢ã€ä¸å¦¥ååœ°æ‰§è¡Œäº§å“ç­–åˆ’ã€‚ 16)å¹´è½»ï¼šæ‰‹æœºQQçš„è‡ªæˆ‘å˜é© â€œå¹¶éè¡¥å……ï¼Œè€Œå¯èƒ½æ˜¯é¢ è¦†â€ â€œQQé©¬ä¸Šè¦è¿›å…¥ç¬¬15ä¸ªå¹´å¤´äº†ï¼Œæœ‰8.5äº¿æ´»è·ƒç”¨æˆ·ï¼Œä½†äº’è”ç½‘å·²è¿›å…¥ä¸‹åŠåœºç«äº‰ï¼Œç§»åŠ¨äº’è”ç½‘å¹¶éPCç«¯çš„è¡¥å……ï¼Œè€Œå¯èƒ½æ˜¯é¢ è¦†ã€‚QQå¦‚æœä¸è‡ªæˆ‘å˜é©ï¼Œé€‚åº”â€˜éšæ—¶éšåœ°â€™çš„ç‰¹å¾ï¼Œå°±ä¼šè¢«ç”¨æˆ·æŠ›å¼ƒã€‚â€ â€œè¿‘å…­æˆQQç”¨æˆ·æ˜¯90åâ€ QQæ–°æ‰“æ³•ä¸€ï¼šå¨±ä¹åŒ–ç¤¾äº¤ EQè®¡åˆ’â€ï¼ˆEntertainment Quotient Planï¼‰ å¾ˆå¤šå¹´å‰Linusçš„è‡ªä¼ çš„ä¹¦åå°±å«ï¼šJust for funï¼Œä¸­æ–‡ç‰ˆåªæ˜¯ä¸ºäº†å¥½ç©. ä¸€åˆ‡å…¬ä¼—è¯è¯­éƒ½æ—¥æ¸ä»¥å¨±ä¹çš„æ–¹å¼å‡ºç°ï¼Œå¹¶æˆä¸ºä¸€ç§æ–‡åŒ–ç²¾ç¥ã€‚ä¸€åˆ‡æ–‡åŒ–å†…å®¹éƒ½å¿ƒç”˜æƒ…æ„¿åœ°æˆä¸ºå¨±ä¹çš„é™„åº¸ï¼Œè€Œä¸”æ¯«æ— æ€¨è¨€ï¼Œç”šè‡³æ— å£°æ— æ¯ï¼Œå…¶ç»“æœæ˜¯æˆ‘ä»¬æˆäº†ä¸€ä¸ªå¨±ä¹è‡³æ­»çš„ç‰©ç§ã€‚â€”â€” å°¼å°”Â·æ³¢å…¹æ›¼ã€Šå¨±ä¹è‡³æ­»ã€‹ QQæ–°æ‰“æ³•äºŒï¼šåœºæ™¯åŒ–é€šä¿¡ åœ¨æ•™è‚²ã€æ¸¸æˆã€åŠå…¬ã€å¨±ä¹ç­‰é‡è¦å‚ç›´é¢†åŸŸï¼ŒQQéƒ½è¿›è¡Œäº†éƒ¨ç½²ã€‚ 17)äº’è”ç½‘+ï¼šæ³›å¨±ä¹çš„ç¯å‹ç”Ÿæ€ è…¾è®¯åªåšä¸¤ä»¶äº‹ï¼Œè¿æ¥ä¸å†…å®¹ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚â€”â€”é©¬åŒ–è…¾ ä»ã€Šæ´›å…‹ç‹å›½ã€‹å¼€å§‹ ä»åŠ¨æ¼«æ’•å¼€ä¸€ä¸ªå£å­ 50äº¿å…ƒæ”¶è´­ç››å¤§æ–‡å­¦ ç››å¤§çš„æˆ˜ç•¥å¦‚é™ˆå¤©æ¡¥çš„ä¸ªæ€§ï¼Œæ•°åº¦è¿Ÿç–‘è€Œæ‘‡æ‘†ã€‚ å››ç¯åˆç’§ï¼Œå†…å®¹ç”Ÿæ€ ç›®å‰è…¾è®¯äº’å¨±æ——ä¸‹æ€»å…±å…·å¤‡äº†è…¾è®¯æ¸¸æˆã€è…¾è®¯åŠ¨æ¼«ã€è…¾è®¯æ–‡å­¦å’Œè…¾è®¯å½±ä¸šå››å¤§å¹³å°ï¼Œä»è€Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„æ³›å¨±ä¹ç”Ÿæ€å¸ƒå±€ã€‚ 18)å¤±æ§ï¼šäº’è”ç½‘è¶Šæ¥è¶Šåƒå¤§è‡ªç„¶ æŠ€æœ¯çš„åŠ›é‡æ­£ä»¥æŒ‡æ•°çº§çš„é€Ÿåº¦è¿…é€Ÿå‘å¤–æ‰©å……ã€‚äººç±»æ­£å¤„äºåŠ é€Ÿå˜åŒ–çš„æµªå°–ä¸Šï¼Œè¿™è¶…è¿‡äº†æˆ‘ä»¬å†å²çš„ä»»ä½•æ—¶åˆ»ã€‚â€”â€” åº“èŒ¨ç»´å°”ã€Šå¥‡ç‚¹ä¸´è¿‘ã€‹ æˆ‘æœ€ç»ˆå‘ç°ï¼Œæƒ³è¦å¾—åˆ°å’Œç”Ÿå‘½çœŸæ­£ç±»ä¼¼çš„è¡Œä¸ºï¼Œä¸æ˜¯è®¾æ³•åˆ›é€ å‡ºçœŸæ­£å¤æ‚çš„ç”Ÿç‰©ï¼Œè€Œæ˜¯ç»™ç®€å•çš„ç”Ÿç‰©æä¾›ä¸€ä¸ªæå…¶ä¸°é¥¶çš„å˜å¼‚ç¯å¢ƒã€‚â€”â€” å‡¯æ–‡Â·å‡¯åˆ©ã€Šå¤±æ§ã€‹ â€œè°å°†ä¼šæˆä¸ºè…¾è®¯æœªæ¥çš„æ•Œäººï¼Ÿâ€ â€œæˆ‘éå¸¸å–œæ¬¢ä¸­å›½ï¼Œå› ä¸ºæˆ‘åšä¿¡æœªæ¥å°±åœ¨è¿™å„¿ï¼Œä¸–ç•Œçš„æœªæ¥å°±åœ¨ä¸­å›½â€ã€‚ â€”â€” å‡¯æ–‡Â·å‡¯åˆ© â€œä¹Ÿè®¸ä½ ä»¬ä¸­å›½è€ç¥–å®—çš„æ™ºæ…§å¯ä»¥å¸®åˆ°æ‰€æœ‰çš„äº’è”ç½‘å…¬å¸ã€‚â€ â€œåœ¨äº’è”ç½‘ä¸–ç•Œï¼Œå³å°†æ¶ˆç­ä½ çš„é‚£ä¸ªäººï¼Œä»æ¥ä¸ä¼šå‡ºç°åœ¨ä¸€ä»½æ—¢å®šçš„åå•ä¸­â€ ç°åº¦æ³•åˆ™çš„ä¸ƒä¸ªç»´åº¦ è¦æ±‚è®¾è®¡è€…å’Œå¼€å‘è€…æœ‰å¾ˆå¼ºçš„ç”¨æˆ·æ„Ÿã€‚ä¸€å®šè¦ä¸€è¾¹åšè‡ªå·±äº§å“çš„å¿ å®ç”¨æˆ·ï¼Œä¸€è¾¹æŠŠè‡ªå·±çš„è§¦è§’ä¼¸åˆ°å…¶ä»–ç”¨æˆ·å½“ä¸­ï¼Œå»æ„Ÿå—ä»–ä»¬çœŸå®çš„å£°éŸ³ã€‚ æ²‰é™å‹é¢†å¯¼å›¢é˜Ÿ é¦–å¸­æ¢ç´¢å®˜ï¼ˆCXOï¼‰ è…¾è®¯éœ€è¦æŠŠç›®å…‰ä»æ¸¸æˆä¸­è½¬ç§»å‡ºå»ï¼Œå»çœ‹åŸºå› å­¦ã€å¤ªç©ºå­¦ã€æœºå™¨äººå’Œäººå·¥æ™ºèƒ½ é¢†å¯¼å½¢æ€ä¸Šçš„æ²‰é™ä¸è¡Œä¸šæ‰©å¼ ä¸Šçš„å‡¶çŒ›ï¼Œä»¥éå¸¸æˆå‰§åŒ–çš„æ–¹å¼åŒæ—¶å‘ˆç°åœ¨ä»–çš„èº«ä¸Š â€œè¿æ¥ä¸€åˆ‡â€ä¸â€œäº’è”ç½‘+â€ åœ¨ç§»åŠ¨äº’è”ç½‘å¹´ä»£ï¼Œæ‰‹æœºæˆä¸ºäººçš„ä¸€ä¸ªç”µå­å™¨å®˜çš„å»¶ä¼¸è¿™ä¸ªç‰¹å¾è¶Šæ¥è¶Šæ˜æ˜¾ é©¬åŒ–è…¾è¿›è€Œæå‡ºâ€œäº’è”ç½‘+â€ï¼Œâ€œâ€˜+â€™æ˜¯ä»€ä¹ˆï¼Ÿä¼ ç»Ÿè¡Œä¸šçš„å„è¡Œå„ä¸šâ€¦â€¦äº’è”ç½‘å·²ç»åœ¨â€˜+â€™é€šä¿¡ã€åª’ä½“ã€å¨±ä¹ã€é›¶å”®ã€é‡‘èç­‰ç­‰ï¼Œäº’è”ç½‘æ˜¯ä¸€ä¸ªå·¥å…·ã€‚ è…¾è®¯çš„å…¬ç›Šä¸ç¤¾ä¼šè´£ä»» â€œå¾®å¾®çš„æ™¨å…‰è¿˜ç…§ä¸äº®å¤ªè¿œçš„è·¯â€ è¿™æ˜¯ä¸€ä¸ªå–„äºæ§åˆ¶è‡ªå·±çš„å¥½å¥‡å¿ƒçš„äººï¼Œè€ŒåŒæ—¶ï¼Œä»–åˆèƒ½è®©è‡ªå·±çš„å…´è¶£åœ¨æ— å°½çš„å¯èƒ½æ€§é‡Œå¾—åˆ°å»¶ä¼¸ï¼Œåœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼Œä»–è¿˜æ˜¯é‚£ä¸ªå–œæ¬¢è¶´åœ¨æœ›è¿œé•œå‰çœºæœ›æ— å æ˜Ÿç©ºçš„å—æ–¹ç§‘æŠ€é’å¹´ã€‚ ç¾å›½å¼ä¼˜åŠ¿ä¸ä¸­å›½å¼ä¼˜åŠ¿çš„ç”ŸåŠ¨å±•ç°ï¼šç¾å›½äººå‘æ˜äº†æ¨åŠ¨è¿›æ­¥çš„æŠ€æœ¯ï¼Œè€Œä¸­å›½äººæ‰¾åˆ°äº†ç›ˆåˆ©çš„æ–¹æ³•è®ºã€‚å°±æ›´å¹¿æ³›çš„æ„ä¹‰è€Œè¨€ï¼Œä¸­å›½äº’è”ç½‘äººå¯¹å…¶ä»–é¢†åŸŸâ€”â€”åˆ¶é€ ä¸šã€é›¶å”®æœåŠ¡ä¸šã€ä¼ åª’ä¸šä»¥åŠé‡‘èä¸šçš„æ¸—é€æ›´åŠ æ·±åˆ»ï¼Œè€Œè¿™æ‰åˆšåˆšå¼€å§‹ã€‚ æœ€åè¿™ç¯‡è®°å½•æ–‡ç« å¤§çº¦æœ‰ä¸€ä¸‡æ¬¡ï¼ŒèŠ±äº†å¥½é•¿æ—¶é—´ï¼Œä¸è¿‡å­¦ä¹ äº†å¾ˆå¤šä¸œè¥¿ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>äº’è”ç½‘</tag>
        <tag>è…¾è®¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šæ··ä¹±ã€‹â€”â€” æœºæ¢°åŒ–ä¸­éœ€è¦ä¸€ç‚¹ç‚¹æ··ä¹±]]></title>
    <url>%2F2018%2F%E6%B7%B7%E4%B9%B1.html</url>
    <content type="text"><![CDATA[æåˆ°æ··ä¹±ï¼Œå°±æƒ³åˆ°ä¸¤ä¸ªå½±è§†å‰§ä¸­çš„å°è¯ç¬¬ä¸€ä¸ªæ˜¯æƒåŠ›çš„æ¸¸æˆï¼šæ··ä¹±æ˜¯é˜¶æ¢¯(Chaos is a ladder)S03E06ï¼Œçº¦48minå¤„ å°æŒ‡å¤´å’Œç“¦åŠ›æ–¯çš„å¯¹è¯åŸæ–‡ï¼š 1234567891011121314151617181920212223242526272829303132The realm?ç‹å›½ï¼ŸDo you know what the realm is?ä½ æ‡‚ç‹å›½æ˜¯ä»€ä¹ˆå—ï¼ŸIt&apos;s the thousand blades of Aegon&apos;s enemies.åªä¸è¿‡æ˜¯ä¾è€¿æ•Œäººçš„ä¸€åƒæŠŠå‰‘èæˆçš„ç‹åº§ã€‚A story we agree to tell each other over and overåªä¸è¿‡æ˜¯ä¸€ä¸ªæˆ‘ä»¬ååå¤å¤è®²è¿°ç»™åˆ«äººçš„æ•…äº‹till we forget that it&apos;s a lie.ç›´åˆ°é—å¿˜è¿™æ˜¯ä¸ªè°è¨€But what do we have left once we abandon the lie?æˆ³ç©¿äº†è°è¨€ æˆ‘ä»¬è¿˜å‰©ä»€ä¹ˆå‘¢ï¼ŸChaos.æ··ä¹±ã€‚A gaping pit waiting to swallow us all.è¡€å£å¤§å¼ çš„æ·±æ¸Š ç­‰å¾…åå™¬ä¸€åˆ‡ã€‚Chaos isn&apos;t a pit. Chaos is a ladder.æ··ä¹±ä¸æ˜¯æ·±æ¸Šã€‚æ··ä¹±æ˜¯é˜¶æ¢¯ã€‚Many who try to climb it fail and never get to try again.The fall breaks them.å¾ˆå¤šäººæƒ³å¾€ä¸Šçˆ¬ å´å¤±è´¥äº†ï¼Œä¸”æ°¸æ— æœºä¼šå†è¯•ã€‚å¤±è´¥æ¯äº†ä»–ä»¬ã€‚And some are given a chance to climb,But they refuse.æœ‰äººæœ¬æœ‰æœºä¼šæ”€çˆ¬ï¼Œä½†ä»–ä»¬æ‹’ç»äº†ã€‚They cling to the realm or the gods or love.ä»–ä»¬å®ˆç€ç‹å›½ä¸æ”¾ï¼Œå®ˆç€è¯¸ç¥ï¼Œå®ˆç€çˆ±æƒ…ã€‚Illusions.å°½çš†å¹»æƒ³ã€‚Only the ladder is real.å”¯æœ‰é˜¶æ¢¯æ‰æ˜¯çœŸå®çš„ã€‚The climb is all there is.åŠªåŠ›æ”€çˆ¬æ‰æ˜¯ä¸€åˆ‡ã€‚ æ¥è‡ªçŸ¥ä¹ç§¦å°é“¥çš„å›ç­” ç¬¬äºŒä¸ªæ˜¯è™è ä¾ ï¼šé»‘æš—éª‘å£«ä¸­çš„å°ä¸‘ğŸ¤¡åè¨€ï¼š æ··ä¹±å³å…¬å¹³ chaos vs messyä¸Šé¢ä¸¤ä¸ªå½±è§†å‰§ä¸­éƒ½æ˜¯ä½¿ç”¨chaosï¼Œè€Œæœ¬ä¹¦çš„æ··ä¹±æ˜¯messyï¼Œè¿™ä¸¤ä¸ªè¯æœ‰ä¸€ç‚¹åŒºåˆ«ã€‚ messy å‡Œä¹±çš„ï¼Œæ•£ä¹±çš„; è‚®è„çš„ï¼Œæ±¡ç§½çš„; å¤æ‚çš„ï¼Œéº»çƒ¦çš„ï¼Œéš¾ä»¥åº”ä»˜çš„; chaos å¼ºè°ƒçš„æ˜¯æ›´å¤§çš„æ··ä¹±å’Œæ— åºã€‚æ¥æºäºå¸Œè…Šç¥è¯ï¼Œå¡ä¿„æ–¯ï¼ˆè‹±è¯­ï¼šChaosï¼›å¸Œè…Šè¯­ï¼šÎ§Î¬Î¿Ï‚ï¼‰æ˜¯å¸Œè…Šç¥è¯ä¸­çš„æ··æ²Œä¹‹ç¥ï¼Œä¸€åˆ‡ä¸–ç•ŒåŠæ¦‚å¿µçš„å¼€å§‹ã€‚ ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦è’‚å§†Â·å“ˆç¦å¾·ï¼Œç»æµå­¦å®¶å‡ºèº«ï¼Œã€Šé‡‘èæ—¶æŠ¥ã€‹çš„ä¸“æ ä½œå®¶ï¼Œä¹‹å‰å†™è¿‡ä¸€æœ¬ç»æµå­¦ç§‘æ™®ä¹¦ã€Šå§åº•ç»æµå­¦ã€‹ã€‚ è‹±æ–‡ä¹¦å ã€ŠMessy: The Power of Disorder to Transform Our Livesã€‹ï¼Œç›´è¯‘è¿‡æ¥å°±æ˜¯ã€Šæ··ä¹±ï¼šæ”¹å˜æˆ‘ä»¬ç”Ÿæ´»çš„æ— åºåŠ›é‡ã€‹ï¼Œä¸­æ–‡ç‰ˆç¿»è¯‘æˆäº†ã€Šæ··ä¹±ï¼šå¦‚ä½•æˆä¸ºå¤±æ§æ—¶ä»£çš„æŒæ§è€…ã€‹ ã€‚ å†…å®¹ä¸€ã€åšäº‹ä¸ä»…éœ€è¦ä¸“æ³¨åŠ›ã€æ„å¿—åŠ›å’Œåˆ»æ„ç»ƒä¹ ï¼Œæ›´éœ€è¦çµæ„Ÿå’Œè¿æ°”ï¼Œè€Œæ··ä¹±å¯ä»¥å¸¦æ¥çµæ„Ÿå’Œè¿æ°”äºŒã€å›¢é˜Ÿå‡èšåŠ›æœ‰æ—¶å€™ä¼šæŸå®³å›¢é˜Ÿçš„å·¥ä½œèƒ½åŠ›æŠŠäººç»„ç»‡åœ¨ä¸€èµ·å·¥ä½œï¼Œå…¶å®æœ‰ä¸¤ç§ç±»å‹çš„é˜Ÿä¼ã€‚ç¬¬ä¸€ç§é˜Ÿä¼è®²å›¢ç»“ï¼Œè¿™ç§é˜Ÿä¼æ¯”è¾ƒé€‚åˆé‚£äº›ç›®æ ‡æ˜ç¡®ï¼Œå·¥ä½œæ–¹æ³•ä¹Ÿæ˜ç¡®çš„å·¥ä½œï¼Œæ‰€æœ‰äººéƒ½çŸ¥é“åº”è¯¥åšä»€ä¹ˆå’Œæ€ä¹ˆåšï¼Œé½å¿ƒåˆåŠ›å½“ç„¶æ˜¯æœ€å¥½çš„ã€‚ç¬¬äºŒç§é˜Ÿä¼ä¸è®²å›¢ç»“ï¼Œè®²å¤šæ ·æ€§ï¼Œè¿™ç§é˜Ÿä¼é€‚åˆæ²¡æœ‰å›ºå®šå¥—è·¯ã€è¦æ±‚é›†æ€å¹¿ç›Šã€è®²ç©¶åˆ›é€ æ€§çš„å·¥ä½œã€‚ ä¸‰ã€æ··ä¹±ä»£è¡¨äº†æ‹¥æŠ±è‡ªç”±ç‹¬ç«‹ã€æ‹’ç»å¾ªè§„è¹ˆçŸ©çš„äººæ€§æ•´æ´çš„èƒŒåæ˜¯å¾ªè§„è¹ˆçŸ©ï¼Œæ˜¯æŠŠäººæœºæ¢°åŒ–ã€‚æ··ä¹±çš„èƒŒåæ˜¯è‡ªç”±ç‹¬ç«‹ï¼Œæ˜¯è®©äººæ›´åƒäººã€‚ä½œä¸ºä¸€ä¸ªäººï¼Œæˆ‘ä»¬èº«å¤„åœ¨è¿™ä¸ªå……æ»¡æœºæ¢°åŒ–ã€æ ‡å‡†åŒ–ã€è§„åˆ™åŒ–çš„ç°ä»£ä¸–ç•Œä¹‹ä¸­ï¼Œä½ å¯¹è‡ªå·±çš„ç”Ÿæ´»æ–¹å¼ï¼Œæœ‰ä¸€ä¸ªä»€ä¹ˆæ ·çš„é€‰æ‹©ï¼Œå…¶å®å†³å®šäº†ä½ æ˜¯ä¸ªä»€ä¹ˆäººã€‚ æ€»çš„æ¥è¯´ï¼Œã€Šæ··ä¹±ã€‹æƒ³å‘Šè¯‰æˆ‘ä»¬ç”Ÿæ´»ä¸­ä¸é‚£ä¹ˆå¾ªè§„è¹ˆçŸ©ï¼Œå­¦ä¼šæ‹¥æŠ±æ··ä¹±ï¼Œç”šè‡³ä¸»åŠ¨å»åˆ¶é€ æ··ä¹±ï¼Œæ›´èƒ½æ¿€å‘å‡ºåˆ›é€ åŠ›ï¼Œå½“ä½ ä¸å»åŠªåŠ›è®¡åˆ’æˆåŠŸçš„æ—¶å€™ï¼Œä½ å¯èƒ½ç¦»æˆåŠŸæ›´è¿‘ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æ··ä¹±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swiftä¸­çš„é«˜é˜¶å‡½æ•°ï¼šsorted, map, reduce, forEach, flatMap, filter]]></title>
    <url>%2F2018%2Fswift-higher-order-function.html</url>
    <content type="text"><![CDATA[é«˜é˜¶å‡½æ•°ï¼ˆHigher-order functionï¼‰ åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ï¼Œé«˜é˜¶å‡½æ•°æ˜¯è‡³å°‘æ»¡è¶³ä¸‹åˆ—ä¸€ä¸ªæ¡ä»¶çš„å‡½æ•°ï¼š æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ è¾“å‡ºä¸€ä¸ªå‡½æ•° å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œé«˜é˜¶å‡½æ•°æ¯”è¾ƒå¸¸è§äº†ã€‚ æ³¨ï¼š$0, $1, $2â€¦ è¡¨ç¤ºé—­åŒ…ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°â€¦ã€‚ è¯¦ç»†å¯å‚è€ƒä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-7ï¼šé—­åŒ…(Closure) 1 sorted æ ¹æ®ç»™å®šçš„æ¡ä»¶ï¼ˆä¸€ä¸ªç”¨äºæ¯”è¾ƒçš„é—­åŒ…ï¼‰æ¥å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚ å‡½æ•°åŸå‹ï¼š 1public func sorted(by areInIncreasingOrder: (Element, Element) throws -&gt; Bool) rethrows -&gt; [Element] 12345let numbers = [1, 4, 2, 3]let res = numbers.sorted &#123; $0 &lt; $1&#125;print(res.description) 2 map è¿”å›ä¸€ä¸ªåŒ…å«å¯¹åŸæ•°ç»„æ¯ä¸ªå…ƒç´ è¿›è¡Œç»™å®šé—­åŒ…å¤„ç†åå…ƒç´ çš„æ•°ç»„ã€‚ï¼ˆä¹Ÿå°±æ˜¯æ¯ä¸ªå…ƒç´ è¿›è¡Œç›¸åŒå¤„ç†ï¼‰ å‡½æ•°åŸå‹ï¼š 1public func map&lt;T&gt;(_ transform: (Element) throws -&gt; T) rethrows -&gt; [T] 12345let arr = [1, 2, 4]let brr = arr.map &#123; "No." + String($0)&#125;// brr = ["No.1", "No.2", "No.4"] 3 reduce Returns the result of combining the elements of the sequence using the given closure.ï¼ˆ è¿”å›ä½¿ç”¨ç»™å®šé—­åŒ…ç»„åˆåºåˆ—å…ƒç´ çš„ç»“æœã€‚ï¼‰ å‡½æ•°åŸå‹ï¼š 1public func reduce&lt;Result&gt;(_ initialResult: Result, _ nextPartialResult: (Result, Element) throws -&gt; Result) rethrows -&gt; Result 1234567891011121314151617let crr = arr.reduce(0) &#123; (prevSum: Int, element: Int) in return prevSum + element&#125; // crr = 7let drr = arr.reduce("") &#123; if $0 == "" &#123; return String($1) &#125; else &#123; return $0 + " " + String($1) &#125;&#125;print(drr) // drr = "1 2 4"let res2 = [3,5,8,9].reduce(2) &#123; (prevSum: Int, element: Int) in return prevSum + element&#125;print(res2) // 27ã€‚ 2+3+5+8+9 = 27 4 forEach Calls the given closure on each element in the sequence in the same order as a for-in loop.(ä¸for-inç±»ä¼¼) å‡½æ•°åŸå‹ï¼š 1public func forEach(_ body: (Element) throws -&gt; Void) rethrows 123["Swift","OC","iOS","macOS"].forEach &#123; print($0)&#125; 5 flatMap Returns an array containing the concatenated results of calling the given transformation with each element of this sequence.ï¼ˆè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ä½¿ç”¨æ­¤åºåˆ—çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ç»™å®šè½¬æ¢çš„è¿æ¥ç»“æœã€‚ï¼‰ å‡½æ•°åŸå‹ï¼š 1public func flatMap(_ transform: (Element) throws -&gt; String?) rethrows -&gt; [String] 123let collections = [[5, 2, 7], [4, 8], [9, 1, 3]]let flat = collections.flatMap &#123; $0 &#125;// [5, 2, 7, 4, 8, 9, 1, 3] flatMapå’Œmapçš„åŒºåˆ«æ˜¯ï¼Œå¯¹äºŒç»´æ•°ç»„æ—¶flatMapæœ‰ä¸ªé™ç»´å¤„ç†ï¼Œå¯¹äºä¸€ä½æ•°ç»„ï¼Œä¸¤è€…æ²¡æœ‰æ˜æ˜¾åŒºåˆ«1234567891011let numbersCompound = [[1,2,3],[4,5,6]]let mapped = numbersCompound.map &#123; $0.map&#123; "\($0)-map" &#125; &#125;print(mapped) // [["1-map", "2-map", "3-map"], ["4-map", "5-map", "6-map"]]let flatMapped = numbersCompound.flatMap &#123; $0.map&#123; "\($0)-flatMap" &#125; &#125;print(flatMapped) // ["1-flatMap", "2-flatMap", "3-flatMap", "4-flatMap", "5-flatMap", "6-flatMap"]let numbers2 = [1, 2, 3, 4]let mapres = numbers2.map &#123; Array(repeating: $0, count: $0) &#125;// [[1], [2, 2], [3, 3, 3], [4, 4, 4, 4]]let flatMapres = numbers2.flatMap &#123; Array(repeating: $0, count: $0) &#125;// [1, 2, 2, 3, 3, 3, 4, 4, 4, 4] æ³¨ï¼šæ–°ç‰ˆSwiftä½¿ç”¨äº†Sequence.compactMap(_:)æ¥æ›¿ä»£Sequence.flatMapï¼Œè¯¦ç»† 6 filter Returns an array containing, in order, the elements of the sequence that satisfy the given predicate.ï¼ˆè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„æŒ‰é¡ºåºåŒ…å«æ»¡è¶³ç»™å®šé—­åŒ…çš„åºåˆ—å…ƒç´ ã€‚ï¼‰ å‡½æ•°åŸå‹ï¼š 1public func filter(_ isIncluded: (Element) throws -&gt; Bool) rethrows -&gt; [Element] 1234let err = arr.filter &#123; $0 % 2 == 0&#125;// err = [2, 4] playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-äºŒå‰æ ‘]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%BA%8C%E5%8F%89%E6%A0%91.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Binary Tree äºŒå‰æ ‘æ˜¯ä¸€ç§æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰0,1æˆ–2ä¸ªå­èŠ‚ç‚¹ã€‚ è¿™æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼š å­èŠ‚ç‚¹é€šå¸¸ç§°ä¸º å·¦ å­èŠ‚ç‚¹ å’Œ å³ å­èŠ‚ç‚¹ã€‚ å¦‚æœèŠ‚ç‚¹æ²¡æœ‰ä»»ä½•å­èŠ‚ç‚¹ï¼Œåˆ™ç§°ä¸º å¶å­èŠ‚ç‚¹ã€‚ æ ¹ æ˜¯æ ‘é¡¶éƒ¨çš„èŠ‚ç‚¹ï¼ˆç¨‹åºå‘˜ä¹ æƒ¯æ ‘é¢ å€’äº†ğŸ˜€ï¼‰ã€‚ èŠ‚ç‚¹é€šå¸¸ä¼šæœ‰ä¸€ä¸ªè¿”å›å…¶çˆ¶èŠ‚ç‚¹çš„è¿æ¥ï¼Œä½†è¿™ä¸æ˜¯ç»å¯¹å¿…è¦çš„ã€‚ äºŒå‰æ ‘é€šå¸¸ç”¨ä½œäºŒå‰æœç´¢æ ‘ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹å¿…é¡»æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—ï¼ˆå·¦ä¾§æ˜¯è¾ƒå°çš„å€¼ï¼Œå³ä¾§æ˜¯è¾ƒå¤§çš„å€¼ï¼‰ã€‚ ä½†è¿™ä¸æ˜¯æ‰€æœ‰äºŒå‰æ ‘çš„è¦æ±‚ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¡¨ç¤ºä¸€ç³»åˆ—ç®—æœ¯è¿ç®—ï¼Œ(5 * (a - 10)) + (-4 * (3 / b))ï¼š ä»£ç ä»¥ä¸‹æ˜¯åœ¨Swiftä¸­å®ç°é€šç”¨äºŒå‰æ ‘çš„æ–¹æ³•ï¼š 1234public indirect enum BinaryTree&lt;T&gt; &#123; case node(BinaryTree&lt;T&gt;, T, BinaryTree&lt;T&gt;) case empty&#125; å¦‚ä½•ä½¿ç”¨å®ƒçš„ä¸€ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬æ„å»ºä¸Šé¢ç®—æœ¯è¿ç®—æ ‘ï¼š 12345678910111213141516171819// leaf nodeslet node5 = BinaryTree.node(.empty, "5", .empty)let nodeA = BinaryTree.node(.empty, "a", .empty)let node10 = BinaryTree.node(.empty, "10", .empty)let node4 = BinaryTree.node(.empty, "4", .empty)let node3 = BinaryTree.node(.empty, "3", .empty)let nodeB = BinaryTree.node(.empty, "b", .empty)// intermediate nodes on the leftlet Aminus10 = BinaryTree.node(nodeA, "-", node10)let timesLeft = BinaryTree.node(node5, "*", Aminus10)// intermediate nodes on the rightlet minus4 = BinaryTree.node(.empty, "-", node4)let divide3andB = BinaryTree.node(node3, "/", nodeB)let timesRight = BinaryTree.node(minus4, "*", divide3andB)// root nodelet tree = BinaryTree.node(timesLeft, "+", timesRight) æ‚¨éœ€è¦åå‘æ„å»ºæ ‘ï¼Œä»å¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´åˆ°é¡¶éƒ¨ã€‚ æ·»åŠ descriptionå±æ€§ä»¥ä¾¿æ‰“å°æ ‘ï¼Œè¿™ä¼šå¾ˆæœ‰ç”¨çš„ï¼š 12345678910extension BinaryTree: CustomStringConvertible &#123; public var description: String &#123; switch self &#123; case let .node(left, value, right): return "value: \(value), left = [\(left.description)], right = [\(right.description)]" case .empty: return "" &#125; &#125;&#125; å¦‚æœä½  print(tree) ä½ åº”è¯¥çœ‹åˆ°è¿™æ ·çš„ä¸œè¥¿ï¼š value: +, left = [value: *, left = [value: 5, left = [], right = []], right = [value: -, left = [value: a, left = [], right = []], right = [value: 10, left = [], right = []]]], right = [value: *, left = [value: -, left = [], right = [value: 4, left = [], right = []]], right = [value: /, left = [value: 3, left = [], right = []], right = [value: b, left = [], right = []]]] é€šè¿‡ä¸€ç‚¹æƒ³è±¡åŠ›ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æ ‘å½¢ç»“æ„ã€‚ ;-)å¦‚æœä½ ç¼©è¿›å®ƒä¼šæ¸…æ™°çš„çœ‹åˆ°ï¼š value: +, left = [value: *, left = [value: 5, left = [], right = []], right = [value: -, left = [value: a, left = [], right = []], right = [value: 10, left = [], right = []]]], right = [value: *, left = [value: -, left = [], right = [value: 4, left = [], right = []]], right = [value: /, left = [value: 3, left = [], right = []], right = [value: b, left = [], right = []]]] å¦ä¸€ä¸ªæœ‰ç”¨çš„å±æ€§æ˜¯è®¡ç®—æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ï¼š 12345678public var count: Int &#123; switch self &#123; case let .node(left, _, right): return left.count + 1 + right.count case .empty: return 0 &#125;&#125; å¯¹äºç¤ºä¾‹çš„æ ‘ï¼Œtree.countåº”è¯¥æ˜¯12ã€‚ æ‚¨ç»å¸¸éœ€è¦å¯¹æ ‘è¿›è¡Œçš„æ“ä½œéå†å®ƒä»¬ï¼Œå³ä»¥æŸç§é¡ºåºæŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹ã€‚ éå†äºŒå‰æ ‘æœ‰ä¸‰ç§æ–¹æ³•ï¼š In-orderï¼ˆæˆ–æ·±åº¦ä¼˜å…ˆï¼‰ï¼š é¦–å…ˆæŸ¥çœ‹èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œç„¶åæŸ¥çœ‹èŠ‚ç‚¹æœ¬èº«ï¼Œæœ€åæŸ¥çœ‹å…¶å³å­èŠ‚ç‚¹ã€‚ Pre-orderï¼š é¦–å…ˆæŸ¥çœ‹èŠ‚ç‚¹ï¼Œç„¶åæŸ¥çœ‹å…¶å·¦å³å­èŠ‚ç‚¹ã€‚ Post-orderï¼š é¦–å…ˆæŸ¥çœ‹å·¦å³å­èŠ‚ç‚¹æœ€åå¤„ç†èŠ‚ç‚¹æœ¬èº«ã€‚ ä»¥ä¸‹æ˜¯æ‚¨å®ç°çš„æ–¹æ³•ï¼š 1234567891011121314151617181920212223public func traverseInOrder(process: (T) -&gt; Void) &#123; if case let .node(left, value, right) = self &#123; left.traverseInOrder(process: process) process(value) right.traverseInOrder(process: process) &#125;&#125;public func traversePreOrder(process: (T) -&gt; Void) &#123; if case let .node(left, value, right) = self &#123; process(value) left.traversePreOrder(process: process) right.traversePreOrder(process: process) &#125;&#125;public func traversePostOrder(process: (T) -&gt; Void) &#123; if case let .node(left, value, right) = self &#123; left.traversePostOrder(process: process) right.traversePostOrder(process: process) process(value) &#125;&#125; è¿™äº›å‡½æ•°ä¼šè¢«é€’å½’è°ƒç”¨ï¼Œåœ¨ä½¿ç”¨æ ‘ç»“æ„æ—¶å¾ˆå¸¸è§ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æŒ‰ Post-order éå†ç®—æœ¯è¿ç®—æ ‘ï¼Œæ‚¨å°†æŒ‰ä»¥ä¸‹é¡ºåºæŸ¥çœ‹å€¼ï¼š 1234567891011125a10-*4-3b/*+ å¶å­èŠ‚ç‚¹é¦–å…ˆå‡ºç°ã€‚ æ ¹èŠ‚ç‚¹æœ€åå‡ºç°ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å †æ ˆè®¡ç®—æœºæ¥è¯„ä¼°è¿™äº›è¡¨è¾¾å¼ï¼Œç±»ä¼¼äºä»¥ä¸‹ä¼ªä»£ç ï¼š 123456789101112tree.traversePostOrder &#123; s in switch s &#123; case this is a numeric literal, such as 5: push it onto the stack case this is a variable name, such as a: look up the value of a and push it onto the stack case this is an operator, such as *: pop the two top-most items off the stack, multiply them, and push the result back onto the stack &#125; the result is in the top-most item on the stack&#125; ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-æŸ¥æ‰¾æœ€å¤§ï¼æœ€å°å€¼]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E6%9F%A5%E6%89%BE%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%BC.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Select Minimum Maximum ç›®æ ‡ï¼šæŸ¥æ‰¾æœªæ’åºæ•°ç»„ä¸­çš„æœ€å¤§/æœ€å°å€¼ã€‚ æœ€å¤§å€¼æˆ–æœ€å°å€¼æˆ‘ä»¬æœ‰ä¸€ä¸ªé€šç”¨å¯¹è±¡æ•°ç»„ï¼Œæˆ‘ä»¬è¿­ä»£æ‰€æœ‰å¯¹è±¡ï¼Œè·Ÿè¸ªé‡åˆ°çš„æœ€å°/æœ€å¤§å…ƒç´ ã€‚ ä¾‹å­å‡è®¾æˆ‘ä»¬æƒ³åœ¨æœªæ’åºåˆ—è¡¨[8,3,9,4,6]ä¸­æ‰¾åˆ°æœ€å¤§å€¼ã€‚ é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°å­—8ï¼Œå¹¶å°†å…¶å­˜å‚¨ä½œä¸ºç›®å‰ä¸ºæ­¢çš„æœ€å¤§å…ƒç´ ã€‚ ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæ•°å­—3ï¼Œå¹¶å°†å…¶ä¸å½“å‰æœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒã€‚ 3å°äº8æ‰€ä»¥æœ€å¤§å€¼8ä¸ä¼šæ”¹å˜ã€‚ ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæ•°å­—9ï¼Œå¹¶å°†å…¶ä¸å½“å‰æœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒã€‚ 9å¤§äº8æ‰€ä»¥æˆ‘ä»¬å­˜å‚¨9ä½œä¸ºæœ€å¤§å€¼ã€‚ é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°å¤„ç†å®Œåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ ä»£ç åœ¨Swiftä¸­çš„ä¸€ä¸ªç®€å•å®ç°ï¼š 123456789101112131415161718192021func minimum&lt;T: Comparable&gt;(_ array: [T]) -&gt; T? &#123; guard var minimum = array.first else &#123; return nil &#125; for element in array.dropFirst() &#123; minimum = element &lt; minimum ? element : minimum &#125; return minimum&#125;func maximum&lt;T: Comparable&gt;(_ array: [T]) -&gt; T? &#123; guard var maximum = array.first else &#123; return nil &#125; for element in array.dropFirst() &#123; maximum = element &gt; maximum ? element : maximum &#125; return maximum&#125; å°†ä»£ç æ”¾åœ¨ playground æµ‹è¯•ï¼š 123let array = [ 8, 3, 9, 4, 6 ]minimum(array) // This will return 3maximum(array) // This will return 9 Swiftçš„æ ‡å‡†åº“Swiftåº“å·²ç»åŒ…å«ä¸€ä¸ªå«åšSequenceTypeçš„æ‰©å±•ï¼Œå®ƒå¯è¿”å›åºåˆ—ä¸­çš„æœ€å°/æœ€å¤§å…ƒç´ ã€‚ 123let array = [ 8, 3, 9, 4, 6 ]array.minElement() // This will return 3array.maxElement() // This will return 9 1234let array = [ 8, 3, 9, 4, 6 ]//swift3array.min() // This will return 3array.max() // This will return 9 æœ€å¤§å€¼å’Œæœ€å°å€¼è¦åŒæ—¶æŸ¥æ‰¾æ•°ç»„ä¸­åŒ…å«çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œä¸ºäº†æœ€å°åŒ–æ¯”è¾ƒæ¬¡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æˆå¯¹æ¯”è¾ƒã€‚ ä¾‹å­å‡è®¾æˆ‘ä»¬æƒ³è¦åœ¨æœªæ’åºåˆ—è¡¨[8,3,9,6,4]ä¸­æ‰¾åˆ°æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°å­—8ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¸ºç›®å‰ä¸ºæ­¢çš„æœ€å°å’Œæœ€å¤§å€¼ã€‚ å› ä¸ºæˆ‘ä»¬æœ‰ä¸€ä¸ªå¥‡æ•°é¡¹ç›®ï¼Œæˆ‘ä»¬ä»åˆ—è¡¨ä¸­åˆ é™¤8ï¼Œç•™ä¸‹ä¸¤é˜Ÿ[3,9]å’Œ[6,4]ã€‚ ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€å¯¹æ•°å­—ï¼Œ[3,9]ã€‚ åœ¨è¿™ä¸¤ä¸ªæ•°å­—ä¸­ï¼Œ3æ˜¯è¾ƒå°çš„æ•°å­—ï¼Œå› æ­¤æˆ‘ä»¬å°†3ä¸å½“å‰æœ€å°å€¼8è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å°†9ä¸å½“å‰æœ€å¤§å€¼8è¿›è¡Œæ¯”è¾ƒã€‚ 3å°äº8ï¼Œæ‰€ä»¥æ–°çš„æœ€å°å€¼æ˜¯3ã€‚ 9å¤§äº8ï¼Œæ‰€ä»¥æ–°çš„æœ€å¤§å€¼æ˜¯9ã€‚ ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€å¯¹æ•°å­—ï¼Œ[6,4]ã€‚ è¿™é‡Œï¼Œ4æ˜¯è¾ƒå°çš„ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬å°†4ä¸å½“å‰æœ€å°3è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å°†6ä¸å½“å‰æœ€å¤§9è¿›è¡Œæ¯”è¾ƒã€‚ 4å¤§äº3ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸ä¼šæ”¹å˜ã€‚ 6å°äº9ï¼Œå› æ­¤æœ€å¤§å€¼ä¸ä¼šæ”¹å˜ã€‚ ç»“æœæ˜¯æœ€å°å€¼ä¸º3ï¼Œæœ€å¤§å€¼ä¸º9ã€‚ ä»£ç åœ¨Swiftä¸­çš„ä¸€ä¸ªç®€å•å®ç°ï¼š 123456789101112131415161718192021222324252627282930func minimumMaximum&lt;T: Comparable&gt;(_ array: [T]) -&gt; (minimum: T, maximum: T)? &#123; guard var minimum = array.first else &#123; return nil &#125; var maximum = minimum // if 'array' has an odd number of items, let 'minimum' or 'maximum' deal with the leftover let start = array.count % 2 // 1 if odd, skipping the first element for i in stride(from: start, to: array.count, by: 2) &#123; let pair = (array[i], array[i+1]) if pair.0 &gt; pair.1 &#123; if pair.0 &gt; maximum &#123; maximum = pair.0 &#125; if pair.1 &lt; minimum &#123; minimum = pair.1 &#125; &#125; else &#123; if pair.1 &gt; maximum &#123; maximum = pair.1 &#125; if pair.0 &lt; minimum &#123; minimum = pair.0 &#125; &#125; &#125; return (minimum, maximum)&#125; åœ¨playgroundæµ‹è¯•ï¼š 123let result = minimumMaximum(array)!result.minimum // This will return 3result.maximum // This will return 9 é€šè¿‡æˆå¯¹æŒ‘é€‰å…ƒç´ å¹¶å°†å…¶æœ€å¤§å€¼å’Œæœ€å°å€¼ä¸å½“å‰çš„æœ€å°å€¼å’Œæœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å°†æ¯2ä¸ªå…ƒç´ çš„æ¯”è¾ƒæ¬¡æ•°å‡å°‘åˆ°3æ¬¡ã€‚ æ€§èƒ½è¿™äº›ç®—æ³•ä»¥O(n)è¿è¡Œã€‚ å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸å½“å‰çš„æœ€å°å€¼/æœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´ä¸æ•°ç»„é•¿åº¦æˆæ¯”ä¾‹ã€‚ ä½œè€…ï¼šChris Pilcherç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>æŸ¥æ‰¾æœ€å¤§ï¼æœ€å°å€¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šç§‘å­¦æ˜¯æ€æ ·è´¥ç»™è¿·ä¿¡çš„ã€‹â€”â€”è¿·ä¿¡æœ‰æ—¶ç®€ç›´å¤ªå¯æ€•äº†]]></title>
    <url>%2F2018%2F%E7%A7%91%E5%AD%A6%E6%98%AF%E6%80%8E%E6%A0%B7%E8%B4%A5%E7%BB%99%E8%BF%B7%E4%BF%A1%E7%9A%84.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦çº¦ç¿°Â·ä¼¯çº³å§†æ˜¯ç¾å›½ä¿„äº¥ä¿„å·ç«‹å¤§å­¦å†å²ç³»æ•™æˆï¼Œè¿˜æ›¾ç»æ˜¯ç¾å›½åŒ»å­¦å²å­¦ä¼šçš„ä¸»å¸­ï¼Œä¹Ÿæ˜¯ç§‘å­¦ä¼ æ’­å²æ–¹é¢çš„ä¸“å®¶ã€‚ä»–çš„ä¸»è¦ç ”ç©¶é¢†åŸŸåŒ…æ‹¬ç¾å›½åŒ»å­¦å²ã€ç§‘å­¦å²å’Œç¤¾ä¼šå²ï¼Œåœ¨å†å²å­¦ã€åŒ»å­¦å’Œç§‘å­¦é¢†åŸŸçš„è®¸å¤šé‡è¦æœŸåˆŠä¸Šéƒ½å‘è¡¨è¿‡æ–‡ç« ï¼Œè¿˜å‡ºç‰ˆäº†åä½™æœ¬ç§‘å­¦å²è‘—ä½œã€‚ ã€Šç§‘å­¦æ˜¯æ€æ ·è´¥ç»™è¿·ä¿¡çš„ï¼šç¾å›½çš„ç§‘å­¦ä¸å«ç”Ÿæ™®åŠã€‹ ç ”ç©¶ç¾å›½ä»1830å¹´èµ·çš„ç§‘å­¦æ™®åŠå²ï¼Œæ­ç¤ºäº†è¿™æ ·ä¸€ä¸ªä»¤äººè¿·æƒ‘çš„ç°è±¡ï¼šæ›¾ç»ä½œä¸ºä¸€ç§ç§¯æã€è¿›æ­¥çš„æ–‡åŒ–åŠ›é‡çš„ç§‘å­¦ï¼Œåœ¨ç¾å›½æ¶ˆè´¹æ–‡åŒ–ä¸­ï¼Œæ…¢æ…¢åœ°ä¸ºæ–°ä¼ªè£…ä¸‹çš„è¿·ä¿¡å’Œç¥ç§˜ä¸»ä¹‰çš„å¤æ´»è®©å‡ºäº†ä¸€æ¡é€šé“ï¼Œæœ€ç»ˆå¯¼è‡´ç§‘å­¦åœ¨å¤§ä¼—å±‚é¢ä¸Šè¢«è¿·ä¿¡å‡»è´¥ã€‚ä½œè€…ä»¥19ã€20ä¸–çºªç¾å›½çš„ç§‘å­¦æ™®åŠå²ä¸ºç»ï¼Œä»¥å…¬å…±å«ç”Ÿã€å¿ƒç†å­¦å’Œè‡ªç„¶ç§‘å­¦ä¸‰ä¸ªé¢†åŸŸå†…çš„æ™®åŠæ´»åŠ¨ä¸ºçº¬ï¼Œå‘è¯»è€…å±•ç°äº†ä¸€éƒ¨ç¾å›½çš„ç§‘å­¦ä¸è¿·ä¿¡çš„â€œæˆ˜æ–—å²â€ã€‚ é¢å¯¹è¿·ä¿¡çš„æ³›æ»¥ï¼Œä½œè€…æ•é”åœ°æŒ‡å‡ºï¼Œç§‘å­¦ä¹‹æ‰€ä»¥è´¥ç»™è¿·ä¿¡ï¼Œå°±æ˜¯å› ä¸ºç§‘å­¦çŸ¥è¯†çš„ä¼ æ’­å‡ºç°äº†é—®é¢˜ã€‚é˜…è¯»è¿™æœ¬ä¹¦ï¼Œä¸ä½†èƒ½å¸®åŠ©æˆ‘ä»¬åˆ†è¾¨æœ‹å‹åœˆä¸­çš„å„ç§è°£è¨€å’Œè¿·ä¿¡ï¼Œè¿˜èƒ½å¯å‘æˆ‘ä»¬å»ºç«‹èµ·ä¸€ç§è·¨è¶Šè‡ªç„¶ç§‘å­¦å’Œç¤¾ä¼šç§‘å­¦çš„å¤§è§†è§’ã€‚ğŸŒ°ï¼šå„ç§å…»ç”Ÿä¿å¥çš„â€œå°æŠ€å·§â€ã€å„ç§å æ˜Ÿç›¸é¢é£æ°´æ‰‹ç›¸çš„â€œå°çŸ¥è¯†â€ã€ç”šè‡³è½¬å‘æ±‚è½¬è¿çš„é”¦é²¤â€¦â€¦æ•°ä¸èƒœæ•°ã€‚ å†…å®¹ä¸€ã€åª’ä½“çš„å½±å“ åª’ä½“è¿½æ±‚ä¼ æ’­æ•ˆæœï¼Œå‰Šå¼±ç§‘å­¦çŸ¥è¯†çš„ä¸¥è‚ƒæ€§ è®¸å¤šæ–°é—»è®°è€…å¯¹ç§‘å­¦åªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œä¸ºäº†è¦è¿½æ±‚æ–°é—»çš„ä¼ æ’­æ•ˆåº”ï¼Œç§‘å­¦å‘ç°çš„äº‹å®å¸¸å¸¸ä¼šè¢«æœ‰æ„æˆ–è€…æ— æ„åœ°å¤¸å¤§å’Œæ­ªæ›²ã€‚ çœŸæ­£æœ‰ä»·å€¼çš„ç§‘å­¦å‘ç°è¢«åª’ä½“å†·è½ æ–°é—»æŠ¥é“ä¸­çš„ç¢ç‰‡åŒ–ä¸ªä¾‹ï¼Œè¿èƒŒç§‘å­¦ç²¾ç¥ å¹¿å‘Šæ˜¯ç§‘æ™®â€œå¯¹æ‰‹â€ï¼Œæ¨æ³¢åŠ©æ¾œè¿·ä¿¡ä¼ æ’­ å¹¿å‘Šä¼¼ä¹å¤©ç„¶å°±æ˜¯ç§‘å­¦å’Œç§‘æ™®çš„æ­»å¯¹å¤´ï¼Œå¹¿å‘Šä¸­ä¸ä½†ç»å¸¸ä¼šå‡ºç°å¸¸è¯†æ€§é”™è¯¯ï¼Œè¿˜å¯èƒ½å‡ºç°å„ç§å¤¸å¤§å’Œè™šå‡å®£ä¼ ï¼Œç”šè‡³å‡ºç°åç§‘å­¦çš„è¨€è®ºã€‚ åœ¨çœ‹åˆ°å„ç§ä¸ç§‘å­¦æœ‰å…³çš„æ–°é—»æ—¶ï¼Œå¿…é¡»ä¿æŒä¸€ä»½åº”æœ‰çš„å†·é™å’Œç†æ€§ã€‚ äºŒã€ç§‘å­¦äººé€€å‡ºäº†ç§‘æ™®â€œç§‘å­¦äººâ€ï¼ŒæŒ‡çš„æ˜¯é‚£äº›ä»äº‹ç§‘å­¦å‰æ²¿é¢†åŸŸç ”ç©¶ï¼ŒåŒæ—¶ä¹Ÿçƒ­å¿ƒç§‘å­¦æ™®åŠçš„ç§‘å­¦å®¶ã€‚ ç§‘æ™®æœ€æ—©æœŸï¼ˆ19ä¸–çºªæ™šæœŸï¼‰ï¼Œç§‘å­¦äººä¸ä»…ä»…æ˜¯â€œç§‘å­¦â€çš„ä¼ æ’­è€…ï¼Œè€Œä¸”æ˜¯ä¸€ç§ç†æ€§æ–‡åŒ–çš„ä»£è¨€äºº 20ä¸–çºªä»¥æ¥ï¼Œå„å­¦ç§‘çš„å‘å±•è¶Šæ¥è¶Šå¿«ï¼Œåˆ†æ”¯è¶Šæ¥è¶Šç»†ï¼Œä¸€ä¸ªç§‘å­¦å®¶å¼€å§‹å¾ˆéš¾æˆä¸ºä¼ ç»Ÿä¸­é‚£ç§â€œç™¾ç§‘å…¨ä¹¦å¼â€çš„å­¦è€…ï¼Œç§‘å­¦å®¶ç”¨æ—¥å¸¸çš„è¯­è¨€â€œç¿»è¯‘â€ç§‘å­¦çš„è¯­è¨€è¶Šæ¥è¶Šå›°éš¾ã€‚ æ™®é€šäººä¸ç§‘å­¦ä¹‹é—´çš„é¸¿æ²Ÿè¢«æ–°é—»åª’ä½“æ‰€å¡«è¡¥ï¼ŒæŠ¥çº¸ã€å¹¿æ’­ã€æ–°é—»å’Œç½‘ç»œç›¸ç»§è¿›å…¥äº†åƒå®¶ä¸‡æˆ·ï¼Œå¼€å§‹é€æ¸æˆä¸ºç§‘æ™®çš„é‡è¦åª’ä»‹ã€‚ ç§‘å­¦çŸ¥è¯†ä¸€æ—¦å˜å¾—ä¸¥æ ¼èµ·æ¥ï¼Œå°±ä¼šéå¸¸æ¯ç‡¥ï¼Œå¤§å®¶å–œæ¬¢å¬â€œè–›å®šè°”çš„çŒ«â€çš„æ•…äº‹ï¼Œä¸ä»£è¡¨å¤§å®¶çœŸçš„å°±æƒ³è¦å»å­¦ä¹ æ€ä¹ˆæ±‚è§£è–›å®šè°”æ–¹ç¨‹ï¼Œç§‘æ™®ä½œå®¶å¿…é¡»åœ¨â€œç§‘å­¦â€å’Œâ€œæ™®åŠâ€ä¹‹é—´ä¿æŒå¹³è¡¡ã€‚ ä¸‰ã€å¤§ä¼—ä¸§å¤±äº†æ€€ç–‘ç²¾ç¥åœ¨ç§‘å­¦å’Œè¿·ä¿¡ä¸æ–­æ–—äº‰çš„è¿‡ç¨‹ä¸­ï¼Œèµ·åˆæ˜¯ç§‘å­¦ç²¾ç¥çš„èƒœåˆ©ï¼Œç„¶è€Œå¥½æ™¯ä¸é•¿ï¼Œç”±äºç§‘å­¦æœ¬èº«èƒ½ä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šçš„ç¡®å®šæ€§ï¼Œå¤§å®¶å¯¹ç§‘å­¦â€œå¤ªæ”¾å¿ƒäº†â€ï¼Œå¯¼è‡´ç†æ€§çš„ç§‘å­¦ç²¾ç¥ä¸æ–­è¢«ç¨€é‡Šï¼Œå†åŠ ä¸Šå¤§å®¶åœ¨ä¸æ–­æ¥å—ç€ç¢ç‰‡åŒ–çš„çŸ¥è¯†ï¼Œæ€€ç–‘ç²¾ç¥æ¸æ¸ä¸§å¤±ï¼Œåè€Œè®©è¿·ä¿¡æœ‰äº†ç”Ÿå­˜çš„ç©ºé—´ã€‚ ä¼ æ’­ æ™®åŠ ç¨€é‡Š ç¢ç‰‡åŒ– æ™®é€šäººæ¥æ”¶åˆ°çš„æ˜¯ç¢ç‰‡åŒ–çš„ç§‘å­¦è¿›å±•å’Œç§‘å­¦æˆæœï¼Œå¯¼è‡´äººä»¬å¼€å§‹æŠŠç§‘å­¦çœ‹æˆæ˜¯ä¸€ç§æ–°çš„â€œé­”æ³•â€ã€‚ ç§‘å­¦å·¥ä½œè€…ä»¬ä¸èƒ½æ‹’ç»åª’ä½“ï¼Œè€Œæ˜¯è¦å»åˆ›ä½œåŒæ—¶æœ‰ç§‘å­¦æ€§å’Œä¼ æ’­æ€§çš„ç§‘å­¦ä½œå“ã€‚æ¯”å¦‚è¯´ç¾å›½çš„èˆªç©ºèˆªå¤©å±€ï¼Œå°±éå¸¸å–„äºåˆ©ç”¨ç¤¾äº¤ç½‘ç»œä¼ æ’­çœŸæ­£çš„ç§‘å­¦çŸ¥è¯†ï¼Œæ¯æ¬¡æœ‰äº†é‡å¤§çš„å¤©æ–‡å­¦å‘ç°ï¼Œåœ¨æ–°é—»å‘å¸ƒä¼šä¹‹å‰ï¼Œä»–ä»¬ä¼šåœ¨ç¤¾äº¤åª’ä½“ä¸Šè¿›è¡Œé¢„çƒ­ï¼Œå‹¾èµ·å¤§å®¶çš„å…´è¶£ï¼Œå¸å¼•æ›´å¤šçš„äººæ¥è§‚çœ‹ä»–ä»¬çš„å‘å¸ƒä¼šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæƒ³è¦ä¼ æ’­æ­£ç¡®çš„ç§‘å­¦çŸ¥è¯†ï¼Œç§‘å­¦å®¶ä»¬ä¹Ÿè¦æœä»ä¼ æ’­å­¦çš„è§„å¾‹ï¼Œæ‰èƒ½è®©ç§‘å­¦æ‰“è´¥è¿·ä¿¡ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šç¡çœ é©å‘½ã€‹â€”â€”ç¡çœ è´¨é‡ç›´æ¥å½±å“ç”Ÿæ´»å’Œå·¥ä½œè´¨é‡]]></title>
    <url>%2F2018%2F%E7%9D%A1%E7%9C%A0%E9%9D%A9%E5%91%BD.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦å°¼å…‹Â·åˆ©ç‰¹å°”é»‘å°”æ–¯ï¼Œè‹±å›½ç¡çœ åä¼šçš„å‰ä»»ä¼šé•¿ã€è‹±è¶…æ›¼è”é˜Ÿå¾¡ç”¨çš„è¿åŠ¨ç¡çœ æ•™ç»ƒï¼Œæ›¾ç»ç»™ NBAã€è‹±å›½å¤©ç©ºè½¦é˜Ÿã€è‹±å¼æ©„æ¦„çƒè”åˆä¼šã€ç¾å›½å›½å®¶æ©„æ¦„çƒè”ç›Ÿã€è‹±è¶…è¶³çƒè”èµ›é€‰æ‰‹ã€å¥¥è¿ä¼šè‹±å›½ä»£è¡¨é˜Ÿã€çš‡å®¶é©¬å¾·é‡Œè¶³çƒä¿±ä¹éƒ¨åšç¡çœ æŒ‡å¯¼ã€‚å¾ˆå¤šä¸–ç•Œçº§é¡¶çº§ä½“è‚²åå°†ï¼Œæ¯”å¦‚è¶³çƒåå°†å¤§å«Â·è´å…‹æ±‰å§†ã€ç‘æ©Â·å‰æ ¼æ–¯ã€ä¿ç½—Â·æ–¯ç§‘å°”æ–¯ã€å°¼åŸºÂ·å·´ç‰¹å’Œå†…ç»´å°”å…„å¼Ÿç­‰ï¼Œéƒ½é‡‡çº³äº†å…¶ç¡çœ æ–¹æ¡ˆï¼Œä»–ä»¬çš„å·¥ä½œå’Œç”Ÿæ´»çš„è´¨é‡éƒ½å¾—åˆ°äº†æå‡ã€‚ ã€Šç¡çœ é©å‘½ã€‹çš„ç²¾é«“æ˜¯å¦‚ä½•è®©ç¡çœ å˜å¾—é«˜æ•ˆï¼ŒæŠŠç¡çœ å½“ä½œä¸€ä¸ªå·¥å…·ï¼Œå¢å¼ºæ™ºåŠ›å’Œä½“åŠ›ã€‚ ç¡çœ å æ®äº†æˆ‘ä»¬æ•´ä¸ªç”Ÿå‘½ä¸‰åˆ†ä¹‹ä¸€å·¦å³çš„æ—¶é—´ï¼Œéå¸¸æœ‰å¿…è¦è®¤çœŸå¯¹å¾…ã€‚ å†…å®¹ä¸€ã€å¦‚ä½•æ‰“é€ ä¸€ä¸ªåˆé€‚çš„ç¡çœ ç¯å¢ƒ è¤ªé»‘ç´ æ˜¯äººä½“çš„ä¸€ç§æ¿€ç´ ï¼Œèƒ½å¤Ÿå¸®åŠ©äººä½“è¿›å…¥ç¡çœ ã€‚æ­£å¸¸æ¥è¯´ï¼Œå¤œé—´äººä½“ä¼šåˆ†æ³Œæ¯”ç™½å¤©å¤š5-10å€çš„è¤ªé»‘ç´ ï¼Œä½†å› ä¸ºç°ä»£ç”Ÿæ´»çš„å„ç§å…‰çº¿çš„å½±å“ï¼Œä¼šè®©è¤ªé»‘ç´ çš„åˆ†æ³Œå‡å°‘ï¼Œä¹…è€Œä¹…ä¹‹å°±å½±å“ç¡çœ ã€‚ èƒå„¿ç¡å§¿ï¼šä¾§å‘ä½ çš„èº«ä½“ç›¸å¯¹ä¸å¤ªé‡è¦çš„ä¸€ä¾§ï¼Œå°±æ˜¯ä½ å¹³å¸¸ä¹ æƒ¯ä½¿ç”¨ç›¸å¯¹æ¯”è¾ƒå°‘çš„ä¸€è¾¹ã€‚å› ä¸ºè¿™ä¸€è¾¹ç›¸å¯¹æ¥è¯´æ²¡é‚£ä¹ˆæ•æ„Ÿã€‚ åˆé€‚çš„åºŠå«ï¼š ä»ä½ çš„èƒŒé¢ã€æŠŠä½ æ•´ä¸ªäººéƒ½æ‹è¿›å»ï¼Œç„¶åè§‚å¯Ÿç…§ç‰‡ï¼Œå¦‚æœä½ çš„å¤´éƒ¨ã€é¢ˆéƒ¨å’Œè„ŠæŸ±è¿æˆäº†ä¸€æ¡ç›´çº¿ï¼Œå°±è¯´æ˜è¿™ä¸ªåºŠå«æ˜¯é€‚åˆä½ çš„ é€‰æ‹©ä¸€ä¸ªé—¹é’Ÿï¼ˆç§’é’ˆèµ°åŠ¨æ²¡æœ‰å£°éŸ³ï¼‰æˆ–è€…æ¨¡æ‹Ÿæ—¥å‡ºå”¤é†’ç¯ äºŒã€R90ç¡çœ æ–¹æ¡ˆ ç›®å‰æ™®é€šè®¤ä¸ºçš„â€œ8å°æ—¶ç¡çœ æœ€å¥åº·â€ï¼Œå¯èƒ½æ²¡é‚£ä¹ˆç§‘å­¦ã€‚ä¸åŒçš„äººã€ä¸åŒæˆé•¿é˜¶æ®µï¼Œç¡çœ æ—¶é—´éƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ä½œè€…æå‡ºçš„R90ç¡çœ æ–¹æ¡ˆï¼Œå°±æ˜¯æŠŠç¡çœ æ—¶é—´åˆ†éš”æˆ90åˆ†é’Ÿä¸€ä¸ªå‘¨æœŸã€æ¯æ™šéœ€è¦4-5ä¸ªå‘¨æœŸï¼Œï¼Œä»èµ·åºŠæ—¶é—´ç‚¹å€’æ¨ç®—å‡ºæ™šä¸Šå…¥ç¡çš„æ—¶é—´ç‚¹ã€‚é€šè¿‡å°è¯•æ¥æ‰¾åˆ°åˆé€‚è‡ªå·±çš„ç¡çœ æ—¶é—´ï¼ŒæŒæ§è‡ªå·±çš„ç¡çœ å°±è¿™ä¹ˆç®€å•ã€‚ å‡†å¤‡ä¸ŠåºŠç¡è§‰çš„é‚£æ®µæ—¶é—´å’Œä½ åˆšé†’æ¥çš„ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿæ˜¯ç¡çœ çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯ä¸ªä¿®å¤çš„è¿‡ç¨‹ã€‚ ä¸‰ã€ç¡è§‰å‰ååº”è¯¥åšä»€ä¹ˆæ ·çš„å‡†å¤‡æ¥æå‡ä¸€æ•´å¤œçš„ç¡çœ è´¨é‡ ç¡è§‰å‰åšä¸€äº›æœ‰åŠ©äºå…¥ç¡çš„äº‹æƒ…ï¼Œå…¶å®æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ ğŸŒ° æ¯”å¦‚å¯ä»¥æ•´ç†æ”¶æ‹¾ä¸€ä¸‹ä¸œè¥¿ã€‚å‡†å¤‡å¥½æ˜å¤©ä¸Šç­æˆ–è€…å‡ºè¡Œçš„è¡£æœï¼Œä¹Ÿå¯ä»¥åšåšå®¶åŠ¡ï¼Œæ´—ä¸ªç¢—ï¼Œæ´—ä¸ªè¡£æœä¹‹ç±»çš„ã€‚åˆæ¯”å¦‚ï¼Œå¯ä»¥æ‹¿å‡ºçº¸å’Œç¬”ï¼Œåˆ—ä¸€ä»½æ¸…å•ï¼ŒæŠŠè‡ªå·±åœ¨æƒ³çš„äº‹æƒ…éƒ½å†™ä¸‹æ¥ï¼Œä»€ä¹ˆæƒ³æ³•å•Šã€æ‹…å¿ƒå’Œå…³å¿ƒçš„äº‹æƒ…å•Šï¼Œéƒ½å†™ä¸‹æ¥ã€‚åœ¨å†™çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯éå¸¸æ”¾æ¾å’Œéšæ„çš„ã€‚å®Œæˆä¹‹åï¼Œå°±æŠŠè¿™ä¸ªæ¸…å•æ”¾åˆ°é’¥åŒ™è¾¹ï¼Œæˆ–è€…å…¶ä»–ç¬¬äºŒå¤©ä¸€å®šä¼šå¸¦èµ°çš„ä¸œè¥¿æ—è¾¹ï¼Œç­‰æ˜å¤©å†å¤„ç†è¿™äº›äº‹æƒ…ã€‚è¿™æ ·åšï¼Œä¹Ÿæ˜¯ç»™è‡ªå·±ä¸€ä¸ªæš—ç¤ºï¼Œèººåœ¨åºŠä¸Šçš„æ—¶å€™ä½ å¾ˆæ¸…æ¥šåœ°çŸ¥é“ï¼Œè‡ªå·±å·²ç»æŠŠæ‰€æœ‰é—®é¢˜éƒ½å¤„ç†å¥½äº†ï¼Œå¯ä»¥æ²¡æœ‰ä»»ä½•è´Ÿæ‹…åœ°ä¼‘æ¯äº†ã€‚ ç”¨é¼»å­å‘¼å¸ï¼Œç”¨å£è…”å‘¼å¸ä¼šå¤§å¹…æé«˜æ‰“é¼¾å’Œç¡çœ å‘¼å¸æš‚åœç—‡çš„å‘ç”Ÿç‡ã€‚ æ€ä¹ˆçŸ¥é“è‡ªå·±ç¡è§‰æ—¶æ˜¯ç”¨é¼»å­è¿˜æ˜¯å˜´å‘¼å¸å‘¢ï¼Ÿç•™æ„ä¸€ä¸‹ï¼Œè‡ªå·±æ—©ä¸Šé†’æ¥ï¼Œå¦‚æœè§‰å¾—å£å¹²èˆŒç‡¥ï¼Œå°±è¯´æ˜ä½ å¤œé‡Œæ˜¯ç”¨å˜´å‘¼å¸çš„ï¼›å¦‚æœå£è…”è¿˜æ˜¯æ¹¿æ¶¦çš„ï¼Œå°±è¯´æ˜æ˜¯ç”¨é¼»å­å‘¼å¸çš„ã€‚ è§£å†³ç”¨é¼»å­å‘¼å¸çš„é—®é¢˜ã€‚åœ¨ä¸´ç¡å‰ï¼Œè´´ä¸Šé¼»è´´æ¥æ‰©å¼ é¼»è…”é€šé“ï¼Œç„¶åç”¨è½»è–„ã€ä½è¿‡æ•æ€§çš„åŒ»ç”¨èƒ¶å¸¦å°ä¸Šè‡ªå·±çš„å˜´å·´ï¼Œè®©è‡ªå·±æ…¢æ…¢ä¹ æƒ¯åœ¨å¤œé‡Œç”¨é¼»å­å‘¼å¸ã€‚ ç¡é†’çš„ç¬¬ä¸€ä»¶äº‹ä¸è¦çœ‹æ‰‹æœº ç¡çœ å äº†ä¸€ä¸ªäººä¸€ç”Ÿä¸‰åˆ†ä¹‹ä¸€çš„æ—¶é—´ï¼Œé€šè¿‡æ¸…é†’çš„æ—¶é—´å»æŒæ§å®ƒï¼Œé‚£ä¸€å¤©24å°æ—¶éƒ½æ˜¯æœ‰ä»·å€¼çš„ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-é€‰æ‹©æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Selection Sort ç›®æ ‡ï¼šå°†æ•°ç»„ä»ä½åˆ°é«˜ï¼ˆæˆ–ä»é«˜åˆ°ä½ï¼‰æ’åºã€‚ æ‚¨å°†è·å¾—ä¸€ç³»åˆ—éœ€è¦æŒ‰æ­£ç¡®é¡ºåºæ’åˆ—çš„æ•°å­—ã€‚ é€‰æ‹©æ’åºç®—æ³•å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ•°ç»„çš„å¼€å¤´æ˜¯æ’åºçš„ï¼Œæ•°ç»„çš„å…¶ä½™éƒ¨åˆ†æ˜¯ä»ç„¶éœ€è¦æ’åºçš„æ•°å­—ã€‚ [ ...sorted numbers... | ...unsorted numbers... ] è¿™ç±»ä¼¼äºæ’å…¥æ’åºï¼Œä½†åŒºåˆ«åœ¨äºå¦‚ä½•å°†æ–°æ•°å­—æ·»åŠ åˆ°å·²æ’åºéƒ¨åˆ†ã€‚ å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°æ•°å­—ã€‚ ä»ç´¢å¼•0å¼€å§‹ï¼Œéå†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—ï¼Œå¹¶è¿½è¸ªæœ€å°æ•°å­—çš„ä½ç½®ã€‚ ä½¿ç”¨ç´¢å¼•0å¤„çš„æ•°å­—äº¤æ¢æœ€å°æ•°å­—ã€‚ç°åœ¨ï¼Œå·²æ’åºéƒ¨åˆ†ä»…åŒ…å«ç´¢å¼•0å¤„çš„æ•°å­—ã€‚ è½¬åˆ°ç´¢å¼•1å¤„ã€‚ æ‰¾åˆ°æ•°ç»„å…¶ä½™éƒ¨åˆ†ä¸­çš„æœ€å°æ•°å­—ã€‚ ä»ç´¢å¼•1å¼€å§‹æŸ¥çœ‹ã€‚å†æ¬¡å¾ªç¯ç›´åˆ°æ•°ç»„ç»“æŸå¹¶è¿½è¸ªæœ€å°æ•°å­—ã€‚ ä½¿ç”¨ç´¢å¼•1å¤„çš„æ•°å­—äº¤æ¢æœ€å°æ•°å­—ã€‚ç°åœ¨ï¼Œå·²æ’åºéƒ¨åˆ†åŒ…å«ä¸¤ä¸ªæ•°å­—ï¼Œç´¢å¼•0å’Œç´¢å¼•1ã€‚ è½¬åˆ°ç´¢å¼•2å¤„ã€‚ ä»ç´¢å¼•2å¼€å§‹ï¼Œæ‰¾åˆ°æ•°ç»„å…¶ä½™éƒ¨åˆ†ä¸­çš„æœ€å°æ•°å­—ï¼Œå¹¶å°†å…¶ä¸ç´¢å¼•2å¤„çš„æ•°å­—äº¤æ¢ã€‚ç°åœ¨ï¼Œæ•°ç»„ä»ç´¢å¼•0åˆ°2å·²æ’åº; æ­¤èŒƒå›´åŒ…å«æ•°ç»„ä¸­çš„ä¸‰ä¸ªæœ€å°æ•°å­—ã€‚ å¹¶ç»§ç»­ï¼Œç›´åˆ°æ²¡æœ‰æ•°å­—éœ€è¦æ’åºã€‚ è¿™ç§æ’åºæ–¹å¼ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œé€‰æ‹©â€æ’åºï¼Œæ˜¯å› ä¸ºåœ¨æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œéƒ½æ˜¯åœ¨æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†é‡Œæœç´¢é€‰æ‹©ä¸‹ä¸€ä¸ªæœ€å°æ•°å­—ã€‚ ä¾‹å­å‡è®¾è¦æ’åºçš„æ•°å­—æ˜¯[5,8,3,4,6]ã€‚ ç”¨|ç¬¦å·è¡¨ç¤ºæ•°ç»„çš„å·²æ’åºéƒ¨åˆ†çš„ç»“æŸä½ç½®(è®²è¿°æ’å…¥æ’åºæ—¶ä¹Ÿæ˜¯å¦‚æ­¤è¡¨ç¤ºçš„)ã€‚ æœ€åˆï¼Œæ’åºéƒ¨åˆ†ä¸ºç©ºï¼š [| 5, 8, 3, 4, 6 ] ç°åœ¨æˆ‘ä»¬æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°æ•°å­—ã€‚ ä»|æ å¼€å§‹å‘å³æ‰«ææ•°ç»„ï¼Œæ‰¾åˆ°æ•°å­—3ã€‚ è¦å°†æ­¤æ•°å­—æ”¾å…¥å·²æ’åºçš„ä½ç½®ï¼Œå°†å®ƒä¸|æ—è¾¹çš„æ•°å­—5äº¤æ¢ï¼ˆç„¶åæŠŠ|å‘å³ç§»åŠ¨ä¸€ä½ï¼‰ï¼š [ 3 | 8, 5, 4, 6 ] * * æ’åºéƒ¨åˆ†ç°åœ¨æ˜¯[3]ï¼Œå…¶ä½™éƒ¨åˆ†æ˜¯[8,5,4,6]ã€‚ å†ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä»|æ å¼€å§‹å¯»æ‰¾æœ€ä½çš„æ•°å­—ã€‚ æˆ‘ä»¬æ‰¾åˆ°4å¹¶ç”¨8ä¸ä¹‹äº¤æ¢å¾—åˆ°ï¼ˆåŒæ ·æŠŠ|å‘å³ç§»åŠ¨ä¸€ä½ï¼‰ï¼š [ 3, 4 | 5, 8, 6 ] * * æ¯ä¸€æ­¥ï¼Œ|æ éƒ½ä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚ æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†ï¼Œæ‰¾åˆ°5æ˜¯æœ€å°æ•°å­—ã€‚ æ²¡æœ‰å¿…è¦ä¸è‡ªå·±äº¤æ¢ï¼Œåªéœ€|æ å‰è¿›ï¼š [ 3, 4, 5 | 8, 6 ] * é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ•°ç»„éƒ½æ’åºäº†ã€‚ è¯·æ³¨æ„ï¼Œ|æ å·¦ä¾§çš„æ‰€æœ‰å†…å®¹å§‹ç»ˆæŒ‰æ’åºé¡ºåºæ’åˆ—ï¼Œå¹¶ä¸”å§‹ç»ˆåŒ…å«æ•°ç»„ä¸­çš„æœ€å°æ•°å­—ã€‚ æœ€åï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°ï¼š [ 3, 4, 5, 6, 8 |] é€‰æ‹©æ’åºæ˜¯åŸåœ°æ’åºï¼Œå› ä¸ºæ‰€æœ‰å†…å®¹éƒ½å‘ç”Ÿåœ¨åŒä¸€ä¸ªæ•°ç»„ä¸­è€Œä¸ä½¿ç”¨é¢å¤–çš„å†…å­˜ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†å…¶å®ç°ä¸º ç¨³å®šæ’åºï¼Œä»¥ä¾¿ç›¸åŒçš„å…ƒç´ ä¸ä¼šç›¸äº’äº¤æ¢ï¼ˆè¯·æ³¨æ„ï¼Œä¸‹é¢ç»™å‡ºçš„ç‰ˆæœ¬ä¸ç¨³å®šï¼‰ã€‚ ä»£ç è¿™æ˜¯Swiftä¸­é€‰æ‹©æ’åºçš„ä¸€ä¸ªå®ç°ï¼š 1234567891011121314151617181920func selectionSort(_ array: [Int]) -&gt; [Int] &#123; guard array.count &gt; 1 else &#123; return array &#125; // 1 var a = array // 2 for x in 0 ..&lt; a.count - 1 &#123; // 3 var lowest = x for y in x + 1 ..&lt; a.count &#123; // 4 if a[y] &lt; a[lowest] &#123; lowest = y &#125; &#125; if x != lowest &#123; // 5 a.swapAt(x, lowest) &#125; &#125; return a&#125; å°†æ­¤ä»£ç æ”¾åœ¨ playground æµ‹è¯•ï¼š 12let list = [ 10, -1, 3, 9, 2, 27, 8, 5, 1, 3, 0, 26 ]selectionSort(list) ä»£ç é€æ­¥è¯´æ˜ï¼š å¦‚æœæ•°ç»„ä¸ºç©ºæˆ–ä»…åŒ…å«å•ä¸ªå…ƒç´ ï¼Œåˆ™æ— éœ€æ’åºã€‚ ç”Ÿæˆæ•°ç»„çš„å‰¯æœ¬ã€‚ è¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æ¥åœ¨Swiftä¸­ä¿®æ”¹arrayå‚æ•°çš„å†…å®¹ã€‚ ä¸Swiftçš„sort()å‡½æ•°ä¸€æ ·ï¼ŒselectionSort()å‡½æ•°å°†è¿”å›æ’å®Œåºçš„åŸå§‹æ•°ç»„æ‹·è´ã€‚ å‡½æ•°å†…æœ‰ä¸¤ä¸ªå¾ªç¯ã€‚ å¤–å¾ªç¯ä¾æ¬¡æŸ¥çœ‹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ; è¿™å°±æ˜¯å‘å‰ç§»åŠ¨|æ çš„åŸå› ã€‚ å†…å¾ªç¯å®ç°æ‰¾åˆ°æ•°ç»„å…¶ä½™éƒ¨åˆ†ä¸­çš„æœ€å°æ•°å­—ã€‚ ä½¿ç”¨å½“å‰æ•°ç»„ç´¢å¼•æ•°å­—äº¤æ¢æœ€å°æ•°å­—ã€‚ ifåˆ¤æ–­æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºä½ ä¸èƒ½åœ¨Swiftä¸­swap()åŒä¸€ä¸ªå…ƒç´ ã€‚ è¯‘æ³¨ï¼šSwiftä¸­çš„æ•°ç»„æ²¡æœ‰swap()æ–¹æ³•ï¼Œåªæœ‰swapAt()æ–¹æ³•ï¼Œè€Œä¸”swapAt()äº¤æ¢åŒä¸€ä¸ªå…ƒç´ æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚è¿™å¯èƒ½æ˜¯Swiftç‰ˆæœ¬æ›´æ–°çš„é—®é¢˜ã€‚ æ€»ç»“ï¼šå¯¹äºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œé€‰æ‹©æ’åºä½¿ç”¨æ•°ç»„å…¶ä½™éƒ¨åˆ†ä¸­çš„æœ€å°å€¼äº¤æ¢ä½ç½®ã€‚ç»“æœï¼Œæ•°ç»„ä»å·¦åˆ°å³æ’åºã€‚ï¼ˆä½ ä¹Ÿå¯ä»¥ä»å³åˆ°å·¦è¿›è¡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä½ æ€»æ˜¯å¯»æ‰¾æ•°ç»„ä¸­æœ€å¤§çš„æ•°å­—ã€‚è¯•ä¸€è¯•ï¼ï¼‰ æ³¨æ„ï¼š å¤–å¾ªç¯ä»¥ç´¢å¼•a.count - 2ç»“æŸã€‚ æœ€åä¸€ä¸ªå…ƒç´ å°†è‡ªåŠ¨å¤„äºæ­£ç¡®çš„ä½ç½®ï¼Œå› ä¸ºæ­¤æ—¶æ²¡æœ‰å‰©ä¸‹å…¶ä»–è¾ƒå°çš„å…ƒç´ äº†ã€‚ æºæ–‡ä»¶SelectionSort.swiftæ˜¯ä¸€ä¸ªä½¿ç”¨æ³›å‹çš„å‡½æ•°ç‰ˆæœ¬ï¼Œå› æ­¤æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥å¯¹å­—ç¬¦ä¸²å’Œå…¶ä»–æ•°æ®ç±»å‹è¿›è¡Œæ’åºã€‚ æ€§èƒ½é€‰æ‹©æ’åºå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†æ‰§è¡Œé€Ÿåº¦æ…¢ O(n^2)ã€‚å®ƒæ¯”æ’å…¥æ’åºæ›´ç³Ÿï¼Œä½†ä¼˜äºå†’æ³¡æ’åºã€‚æŸ¥æ‰¾æ•°ç»„å…¶ä½™éƒ¨åˆ†ä¸­çš„æœ€ä½å…ƒç´ å¾ˆæ…¢ï¼Œç‰¹åˆ«æ˜¯å› ä¸ºå†…éƒ¨å¾ªç¯å°†é‡å¤æ‰§è¡Œã€‚ å †æ’åºä½¿ç”¨ä¸é€‰æ‹©æ’åºç›¸åŒçš„åŸåˆ™ï¼Œä½†ä½¿ç”¨äº†ä¸€ç§å¿«é€Ÿæ–¹æ³•åœ¨æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†ä¸­æŸ¥æ‰¾æœ€å°å€¼ã€‚ å †æ’åºæ€§èƒ½æ˜¯ O(nlogn)ã€‚ æ‰©å±•é˜…è¯»é€‰æ‹©æ’åºçš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>é€‰æ‹©æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-äºŒç»´æ•°ç»„]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Array2D åœ¨Cå’ŒObjective-Cä¸­ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸‹é¢ä»£ç ï¼Œ int cookies[9][7]; åˆ¶ä½œ9x7ç½‘æ ¼çš„cookiesã€‚ è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å«63ä¸ªå…ƒç´ çš„äºŒç»´æ•°ç»„ã€‚ è¦åœ¨ç¬¬3åˆ—å’Œç¬¬6è¡Œæ‰¾åˆ°cookieï¼Œæ‚¨å¯ä»¥å†™ï¼š myCookie = cookies[3][6]; è¿™æ®µä»£ç åœ¨Swiftä¸­ä¸èƒ½æˆç«‹çš„ã€‚ è¦åœ¨Swiftä¸­åˆ›å»ºä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œæ‚¨å¯ä»¥ç¼–å†™ï¼š 12345678var cookies = [[Int]]()for _ in 1...9 &#123; var row = [Int]() for _ in 1...7 &#123; row.append(0) &#125; cookies.append(row)&#125; ç„¶åï¼Œè¦æŸ¥æ‰¾cookieï¼Œæ‚¨å¯ä»¥å†™ï¼š 1let myCookie = cookies[3][6] æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä¸€è¡Œä»£ç ä¸­åˆ›å»ºä¸Šé¢çš„æ•°ç»„ï¼š 1var cookies = [[Int]](repeating: [Int](repeating: 0, count: 7), count: 9) è¿™çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨è¾…åŠ©å‡½æ•°ç®€åŒ–å®ƒï¼š 123func dim&lt;T&gt;(_ count: Int, _ value: T) -&gt; [T] &#123; return [T](repeating: value, count: count)&#125; è¯‘æ³¨ï¼šè¿™è¾¹çš„dimï¼Œåº”è¯¥æ˜¯dimensionï¼ˆç»´åº¦ï¼‰çš„ç¼©å†™ã€‚ ç„¶åï¼Œä½ å¯ä»¥è¿™æ ·åˆ›å»ºæ•°ç»„ï¼š 1var cookies = dim(9, dim(7, 0)) Swiftæ¨æ–­æ•°ç»„çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯Intï¼Œå› ä¸ºæ‚¨æŒ‡å®šäº†0ä½œä¸ºæ•°ç»„å…ƒç´ çš„é»˜è®¤å€¼ã€‚ è¦ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ‚¨å¯ä»¥ç¼–å†™ï¼š 1var cookies = dim(9, dim(7, "yum")) dim()å‡½æ•°å¯ä»¥æ›´å®¹æ˜“åœ°åˆ›å»ºæ›´å¤šç»´åº¦çš„æ•°ç»„ï¼š 1var threeDimensions = dim(2, dim(3, dim(4, 0))) ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å¤šç»´æ•°ç»„æˆ–å¤šä¸ªåµŒå¥—æ•°ç»„çš„ç¼ºç‚¹æ˜¯æ— æ³•è·Ÿè¸ªä»€ä¹ˆç»´åº¦ä»£è¡¨ä»€ä¹ˆã€‚ ç„¶è€Œï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„ç±»å‹ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºäºŒç»´æ•°ç»„ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼š 123456789101112131415161718192021222324public struct Array2D&lt;T&gt; &#123; public let columns: Int public let rows: Int fileprivate var array: [T] public init(columns: Int, rows: Int, initialValue: T) &#123; self.columns = columns self.rows = rows array = .init(repeating: initialValue, count: rows*columns) &#125; public subscript(column: Int, row: Int) -&gt; T &#123; get &#123; precondition(column &lt; columns, "Column \(column) Index is out of range. Array&lt;T&gt;(columns: \(columns), rows:\(rows))") precondition(row &lt; rows, "Row \(row) Index is out of range. Array&lt;T&gt;(columns: \(columns), rows:\(rows))") return array[row*columns + column] &#125; set &#123; precondition(column &lt; columns, "Column \(column) Index is out of range. Array&lt;T&gt;(columns: \(columns), rows:\(rows))") precondition(row &lt; rows, "Row \(row) Index is out of range. Array&lt;T&gt;(columns: \(columns), rows:\(rows))") array[row*columns + column] = newValue &#125; &#125;&#125; è¯‘æ³¨ï¼šprecondition(_:_:file:line:)å‡½æ•°ç±»ä¼¼assertï¼Œæ»¡è¶³æ¡ä»¶ä¼šé€ æˆç¨‹åºçš„æå‰ç»ˆæ­¢å¹¶æŠ›å‡ºé”™è¯¯ä¿¡æ¯ï¼Œè¯¦ç»†æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚æ­¤å¤„æœ‰æ¥è¡¨ç¤ºå½“ä¸‹æ ‡è¶…è¿‡èŒƒå›´çš„æç¤ºï¼Œæ•ˆæœå¦‚ä¸‹ï¼š Array2Dæ˜¯ä¸€ä¸ªæ³›å‹ï¼Œå› æ­¤èƒ½å¤Ÿæ”¯æŒæ‰€æœ‰ç±»å‹å¯¹è±¡ï¼Œè€Œä¸æ˜¯åªèƒ½æ˜¯æ•°å­— åˆ›å»ºArray2Dç¤ºä¾‹ä»£ç ï¼š 1var cookies = Array2D(columns: 9, rows: 7, initialValue: 0) é€šè¿‡ä½¿ç”¨ä¸‹æ ‡å‡½æ•°ï¼Œæ‚¨å¯ä»¥ä»æ•°ç»„ä¸­æ£€ç´¢ä¸€ä¸ªå¯¹è±¡ï¼š 1let myCookie = cookies[column, row] æˆ–è€…è®¾ç½®å¯¹è±¡ï¼š 1cookies[column, row] = newCookie åœ¨å†…éƒ¨ï¼ŒArray2Dä½¿ç”¨å•ä¸ªä¸€ç»´æ•°ç»„æ¥å­˜å‚¨æ•°æ®ã€‚ è¯¥æ•°ç»„ä¸­å¯¹è±¡çš„ç´¢å¼•ç”±(row x numberOfColumns) + columnç»™å‡ºï¼Œä½†ä½œä¸ºArray2Dçš„ç”¨æˆ·ï¼Œæ‚¨åªéœ€è¦è€ƒè™‘columnå’Œrowï¼Œå…·ä½“äº‹ä»¶å°† ç”±Array2Då®Œæˆã€‚ è¿™æ˜¯å°†åŸºæœ¬ç±»å‹åŒ…è£…æˆåŒ…è£…ç±»æˆ–ç»“æ„ä¸­çš„ä¼˜ç‚¹ã€‚ ä½œè€…ï¼š Matthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>äºŒç»´æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-æ ‘]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E6%A0%91.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Tree è¿™ä¸ªè¯é¢˜å·²ç»æœ‰ä¸ªè¾…å¯¼æ–‡ç«  æ ‘è¡¨ç¤ºå¯¹è±¡ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚ è¿™æ˜¯ä¸€ä¸ªæ ‘çš„ç»“æ„ï¼š æ ‘ç”±èŠ‚ç‚¹ç»„æˆï¼Œè¿™äº›èŠ‚ç‚¹å½¼æ­¤è¿æ¥ã€‚ èŠ‚ç‚¹å¯ä»¥è¿æ¥åˆ°ä»–ä»¬çš„å­èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥è¿æ¥åˆ°ä»–ä»¬çš„çˆ¶èŠ‚ç‚¹ã€‚ å­èŠ‚ç‚¹æ˜¯ç»™å®šèŠ‚ç‚¹ä¸‹çš„èŠ‚ç‚¹; çˆ¶èŠ‚ç‚¹æ˜¯ä¸Šé¢çš„èŠ‚ç‚¹ã€‚ èŠ‚ç‚¹å§‹ç»ˆåªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ã€‚ æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹æ˜¯ root èŠ‚ç‚¹ã€‚ æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹æ˜¯ leaf èŠ‚ç‚¹ã€‚ æ ‘ä¸­çš„æŒ‡é’ˆä¸èƒ½å½¢æˆå¾ªç¯ã€‚ è¿™ä¸æ˜¯æ ‘ï¼š è¿™ç§ç»“æ„ç§°ä¸ºå›¾ã€‚ æ ‘å®é™…ä¸Šæ˜¯ä¸€ç§éå¸¸ç®€å•çš„å›¾å½¢å½¢å¼ã€‚ ï¼ˆç±»ä¼¼åœ°ï¼Œé“¾è¡¨æ˜¯æ ‘çš„ç®€å•ç‰ˆæœ¬ã€‚æƒ³ä¸€æƒ³ï¼ï¼‰ æœ¬æ–‡è®¨è®ºé€šç”¨æ ‘ã€‚ é€šç”¨æ ‘å¯¹æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å¤šå°‘ä¸ªå­èŠ‚ç‚¹æˆ–æ ‘ä¸­èŠ‚ç‚¹çš„é¡ºåºæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚ è¿™æ˜¯åœ¨Swiftä¸­çš„åŸºæœ¬å®ç°ï¼š 123456789101112131415public class TreeNode&lt;T&gt; &#123; public var value: T public weak var parent: TreeNode? public var children = [TreeNode&lt;T&gt;]() public init(value: T) &#123; self.value = value &#125; public func addChild(_ node: TreeNode&lt;T&gt;) &#123; children.append(node) node.parent = self &#125;&#125; è¿™æè¿°äº†æ ‘ä¸­çš„å•ä¸ªèŠ‚ç‚¹ã€‚ å®ƒåŒ…å«æ³›å‹ç±»å‹Tï¼Œå¯¹parentèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä»¥åŠå­èŠ‚ç‚¹æ•°ç»„ã€‚ æ·»åŠ descriptionä»¥ä¾¿æ‰“å°æ ‘ï¼š 123456789extension TreeNode: CustomStringConvertible &#123; public var description: String &#123; var s = "\(value)" if !children.isEmpty &#123; s += " &#123;" + children.map &#123; $0.description &#125;.joined(separator: ", ") + "&#125;" &#125; return s &#125;&#125; åœ¨ playground åˆ›å»ºæ ‘ï¼š 1234567891011121314151617181920212223242526272829303132333435let tree = TreeNode&lt;String&gt;(value: "beverages")let hotNode = TreeNode&lt;String&gt;(value: "hot")let coldNode = TreeNode&lt;String&gt;(value: "cold")let teaNode = TreeNode&lt;String&gt;(value: "tea")let coffeeNode = TreeNode&lt;String&gt;(value: "coffee")let chocolateNode = TreeNode&lt;String&gt;(value: "cocoa")let blackTeaNode = TreeNode&lt;String&gt;(value: "black")let greenTeaNode = TreeNode&lt;String&gt;(value: "green")let chaiTeaNode = TreeNode&lt;String&gt;(value: "chai")let sodaNode = TreeNode&lt;String&gt;(value: "soda")let milkNode = TreeNode&lt;String&gt;(value: "milk")let gingerAleNode = TreeNode&lt;String&gt;(value: "ginger ale")let bitterLemonNode = TreeNode&lt;String&gt;(value: "bitter lemon")tree.addChild(hotNode)tree.addChild(coldNode)hotNode.addChild(teaNode)hotNode.addChild(coffeeNode)hotNode.addChild(chocolateNode)coldNode.addChild(sodaNode)coldNode.addChild(milkNode)teaNode.addChild(blackTeaNode)teaNode.addChild(greenTeaNode)teaNode.addChild(chaiTeaNode)sodaNode.addChild(gingerAleNode)sodaNode.addChild(bitterLemonNode) å¦‚æœä½ æ‰“å°å‡ºtreeçš„å€¼ï¼Œä½ ä¼šå¾—åˆ°ï¼š beverages {hot {tea {black, green, chai}, coffee, cocoa}, cold {soda {ginger ale, bitter lemon}, milk}} è¿™å¯¹åº”äºä»¥ä¸‹ç»“æ„ï¼š beveragesèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå› ä¸ºå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚ å¶å­æ˜¯é»‘è‰²ï¼Œç»¿è‰²ï¼ŒæŸ´ï¼Œå’–å•¡ï¼Œå¯å¯ï¼Œå§œæ±ï¼Œè‹¦æŸ æª¬ï¼Œç‰›å¥¶ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä»»ä½•å­èŠ‚ç‚¹ã€‚ å¯¹äºä»»ä½•èŠ‚ç‚¹ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹parentå±æ€§ï¼Œ å¹¶æŒ‰ç…§è‡ªå·±çš„æ–¹å¼è¿”å›åˆ°æ ¹ï¼š 12teaNode.parent // this is the "hot" nodeteaNode.parent!.parent // this is the root åœ¨è°ˆè®ºæ ‘æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ä»¥ä¸‹å®šä¹‰ï¼š æ ‘çš„é«˜åº¦ã€‚ è¿™æ˜¯æ ¹èŠ‚ç‚¹å’Œæœ€ä½å¶å­ä¹‹é—´çš„è¿æ¥æ•°ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæ ‘çš„é«˜åº¦ä¸º3ï¼Œå› ä¸ºä»æ ¹åˆ°åº•éƒ¨éœ€è¦ä¸‰æ¬¡è·³è½¬ã€‚ èŠ‚ç‚¹çš„æ·±åº¦ã€‚ æ­¤èŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥æ•°ã€‚ ä¾‹å¦‚ï¼Œtea çš„æ·±åº¦ä¸º2ï¼Œå› ä¸ºéœ€è¦ä¸¤æ¬¡è·³è·ƒæ‰èƒ½åˆ°è¾¾æ ¹éƒ¨ã€‚ ï¼ˆæ ¹æœ¬èº«çš„æ·±åº¦ä¸º0.ï¼‰ æ„å»ºæ ‘çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ã€‚ ä¾‹å¦‚ï¼Œæœ‰æ—¶æ‚¨æ ¹æœ¬ä¸éœ€è¦ parent å±æ€§ã€‚ æˆ–è€…ï¼Œæ‚¨å¯èƒ½åªéœ€è¦ä¸ºæ¯ä¸ªèŠ‚ç‚¹æä¾›æœ€å¤šä¸¤ä¸ªå­èŠ‚ç‚¹ - è¿™æ ·çš„æ ‘ç§°ä¸ºäºŒå‰æ ‘ã€‚ ä¸€ç§éå¸¸å¸¸è§çš„æ ‘ç±»å‹æ˜¯äºŒå‰æœç´¢æ ‘ï¼ˆæˆ–BSTï¼‰ï¼Œå®ƒæ˜¯äºŒå‰æ ‘çš„æ›´ä¸¥æ ¼ç‰ˆæœ¬ï¼Œå…¶ä¸­èŠ‚ç‚¹ä»¥ç‰¹å®šæ–¹å¼æ’åºä»¥åŠ é€Ÿæœç´¢ã€‚ æˆ‘åœ¨è¿™é‡Œå±•ç¤ºçš„é€šç”¨æ ‘éå¸¸é€‚åˆæè¿°åˆ†å±‚æ•°æ®ï¼Œä½†å®ƒå®é™…ä¸Šå–å†³äºæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦å…·å¤‡å“ªç§é¢å¤–åŠŸèƒ½ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨TreeNodeç±»æ¥ç¡®å®šæ ‘æ˜¯å¦åŒ…å«ç‰¹å®šå€¼çš„ç¤ºä¾‹ã€‚ é¦–å…ˆçœ‹ä¸€ä¸‹èŠ‚ç‚¹è‡ªå·±çš„valueå±æ€§ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆä¾æ¬¡çœ‹çœ‹è¿™ä¸ªèŠ‚ç‚¹æ‰€æœ‰çš„å­èŠ‚ç‚¹ã€‚ å½“ç„¶ï¼Œè¿™äº›å­èŠ‚ç‚¹ä¹Ÿæ˜¯TreeNodeï¼Œæ‰€ä»¥å®ƒä»¬å°†é€’å½’åœ°é‡å¤ç›¸åŒçš„è¿‡ç¨‹ï¼šé¦–å…ˆçœ‹çœ‹å®ƒä»¬è‡ªå·±çš„valueå±æ€§ï¼Œç„¶åçœ‹çœ‹å®ƒä»¬çš„å­èŠ‚ç‚¹ã€‚ å®ƒä»¬çš„å­èŠ‚ç‚¹ä¹Ÿä¼šå†æ¬¡åšåŒæ ·çš„äº‹æƒ…ï¼Œç­‰ç­‰â€¦é€’å½’å’Œæ ‘é½å¤´å¹¶è¿›ã€‚ è¿™æ˜¯ä»£ç ï¼š 12345678910111213extension TreeNode where T: Equatable &#123; func search(_ value: T) -&gt; TreeNode? &#123; if value == self.value &#123; return self &#125; for child in children &#123; if let found = child.search(value) &#123; return found &#125; &#125; return nil &#125;&#125; å¦‚ä½•ä½¿ç”¨å®ƒçš„ç¤ºä¾‹ï¼š 123tree.search("cocoa") // returns the "cocoa" nodetree.search("chai") // returns the "chai" nodetree.search("bubbly") // nil ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ¥æè¿°æ ‘ã€‚ æ•°ç»„ä¸­çš„ç´¢å¼•è¡¨ç¤ºä¸åŒçš„èŠ‚ç‚¹ï¼Œç„¶åï¼Œåˆ›å»ºä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ï¼š 123450 = beverage 5 = cocoa 9 = green1 = hot 6 = soda 10 = chai2 = cold 7 = milk 11 = ginger ale3 = tea 8 = black 12 = bitter lemon4 = coffee é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ•°ç»„æè¿°æ ‘ï¼š [ -1, 0, 0, 1, 1, 1, 2, 2, 3, 3, 3, 6, 6 ] æ•°ç»„ä¸­çš„æ¯ä¸ªé¡¹çš„å€¼éƒ½æ˜¯æŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ç´¢å¼•3å¤„çš„é¡¹teaï¼Œå…¶å€¼ä¸º1ï¼Œå› ä¸ºå…¶çˆ¶é¡¹ä¸ºhotã€‚æ ¹èŠ‚ç‚¹æŒ‡å‘-1ï¼Œå› ä¸ºå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚æ‚¨åªèƒ½å°†è¿™äº›æ ‘ä»ä¸€ä¸ªèŠ‚ç‚¹éå†åˆ°æ ¹èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ç›¸åã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œæœ‰æ—¶æ‚¨ä¼šçœ‹åˆ°ä½¿ç”¨æœ¯è¯­ forest çš„ç®—æ³•ã€‚ æ˜¾è€Œæ˜“è§ï¼Œè¿™æ˜¯ç»™äºˆå•ç‹¬æ ‘å¯¹è±¡é›†åˆçš„åç§°ã€‚ æœ‰å…³æ­¤ç¤ºä¾‹ï¼Œè¯·å‚é˜… union-findã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-ç»Ÿè®¡å‡ºç°æ¬¡æ•°]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E7%BB%9F%E8%AE%A1%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Count Occurrences ç›®æ ‡ï¼šè®¡ç®—æŸä¸ªå€¼åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚ æ˜¾è€Œæ˜“è§çš„æ–¹æ³•æ˜¯ä»æ•°ç»„çš„å¼€å¤´ç›´åˆ°ç»“æŸçš„çº¿æ€§æœç´¢ï¼Œè®¡ç®—æ‚¨é‡åˆ°è¯¥å€¼çš„æ¬¡æ•°ã€‚ è¿™æ˜¯ä¸€ä¸ª O(n) ç®—æ³•ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ•°ç»„å·²ç»æ’è¿‡åºçš„ï¼Œåˆ™å¯ä»¥é€šè¿‡ä½¿ç”¨ä¿®æ”¹äºŒåˆ†æœç´¢æ¥æ›´å¿«çš„å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æ•°ç»„ï¼š [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ] å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“å€¼3å‡ºç°çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¸¸è§„äºŒåˆ†æœç´¢ã€‚ è¿™å¯ä»¥è·å¾—å››ä¸ª3ç´¢å¼•ä¸­çš„ä¸€ä¸ªï¼š [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ] * * * * ä½†æ˜¯ï¼Œè¿™ä»ç„¶æ²¡æœ‰å‘Šè¯‰ä½ æœ‰å¤šå°‘å…¶å®ƒçš„3ã€‚ è¦æ‰¾åˆ°é‚£äº›å…¶å®ƒçš„3ï¼Œä½ ä»ç„¶éœ€è¦åœ¨å·¦è¾¹è¿›è¡Œçº¿æ€§æœç´¢ï¼Œåœ¨å³è¾¹è¿›è¡Œçº¿æ€§æœç´¢ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯è¶³å¤Ÿå¿«çš„ï¼Œä½†åœ¨æœ€åçš„æƒ…å†µä¸‹ â€”â€” å½“è¿™ä¸ªæ•°ç»„ä¸­é™¤äº†ä¹‹å‰çš„ä¸€ä¸ª3ä¹‹å¤–å°±æ²¡æœ‰å…¶å®ƒ3äº† â€”â€” è¿™æ ·æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯O(n)ã€‚ ä¸€ä¸ªè¯€çªæ˜¯ä½¿ç”¨ä¸¤ä¸ªäºŒåˆ†æœç´¢ï¼Œä¸€ä¸ªç”¨äºæŸ¥æ‰¾3å¼€å§‹ï¼ˆå·¦è¾¹ç•Œï¼‰çš„ä½ç½®ï¼Œå¦ä¸€ä¸ªç”¨äºæŸ¥æ‰¾3ç»“æŸçš„ä½ç½®ï¼ˆå³è¾¹ç•Œï¼‰ã€‚ ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031func countOccurrencesOfKey(_ key: Int, inArray a: [Int]) -&gt; Int &#123; func leftBoundary() -&gt; Int &#123; var low = 0 var high = a.count while low &lt; high &#123; let midIndex = low + (high - low)/2 if a[midIndex] &lt; key &#123; low = midIndex + 1 &#125; else &#123; high = midIndex &#125; &#125; return low &#125; func rightBoundary() -&gt; Int &#123; var low = 0 var high = a.count while low &lt; high &#123; let midIndex = low + (high - low)/2 if a[midIndex] &gt; key &#123; high = midIndex &#125; else &#123; low = midIndex + 1 &#125; &#125; return low &#125; return rightBoundary() - leftBoundary()&#125; è¯·æ³¨æ„ï¼Œè¾…åŠ©å‡½æ•°leftBoundary()å’ŒrightBoundary()ä¸äºŒåˆ†æœç´¢ç®—æ³•éå¸¸ç›¸ä¼¼ã€‚æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå½“å®ƒä»¬æ‰¾åˆ°æœç´¢é”®æ—¶ï¼Œå®ƒä»¬ä¸ä¼šåœæ­¢ï¼Œè€Œæ˜¯ç»§ç»­å‰è¿›ã€‚ è¦æµ‹è¯•æ­¤ç®—æ³•ï¼Œå°†ä»£ç å¤åˆ¶åˆ° playgroundï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š 123let a = [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ]countOccurrencesOfKey(3, inArray: a) // returns 4 è¯·è®°ä½ï¼š ä½¿ç”¨çš„æ•°ç»„ï¼Œç¡®ä¿å·²ç»æ’åºè¿‡ï¼ æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­çš„è¿‡ç¨‹ã€‚ è¯¥æ•°ç»„æ˜¯ï¼š [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ] ä¸ºäº†æ‰¾åˆ°å·¦è¾¹ç•Œï¼Œæˆ‘ä»¬ä»low = 0å’Œhigh = 12å¼€å§‹ã€‚ ç¬¬ä¸€ä¸ªä¸­é—´ç´¢å¼•æ˜¯6ï¼š [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ] * é€šè¿‡å¸¸è§„äºŒåˆ†æœç´¢ï¼Œä½ ç°åœ¨å°±å¯ä»¥å®Œæˆäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸åªæ˜¯æŸ¥çœ‹æ˜¯å¦å‡ºç°äº†å€¼3 â€”â€” è€Œæ˜¯æƒ³è¦æ‰¾åˆ°å®ƒç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ ç”±äºè¯¥ç®—æ³•éµå¾ªä¸äºŒåˆ†æœç´¢ç›¸åŒçš„åŸç†ï¼Œæˆ‘ä»¬ç°åœ¨å¿½ç•¥æ•°ç»„çš„å³åŠéƒ¨åˆ†å¹¶è®¡ç®—æ–°çš„ä¸­é—´ç´¢å¼•ï¼š [ 0, 1, 1, 3, 3, 3 | x, x, x, x, x, x ] * æˆ‘ä»¬å†æ¬¡æ‰¾åˆ°äº†ä¸€ä¸ª3ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªã€‚ ä½†ç®—æ³•ä¸çŸ¥é“ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ¬¡æ‹†åˆ†æ•°ç»„ï¼š [ 0, 1, 1 | x, x, x | x, x, x, x, x, x ] * è¿˜æ²¡å®Œï¼Œ å†æ¬¡æ‹†åˆ†ï¼Œä½†è¿™æ¬¡ä½¿ç”¨å³åŠéƒ¨åˆ†ï¼š [ x, x | 1 | x, x, x | x, x, x, x, x, x ] * æ•°ç»„ä¸èƒ½å†è¢«æ‹†åˆ†ï¼Œè¿™æ„å‘³ç€å·¦è¾¹ç•Œåœ¨ç´¢å¼•3å¤„ã€‚ ç°åœ¨è®©æˆ‘ä»¬é‡æ–°å¼€å§‹ï¼Œå°è¯•æ‰¾åˆ°å³è¾¹ç•Œã€‚ è¿™éå¸¸ç›¸ä¼¼ï¼Œæ‰€ä»¥æˆ‘å°†å‘æ‚¨å±•ç¤ºä¸åŒçš„æ­¥éª¤ï¼š [ 0, 1, 1, 3, 3, 3, 3, 6, 8, 10, 11, 11 ] * [ x, x, x, x, x, x, x | 6, 8, 10, 11, 11 ] * [ x, x, x, x, x, x, x | 6, 8, | x, x, x ] * [ x, x, x, x, x, x, x | 6 | x | x, x, x ] * å³è¾¹ç•Œä½äºç´¢å¼•7å¤„ã€‚ä¸¤ä¸ªè¾¹ç•Œä¹‹é—´çš„å·®å¼‚æ˜¯7 - 3 = 4ï¼Œå› æ­¤æ•°å­—3åœ¨æ­¤æ•°ç»„ä¸­å‡ºç°å››æ¬¡ã€‚ æ¯ä¸ªäºŒåˆ†æœç´¢éœ€è¦4ä¸ªæ­¥éª¤ï¼Œæ‰€ä»¥æ€»å…±è¿™ä¸ªç®—æ³•éœ€è¦8ä¸ªæ­¥éª¤ã€‚ åœ¨ä»…æœ‰12ä¸ªé¡¹çš„æ•°ç»„ä¸Šè·å¾—çš„æ”¶ç›Šä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯æ•°ç»„è¶Šå¤§ï¼Œè¯¥ç®—æ³•çš„æ•ˆç‡å°±è¶Šé«˜ã€‚ å¯¹äºå…·æœ‰1,000,000ä¸ªé¡¹ç›®çš„æ’åºæ•°ç»„ï¼Œåªéœ€è¦2 x 20 = 40ä¸ªæ­¥éª¤æ¥è®¡ç®—ä»»ä½•ç‰¹å®šå€¼çš„å‡ºç°æ¬¡æ•°ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœä½ è¦æŸ¥æ‰¾çš„å€¼ä¸åœ¨æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆrightBoundary()å’ŒleftBoundary()è¿”å›ç›¸åŒçš„å€¼ï¼Œå› æ­¤å®ƒä»¬ä¹‹é—´çš„å·®å€¼ä¸º0ã€‚ è¿™æ˜¯ä¸€ä¸ªå¦‚ä½•ä¿®æ”¹åŸºæœ¬äºŒåˆ†æœç´¢ä»¥è§£å†³å…¶å®ƒç®—æ³•é—®é¢˜çš„ç¤ºä¾‹ã€‚ å½“ç„¶ï¼Œå®ƒéœ€è¦å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>ç»Ÿè®¡å‡ºç°æ¬¡æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å½’å¹¶æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Merge Sort è¿™ä¸ªä¸»é¢˜å·²ç»æœ‰è¾…å¯¼æ–‡ç«  ç›®æ ‡ï¼šå°†æ•°ç»„ä»ä½åˆ°é«˜ï¼ˆæˆ–ä»é«˜åˆ°ä½ï¼‰æ’åº å½’å¹¶æ’åºæ˜¯1945å¹´ç”±John von Neumannå‘æ˜çš„ï¼Œæ˜¯ä¸€ç§æœ‰æ•ˆçš„ç®—æ³•ï¼Œæœ€ä½³ã€æœ€å·®å’Œå¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n log n)ã€‚ å½’å¹¶æ’åºç®—æ³•ä½¿ç”¨åˆ†è€Œæ²»ä¹‹æ–¹æ³•ï¼Œå³å°†ä¸€ä¸ªå¤§é—®é¢˜åˆ†è§£ä¸ºè¾ƒå°çš„é—®é¢˜å¹¶è§£å†³å®ƒä»¬ã€‚ å½’å¹¶æ’åºç®—æ³•å¯åˆ†ä¸º å…ˆæ‹†åˆ† å’Œ ååˆå¹¶ã€‚ å‡è®¾æ‚¨éœ€è¦æŒ‰æ­£ç¡®çš„é¡ºåºå¯¹é•¿åº¦ä¸º n çš„æ•°ç»„è¿›è¡Œæ’åºã€‚ å½’å¹¶æ’åºç®—æ³•çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š å°†æ•°å­—æ”¾åœ¨æœªæ’åºçš„å †ä¸­ã€‚ å°†å †åˆ†æˆä¸¤éƒ¨åˆ†ã€‚ é‚£ä¹ˆç°åœ¨å°±æœ‰ä¸¤ä¸ªæœªæ’åºçš„æ•°å­—å †ã€‚ ç»§ç»­åˆ†è£‚ä¸¤ä¸ªæœªæ’åºçš„æ•°å­—å †ï¼Œç›´åˆ°ä½ ä¸èƒ½åˆ†è£‚ä¸ºæ­¢ã€‚ æœ€åï¼Œä½ å°†æ‹¥æœ‰ n ä¸ªå †ï¼Œæ¯å †ä¸­æœ‰ä¸€ä¸ªæ•°å­—ã€‚ é€šè¿‡é¡ºåºé…å¯¹ï¼Œå¼€å§‹ åˆå¹¶ å †ã€‚ åœ¨æ¯æ¬¡åˆå¹¶æœŸé—´ï¼Œå°†å†…å®¹æŒ‰æ’åºé¡ºåºæ’åˆ—ã€‚ è¿™å¾ˆå®¹æ˜“ï¼Œå› ä¸ºæ¯ä¸ªå•ç‹¬çš„å †å·²ç»æ’åºï¼ˆè¯‘æ³¨ï¼šå•ä¸ªæ•°å­—æ²¡æœ‰æ‰€è°“çš„é¡ºåºï¼Œå°±æ˜¯æ’å¥½åºçš„ï¼‰ã€‚ ä¾‹å­æ‹†åˆ†å‡è®¾ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æœªæ’åºæ•°ç»„ï¼š[2,1,5,4,9]ã€‚ ç›®æ ‡æ˜¯ä¸æ–­æ‹†åˆ†å †ï¼Œç›´åˆ°ä½ ä¸èƒ½æ‹†åˆ†ä¸ºæ­¢ã€‚ é¦–å…ˆï¼Œå°†æ•°ç»„åˆ†æˆä¸¤åŠï¼š[2,1]å’Œ[5,4,9]ã€‚ ä½ èƒ½ç»§ç»­æ‹†åˆ†å—ï¼Ÿ æ˜¯çš„ä½ å¯ä»¥ï¼ ä¸“æ³¨äºå·¦è¾¹å †ã€‚ å°†[2,1]æ‹†åˆ†ä¸º[2]å’Œ[1]ã€‚ ä½ èƒ½ç»§ç»­æ‹†åˆ†å—ï¼Ÿ ä¸èƒ½äº†ã€‚æ£€æŸ¥å³è¾¹çš„å †ã€‚ å°†[5,4,9]æ‹†åˆ†ä¸º[5]å’Œ[4,9]ã€‚ ä¸å‡ºæ‰€æ–™ï¼Œ[5]ä¸èƒ½å†æ‹†åˆ†äº†ï¼Œä½†æ˜¯[4,9]å¯ä»¥åˆ†æˆ[4]å’Œ[9]ã€‚ æ‹†åˆ†æœ€ç»ˆç»“æœä¸ºï¼š[2]`[1][5][4][9]`ã€‚ è¯·æ³¨æ„ï¼Œæ¯ä¸ªå †åªåŒ…å«ä¸€ä¸ªå…ƒç´ ã€‚ åˆå¹¶æ‚¨å·²ç»æ‹†åˆ†äº†æ•°ç»„ï¼Œæ‚¨ç°åœ¨åº”è¯¥ åˆå¹¶å¹¶æ’åº æ‹†åˆ†åçš„å †ã€‚ è¯·è®°ä½ï¼Œè¿™ä¸ªæƒ³æ³•æ˜¯è§£å†³è®¸å¤šå°é—®é¢˜è€Œä¸æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ã€‚ å¯¹äºæ¯æ¬¡åˆå¹¶è¿­ä»£ï¼Œæ‚¨å¿…é¡»å…³æ³¨å°†ä¸€å †ä¸å¦ä¸€å †åˆå¹¶ã€‚ å¯¹äºå † [2] [1] [5] [4] [9]ï¼Œç¬¬ä¸€æ¬¡åˆå¹¶çš„ç»“æœæ˜¯[1,2]å’Œ[4,5] å’Œ[9]ã€‚ ç”±äº[9]çš„ä½ç½®è½å•ï¼Œæ‰€ä»¥åœ¨åˆå¹¶è¿‡ç¨‹ä¸­æ²¡æœ‰å †ä¸ä¹‹åˆå¹¶äº†ã€‚ ä¸‹ä¸€æ¬¡å°†åˆå¹¶[1,2]å’Œ[4,5]ã€‚ ç»“æœ[1,2,4,5]ï¼Œå†æ¬¡ç”±äº[9]çš„ä½ç½®è½å•ä¸éœ€è¦åˆå¹¶ã€‚ åªå‰©ä¸‹ä¸¤å †[1,2,4,5]å’Œ[9]ï¼Œåˆå¹¶åå®Œæˆæ’åºçš„æ•°ç»„ä¸º[1,2,4,5,9]ã€‚ è‡ªä¸Šè€Œä¸‹çš„å®æ–½(é€’å½’æ³•)å½’å¹¶æ’åºçš„Swiftå®ç°ï¼š 1234567891011func mergeSort(_ array: [Int]) -&gt; [Int] &#123; guard array.count &gt; 1 else &#123; return array &#125; // 1 let middleIndex = array.count / 2 // 2 let leftArray = mergeSort(Array(array[0..&lt;middleIndex])) // 3 let rightArray = mergeSort(Array(array[middleIndex..&lt;array.count])) // 4 return merge(leftPile: leftArray, rightPile: rightArray) // 5&#125; ä»£ç çš„é€æ­¥è¯´æ˜ï¼š å¦‚æœæ•°ç»„ä¸ºç©ºæˆ–åŒ…å«å•ä¸ªå…ƒç´ ï¼Œåˆ™æ— æ³•å°†å…¶æ‹†åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ï¼Œè¿”å›æ•°ç»„å°±è¡Œã€‚ æ‰¾åˆ°ä¸­é—´ç´¢å¼•ã€‚ ä½¿ç”¨ä¸Šä¸€æ­¥ä¸­çš„ä¸­é—´ç´¢å¼•ï¼Œé€’å½’åœ°åˆ†å‰²æ•°ç»„çš„å·¦ä¾§ã€‚ æ­¤å¤–ï¼Œé€’å½’åœ°åˆ†å‰²æ•°ç»„çš„å³ä¾§ã€‚ æœ€åï¼Œå°†æ‰€æœ‰å€¼åˆå¹¶åœ¨ä¸€èµ·ï¼Œç¡®ä¿å®ƒå§‹ç»ˆæ’åºã€‚ è¿™å„¿æ˜¯åˆå¹¶çš„ç®—æ³•ï¼š 12345678910111213141516171819202122232425262728293031323334353637func merge(leftPile: [Int], rightPile: [Int]) -&gt; [Int] &#123; // 1 var leftIndex = 0 var rightIndex = 0 // 2 var orderedPile = [Int]() // 3 while leftIndex &lt; leftPile.count &amp;&amp; rightIndex &lt; rightPile.count &#123; if leftPile[leftIndex] &lt; rightPile[rightIndex] &#123; orderedPile.append(leftPile[leftIndex]) leftIndex += 1 &#125; else if leftPile[leftIndex] &gt; rightPile[rightIndex] &#123; orderedPile.append(rightPile[rightIndex]) rightIndex += 1 &#125; else &#123; orderedPile.append(leftPile[leftIndex]) leftIndex += 1 orderedPile.append(rightPile[rightIndex]) rightIndex += 1 &#125; &#125; // 4 while leftIndex &lt; leftPile.count &#123; orderedPile.append(leftPile[leftIndex]) leftIndex += 1 &#125; while rightIndex &lt; rightPile.count &#123; orderedPile.append(rightPile[rightIndex]) rightIndex += 1 &#125; return orderedPile&#125; è¿™ç§æ–¹æ³•å¯èƒ½çœ‹èµ·æ¥å¾ˆå¯æ€•ï¼Œä½†å®ƒéå¸¸ç®€å•ï¼š åœ¨åˆå¹¶æ—¶ï¼Œæ‚¨éœ€è¦ä¸¤ä¸ªç´¢å¼•æ¥è·Ÿè¸ªä¸¤ä¸ªæ•°ç»„çš„è¿›åº¦ã€‚ è¿™æ˜¯åˆå¹¶åçš„æ•°ç»„ã€‚ å®ƒç°åœ¨æ˜¯ç©ºçš„ï¼Œä½†æ˜¯ä½ å°†åœ¨ä¸‹é¢çš„æ­¥éª¤ä¸­é€šè¿‡æ·»åŠ å…¶ä»–æ•°ç»„ä¸­çš„å…ƒç´ æ„å»ºå®ƒã€‚ è¿™ä¸ªwhileå¾ªç¯å°†æ¯”è¾ƒå·¦ä¾§å’Œå³ä¾§çš„å…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°orderedPileï¼ŒåŒæ—¶ç¡®ä¿ç»“æœä¿æŒæœ‰åºã€‚ å¦‚æœå‰ä¸€ä¸ªwhileå¾ªç¯å®Œæˆï¼Œåˆ™æ„å‘³ç€leftPileæˆ–rightPileä¸­çš„ä¸€ä¸ªçš„å†…å®¹å·²ç»å®Œå…¨åˆå¹¶åˆ°orderedPileä¸­ã€‚æ­¤æ—¶ï¼Œæ‚¨ä¸å†éœ€è¦è¿›è¡Œæ¯”è¾ƒã€‚åªéœ€ä¾æ¬¡æ·»åŠ å‰©ä¸‹ä¸€ä¸ªæ•°ç»„çš„å…¶ä½™å†…å®¹åˆ°orderedPileã€‚ merge()å‡½æ•°å¦‚ä½•å·¥ä½œçš„ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸¤ä¸ªä¸ªå †ï¼šleftPile = [1,7,8]å’ŒrightPile = [3,6,9]ã€‚ è¯·æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå †éƒ½å·²å•ç‹¬æ’åº â€“ åˆå¹¶æ’åºæ€»æ˜¯å¦‚æ­¤çš„ã€‚ ä¸‹é¢çš„æ­¥éª¤å°±å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ›´å¤§çš„æ’å¥½åºçš„å †ï¼š 123leftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ ] l r å·¦ä¾§ç´¢å¼•ï¼ˆæ­¤å¤„è¡¨ç¤ºä¸ºlï¼‰æŒ‡å‘å·¦ä¾§å †çš„ç¬¬ä¸€ä¸ªé¡¹ç›®1ã€‚ å³åˆ™ç´¢å¼•ræŒ‡å‘3ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æ·»åŠ åˆ°orderedPileçš„ç¬¬ä¸€é¡¹æ˜¯1ã€‚ æˆ‘ä»¬è¿˜å°†å·¦ä¾§ç´¢å¼•lç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªé¡¹ã€‚ 123leftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ 1 ] --&gt;l r ç°åœ¨læŒ‡å‘7ä½†æ˜¯rä»ç„¶å¤„äº3ã€‚ æˆ‘ä»¬å°†æœ€å°çš„é¡¹3æ·»åŠ åˆ°æœ‰åºå †ä¸­ã€‚ ç°åœ¨çš„æƒ…å†µæ˜¯ï¼š 123leftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ 1, 3 ] l --&gt;r é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ã€‚ åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬ä»leftPileæˆ–rightPileä¸­é€‰æ‹©æœ€å°çš„é¡¹ï¼Œå¹¶å°†è¯¥é¡¹æ·»åŠ åˆ°orderedPileä¸­ï¼š 1234567891011leftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ 1, 3, 6 ] l --&gt;rleftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ 1, 3, 6, 7 ] --&gt;l rleftPile rightPile orderedPile[ 1, 7, 8 ] [ 3, 6, 9 ] [ 1, 3, 6, 7, 8 ] --&gt;l r ç°åœ¨ï¼Œå·¦å †ä¸­æ²¡æœ‰æ›´å¤šç‰©å“äº†ã€‚ æˆ‘ä»¬åªéœ€ä»å³è¾¹çš„å †ä¸­æ·»åŠ å‰©ä½™çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ã€‚ åˆå¹¶çš„å †æ˜¯[1,3,6,7,8,9]ã€‚ è¯·æ³¨æ„ï¼Œæ­¤ç®—æ³•éå¸¸ç®€å•ï¼šå®ƒä»å·¦å‘å³ç§»åŠ¨é€šè¿‡ä¸¤ä¸ªå †ï¼Œå¹¶åœ¨æ¯ä¸ªæ­¥éª¤é€‰æ‹©æœ€å°çš„é¡¹ç›®ã€‚ è¿™æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¿è¯æ¯ä¸ªå †éƒ½å·²ç»æ’åºã€‚ è¯‘æ³¨ï¼š å…³äºè‡ªä¸Šè€Œä¸‹çš„æ‰§è¡Œ(é€’å½’æ³•)çš„å½’å¹¶æ’åºï¼Œæˆ‘æ‰¾äº†ä¸€ä¸ªæ¯”è¾ƒå½¢è±¡çš„åŠ¨å›¾ï¼Œæ¥æº è‡ªä¸‹è€Œä¸Šçš„å®æ–½(è¿­ä»£)åˆ°ç›®å‰ä¸ºæ­¢ä½ çœ‹åˆ°çš„åˆå¹¶æ’åºç®—æ³•çš„å®ç°è¢«ç§°ä¸ºâ€œè‡ªä¸Šè€Œä¸‹â€çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒé¦–å…ˆå°†æ•°ç»„æ‹†åˆ†æˆæ›´å°çš„å †ç„¶ååˆå¹¶å®ƒä»¬ã€‚æ’åºæ•°ç»„ï¼ˆè€Œä¸æ˜¯é“¾è¡¨ï¼‰æ—¶ï¼Œå®é™…ä¸Šå¯ä»¥è·³è¿‡æ‹†åˆ†æ­¥éª¤å¹¶ç«‹å³å¼€å§‹åˆå¹¶å„ä¸ªæ•°ç»„å…ƒç´ ã€‚ è¿™è¢«ç§°ä¸ºâ€œè‡ªä¸‹è€Œä¸Šâ€çš„æ–¹æ³•ã€‚ ä¸‹é¢æ˜¯Swiftä¸­ä¸€ä¸ªå®Œæ•´çš„è‡ªä¸‹è€Œä¸Šçš„å®ç°ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748func mergeSortBottomUp&lt;T&gt;(_ a: [T], _ isOrderedBefore: (T, T) -&gt; Bool) -&gt; [T] &#123; let n = a.count var z = [a, a] // 1 var d = 0 var width = 1 while width &lt; n &#123; // 2 var i = 0 while i &lt; n &#123; // 3 var j = i var l = i var r = i + width let lmax = min(l + width, n) let rmax = min(r + width, n) while l &lt; lmax &amp;&amp; r &lt; rmax &#123; // 4 if isOrderedBefore(z[d][l], z[d][r]) &#123; z[1 - d][j] = z[d][l] l += 1 &#125; else &#123; z[1 - d][j] = z[d][r] r += 1 &#125; j += 1 &#125; while l &lt; lmax &#123; z[1 - d][j] = z[d][l] j += 1 l += 1 &#125; while r &lt; rmax &#123; z[1 - d][j] = z[d][r] j += 1 r += 1 &#125; i += width*2 &#125; width *= 2 d = 1 - d // 5 &#125; return z[d]&#125; å®ƒçœ‹èµ·æ¥æ¯”è‡ªä¸Šè€Œä¸‹çš„ç‰ˆæœ¬æ›´ä»¤äººç”Ÿç•ï¼Œä½†è¯·æ³¨æ„ä¸»ä½“åŒ…å«ä¸merge()ç›¸åŒçš„ä¸‰ä¸ªwhileå¾ªç¯ã€‚ å€¼å¾—æ³¨æ„çš„è¦ç‚¹ï¼š å½’å¹¶æ’åºç®—æ³•éœ€è¦ä¸€ä¸ªä¸´æ—¶å·¥ä½œæ•°ç»„ï¼Œå› ä¸ºä½ ä¸èƒ½åˆå¹¶å·¦å³å †å¹¶åŒæ—¶è¦†ç›–å®ƒä»¬çš„å†…å®¹ã€‚ å› ä¸ºä¸ºæ¯ä¸ªåˆå¹¶åˆ†é…ä¸€ä¸ªæ–°æ•°ç»„æ˜¯æµªè´¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå·¥ä½œæ•°ç»„ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨dçš„å€¼åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ï¼Œå®ƒæ˜¯0æˆ–1ã€‚æ•°ç»„z[d]ç”¨äºè¯»ï¼Œz[1 - d]ç”¨äºå†™ã€‚ è¿™ç§°ä¸º åŒç¼“å†²ã€‚ ä»æ¦‚å¿µä¸Šè®²ï¼Œè‡ªä¸‹è€Œä¸Šç‰ˆæœ¬çš„å·¥ä½œæ–¹å¼ä¸è‡ªä¸Šè€Œä¸‹ç‰ˆæœ¬ç›¸åŒã€‚é¦–å…ˆï¼Œå®ƒåˆå¹¶æ¯ä¸ªå…ƒç´ çš„å°å †ï¼Œç„¶åå®ƒåˆå¹¶æ¯ä¸ªå †ä¸¤ä¸ªå…ƒç´ ï¼Œç„¶åæ¯ä¸ªå †æˆå››ä¸ªå…ƒç´ ï¼Œä¾æ­¤ç±»æ¨ã€‚å †çš„å¤§å°ç”±widthç»™å‡ºã€‚ æœ€åˆï¼Œwidthæ˜¯1ä½†æ˜¯åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†å®ƒä¹˜ä»¥2ï¼Œæ‰€ä»¥è¿™ä¸ªå¤–å¾ªç¯ç¡®å®šè¦åˆå¹¶çš„å †çš„å¤§å°ï¼Œå¹¶ä¸”è¦åˆå¹¶çš„å­æ•°ç»„åœ¨æ¯ä¸€æ­¥ä¸­å˜å¾—æ›´å¤§ã€‚ å†…å¾ªç¯ç©¿è¿‡å †å¹¶å°†æ¯å¯¹å †åˆå¹¶æˆä¸€ä¸ªè¾ƒå¤§çš„å †ã€‚ ç»“æœå†™åœ¨z[1 - d]ç»™å‡ºçš„æ•°ç»„ä¸­ã€‚ è¿™ä¸è‡ªä¸Šè€Œä¸‹ç‰ˆæœ¬çš„é€»è¾‘ç›¸åŒã€‚ ä¸»è¦åŒºåˆ«åœ¨äºæˆ‘ä»¬ä½¿ç”¨åŒç¼“å†²ï¼Œå› æ­¤ä»z[d]è¯»å–å€¼å¹¶å†™å…¥z [1 - d]ã€‚å®ƒè¿˜ä½¿ç”¨isOrderedBeforeå‡½æ•°æ¥æ¯”è¾ƒå…ƒç´ è€Œä¸ä»…ä»…æ˜¯&lt;ï¼Œå› æ­¤è¿™ç§åˆå¹¶æ’åºç®—æ³•æ˜¯é€šç”¨çš„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥å¯¹ä»»ä½•ç±»å‹çš„å¯¹è±¡è¿›è¡Œæ’åºã€‚ æ­¤æ—¶ï¼Œæ•°ç»„z[d]çš„å¤§å°widthçš„å †å·²ç»åˆå¹¶ä¸ºæ•°ç»„z[1-d]ä¸­æ›´å¤§çš„å¤§å°width * 2ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬äº¤æ¢æ´»åŠ¨æ•°ç»„ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€æ­¥ä¸­æˆ‘ä»¬å°†ä»æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–°å †ä¸­è¯»å–ã€‚ è¿™ä¸ªå‡½æ•°æ˜¯é€šç”¨çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥å¯¹ä½ æƒ³è¦çš„ä»»ä½•ç±»å‹å¯¹è±¡è¿›è¡Œæ’åºï¼Œåªè¦ä½ æä¾›ä¸€ä¸ªæ­£ç¡®çš„isOrderedBeforeé—­åŒ…æ¥æ¯”è¾ƒå…ƒç´ ã€‚ æ€ä¹ˆä½¿ç”¨å®ƒçš„ç¤ºä¾‹ï¼š 12let array = [2, 1, 5, 4, 9]mergeSortBottomUp(array, &lt;) // [1, 2, 4, 5, 9] è¯‘æ³¨ï¼šå…³äºè¿­ä»£çš„å½’å¹¶æ’åºï¼Œæˆ‘æ‰¾åˆ°ä¸€ä¸ªå›¾æ¥è¡¨ç¤ºï¼Œæ¥æº æ€§èƒ½å½’å¹¶æ’åºç®—æ³•çš„é€Ÿåº¦å–å†³äºå®ƒéœ€è¦æ’åºçš„æ•°ç»„çš„å¤§å°ã€‚ æ•°ç»„è¶Šå¤§ï¼Œå®ƒéœ€è¦åšçš„å·¥ä½œå°±è¶Šå¤šã€‚ åˆå§‹æ•°ç»„æ˜¯å¦å·²ç»æ’åºä¸ä¼šå½±å“å½’å¹¶æ’åºç®—æ³•çš„é€Ÿåº¦ï¼Œå› ä¸ºæ— è®ºå…ƒç´ çš„åˆå§‹é¡ºåºå¦‚ä½•ï¼Œæ‚¨éƒ½å°†è¿›è¡Œç›¸åŒæ•°é‡çš„æ‹†åˆ†å’Œæ¯”è¾ƒã€‚ å› æ­¤ï¼Œæœ€ä½³ï¼Œæœ€å·®å’Œå¹³å‡æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦å°†å§‹ç»ˆä¸º O(n log n)ã€‚ å½’å¹¶æ’åºç®—æ³•çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒéœ€è¦ä¸€ä¸ªä¸´æ—¶çš„â€œå·¥ä½œâ€æ•°ç»„ï¼Œå…¶å¤§å°ä¸è¢«æ’åºçš„æ•°ç»„ç›¸åŒã€‚ å®ƒä¸æ˜¯åŸåœ°æ’åºï¼Œä¸åƒä¾‹å¦‚quicksortã€‚ å¤§å¤šæ•°å®ç°å½’å¹¶æ’åºç®—æ³•æ˜¯ç¨³å®šçš„æ’åºã€‚è¿™æ„å‘³ç€å…·æœ‰ç›¸åŒæ’åºé”®çš„æ•°ç»„å…ƒç´ åœ¨æ’åºåå°†ä¿æŒç›¸å¯¹äºå½¼æ­¤çš„ç›¸åŒé¡ºåºã€‚è¿™å¯¹äºæ•°å­—æˆ–å­—ç¬¦ä¸²ç­‰ç®€å•å€¼å¹¶ä¸é‡è¦ï¼Œä½†åœ¨æ’åºæ›´å¤æ‚çš„å¯¹è±¡æ—¶ï¼Œå¦‚æœä¸æ˜¯ç¨³å®šçš„æ’åºå¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚ è¯‘æ³¨ï¼šå½“å…ƒç´ ç›¸åŒæ—¶ï¼Œæ’åºåä¾ç„¶ä¿æŒæ’åºä¹‹å‰çš„ç›¸å¯¹é¡ºåºï¼Œé‚£ä¹ˆè¿™ä¸ªæ’åºç®—æ³•å°±æ˜¯ç¨³å®šçš„ã€‚ç¨³å®šçš„æ’åºæœ‰ï¼šæ’å…¥æ’åºã€è®¡æ•°æ’åºã€å½’å¹¶æ’åºã€åŸºæ•°æ’åºç­‰ç­‰ï¼Œè¯¦è§ç©©å®šçš„æ’åºã€‚ æ‰©å±•é˜…è¯»å½’å¹¶æ’åºçš„ç»´åŸºç™¾ç§‘ å½’å¹¶æ’åºçš„ä¸­æ–‡ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šKelvin Lau. Additions ï¼Œ Matthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>å½’å¹¶æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-çº¿æ€§æœç´¢]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E7%BA%BF%E6%80%A7%E6%90%9C%E7%B4%A2.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Linear Search ç›®æ ‡ï¼šåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ç‰¹å®šå€¼ã€‚ æˆ‘ä»¬æœ‰ä¸€ç»„é€šç”¨å¯¹è±¡ã€‚ é€šè¿‡çº¿æ€§æœç´¢ï¼Œæˆ‘ä»¬è¿­ä»£æ•°ç»„ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶å°†æ¯ä¸ªå¯¹è±¡ä¸æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„å¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œæˆ‘ä»¬åœæ­¢å¹¶è¿”å›å½“å‰å¯¹è±¡åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚ å¦‚æœä¸ç›¸ç­‰ï¼Œåªè¦æ•°ç»„ä¸­è¿˜æœ‰å¯¹è±¡ï¼Œæˆ‘ä»¬å°±ä¼šç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªã€‚ ä¸€ä¸ªä¾‹å­å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„[5,2,4,7]ï¼Œæˆ‘ä»¬æƒ³æ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æ•°å­—2ã€‚ æˆ‘ä»¬é¦–å…ˆå°†æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—5ä¸æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ•°å­—2è¿›è¡Œæ¯”è¾ƒã€‚ å®ƒä»¬æ˜¾ç„¶ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»§ç»­æ¯”è¾ƒä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚ æˆ‘ä»¬å°†æ•°ç»„ä¸­çš„æ•°å­—2ä¸æ•°å­—2è¿›è¡Œæ¯”è¾ƒï¼Œæ³¨æ„åˆ°å®ƒä»¬æ˜¯ç›¸ç­‰çš„ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥åœæ­¢è¿­ä»£å¹¶è¿”å›1ï¼Œè¿™æ˜¯æ•°ç»„ä¸­æ•°å­—2çš„ç´¢å¼•ã€‚ ä»£ç è¿™æ˜¯Swiftçº¿æ€§æœç´¢çš„ç®€å•å®ç°ï¼š 123456func linearSearch&lt;T: Equatable&gt;(_ array: [T], _ object: T) -&gt; Int? &#123; for (index, obj) in array.enumerated() where obj == object &#123; return index &#125; return nil&#125; å°†æ­¤ä»£ç æ”¾åœ¨playgroundé‡Œæµ‹è¯•ï¼š 12let array = [5, 2, 4, 7]linearSearch(array, 2) // This will return 1 æ€§èƒ½çº¿æ€§æœç´¢æ€§èƒ½æ˜¯O(n) ã€‚å®ƒå°†æˆ‘ä»¬è¦æŸ¥æ‰¾çš„å¯¹è±¡ä¸æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤å®ƒæ‰€èŠ±è´¹çš„æ—¶é—´ä¸æ•°ç»„é•¿åº¦æˆæ­£æ¯”ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥çœ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ æœ€å¥½çš„æƒ…å†µæ˜¯ O(1)ï¼Œä½†è¿™ç§æƒ…å†µå¾ˆå°‘è§ï¼Œå› ä¸ºæˆ‘ä»¬è¦æŸ¥æ‰¾çš„å¯¹è±¡å¿…é¡»ä½äºæ•°ç»„çš„å¼€å¤´æ‰èƒ½ç«‹å³æ‰¾åˆ°ã€‚ä½ å¯èƒ½ä¼šå¾ˆå¹¸è¿ï¼Œä½†å¤§éƒ¨åˆ†æ—¶é—´ä½ éƒ½ä¸ä¼šã€‚å¹³å‡è€Œè¨€ï¼Œçº¿æ€§æœç´¢éœ€è¦æŸ¥çœ‹æ•°ç»„ä¸­å¯¹è±¡çš„ä¸€åŠã€‚ æ‰©å±•é˜…è¯»çº¿æ€§æœç´¢çš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šPatrick Balestraç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>çº¿æ€§æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-äºŒåˆ†æœç´¢]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Binary Search ç›®æ ‡ï¼šåœ¨æ•°ç»„ä¸­å¿«é€Ÿå¯»æ‰¾ä¸€ä¸ªå…ƒç´ ã€‚ å‡è®¾ä½ æœ‰ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œä½ æƒ³ç¡®å®šä¸€ä¸ªç‰¹å®šçš„æ•°å­—æ˜¯å¦åœ¨è¯¥æ•°ç»„ä¸­ï¼Œå¦‚æœåœ¨ï¼Œé‚£ä¹ˆè·å¾—è¿™ä¸ªæ•°å­—çš„ç´¢å¼•ã€‚ å¯¹äºä¸Šé¢çš„æƒ…å†µï¼ŒSwiftçš„indexOf()å‡½æ•°è¶³å¤Ÿå®Œæˆï¼š 123let numbers = [11, 59, 3, 2, 53, 17, 31, 7, 19, 67, 47, 13, 37, 61, 29, 43, 5, 41, 23]numbers.indexOf(43) // returns 15 å†…ç½®çš„indexOf()å‡½æ•°æ‰§è¡Œçš„æ˜¯çº¿æ€§æœç´¢ã€‚ä»£ç å¤§æ¦‚æ˜¯ï¼š 12345678func linearSearch&lt;T: Equatable&gt;(_ a: [T], _ key: T) -&gt; Int? &#123; for i in 0 ..&lt; a.count &#123; if a[i] == key &#123; return i &#125; &#125; return nil&#125; ä½¿ç”¨å¦‚ä¸‹ï¼š 1linearSearch(numbers, 43) // returns 15 æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ linearSearchï¼ˆï¼‰ä»å¤´å¼€å§‹éå†æ•´ä¸ªæ•°ç»„ï¼Œç›´åˆ°æ‰¾åˆ°ä½ æ­£åœ¨å¯»æ‰¾çš„å…ƒç´ ã€‚ åœ¨æœ€åçš„æƒ…å†µæ˜¯æ•°å€¼ä¸åœ¨æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆä¹‹å‰çš„éå†å°±ç™½è´¹ã€‚ å¹³å‡è€Œè¨€ï¼Œçº¿æ€§æœç´¢ç®—æ³•éœ€è¦æŸ¥çœ‹æ•°ç»„ä¸­ä¸€åŠçš„å€¼ã€‚ å¦‚æœæ‚¨çš„æ•°ç»„è¶³å¤Ÿå¤§ï¼Œè¿™å°†ä¼šå˜å¾—éå¸¸æ…¢ï¼ åˆ†è€Œæ²»ä¹‹æå‡é€Ÿåº¦çš„ç»å…¸æ–¹æ³•æ˜¯ä½¿ç”¨ äºŒåˆ†æœç´¢ã€‚ è¯€çªæ˜¯å°†æ•°ç»„åˆ†æˆä¸¤åŠï¼Œç›´åˆ°æ‰¾åˆ°å€¼ã€‚ å¯¹äºå¤§å°ä¸ºnçš„æ•°ç»„ï¼Œæ€§èƒ½ä¸æ˜¯çº¿æ€§æœç´¢çš„O(n)ï¼Œè€Œæ˜¯åªæœ‰ O(log n)ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹å…·æœ‰1,000,000ä¸ªå…ƒç´ çš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æœç´¢åªéœ€è¦å¤§çº¦20ä¸ªæ­¥éª¤æ¥æŸ¥æ‰¾è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œå› ä¸ºlog_2ï¼ˆ1,000,000ï¼‰= 19.9ã€‚å¯¹äºå…·æœ‰åäº¿ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå®ƒåªéœ€è¦30æ­¥ã€‚ ï¼ˆç„¶è€Œï¼Œä½ ä¸Šä¸€æ¬¡ä½¿ç”¨æ•°åäº¿é¡¹çš„æ•°ç»„æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿï¼‰ å¬èµ·æ¥å¾ˆæ£’ï¼Œä½†ä½¿ç”¨äºŒåˆ†æœç´¢æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šæ•°ç»„å¿…é¡»è¢«æ’å¥½åºçš„ã€‚ åœ¨å®è·µä¸­ï¼Œè¿™é€šå¸¸ä¸æ˜¯é—®é¢˜ã€‚ ä¸‹é¢äºŒåˆ†æœç´¢çš„å·¥ä½œåŸç†ï¼š å°†æ•°ç»„åˆ†æˆä¸¤åŠï¼Œå¹¶ç¡®å®šæ‚¨è¦æŸ¥æ‰¾çš„å†…å®¹ï¼ˆç§°ä¸ºæœç´¢é”®ï¼‰æ˜¯åœ¨å·¦åŠéƒ¨åˆ†è¿˜æ˜¯åœ¨å³åŠéƒ¨åˆ†ã€‚ æ‚¨å¦‚ä½•ç¡®å®šæœç´¢é”®çš„é”®åœ¨å“ªä¸€åŠå‘¢ï¼Ÿ è¿™å°±æ˜¯é¦–å…ˆè¦å¯¹æ•°ç»„è¿›è¡Œæ’åºçš„åŸå› ï¼Œæ’å¥½åºä½ å°±å¯ä»¥åšä¸€ä¸ªç®€å•çš„&lt;æˆ–&gt;æ¯”è¾ƒã€‚ å¦‚æœæœç´¢é”®ä½äºå·¦åŠéƒ¨åˆ†ï¼Œåˆ™åœ¨é‚£é‡Œé‡å¤è¯¥è¿‡ç¨‹ï¼šå°†å·¦åŠéƒ¨åˆ†åˆ†æˆä¸¤ä¸ªæ›´å°çš„éƒ¨åˆ†ï¼Œå¹¶æŸ¥çœ‹æœç´¢é”®ä½äºå“ªä¸€å—ã€‚ ï¼ˆåŒæ ·ï¼Œå¯¹äºå³åŠéƒ¨åˆ†åŒæ ·å¤„ç†ã€‚ï¼‰ é‡å¤æ­¤æ“ä½œç›´åˆ°æ‰¾åˆ°æœç´¢é”®ã€‚ å¦‚æœæ— æ³•è¿›ä¸€æ­¥æ‹†åˆ†æ•°ç»„ï¼Œåˆ™å¿…é¡»é—æ†¾åœ°å¾—å‡ºç»“è®ºï¼Œæœç´¢é”®ä¸åœ¨æ•°ç»„ä¸­ã€‚ ç°åœ¨ä½ çŸ¥é“ä¸ºä»€ä¹ˆå®ƒè¢«ç§°ä¸ºâ€œäºŒåˆ†â€æœç´¢ï¼šåœ¨æ¯ä¸€æ­¥ä¸­å®ƒå°†æ•°ç»„åˆ†æˆä¸¤åŠã€‚ åˆ†è€Œæ²»ä¹‹ å¯ä»¥å¿«é€Ÿç¼©å°æœç´¢é”®æ‰€åœ¨çš„ä½ç½®ã€‚ ä»£ç è¿™æ˜¯Swiftä¸­äºŒåˆ†æœç´¢çš„é€’å½’å®ç°ï¼š 1234567891011121314151617181920212223func binarySearch&lt;T: Comparable&gt;(_ a: [T], key: T, range: Range&lt;Int&gt;) -&gt; Int? &#123; if range.lowerBound &gt;= range.upperBound &#123; // If we get here, then the search key is not present in the array. return nil &#125; else &#123; // Calculate where to split the array. let midIndex = range.lowerBound + (range.upperBound - range.lowerBound) / 2 // Is the search key in the left half? if a[midIndex] &gt; key &#123; return binarySearch(a, key: key, range: range.lowerBound ..&lt; midIndex) // Is the search key in the right half? &#125; else if a[midIndex] &lt; key &#123; return binarySearch(a, key: key, range: midIndex + 1 ..&lt; range.upperBound) // If we get here, then we've found the search key! &#125; else &#123; return midIndex &#125; &#125;&#125; å°è¯•ä¸€ä¸‹ï¼Œå°†ä»£ç å¤åˆ¶åˆ° playground å¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š 123let numbers = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67]binarySearch(numbers, key: 43, range: 0 ..&lt; numbers.count) // gives 13 è¯·æ³¨æ„ï¼Œnumbersæ•°ç»„å·²æ’åºã€‚ å¦åˆ™äºŒåˆ†æœç´¢ç®—æ³•ä¸èƒ½å·¥ä½œï¼ äºŒåˆ†æœç´¢é€šè¿‡å°†æ•°ç»„åˆ†æˆä¸¤åŠæ¥æœç´¢ï¼Œä½†æˆ‘ä»¬å®é™…ä¸Šå¹¶æ²¡æœ‰åˆ›å»ºä¸¤ä¸ªæ–°æ•°ç»„ã€‚ æˆ‘ä»¬ä½¿ç”¨SwiftRangeå¯¹è±¡è·Ÿè¸ªè¿™äº›æ‹†åˆ†ã€‚èµ·åˆï¼Œæ­¤èŒƒå›´æ¶µç›–æ•´ä¸ªæ•°ç»„ï¼Œ0 .. &lt;numbers.countã€‚ å½“æˆ‘ä»¬æ‹†åˆ†æ•°ç»„æ—¶ï¼ŒèŒƒå›´å˜å¾—è¶Šæ¥è¶Šå°ã€‚ æ³¨æ„ï¼š éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯range.upperBoundæ€»æ˜¯æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„å…ƒç´ ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒèŒƒå›´æ˜¯0 .. &lt;19ï¼Œå› ä¸ºæ•°ç»„ä¸­æœ‰19ä¸ªæ•°å­—ï¼Œæ‰€ä»¥range.lowerBound = 0å’Œrange.upperBound = 19ã€‚ä½†æ˜¯åœ¨æˆ‘ä»¬çš„æ•°ç»„ä¸­ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯åœ¨ç´¢å¼•18è€Œä¸æ˜¯19ï¼Œå› ä¸ºæˆ‘ä»¬ä»0å¼€å§‹è®¡æ•°ã€‚åœ¨å¤„ç†èŒƒå›´æ—¶è¦è®°ä½è¿™ä¸€ç‚¹ï¼šupperBoundæ€»æ˜¯æ¯”æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å¤šä¸€ã€‚ åˆ†æ­¥æ‰§è¡Œç¤ºä¾‹æŸ¥çœ‹ç®—æ³•çš„è¯¦ç»†å·¥ä½œæ–¹å¼æˆ–è®¸æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ ä¸Šä¾‹ä¸­çš„æ•°ç»„ç”±19ä¸ªæ•°å­—ç»„æˆï¼Œæ’åºåå¦‚ä¸‹æ‰€ç¤ºï¼š [ 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67 ] æˆ‘ä»¬è¯•å›¾ç¡®å®šæ•°å­—43æ˜¯å¦åœ¨è¿™ä¸ªæ•°ç»„ä¸­ã€‚ å°†æ•°ç»„æ‹†åˆ†ä¸ºä¸€åŠï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸­é—´å¯¹è±¡çš„ç´¢å¼•ã€‚ è¿™æ˜¯ç”±è¿™è¡Œä»£ç ç¡®å®šï¼š 1let midIndex = range.lowerBound + (range.upperBound - range.lowerBound) / 2 æœ€åˆï¼ŒèŒƒå›´æœ‰lowerBound = 0å’ŒupperBound = 19ã€‚ ç»†çœ‹ï¼Œæˆ‘ä»¬å‘ç°midIndexæ˜¯0 +ï¼ˆ19 - 0ï¼‰/ 2 = 19/2 = 9ã€‚ å®ƒå®é™…ä¸Šæ˜¯9.5ï¼Œä½†å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯å‘ä¸‹èˆå…¥äº†ã€‚ åœ¨ä¸‹å›¾ä¸­ï¼Œ*å¤„è¡¨ç¤ºä¸­é—´é¡¹ã€‚ å¦‚æ‚¨æ‰€è§ï¼Œæ¯ä¾§çš„é¡¹ç›®æ•°ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨ä¸­é—´åˆ†å¼€ã€‚ [ 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67 ] * äºŒåˆ†æœç´¢å°†ç¡®å®šä½¿ç”¨å“ªä¸€åŠçš„ç›¸å…³ä»£ç æ˜¯ï¼š 1234567if a[midIndex] &gt; key &#123; // use left half&#125; else if a[midIndex] &lt; key &#123; // use right half&#125; else &#123; return midIndex&#125; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œa[midIndex] = 29ã€‚ è¿™æ¯”æœç´¢é”®çš„å€¼å°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæœç´¢é”®æ°¸è¿œä¸ä¼šå‡ºç°åœ¨æ•°ç»„çš„å·¦åŠéƒ¨åˆ†ã€‚æ¯•ç«Ÿï¼Œå·¦åŠéƒ¨åˆ†åªåŒ…å«å°äº29çš„æ•°å­—ã€‚ å› æ­¤ï¼Œæœç´¢é”®è‚¯å®šä½äºå³åŠéƒ¨åˆ†ï¼ˆæˆ–æ ¹æœ¬ä¸åœ¨æ•°ç»„ä¸­ï¼‰ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•åœ°é‡å¤äºŒåˆ†æœç´¢ï¼Œæ•°ç»„é—´è·ä»midIndex + 1åˆ°range.upperBoundï¼š [ x, x, x, x, x, x, x, x, x, x | 31, 37, 41, 43, 47, 53, 59, 61, 67 ] ç”±äºæˆ‘ä»¬ä¸å†éœ€è¦å…³æ³¨æ•°ç»„çš„å·¦åŠéƒ¨åˆ†ï¼Œæˆ‘ç”¨xæ ‡è®°äº†å®ƒã€‚ ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬åªçœ‹å³åŠéƒ¨åˆ†ï¼Œä»æ•°ç»„ç´¢å¼•10å¼€å§‹ã€‚ æˆ‘ä»¬è®¡ç®—æ–°çš„ä¸­é—´å…ƒç´ çš„ç´¢å¼•ï¼šmidIndex = 10 +ï¼ˆ19 - 10ï¼‰/ 2 = 14ï¼Œç„¶åå†å°†æ•°ç»„ä»ä¸­é—´æ‹†åˆ†ã€‚ [ x, x, x, x, x, x, x, x, x, x | 31, 37, 41, 43, 47, 53, 59, 61, 67 ] * æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œa [14]æ˜¯æ•°ç»„å³åŠéƒ¨åˆ†çš„ä¸­é—´å…ƒç´ ã€‚ æœç´¢é”®æ˜¯å¤§äºè¿˜æ˜¯å°äºa [14]ï¼Ÿ å°ï¼Œå› ä¸º43 &lt;47ã€‚ è¿™æ¬¡æˆ‘ä»¬å–å·¦åŠè¾¹å¹¶å¿½ç•¥å³è¾¹è¾ƒå¤§çš„æ•°å­—ï¼š [ x, x, x, x, x, x, x, x, x, x | 31, 37, 41, 43 | x, x, x, x, x ] æ–°çš„midIndexå¦‚ä¸‹ï¼š [ x, x, x, x, x, x, x, x, x, x | 31, 37, 41, 43 | x, x, x, x, x ] * æœç´¢é”®å¤§äº37ï¼Œå› æ­¤ç»§ç»­å³ä¾§ï¼š [ x, x, x, x, x, x, x, x, x, x | x, x | 41, 43 | x, x, x, x, x ] * åŒæ ·ï¼Œæœç´¢é”®æ›´å¤§ï¼Œå› æ­¤å†æ¬¡æ‹†åˆ†å¹¶é‡‡å–å³ä¾§ï¼š [ x, x, x, x, x, x, x, x, x, x | x, x | x | 43 | x, x, x, x, x ] * ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†ã€‚æœç´¢é”®ç­‰äºæˆ‘ä»¬æ­£åœ¨æŸ¥çœ‹çš„æ•°ç»„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»ˆäºæ‰¾åˆ°äº†æˆ‘ä»¬è¦æœç´¢çš„å†…å®¹ï¼šæ•°å­—43ä½äºæ•°ç»„ç´¢å¼•13ã€‚ è¿™å¯èƒ½çœ‹èµ·æ¥åƒå¾ˆå¤šå·¥ä½œï¼Œä½†å®é™…ä¸Šåªéœ€è¦å››ä¸ªæ­¥éª¤å°±èƒ½æ‰¾åˆ°æ•°ç»„ä¸­çš„æœç´¢é”®ï¼Œå› ä¸ºlog_2ï¼ˆ19ï¼‰= 4.23ã€‚é€šè¿‡çº¿æ€§æœç´¢ï¼Œå®ƒå°†èŠ±è´¹14ä¸ªæ­¥éª¤ã€‚ å¦‚æœæˆ‘ä»¬è¦æœç´¢42è€Œä¸æ˜¯43ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€åæˆ‘ä»¬ä¸èƒ½å†è¿›ä¸€æ­¥æ‹†åˆ†æ•°ç»„ã€‚ range.upperBoundå˜å¾—å°äºrange.lowerBoundã€‚è¿™å‘Šè¯‰ç®—æ³•æœç´¢é”®ä¸åœ¨æ•°ç»„ä¸­ï¼Œå®ƒè¿”å›nilã€‚ æ³¨æ„ï¼š äºŒåˆ†æœç´¢è®¸å¤šæ‰§è¡Œä¼šè®¡ç®— midIndex = (lowerBound + upperBound) / 2ã€‚è¿™åŒ…å«äº†ä¸€ä¸ªåœ¨éå¸¸å¤§çš„æ•°ç»„ä¸­ä¼šå‡ºç°çš„ç»†å¾®bugï¼Œå› ä¸ºlowerBound + upperBoundå¯èƒ½æº¢å‡ºä¸€ä¸ªæ•´æ•°å¯ä»¥å®¹çº³çš„æœ€å¤§æ•°ã€‚è¿™ç§æƒ…å†µä¸å¤ªå¯èƒ½å‘ç”Ÿåœ¨64ä½CPUä¸Šï¼Œä½†ç»å¯¹å¯èƒ½åœ¨32ä½æœºå™¨ä¸Šå‘ç”Ÿã€‚ è¿­ä»£ä¸é€’å½’äºŒåˆ†æœç´¢æœ¬è´¨ä¸Šæ˜¯é€’å½’çš„ï¼Œå› ä¸ºæ‚¨å°†ç›¸åŒçš„é€»è¾‘ä¸€éåˆä¸€éåœ°åº”ç”¨äºè¶Šæ¥è¶Šå°çš„å­æ•°ç»„ã€‚ ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€æ‚¨å¿…é¡»å°†binarySearch()å®ç°ä¸ºé€’å½’å‡½æ•°ã€‚ å°†é€’å½’ç®—æ³•è½¬æ¢ä¸ºè¿­ä»£ç‰ˆæœ¬é€šå¸¸æ›´æœ‰æ•ˆï¼Œä½¿ç”¨ç®€å•çš„å¾ªç¯è€Œä¸æ˜¯å¤§é‡çš„é€’å½’å‡½æ•°è°ƒç”¨ã€‚ è¿™æ˜¯Swiftä¸­äºŒåˆ†æœç´¢çš„è¿­ä»£å®ç°ï¼š 123456789101112131415func binarySearch&lt;T: Comparable&gt;(_ a: [T], key: T) -&gt; Int? &#123; var lowerBound = 0 var upperBound = a.count while lowerBound &lt; upperBound &#123; let midIndex = lowerBound + (upperBound - lowerBound) / 2 if a[midIndex] == key &#123; return midIndex &#125; else if a[midIndex] &lt; key &#123; lowerBound = midIndex + 1 &#125; else &#123; upperBound = midIndex &#125; &#125; return nil&#125; å¦‚æ‚¨æ‰€è§ï¼Œä»£ç ä¸é€’å½’ç‰ˆæœ¬éå¸¸ç›¸ä¼¼ã€‚ ä¸»è¦åŒºåˆ«åœ¨äºä½¿ç”¨whileå¾ªç¯ã€‚ ä½¿ç”¨è¿­ä»£å®ç°ï¼š 123let numbers = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67]binarySearch(numbers, key: 43) // gives 13 ç»“æŸæ•°ç»„å¿…é¡»å…ˆæ’åºæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ æ’åºæ˜¯éœ€è¦æ—¶é—´çš„ â€”â€” äºŒåˆ†æœç´¢å’Œæ’åºçš„ç»„åˆå¯èƒ½æ¯”è¿›è¡Œç®€å•çš„çº¿æ€§æœç´¢è¦æ…¢ã€‚ä½†æ˜¯åœ¨æ‚¨åªæ’åºä¸€æ¬¡ç„¶åè¿›è¡Œå¤šæ¬¡æœç´¢çš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æœç´¢ä¼šèµ·åˆ°å¤§ä½œç”¨ã€‚ äºŒåˆ†æœç´¢çš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡å¯¹ï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>äºŒåˆ†æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-æ’å…¥æ’åº]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Insertion Sort ç›®æ ‡ï¼šæŠŠæ•°ç»„ä»ä½åˆ°é«˜ï¼ˆæˆ–ä»é«˜åˆ°ä½ï¼‰æ’åº æ‚¨å°†è·å¾—æŒ‰æ­£ç¡®çš„é¡ºåºæ’åˆ—ä¸€ç³»åˆ—æ•°å­—ã€‚æ’å…¥æ’åºç®—æ³•çš„å·¥ä½œåŸç†å¦‚ä¸‹: æŠŠä¸€ç³»åˆ—æ•°å­—æ”¾åœ¨ä¸€ä¸ªæœªæ’åºçš„å †é‡Œã€‚ ä»å †ä¸­æŒ‘é€‰ä¸€ä¸ªæ•°å­—ã€‚ ä½ é€‰æ‹©å“ªä¸€ä¸ªå¹¶ä¸é‡è¦ï¼Œä½†ä»å †é¡¶æŒ‘é€‰æ˜¯æœ€å®¹æ˜“ã€‚ æŠŠè¿™ä¸ªæ•°æ’å…¥ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ ä»æœªæ’åºå †ä¸­å†é€‰æ‹©ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†å…¶æ’å…¥ä¹‹å‰çš„æ•°ç»„ä¸­ã€‚ è¿™ä¸ªæ•°å­—åœ¨ç¬¬ä¸€ä¸ªæ•°å­—ä¹‹å‰æˆ–ä¹‹åï¼Œæ‰€ä»¥ç°åœ¨è¿™ä¸¤ä¸ªæ•°å­—è¢«æ’åºã€‚ å†ä»å †ä¸­é€‰æ‹©ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°æ•°ç»„ä¸­çš„æ­£ç¡®æ’åºä½ç½®ã€‚ ç»§ç»­è¿™æ ·åšï¼Œç›´åˆ°å †é‡Œæ²¡æœ‰æ•°å­—ã€‚ æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªç©ºå †å’Œä¸€ä¸ªæ’åºçš„æ•°ç»„ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™è¢«ç§°ä¸ºâ€œæ’å…¥â€æ’åºï¼Œå› ä¸ºä½ ä»å †ä¸­å–ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶æ’å…¥æ•°ç»„ä¸­çš„æ­£ç¡®æ’åºä½ç½®ã€‚ ä¾‹å­å‡è®¾è¿™è¾¹æœ‰éœ€è¦æ’åºçš„ä¸€äº›æ•°å­— [ 8, 3, 5, 4, 6 ]ã€‚ é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°å­—8ï¼Œç„¶åå°†å…¶æ’å…¥æ–°æ•°ç»„ä¸­ã€‚ æ–°æ•°ç»„æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥æ’å…¥å¾ˆå®¹æ˜“ã€‚ æ’åºçš„æ•°ç»„ç°åœ¨æ˜¯[8]ï¼Œå †æ˜¯[3,5,4,6]ã€‚ ä»å †ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæ•°å­—3ï¼Œç„¶åå°†å…¶æ’å…¥åˆ°å·²æ’åºçš„æ•°ç»„ä¸­ã€‚ 3åº”è¯¥åœ¨8ä¹‹å‰ï¼Œæ‰€ä»¥æ’åºçš„æ•°ç»„ç°åœ¨æ˜¯[3,8]ï¼Œè€Œå †è¢«ç¼©å‡ä¸º[5,4,6]ã€‚ ä»å †ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæ•°å­—5ï¼Œç„¶åå°†å…¶æ’å…¥åˆ°å·²æ’åºçš„æ•°ç»„ä¸­ã€‚ 5ä»‹äº3å’Œ8ä¹‹é—´ã€‚ æ’åºçš„æ•°ç»„æ˜¯[3,5,8]ï¼Œå †æ˜¯[4,6]ã€‚ é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ç›´åˆ°å †ä¸ºç©ºã€‚ åŸåœ°æ’åº è¯‘æ³¨ï¼šåŸåœ°æ’åºå°±æ˜¯æŒ‡åœ¨æ’åºè¿‡ç¨‹ä¸­ä¸ç”³è¯·å¤šä½™çš„å­˜å‚¨ç©ºé—´ï¼Œåªåˆ©ç”¨åŸæ¥å­˜å‚¨å¾…æ’æ•°æ®çš„å­˜å‚¨ç©ºé—´è¿›è¡Œæ¯”è¾ƒå’Œäº¤æ¢çš„æ•°æ®æ’åºã€‚åŒ…æ‹¬ï¼šå¸Œå°”æ’åºã€å†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å †æ’åºã€å¿«é€Ÿæ’åºã€‚ ä¸Šé¢çš„è§£é‡Šä½¿ä½ çœ‹èµ·æ¥éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼šä¸€ä¸ªç”¨äºå­˜æ”¾æœªæ’åºçš„å †ï¼Œå¦ä¸€ä¸ªç”¨äºå­˜æ”¾æŒ‰æ¬¡åºæ’å¥½çš„æ•°å­—ã€‚ ä½†æ‚¨å¯ä»¥æ‰§è¡ŒåŸåœ°æ’å…¥æ’åºï¼Œè€Œæ— éœ€åˆ›å»ºå•ç‹¬çš„æ•°ç»„ã€‚ æ‚¨åªéœ€è¿½è¸ªæ•°ç»„çš„å“ªä¸ªéƒ¨åˆ†å·²ç»æ’åºï¼Œå“ªä¸ªéƒ¨åˆ†æ˜¯æœªæ’åºã€‚ æœ€åˆï¼Œæ•°ç»„æ˜¯[8,3,5,4,6]ã€‚ |æ¡æ˜¾ç¤ºå·²æ’åºéƒ¨åˆ†çš„ç»“æŸä½ç½®å’Œå †çš„å¼€å§‹ä½ç½®ï¼š [| 8, 3, 5, 4, 6 ] è¿™è¡¨æ˜æ’åºçš„éƒ¨åˆ†æ˜¯ç©ºçš„ï¼Œå †å¼€å§‹äº8ã€‚ å¤„ç†å®Œç¬¬ä¸€ä¸ªæ•°å­—åï¼Œç»“æœä¸ºï¼š [ 8 | 3, 5, 4, 6 ] æ’å¥½åºçš„éƒ¨åˆ†æ˜¯[8]ï¼Œæœªæ’åºçš„å †æ˜¯[ 3, 5, 4, 6 ]ã€‚|æ¡å‘å³ç§»åŠ¨äº†ä¸€ä¸ªä½ç½®ã€‚ ä¸‹é¢æ˜¯æ’åºæœŸé—´æ•°ç»„å†…å®¹çš„å˜åŒ–è¿‡ç¨‹ï¼š 123456[| 8, 3, 5, 4, 6 ][ 8 | 3, 5, 4, 6 ][ 3, 8 | 5, 4, 6 ][ 3, 5, 8 | 4, 6 ][ 3, 4, 5, 8 | 6 ][ 3, 4, 5, 6, 8 |] æ¯ä¸€æ­¥ï¼Œ|æ¡å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚ å¦‚æ‚¨æ‰€è§ï¼Œæ•°ç»„çš„å¼€å§‹åˆ°|éƒ¨åˆ†æ€»æ˜¯æ’å¥½åºçš„ã€‚å †ç¼©å°ä¸€ä½ç½®ï¼Œæ’åºéƒ¨åˆ†å¢åŠ ä¸€ä½ç½®ï¼Œç›´åˆ°å †å˜ä¸ºç©ºçš„ï¼Œæ²¡æœ‰æ›´å¤šæœªæ’åºçš„æ•°å­—ä¸ºæ­¢ã€‚ æ€ä¹ˆæ’å…¥æ¯ä¸€æ­¥ï¼Œæ‚¨ä»æœªæ’åºå †ä¸­é€‰æ‹©æœ€é¡¶éƒ¨çš„æ•°å­—ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°æ•°ç»„çš„å·²æ’åºéƒ¨åˆ†ã€‚ ä½†å¿…é¡»å°†è¯¥æ•°å­—æ’å…¥é€‚å½“çš„ä½ç½®ï¼Œä»¥ä¾¿æ•°ç»„çš„ä»å¤´å¼€å§‹ä¿æŒæ’åºã€‚ è¿™æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿ å‡è®¾æˆ‘ä»¬å·²ç»å®Œæˆäº†å‰å‡ ä¸ªå…ƒç´ ï¼Œæ•°ç»„çœ‹èµ·æ¥åƒè¿™æ ·ï¼š [ 3, 5, 8 | 4, 6 ] è¦æ’åºçš„ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯4ã€‚ æˆ‘ä»¬éœ€è¦å°†å®ƒæ’å…¥åˆ°å·²ç»æ’å¥½åºçš„[3,5,8]ä¸­ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ï¼šæŸ¥çœ‹å‰ä¸€ä¸ªå…ƒç´ 8ã€‚ [ 3, 5, 8, 4 | 6 ] ^ å‰ä¸€ä¸ªå…ƒç´ æ¯”4å¤§å—ï¼Ÿ æ˜¯çš„ï¼Œæ‰€ä»¥4åº”è¯¥åœ¨8ä¹‹å‰ã€‚ æˆ‘ä»¬äº¤æ¢è¿™ä¸¤ä¸ªæ•°å­—å¾—åˆ°ï¼š [ 3, 5, 4, 8 | 6 ] &lt;--&gt; äº¤æ¢ è¿˜æ²¡æœ‰å®Œæˆã€‚ æ–°çš„å‰ä¸€ä¸ªå…ƒç´ 5ä¹Ÿå¤§äº4ã€‚ æˆ‘ä»¬è¿˜éœ€äº¤æ¢è¿™ä¸¤ä¸ªæ•°å­—ï¼š [ 3, 4, 5, 8 | 6 ] &lt;--&gt; äº¤æ¢ å†çœ‹ä¸€ä¸‹å‰é¢çš„å…ƒç´ ã€‚ 3å¤§äº4å—ï¼Ÿ ä¸å¤§äºï¼Œ è¿™æ„å‘³ç€æˆ‘ä»¬å®Œæˆäº†æ•°å­—4ä¿æŒæ’åºçš„æ’å…¥ã€‚ ä¸‹ä¸€èŠ‚å°†å¯¹æ’å…¥æ’åºç®—æ³•çš„å†…éƒ¨å¾ªç¯çš„è¿›è¡Œæè¿°ï¼Œé€šè¿‡äº¤æ¢æ•°å­—å°†æ•°å­—ä»å †çš„é¡¶éƒ¨æ’å…¥åˆ°å·²æ’åºçš„éƒ¨åˆ†ã€‚ ä»£ç ä¸‹é¢æ’å…¥æ’åºçš„Swiftå®ç°ï¼š 1234567891011func insertionSort(_ array: [Int]) -&gt; [Int] &#123; var a = array // 1 for x in 1..&lt;a.count &#123; // 2 var y = x while y &gt; 0 &amp;&amp; a[y] &lt; a[y - 1] &#123; // 3 a.swapAt(y - 1, y) y -= 1 &#125; &#125; return a&#125; ä»£ç åœ¨ playground é‡Œæµ‹è¯•ï¼š 12let list = [ 10, -1, 3, 9, 2, 27, 8, 5, 1, 3, 0, 26 ]insertionSort(list) ä»£ç å·¥ä½œåŸç†ï¼š å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„çš„æ‹·è´ã€‚å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä¿®æ”¹å‚æ•°arrayä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥è¿™æ˜¯éå¸¸å¿…è¦çš„ã€‚insertionSort() ä¼šè¿”å›ä¸€ä¸ªåŸå§‹æ•°ç»„çš„æ‹·è´ï¼Œå°±åƒSwiftå·²æ‹¥æœ‰çš„sort() æ–¹æ³•ä¸€æ ·ã€‚ åœ¨å‡½æ•°é‡Œæœ‰ä¸¤ä¸ªå¾ªç¯ï¼Œå¤–å¾ªç¯ä¾æ¬¡æŸ¥æ‰¾æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼›è¿™å°±æ˜¯ä»æ•°å­—å †ä¸­å–æœ€ä¸Šé¢çš„æ•°å­—çš„è¿‡ç¨‹ã€‚å˜é‡xæ˜¯æœ‰åºéƒ¨åˆ†ç»“æŸå’Œå †å¼€å§‹çš„ç´¢å¼•ï¼ˆä¹Ÿå°±æ˜¯ | ç¬¦å·çš„ä½ç½®ï¼‰ã€‚è¦è®°ä½çš„æ˜¯ï¼Œåœ¨ä»»ä½•æ—¶å€™ï¼Œä»0åˆ°xçš„ä½ç½®æ•°ç»„éƒ½æ˜¯æœ‰åºçš„ï¼Œå‰©ä¸‹çš„åˆ™æ˜¯æ— åºçš„ã€‚ å†…å¾ªç¯åˆ™ä» x ä½ç½®çš„å…ƒç´ å¼€å§‹æŸ¥æ‰¾ã€‚xæ˜¯å †é¡¶çš„å…ƒç´ ï¼Œå®ƒæœ‰å¯èƒ½æ¯”å‰é¢çš„æ‰€æœ‰å…ƒç´ éƒ½å°ã€‚å†…å¾ªç¯ä»æœ‰åºæ•°ç»„çš„åé¢å¼€å§‹å¾€å‰æŸ¥æ‰¾ã€‚æ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªå¤§çš„å…ƒç´ ï¼Œå°±äº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼Œç›´åˆ°å†…å±‚å¾ªç¯ç»“æŸï¼Œæ•°ç»„çš„å‰é¢éƒ¨åˆ†ä¾ç„¶æ˜¯æœ‰åºçš„ï¼Œæœ‰åºçš„å…ƒç´ ä¹Ÿå¢åŠ äº†ä¸€ä¸ªã€‚ æ³¨æ„ï¼š å¤–å±‚å¾ªç¯æ˜¯ä»1å¼€å§‹ï¼Œè€Œä¸æ˜¯0ã€‚ä»å †é¡¶å°†ç¬¬ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°æœ‰åºæ•°ç»„æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå¯ä»¥è·³è¿‡ã€‚ ä¸äº¤æ¢ä¸Šé¢çš„æ’å…¥æ’åºç®—æ³•å¯ä»¥å¾ˆå¥½çš„å®Œæˆä»»åŠ¡ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡ç§»é™¤å¯¹ swap() çš„è°ƒç”¨æ¥æå‡é€Ÿåº¦ã€‚ é€šè¿‡äº¤æ¢ä¸¤ä¸ªæ•°å­—æ¥è®©ä¸‹ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½®çš„ï¼š [ 3, 5, 8, 4 | 6 ] &lt;--&gt; swap [ 3, 5, 4, 8 | 6 ] &lt;--&gt; swap å¯ä»¥é€šè¿‡å°†å‰é¢çš„å…ƒç´ å¾€å³æŒªä¸€ä¸ªä½ç½®æ¥ä»£æ›¿å…ƒç´ çš„äº¤æ¢ï¼Œç„¶åå°†æ–°çš„æ•°å­—æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ã€‚ [ 3, 5, 8, 4 | 6 ] remember 4 * [ 3, 5, 8, 8 | 6 ] shift 8 to the right ---&gt; [ 3, 5, 5, 8 | 6 ] shift 5 to the right ---&gt; [ 3, 4, 5, 8 | 6 ] copy 4 into place * ä»£ç ï¼š 12345678910111213func insertionSort(_ array: [Int]) -&gt; [Int] &#123; var a = array for x in 1..&lt;a.count &#123; var y = x let temp = a[y] while y &gt; 0 &amp;&amp; temp &lt; a[y - 1] &#123; a[y] = a[y - 1] // 1 y -= 1 &#125; a[y] = temp // 2 &#125; return a&#125; //1 è¿™è¡Œä»£ç å°±æ˜¯å°†å‰ä¸€ä¸ªå…ƒç´ å¾€å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œåœ¨å†…å±‚å¾ªç¯ç»“æŸçš„æ—¶å€™ï¼Œ y å°±æ˜¯ æ’å…¥çš„æ•°å­— åœ¨æœ‰åºæ•°ç»„ä¸­çš„ä½ç½®ï¼Œ //2 è¿™è¡Œä»£ç å°±æ˜¯å°†æ•°å­—æ‹·è´åˆ°æ­£ç¡®çš„ä½ç½®ã€‚ æ³›å‹åŒ–å¦‚æœèƒ½æ’åºçš„ç±»å‹ä¸æ­¢æ•°å­—å°±æ›´å¥½äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿æ•°ç»„çš„æ•°æ®ç±»å‹æ³›å‹åŒ–ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªç”¨æˆ·æä¾›çš„å‡½æ•°ï¼ˆæˆ–é—­åŒ…ï¼‰æ¥æ‰§è¡Œæ¯”è¾ƒæ“ä½œã€‚è¿™åªè¦æ”¹å˜ä¸¤ä¸ªåœ°æ–¹ã€‚ å‡½æ•°ç­¾åå˜æˆï¼š è¯‘æ³¨ï¼šå‡½æ•°ç­¾åçš„è‹±æ–‡åŸæ–‡æ˜¯ function signatureï¼Œè€Œæˆ‘ä»¬å¸¸æ¥è§¦åˆ°æ˜¯ å‡½æ•°å£°æ˜ï¼ˆfunction declarationï¼‰ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µéƒ½æ˜¯æœ‰çš„ï¼Œæš‚ä¸”ä¸å»è¿½ç©¶å®ƒä»¬çš„åŒºåˆ«äº†ï¼Œæ­¤å¤„å°±è¯‘ä¸ºå‡½æ•°ç­¾åï¼Œåº”è¯¥ä¸å½±å“å¯¹ä¸‹é¢æ–‡ç« çš„ç†è§£ã€‚ 1func insertionSort&lt;T&gt;(_ array: [T], _ isOrderedBefore: (T, T) -&gt; Bool) -&gt; [T] &#123; æ•°ç»„æœ‰ä¸€ä¸ªç±»å‹ [T]ï¼Œ[T] æ˜¯æ³›å‹åŒ–çš„ä¸€ä¸ªå ä½ç±»å‹ã€‚ç°åœ¨ insertionSort() å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„æ•°ç»„ï¼Œä¸ç®¡å®ƒæ˜¯åŒ…å«æ•°å­—ã€å­—ç¬¦ä¸²æˆ–è€…å…¶å®ƒç±»å‹ã€‚ æ–°çš„å‚æ•° isOrderedBefore: (T, T) -&gt; Bool æ˜¯ä¸€ä¸ªæ¥æ”¶ä¸¤ä¸ª T å¯¹è±¡ç„¶åè¿”å›ä¸€ä¸ª Bool å€¼çš„æ–¹æ³•ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå¯¹è±¡å¤§äºç¬¬äºŒä¸ªï¼Œé‚£ä¹ˆè¿”å› trueï¼Œåä¹‹åˆ™è¿”å› falseã€‚è¿™ä¸ Swift å†…ç½®çš„ sort() æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚ å¦å¤–ä¸€ä¸ªå˜åŒ–å°±æ˜¯å†…å¾ªç¯ï¼Œç°åœ¨æ˜¯è¿™æ ·çš„ï¼š 1while y &gt; 0 &amp;&amp; isOrderedBefore(temp, a[y - 1]) &#123; temp &lt; a[y - 1]è¢« isOrderedBefore() æ›¿ä»£ï¼Œä¸ä»…å¯ä»¥æ¯”è¾ƒæ•°å­—ï¼Œè¿˜å¯ä»¥æ¯”è¾ƒå„ç§å¯¹è±¡äº†ã€‚ åœ¨ playground ä¸­æµ‹è¯•: 123let numbers = [ 10, -1, 3, 9, 2, 27, 8, 5, 1, 3, 0, 26 ]insertionSort(numbers, &lt;)insertionSort(numbers, &gt;) &lt; å’Œ &gt; å†³å®šæ’åºçš„é¡ºåºï¼Œåˆ†åˆ«ä»£è¡¨ä½åˆ°é«˜å’Œé«˜åˆ°ä½ã€‚ è¯‘æ³¨ï¼šå‚æ•°isOrderedBeforeå¯ä»¥ä½¿ç”¨&lt;æˆ–&gt;ï¼Œæ˜¯å› ä¸ºåœ¨Swiftä¸­è¿ç®—ç¬¦å®šä¹‰å°±ç±»ä¼¼(T, T) -&gt; Boolã€‚åœ¨Foundationä¸­å¯ä»¥çœ‹åˆ°ä¸åŒç±»å‹å®šä¹‰äº†è¿ç®—ç¬¦ï¼Œæ¯”å¦‚Decimalå°±å®šä¹‰äº†&lt;ï¼š public static func &lt; (lhs: Decimal, rhs: Decimal) -&gt; Boolã€‚Swiftæ–‡æ¡£ä»‹ç»äº†Custom Operatorså¯ä»¥å‚è€ƒã€‚ å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶å®ƒæ•°æ®ç±»å‹æ’åºå¦‚å­—ç¬¦ä¸²ï¼š 12let strings = [ "b", "a", "d", "c", "e" ]insertionSort(strings, &lt;) ä¹Ÿå¯ä»¥æ˜¯æ›´å¤æ‚çš„å¯¹è±¡ï¼š 12let objects = [ obj1, obj2, obj3, ... ]insertionSort(objects) &#123; $0.priority &lt; $1.priority &#125; é—­åŒ…å‘Šè¯‰ insertionSort() æ–¹æ³•ç”¨ priority å±æ€§æ¥è¿›è¡Œæ’åºã€‚ æ’å…¥æ’åºæ˜¯ä¸€ä¸ª ç¨³å®š çš„æ’åºç®—æ³•ã€‚å½“å…ƒç´ ç›¸åŒæ—¶ï¼Œæ’åºåä¾ç„¶ä¿æŒæ’åºä¹‹å‰çš„ç›¸å¯¹é¡ºåºï¼Œé‚£ä¹ˆè¿™ä¸ªæ’åºç®—æ³•å°±æ˜¯ ç¨³å®š çš„ã€‚å¯¹äºåƒæ•°å­—æˆ–è€…å­—ç¬¦ä¸²è¿™æ ·çš„ç®€å•ç±»å‹æ¥è¯´ï¼Œè¿™ä¸æ˜¯å¾ˆé‡è¦ã€‚ä½†æ˜¯å¯¹äºå¤æ‚çš„å¯¹è±¡æ¥è¯´ï¼Œè¿™å°±å¾ˆé‡è¦äº†ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ priorityï¼Œ ä¸ç®¡å®ƒä»¬å…¶ä»–çš„å±æ€§å¦‚ä½•ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½ä¸ä¼šäº¤æ¢ä½ç½®ã€‚ æ€§èƒ½å¦‚æœæ•°ç»„æ˜¯å·²ç»æ’å¥½åºçš„è¯ï¼Œæ’å…¥æ’åºæ˜¯éå¸¸å¿«é€Ÿçš„ã€‚è¿™å¬èµ·æ¥å¥½åƒå¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„æœç´¢ç®—æ³•éƒ½æ˜¯è¿™æ ·çš„ã€‚åœ¨å®é™…ä¸­ï¼Œæœ‰å¾ˆå¤šæ•°æ®ï¼ˆå¤§éƒ¨åˆ†ï¼Œå¯èƒ½ä¸æ˜¯å…¨éƒ¨ï¼‰æ˜¯å·²ç»æ’åºå¥½çš„ï¼Œæ’å…¥æ’åºåœ¨è¿™ç§æƒ…å†µä¸‹å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚ æ’å…¥æ’åºçš„æœ€å·®å’Œå¹³å‡æ€§èƒ½æ˜¯ O(n^2)ã€‚è¿™æ˜¯å› ä¸ºåœ¨å‡½æ•°é‡Œæœ‰ä¸¤ä¸ªåµŒå¥—çš„å¾ªç¯ã€‚å…¶ä»–å¦‚å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºçš„æ€§èƒ½åˆ™æ˜¯ O(n log n)ï¼Œåœ¨æœ‰å¤§é‡è¾“å…¥çš„æ—¶å€™ä¼šæ›´å¿«ã€‚ æ’å…¥æ’åºåœ¨å¯¹å°æ•°ç»„è¿›è¡Œæ’åºçš„æ—¶å€™å®é™…æ˜¯éå¸¸å¿«çš„ã€‚ä¸€äº›æ ‡å‡†åº“åœ¨æ•°æ®é‡å°äºæˆ–è€…ç­‰äº10çš„æ—¶å€™ä¼šä»å¿«é€Ÿæ’åºåˆ‡æ¢åˆ°æ’å…¥æ’åºã€‚ æˆ‘ä»¬åšäº†ä¸€ä¸ªé€Ÿåº¦æµ‹è¯•æ¥å¯¹æ¯”æˆ‘ä»¬çš„ insertionSort() å’Œ Swift å†…ç½®çš„ sort()ã€‚åœ¨å¤§æ¦‚æœ‰ 100 ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ï¼Œé€Ÿåº¦ä¸Šçš„å·®å¼‚éå¸¸å°ã€‚ç„¶åï¼Œå¦‚æœè¾“å…¥ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®é‡ï¼Œ O(n^2) é©¬ä¸Šå°±æ¯” O(n log n) çš„æ€§èƒ½ç³Ÿç³•å¤šäº†ï¼Œæ’å…¥æ’åºå·®å¾ˆå¤šã€‚ æ‰©å±•é˜…è¯»æ’å…¥æ’åºçš„ç»´åŸºç™¾ç§‘ ä½œè€…ï¼šMatthijs Hollemansç¿»è¯‘ï¼šAndy Ronæ ¡é˜Ÿï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>æ’å…¥æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-é˜Ÿåˆ—]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E9%98%9F%E5%88%97.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Queue é˜Ÿåˆ— è¿™ä¸ªè¯é¢˜å·²ç»æœ‰ä¸ªè¾…å¯¼æ–‡ç«  é˜Ÿåˆ—çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†åªèƒ½ä»é˜Ÿå°¾æ·»åŠ å…ƒç´ ï¼Œä»é˜Ÿé¦–ç§»é™¤å…ƒç´ ã€‚è¿™ä¿è¯äº†ç¬¬ä¸€ä¸ªå…¥é˜Ÿçš„å…ƒç´ æ€»æ˜¯ç¬¬ä¸€ä¸ªå‡ºé˜Ÿã€‚å…ˆåˆ°å…ˆå¾—ï¼ ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿåœ¨å¾ˆå¤šç®—æ³•çš„å®ç°ä¸­ï¼Œä½ å¯èƒ½éœ€è¦å°†æŸäº›å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶çš„åˆ—è¡¨ä¸­ï¼Œä¹‹åå†å°†å…¶å–å‡ºã€‚é€šå¸¸åŠ å…¥å’Œå–å‡ºå…ƒç´ çš„é¡ºåºéå¸¸é‡è¦ã€‚ é˜Ÿåˆ—å¯ä»¥ä¿è¯å…ƒç´ å­˜å…¥å’Œå–å‡ºçš„é¡ºåºæ˜¯å…ˆè¿›å…ˆå‡º(first-in first-out, FIFO)çš„ï¼Œç¬¬ä¸€ä¸ªå…¥é˜Ÿçš„å…ƒç´ æ€»æ˜¯ç¬¬ä¸€ä¸ªå‡ºé˜Ÿï¼Œå…¬å¹³åˆç†ï¼å¦å¤–ä¸€ä¸ªéå¸¸ç±»ä¼¼çš„æ•°æ®ç»“æ„æ˜¯æ ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªåè¿›å…ˆå‡º(last-in, first-out, LIFO)çš„ç»“æ„ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªæ•°å­—å…¥é˜Ÿï¼š 1queue.enqueue(10) é˜Ÿåˆ—ç°åœ¨ä¸º [ 10 ]ã€‚å†å°†ä¸‹ä¸€ä¸ªæ•°å­—å…¥é˜Ÿï¼š 1queue.enqueue(3) é˜Ÿåˆ—ç°åœ¨ä¸º [ 10, 3 ]ã€‚å†åŠ å…¥ä¸€ä¸ªæ•°å­—ï¼š 1queue.enqueue(57) é˜Ÿåˆ—ç°åœ¨ä¸º [ 10, 3, 57 ]ã€‚ç°åœ¨æˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå…ƒç´ å‡ºé˜Ÿï¼š 1queue.dequeue() è¿™æ¡è¯­å¥è¿”å›æ•°å­— 10ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬å…¥é˜Ÿçš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚é˜Ÿåˆ—ç°åœ¨æ˜¯ [ 3, 57 ]ã€‚å‰©ä¸‹çš„å…ƒç´ éƒ½å¾€å‰ç§»åŠ¨ä¸€ä½ã€‚ 1queue.dequeue() è¿™æ¡è¯­å¥è¿”å› 3ï¼Œä¸‹æ¬¡è°ƒç”¨ dequeue å°†è¿”å› 57ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œå‡ºé˜Ÿæ“ä½œå°†è¿”å› nilï¼Œåœ¨æœ‰äº›å®ç°ä¸­ï¼Œä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚ æ³¨æ„ï¼š é˜Ÿåˆ—å¹¶ä¸æ€»æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå¦‚æœåŠ å…¥å’Œåˆ é™¤å…ƒç´ çš„é¡ºåºæ— æ‰€è°“çš„è¯ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨æ ˆæ¥è¾¾åˆ°ç›®çš„ã€‚æ ˆæ›´åŠ ç®€å•å¿«é€Ÿã€‚ ä»£ç ä¸‹é¢ç»™å‡ºäº†ä¸€ä¸ªç®€å•ç²—æš´çš„é˜Ÿåˆ—å®ç°ã€‚å®ƒåªæ˜¯ç®€å•åœ°åŒ…è£…äº†ä¸€ä¸‹è‡ªå¸¦çš„æ•°ç»„ï¼Œå¹¶æä¾›äº†å…¥é˜Ÿ(enqueue)ã€å‡ºé˜Ÿ(dequeue)å’Œå–å¾—é˜Ÿé¦–å…ƒç´ (peek)ä¸‰ä¸ªæ“ä½œï¼š 123456789101112131415161718192021222324252627public struct Queue&lt;T&gt; &#123; fileprivate var array = [T]() public var isEmpty: Bool &#123; return array.isEmpty &#125; public var count: Int &#123; return array.count &#125; public mutating func enqueue(_ element: T) &#123; array.append(element) &#125; public mutating func dequeue() -&gt; T? &#123; if isEmpty &#123; return nil &#125; else &#123; return array.removeFirst() &#125; &#125; public var front: T? &#123; return array.first &#125;&#125; ä¸Šé¢å®ç°çš„é˜Ÿåˆ—åªæ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†å¹¶æ²¡æœ‰ä»»ä½•çš„ä¼˜åŒ–ã€‚ å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› ä¸ºåœ¨æ•°ç»„çš„å°¾éƒ¨æ·»åŠ å…ƒç´ åªéœ€è¦å›ºå®šçš„æ—¶é—´ï¼Œè·Ÿæ•°ç»„çš„å¤§å°æ— å…³ã€‚ ä½ å¯èƒ½ä¼šå¥½å¥‡ä¸ºä»€ä¹ˆåœ¨æ•°ç»„å°¾éƒ¨æ·»åŠ å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæˆ–è€…è¯´åªéœ€è¦å›ºå®šçš„æ—¶é—´ã€‚è¿™æ˜¯å› ä¸ºåœ¨ Swift çš„å†…éƒ¨å®ç°ä¸­ï¼Œæ•°ç»„çš„å°¾éƒ¨æ€»æ˜¯æœ‰ä¸€äº›é¢„è®¾çš„ç©ºé—´å¯ä¾›ä½¿ç”¨ã€‚å¦‚æœæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š 1234var queue = Queue&lt;String&gt;()queue.enqueue("Ada")queue.enqueue("Steve")queue.enqueue("Tim") åˆ™æ•°ç»„å¯èƒ½çœ‹èµ·æ¥æƒ³ä¸‹é¢è¿™æ · 1[ &quot;Ada&quot;, &quot;Steve&quot;, &quot;Tim&quot;, xxx, xxx, xxx ] xxx ä»£è¡¨å·²ç»ç”³è¯·ï¼Œä½†è¿˜æ²¡æœ‰ä½¿ç”¨çš„å†…å­˜ã€‚åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ å°±ä¼šç”¨åˆ°ä¸‹ä¸€å—æœªè¢«ä½¿ç”¨çš„å†…å­˜ï¼š 1[ &quot;Ada&quot;, &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] è¿™åªæ˜¯ç®€å•çš„æ‹·è´å†…å­˜çš„å·¥ä½œï¼Œåªéœ€è¦å›ºå®šçš„å¸¸é‡æ—¶é—´ã€‚ å½“ç„¶ï¼Œæ•°ç»„å°¾éƒ¨çš„æœªä½¿ç”¨å†…å­˜çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œå¦‚æœæœ€åä¸€å—æœªä½¿ç”¨å†…å­˜ä¹Ÿè¢«å ç”¨çš„æ—¶å€™ï¼Œå†æ·»åŠ å…ƒç´ ä¼šä½¿å¾—æ•°ç»„é‡æ–°è°ƒæ•´å¤§å°æ¥è·å–æ›´å¤šçš„ç©ºé—´ã€‚ é‡æ–°è°ƒæ•´çš„è¿‡ç¨‹åŒ…æ‹¬ç”³è¯·æ–°çš„å†…å­˜ï¼Œå°†å·²æœ‰æ•°æ®è¿ç§»åˆ°æ–°å†…å­˜ä¸­ã€‚è¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªè¾ƒæ…¢çš„æ“ä½œã€‚ä½†è€ƒè™‘åˆ°è¿™ç§æƒ…å†µå¹¶ä¸å¸¸è§ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯ O(1) çš„ï¼Œæˆ–è€…è¯´æ˜¯è¿‘ä¼¼ O(1) çš„ã€‚ ä½†å‡ºé˜Ÿæ“ä½œå°±æœ‰ç‚¹ä¸ä¸€æ ·äº†ã€‚å‡ºé˜Ÿæ“ä½œæ˜¯å°†æ•°ç»„å¤´éƒ¨çš„å…ƒç´ ç§»é™¤ï¼Œè€Œä¸æ˜¯å°¾éƒ¨ã€‚è¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ°¸è¿œéƒ½æ˜¯ O(n)ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´å†…å­˜çš„ç§»ä½æ“ä½œã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå°† &quot;Ada&quot; å‡ºé˜Ÿä¼šä½¿å¾— &quot;Steve&quot; æ¥æ›¿ &quot;Ada&quot; çš„ä½ç½®ï¼›&quot;Tim&quot; æ¥æ›¿ &quot;Steve&quot; çš„ä½ç½®ï¼›&quot;Grace&quot; æ¥æ›¿ &quot;Tim&quot; çš„ä½ç½®ï¼š å‡ºé˜Ÿå‰ [ &quot;Ada&quot;, &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] / / / / / / / / / / / / å‡ºé˜Ÿå [ &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx, xxx ] åœ¨å†…å­˜ä¸­ç§»åŠ¨è¿™äº›å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ°¸è¿œéƒ½æ˜¯ O(n)ï¼Œæ‰€ä»¥æˆ‘ä»¬å®ç°çš„ç®€å•é˜Ÿåˆ—å¯¹äºå…¥é˜Ÿæ“ä½œçš„æ•ˆç‡æ˜¯å¾ˆé«˜çš„ï¼Œä½†å¯¹äºå‡ºé˜Ÿæ“ä½œçš„æ•ˆç‡å´è¾ƒä¸ºä½ä¸‹ã€‚ æ›´åŠ é«˜æ•ˆçš„é˜Ÿåˆ—ä¸ºäº†è®©é˜Ÿåˆ—çš„å‡ºé˜Ÿæ“ä½œæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å’Œå…¥é˜Ÿæ‰€ç”¨çš„ç›¸åŒå°æŠ€å·§ï¼Œä¿ç•™ä¸€äº›é¢å¤–çš„ç©ºé—´ï¼Œåªä¸è¿‡è¿™æ¬¡æ˜¯åœ¨é˜Ÿé¦–è€Œä¸æ˜¯é˜Ÿå°¾ã€‚è¿™æ¬¡æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–ç å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œå› ä¸º Swift å†…å»ºæ•°ç»„å¹¶æ²¡æœ‰æä¾›è¿™ç§æœºåˆ¶ã€‚ æˆ‘ä»¬çš„æƒ³æ³•å¦‚ä¸‹ï¼šæ¯å½“æˆ‘ä»¬å°†ä¸€ä¸ªå…ƒç´ å‡ºé˜Ÿï¼Œæˆ‘ä»¬ä¸å†å°†å‰©ä¸‹çš„å…ƒç´ å‘å‰ç§»ä½ï¼ˆæ…¢ï¼‰ï¼Œè€Œæ˜¯å°†å…¶æ ‡è®°ä¸ºç©ºï¼ˆå¿«ï¼‰ã€‚åœ¨å°† &quot;Ada&quot; å‡ºé˜Ÿåï¼Œæ•°ç»„å¦‚ä¸‹ï¼š 1[ xxx, &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] &quot;Steve&quot; å‡ºé˜Ÿåï¼Œæ•°ç»„å¦‚ä¸‹ï¼š 1[ xxx, xxx, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] è¿™äº›åœ¨å‰ç«¯ç©ºå‡ºæ¥çš„ä½å­æ°¸è¿œéƒ½ä¸ä¼šå†æ¬¡ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™æ˜¯äº›è¢«æµªè´¹çš„ç©ºé—´ã€‚è§£å†³æ–¹æ³•æ˜¯å°†å‰©ä¸‹çš„å…ƒç´ å¾€å‰ç§»åŠ¨æ¥å¡«è¡¥è¿™äº›ç©ºä½ï¼š 1[ &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx, xxx, xxx ] è¿™å°±éœ€è¦ç§»åŠ¨å†…å­˜ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ª O(n) æ“ä½œï¼Œä½†å› ä¸ºè¿™ä¸ªæ“ä½œåªæ˜¯å¶å°”å‘ç”Ÿï¼Œæ‰€ä»¥å‡ºé˜Ÿæ“ä½œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1) ä¸‹é¢ç»™å‡ºäº†æ”¹è¿›ç‰ˆçš„é˜Ÿåˆ—çš„æ—¶é—´æ–¹å¼ï¼š 123456789101112131415161718192021222324252627282930313233343536373839public struct Queue&lt;T&gt; &#123; fileprivate var array = [T?]() fileprivate var head = 0 public var isEmpty: Bool &#123; return count == 0 &#125; public var count: Int &#123; return array.count - head &#125; public mutating func enqueue(_ element: T) &#123; array.append(element) &#125; public mutating func dequeue() -&gt; T? &#123; guard head &lt; array.count, let element = array[head] else &#123; return nil &#125; array[head] = nil head += 1 let percentage = Double(head)/Double(array.count) if array.count &gt; 50 &amp;&amp; percentage &gt; 0.25 &#123; array.removeFirst(head) head = 0 &#125; return element &#125; public var front: T? &#123; if isEmpty &#123; return nil &#125; else &#123; return array[head] &#125; &#125;&#125; ç°åœ¨æ•°ç»„å­˜å‚¨çš„å…ƒç´ ç±»å‹æ˜¯ T?ï¼Œè€Œä¸æ˜¯å…ˆå‰çš„ Tï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦æŸç§æ–¹å¼æ¥å°†æ•°ç»„çš„å…ƒç´ æ ‡è®°ä¸ºç©ºã€‚head å˜é‡ç”¨äºå­˜å‚¨é˜Ÿåˆ—é¦–å…ƒç´ çš„ä¸‹æ ‡å€¼ã€‚ ç»å¤§å¤šæ•°çš„æ”¹è¿›éƒ½æ˜¯é’ˆå¯¹ dequeue() å‡½æ•°ï¼Œåœ¨å°†é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿæ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆå°† array[head] è®¾ç½®ä¸º nil æ¥å°†è¿™ä¸ªå…ƒç´ ä»æ•°ç»„ä¸­ç§»é™¤ã€‚ç„¶åå°† head çš„å€¼åŠ ä¸€ï¼Œä½¿å¾—ä¸‹ä¸€ä¸ªå…ƒç´ å˜æˆæ–°çš„é˜Ÿé¦–ã€‚ æ•°ç»„ä»è¿™æ ·ï¼š 12[ &quot;Ada&quot;, &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] head å˜æˆè¿™æ ·ï¼š 12[ xxx, &quot;Steve&quot;, &quot;Tim&quot;, &quot;Grace&quot;, xxx, xxx ] head è¿™å°±åƒåœ¨æŸä¸ªè¶…å¸‚ï¼Œåœ¨é‚£é‡Œæ’é˜Ÿç»“è´¦çš„äººä¿æŒä¸åŠ¨ï¼Œè€Œæ”¶é“¶å‘˜ä»å¤´å¾€é˜Ÿå°¾ç§»åŠ¨æ¥æŒ¨ä¸ªç»“è´¦ã€‚ å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ä»ä¸ç§»é™¤é˜Ÿé¦–çš„ç©ºä½ï¼Œéšç€ä¸æ–­åœ°å…¥é˜Ÿå’Œå‡ºé˜Ÿï¼Œé˜Ÿåˆ—æ‰€å ç©ºé—´å°†ä¸æ–­å¢é•¿ã€‚ä¸ºäº†å‘¨æœŸæ€§åœ°æ¸…ç†æ— ç”¨ç©ºé—´ï¼Œæˆ‘ä»¬ç¼–å†™äº†å¦‚ä¸‹ä»£ç ï¼š 12345let percentage = Double(head)/Double(array.count)if array.count &gt; 50 &amp;&amp; percentage &gt; 0.25 &#123; array.removeFirst(head) head = 0&#125; è¿™æ®µä»£ç è®¡ç®—äº†é˜Ÿé¦–ç©ºä½™çš„å…ƒç´ å æ•°ç»„æ€»å…ƒç´ çš„ç™¾åˆ†æ¯”ï¼Œå¦‚æœç©ºä½™å…ƒç´ è¶…è¿‡ 25%ï¼Œæˆ‘ä»¬å°±è¿›è¡Œä¸€æ³¢æ¸…ç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœé˜Ÿåˆ—çš„é•¿åº¦è¿‡å°ï¼Œæˆ‘ä»¬ä¹Ÿä¸æƒ³é¢‘ç¹åœ°æ¸…ç†ç©ºé—´ï¼Œæ‰€ä»¥åœ¨æ¸…ç†ç©ºé—´ä¹‹å‰ï¼Œé˜Ÿåˆ—ä¸­è‡³å°‘è¦æœ‰ 50 ä¸ªå…ƒç´ ã€‚ æ³¨æ„ï¼š 50è¿™ä¸ªæ•°å­—åªæ˜¯æˆ‘å‡­ç©ºæé€ çš„ä¸€ä¸ªæ•°å­—ï¼Œåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œä½ åº”è¯¥æ ¹æ®é¡¹ç›®æœ¬èº«æ¥é€‰å®šä¸€ä¸ªåˆæƒ…åˆç†çš„å€¼ã€‚ åœ¨ Playground ä¸­æµ‹è¯•ï¼š 1234567891011121314151617181920var q = Queue&lt;String&gt;()q.array // [] empty arrayq.enqueue("Ada")q.enqueue("Steve")q.enqueue("Tim")q.array // [&#123;Some "Ada"&#125;, &#123;Some "Steve"&#125;, &#123;Some "Tim"&#125;]q.count // 3q.dequeue() // "Ada"q.array // [nil, &#123;Some "Steve"&#125;, &#123;Some "Tim"&#125;]q.count // 2q.dequeue() // "Steve"q.array // [nil, nil, &#123;Some "Tim"&#125;]q.count // 1q.enqueue("Grace")q.array // [nil, nil, &#123;Some "Tim"&#125;, &#123;Some "Grace"&#125;]q.count // 2 ä¸ºäº†æµ‹è¯•é˜Ÿåˆ—çš„è‡ªåŠ¨è°ƒæ•´ç‰¹æ€§ï¼Œå°†ä¸‹é¢è¿™æ®µä»£ç ï¼š 1if array.count &gt; 50 &amp;&amp; percentage &gt; 0.25 &#123; æ›¿æ¢ä¸ºï¼š 1if head &gt; 2 &#123; ç°åœ¨ï¼Œå¦‚æœä½ å†æ¬¡æ‰§è¡Œå‡ºé˜Ÿæ“ä½œï¼Œæ•°ç»„å°†çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š 123q.dequeue() // "Tim"q.array // [&#123;Some "Grace"&#125;]q.count // 1 åœ¨æ•°ç»„å‰é¢çš„ nil å·²ç»è¢«ç§»é™¤äº†ï¼Œæ•°ç»„æœ¬èº«ä¹Ÿæ²¡æœ‰ç©ºé—´æµªè´¹äº†ã€‚æ–°ç‰ˆæœ¬çš„é˜Ÿåˆ—å®ç°å¹¶æ²¡æœ‰æ¯”åˆç‰ˆå¤æ‚å¾ˆå¤šï¼Œä½†ç°åœ¨å‡ºé˜Ÿæ“ä½œçš„å¤æ‚åº¦å·²ç»ä»å½“åˆçš„ O(n) å˜ä¸ºäº†ç°åœ¨çš„ O(1)ï¼Œåªæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨æ•°ç»„çš„ä½¿ç”¨ç­–ç•¥ä¸Šè€äº†ä¸€ç‚¹å°å¿ƒæœºã€‚ æ‰©å±•é˜…è¯»äº‹å®ä¸Šï¼Œé˜Ÿåˆ—è¿˜æœ‰å¾ˆå¤šç§å…¶ä»–çš„å®ç°æ–¹å¼ï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨é“¾è¡¨ã€ç¯å½¢ç¼“å†²åŒºæˆ–æ˜¯å †æ¥å®ç°ã€‚ é˜Ÿåˆ—æœ‰å¾ˆå¤šå˜ä½“ï¼ŒåŒ…æ‹¬åŒç«¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªä¸¤ç«¯éƒ½å¯ä»¥å‡ºé˜Ÿå’Œå…¥é˜Ÿçš„é˜Ÿåˆ—ï¼›ä¼˜å…ˆé˜Ÿåˆ—ï¼Œä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ï¼Œæœ€é‡è¦çš„å…ƒç´ æ’åœ¨é˜Ÿé¦–ã€‚ ä½œè€…ï¼šMatthijs Hollemansè¯‘è€…ï¼šKSCOæ ¡é˜Ÿï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-æ ˆ]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E6%A0%88.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚ğŸ™andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå¦‚å‘ç°é”™è¯¯æˆ–ç¿»è¯‘ä¸å¦¥ï¼Œè¯·æŒ‡æ­£ï¼Œæ¬¢è¿pull requestã€‚ä¹Ÿæ¬¢è¿æœ‰å…´è¶£ã€æœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘å’Œå­¦ä¹ ğŸ¤“ã€‚å½“ç„¶ä¹Ÿæ¬¢è¿åŠ â­ï¸ï¼ŒğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤¨ğŸ¤ªã€‚æœ¬æ–‡çš„ç¿»è¯‘åŸæ–‡å’Œä»£ç å¯ä»¥æŸ¥çœ‹ğŸ™swift-algorithm-club-cn/Stack è¿™ä¸ªè¯é¢˜å·²ç»æœ‰ä¸ªè¾…å¯¼æ–‡ç«  æ ˆç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯é™åˆ¶äº†å­˜å–æ“ä½œçš„çµæ´»æ€§ã€‚æ ˆåªå…è®¸ä½¿ç”¨è€…ä»æ ˆé¡¶ å‹å…¥(push) å…ƒç´ ï¼›ä»æ ˆé¡¶ å¼¹å‡º(pop) å…ƒç´ ï¼›å–å¾—(peek) æ ˆé¡¶å…ƒç´ ï¼Œä½†ä¸å¼¹å‡ºã€‚ è¿™æ ·çš„é™åˆ¶æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿåœ¨å¾ˆå¤šç®—æ³•çš„å®ç°ä¸­ï¼Œä½ å¯èƒ½éœ€è¦å°†æŸäº›å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶çš„åˆ—è¡¨ä¸­ï¼Œä¹‹åå†å°†å…¶å–å‡ºã€‚é€šå¸¸åŠ å…¥å’Œå–å‡ºå…ƒç´ çš„é¡ºåºéå¸¸é‡è¦ã€‚ æ ˆå¯ä»¥ä¿è¯å…ƒç´ å­˜å…¥å’Œå–å‡ºçš„é¡ºåºæ˜¯åè¿›å…ˆå‡º(last-in first-out, LIFO)çš„ã€‚æ ˆä¸­å¼¹å‡ºçš„å…ƒç´ æ€»æ˜¯ä½ æœ€åæ”¾è¿›å»çš„é‚£ä¸ªã€‚å¦å¤–ä¸€ä¸ªéå¸¸ç±»ä¼¼çš„æ•°æ®ç»“æ„æ˜¯é˜Ÿåˆ—ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡º(first-in, first-out, FIFO)çš„ç»“æ„ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬å…ˆå°†ä¸€ä¸ªæ•°å­—å‹å…¥æ ˆä¸­ï¼š 1stack.push(10) æ ˆç°åœ¨æ˜¯ [10]ã€‚å‹å…¥ä¸‹ä¸€ä¸ªæ•°å­—ï¼š 1stack.push(3) æ ˆç°åœ¨æ˜¯ [10, 3]ã€‚å†å‹å…¥ä¸€ä¸ªæ•°å­—ï¼š 1stack.push(57) æ ˆç°åœ¨æ˜¯ [10, 3, 57]ã€‚ç°åœ¨æŠŠæ ˆé¡¶çš„æ•°å­—å¼¹å‡ºæ¥ï¼š 1stack.pop() è¿™è¡Œä»£ç è¿”å› 57ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬æœ€åå‹å…¥çš„å…ƒç´ ã€‚ç°åœ¨æ ˆåˆå˜æˆäº† [10, 3]ã€‚ 1stack.pop() è¿™è¡Œä»£ç è¿”å› 3ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœæ ˆç©ºäº†ï¼Œå¼¹æ ˆæ“ä½œå°†è¿”å› nilï¼Œåœ¨æœ‰äº›å®ç°ä¸­ï¼Œä¼šè§¦å‘ä¸€ä¸ª stack underflow é”™è¯¯æ¶ˆæ¯ã€‚ æ ˆåœ¨ Swift ä¸­çš„å®ç°éå¸¸å®¹æ˜“ã€‚åªéœ€è¦åŒ…è£…ä¸€ä¸‹è‡ªå¸¦çš„æ•°ç»„ï¼Œå°†å­˜å–åŠŸèƒ½é™åˆ¶ä¸º popã€push å’Œ æŸ¥çœ‹æ ˆçš„é¡¶éƒ¨å…ƒç´ ã€‚ 1234567891011121314151617181920212223public struct Stack&lt;T&gt; &#123; fileprivate var array = [T]() public var isEmpty: Bool &#123; return array.isEmpty &#125; public var count: Int &#123; return array.count &#125; public mutating func push(_ element: T) &#123; array.append(element) &#125; public mutating func pop() -&gt; T? &#123; return array.popLast() &#125; public var top: T? &#123; return array.last &#125;&#125; æ³¨æ„åˆ°ï¼Œå‹æ ˆæ“ä½œæ˜¯å°†æ–°å…ƒç´ å‹å…¥æ•°ç»„çš„å°¾éƒ¨ï¼Œè€Œä¸æ˜¯å¤´éƒ¨ã€‚åœ¨æ•°ç»„çš„å¤´éƒ¨æ’å…¥å…ƒç´ æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶çš„æ“ä½œï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œå› ä¸ºéœ€è¦å°†ç°æœ‰å…ƒç´ å¾€åç§»ä½ä¸ºæ–°å…ƒç´ è…¾å‡ºç©ºé—´ã€‚è€Œåœ¨å°¾éƒ¨æ’å…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼›æ— è®ºæ•°ç»„æœ‰å¤šå°‘å…ƒç´ ï¼Œè¿™ä¸ªæ“ä½œæ‰€æ¶ˆè€—çš„æ—¶é—´éƒ½æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚ å…³äºæ ˆçš„æœ‰è¶£çŸ¥è¯†ï¼šæ¯æ¬¡ä½ è°ƒç”¨å‡½æ•°æˆ–æ–¹æ³•ï¼ŒCPUéƒ½ä¼šå°†å‡½æ•°è¿”å›åœ°å€å‹å…¥åˆ°è¿è¡Œæ ˆä¸­ã€‚å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œç»“æŸçš„æ—¶å€™ï¼ŒCPUå°†è¿”å›åœ°å€ä»æ ˆä¸­å–å‡ºï¼Œå¹¶æ®æ­¤è¿”å›åˆ°å‡½æ•°è¢«è°ƒç”¨çš„ä½ç½®ã€‚æ‰€ä»¥ï¼Œå¦‚æœä¸æ–­åœ°è°ƒç”¨å¤ªå¤šçš„å‡½æ•°(ä¾‹å¦‚æ­»é€’å½’å‡½æ•°)ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªæ‰€è°“çš„â€œæ ˆæº¢å‡º(stack overflow)â€ é”™è¯¯ï¼Œå› ä¸ºCPUè¿è¡Œæ ˆæ²¡æœ‰ç©ºé—´äº†ã€‚ ä½œè€…ï¼šMatthijs Hollemansè¯‘è€…ï¼šKSCOæ ¡é˜Ÿï¼šAndy Ron]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šæ‹–å»¶å¿ƒç†å­¦ã€‹â€”â€”è®¤è¯†æ‹–å»¶ï¼Œæ‰¾åˆ°åº”å¯¹ç­–ç•¥]]></title>
    <url>%2F2018%2F%E6%8B%96%E5%BB%B6%E5%BF%83%E7%90%86%E5%AD%A6.html</url>
    <content type="text"><![CDATA[åˆæ¬¡é˜…è¯»æ—¶é—´ï¼š2016.7 ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦ç®€Â·åšå…‹å’Œè±è¯ºæ‹‰Â·è¢å¥¹ä»¬ä¸¤äººæ˜¯å¿ƒç†å­¦åšå£«ã€ç¾å›½åŠ åˆ©ç¦å°¼äºšå¤§å­¦çš„èµ„æ·±å¿ƒç†å’¨è¯¢å¸ˆã€‚ ä»1979å¹´å¼€å§‹å°±ä¸ºå­¦ç”Ÿä¸­çš„æ‹–å»¶è€…åˆ›è®¾äº†ç¬¬ä¸€ä¸ªå›¢ä½“æ²»ç–—è¯¾ç¨‹ï¼Œæ›¾ç»å‡ºç°åœ¨ã€Šå¥¥æ™®æ‹‰ã€‹å’Œã€Š20/20ã€‹ç­‰ç”µè§†èŠ‚ç›®ä¸­ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ã€Šçº½çº¦æ—¶æŠ¥ã€‹ã€ã€Šä»Šæ—¥ç¾å›½ã€‹ã€ã€Šæ´›æ‰çŸ¶æ—¶æŠ¥ã€‹ã€ã€Šäººç‰©ã€‹å’Œã€Šå½“ä»£å¿ƒç†å­¦ã€‹ç­‰å‡ºç‰ˆç‰©çš„ä¸“è®¿å¯¹è±¡ã€‚ ä¸€ç›´è‡´åŠ›äºä¸ºå…¨ç¾å›½çš„å­¦ç”Ÿã€å…¬å¸ç»„ç»‡å’Œå…¬ä¼—å›¢ä½“æä¾›æ²»ç–—çš„å¿ƒç†å·¥ä½œåŠå’Œä¸“é¢˜æ¼”è®²æ–¹é¢çš„æœåŠ¡ï¼Œç»ˆå¹´æ´»è·ƒåœ¨ä¼¯å…‹åˆ©ã€æ–¯å¦ç¦å¤§å­¦çš„è®²å›ã€‚ ã€Šæ‹–å»¶å¿ƒç†å­¦ã€‹ ï¼Œå‰¯æ ‡é¢˜: å‘ä¸ç”Ÿä¿±æ¥çš„è¡Œä¸ºé¡½ç—‡å®£æˆ˜ï¼ŒåŸä½œå: Procrastination: Why You Do It, What To Do About It Nowã€‚ æ‹–å»¶æ˜¯æ™®éå­˜åœ¨çš„ï¼Œä»æˆ‘é˜…è¯»æœ¬ä¹¦çš„è¿‡ç¨‹ä¸­ä¹Ÿèƒ½ä½“ä¼šåˆ°ã€‚æˆ‘ä»¬éœ€è¦è®¤è¯†æ‹–å»¶ï¼ŒçŸ¥é“å®ƒèƒŒååŸå› ï¼Œæ‰¾åˆ°åº”å¯¹ç­–ç•¥ï¼Œç„¶åå®Œå–„è‡ªæˆ‘ã€‚æœ¬ä¹¦éå¸¸è¯¦ç»†çš„åˆ†æäº†æ‹–å»¶çš„æ–¹æ–¹é¢é¢ã€‚ å†…å®¹åºè¨€ æ‹–å»¶ä»æ ¹æœ¬ä¸Šæ¥è¯´å¹¶ä¸æ˜¯ä¸€ä¸ªæ—¶é—´ç®¡ç†æ–¹é¢çš„é—®é¢˜ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªé“å¾·é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªå¤æ‚çš„å¿ƒç†é—®é¢˜ æ‹–å»¶çš„é—®é¢˜æ˜¯ä¸€ä¸ªäººè·Ÿè‡ªèº«å¦‚ä½•ç›¸å¤„çš„é—®é¢˜ å¾ˆå¤šæ—¶å€™å¯¹ä¸€äº›äº‹æƒ…å¼ƒä¹‹ä¸ç†åè€Œå¯¹ä½ æœ€ä¸ºæœ‰åˆ© å½“æˆ‘ä»¬æŒ‰ç…§è‡ªå·±çœŸå®çš„æ ·å­è€Œä¸æ˜¯æŒ‰ç…§è‡ªå·±å¸Œæœ›çš„æ ·å­æ¥æ¥å—è‡ªå·±çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰èƒ½ä»¥æœ€æœ‰åˆ©äºæˆ‘ä»¬çš„æ–¹å¼æ¥é‡‡å–è¡ŒåŠ¨ï¼Œè€Œä¸æ˜¯ç”Ÿæ´»åœ¨æ‹–å»¶çš„æ— è¾¹é˜´å½±ä¹‹ä¸‹ã€‚ äº†è§£ä½ è‡ªå·± â€œæ‹–å»¶å°±åƒè’²å…¬è‹±ã€‚ä½ æŠŠå®ƒæ‹”æ‰ï¼Œä»¥ä¸ºå®ƒä¸ä¼šå†é•¿å‡ºæ¥äº†ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒçš„æ ¹åŸ‹è—å¾—å¾ˆæ·±ï¼Œå¾ˆå¿«åˆé•¿å‡ºæ¥äº†ã€‚â€ æ‹–å»¶çš„æ ¹æº æ¶‰åŠå†…å¿ƒæ„Ÿå—ã€ææƒ§ã€å¸Œæœ›ã€è®°å¿†ã€æ¢¦æƒ³ã€æ€€ç–‘ä»¥åŠå‹åŠ› æ‹–å»¶è€…ä¸æ—¶é—´çš„çº è‘› â€œæœŸæœ›å¼æ€ç»´â€ åœ¨æ‚ä¹±æ— ç« å’Œæ‹–æ‹–æ‹‰æ‹‰èƒŒåï¼Œå¤§å¤šæ•°æ‹–å»¶è€…å…¶å®æ˜¯åœ¨å®³æ€•ä»–ä»¬è‡ªå·±æ— æ³•åœ¨æ ¹æœ¬ä¸Šè¢«äººæ¥å—ã€‚ é¢å¯¹è‡ªå·±å¯¹å¤±è´¥çš„ææƒ§ï¼Œå¯¹æˆåŠŸçš„ææƒ§ï¼Œå¯¹å—æ§åˆ¶çš„ææƒ§ï¼Œä»¥åŠå¯¹äº²è¿‘å’Œç–è¿œçš„ææƒ§ï¼Œå› ä¸ºæˆ‘ä»¬ç›¸ä¿¡å½“ä½ äº†è§£äº†è‡ªå·±çš„æ„Ÿå—ç©¶ç«Ÿæ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆè‡ªå·±ä¼šæœ‰è¿™æ ·çš„æ„Ÿå—æ—¶ï¼Œä½ å°±ä¼šæœ‰æœ›å˜å¾—æ›´è‡ªä¿¡ï¼Œæ›´è¸å®ï¼Œä¹Ÿæ›´è‡ªåœ¨ï¼Œè¿™æ ·ä½ æ‰èƒ½æ‘†è„±æ‹–å»¶ï¼Œå¤§æ­¥å‘å‰ã€‚ æ‹–å»¶vsè¡Œä¸ºä¸€ã€ è´¨ç–‘æ‹–å»¶ï¼šæ˜¯å¯æ¶çš„åä¹ æƒ¯è¿˜æ˜¯åº”å¾—çš„æŠ¥åº” å¦‚æœèº«å¤„ç°ä»£ç¤¾ä¼šæ˜¯æ‹–å»¶å”¯ä¸€çš„åŸå› çš„è¯ï¼Œé‚£ä¹ˆæ¯ä¸ªäººå°±éƒ½æˆäº†æ‹–å»¶è€…äº†ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººåœ¨é¢å¯¹ç¤¾ä¼šå‹åŠ›çš„æ—¶å€™å‘ˆç°å‡ºå…¶ä»–ä¸€äº›è‹¦æ¼çš„ç—‡çŠ¶ï¼Œæ¯”å¦‚å·¥ä½œç‹‚ã€æŠ‘éƒç—‡ã€é…—é…’ã€å¸æ¯’ä¸Šç˜¾å’Œææƒ§ç—‡ï¼›åŒæ—¶ä¹Ÿæœ‰äººåœ¨å…¨å¤©å€™çš„å‹åŠ›ä¸‹å´èƒ½èŒå£®æˆé•¿ã€‚ ä¸ºäº†ç†è§£ä½ ä¸ºä»€ä¹ˆä¼šé€‰æ‹©æ‹–å»¶ä½œä¸ºä½ åº”å¯¹å‹åŠ›çš„åŸºæœ¬ç­–ç•¥ï¼Œæˆ‘ä»¬å¿…é¡»åˆ°ä½ ä¸ªäººç”Ÿæ´»ä¸­å¯»æ‰¾åŸå› ã€‚ ä½ è¿˜è®°å¾—è‡ªå·±çš„ç¬¬ä¸€æ¬¡æ‹–å»¶å—ï¼Ÿé‚£æ˜¯åœ¨ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç¯å¢ƒä¸‹å‘ç”Ÿçš„ï¼Ÿä½ æ˜¯åœ¨å­¦ä¸šä¸Šè¿˜æ˜¯åœ¨çˆ¶æ¯å«ä½ åšçš„äº‹æƒ…ä¸Šæ‹–æ‹–æ‹‰æ‹‰ï¼Ÿé‚£æ—¶ä½ å¤šå¤§ï¼Ÿæ˜¯åœ¨è¯»å°å­¦è¿˜æ˜¯ä¸­å­¦â€¦â€¦ï¼Ÿç”šè‡³æ›´æ—©ï¼Ÿåæ¥ç»“æœæ€æ ·ï¼Ÿä½ å½“æ—¶çš„æ„Ÿå—åˆæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬è¿™é‡Œæœ‰ä¸€äº›æ‹–å»¶è€…å‘æˆ‘ä»¬æè¿°ä»–ä»¬æ—©æœŸè®°å¿†çš„ä¾‹å­ï¼š â€æˆ‘ä»¬ä¸€ç›´æ¨è¿Ÿæˆ‘ä»¬çŸ¥é“æœ€ç»ˆæ— æ³•é€ƒé¿çš„äº‹æƒ…ï¼Œè¿™æ ·çš„è ¢è¡Œæ˜¯ä¸€ä¸ªæ™®éçš„äººæ€§å¼±ç‚¹ï¼Œå®ƒæˆ–å¤šæˆ–å°‘éƒ½ç›˜è¸åœ¨æ¯ä¸ªäººçš„å¿ƒçµä¹‹ä¸­ã€‚â€œ æŒ‰æ—¶å®Œæˆæ¯ä»¶äº‹æƒ…æ˜¯ä¸å¯èƒ½çš„ã€‚é¢å¯¹æ— æ³•æŠŠæ¯ä»¶äº‹éƒ½åšå¥½çš„æƒ…å†µï¼Œé‚£äº›æ¥å—è‡ªå·±èƒ½åŠ›æœ‰é™è¿™ä¸ªäº‹å®çš„äººä¸å¤ªä¼šä¸ºæ­¤è¿‡äºçƒ¦æ¼ æ‹–å»¶ç»™æ‹–å»¶è€…é€ æˆçš„å†…åœ¨åæœå°±æ˜¯ä»–ä»¬å¿…é¡»æ‰¿å—æŸäº›å†…åœ¨æƒ…ç»ªçš„æŠ˜ç£¨ï¼Œä»æ¼æ€’ã€åæ‚”åˆ°å¼ºçƒˆçš„è‡ªæˆ‘è°´è´£å’Œç»æœ›ã€‚ å¤„äºä¸åœçš„å“€å¹ä¹‹ä¸­ ä½ åˆ›é€ ä¸€ç§äº‹æƒ…ä¸æ–­å–å¾—è¿›å±•çš„å‡è±¡ å½“é‚£ä¸ªä»»åŠ¡æœ€ç»ˆæ— è®ºæ˜¯è¢«æ”¾å¼ƒäº†è¿˜æ˜¯è¢«å®Œæˆäº†ï¼Œæ‹–å»¶è€…é€šå¸¸ä¼šå› ä¸ºå¦‚é‡Šé‡è´Ÿå’Œç²¾ç–²åŠ›ç«­è€Œè¿‘ä¹å´©æºƒï¼Œè¿™å‡ ä¹å˜æˆäº†ä¸€æ¬¡ä¸¥å³»çš„è€ƒéªŒï¼Œè™½ç„¶å†ç»ç£¨éš¾ï¼Œä½†æ˜¯æ¯•ç«Ÿå·²ç»è¿‡å»ã€‚ å³ä¾¿åœ¨ç¦»å¼€å­¦æ ¡å¾ˆå¤šå¹´ä¹‹åï¼Œå¾ˆå¤šæˆå¹´äººè¿˜æ˜¯ä¼šä»¥ä»–ä»¬å­©ææ—¶è·å¾—çš„å¤´è¡”æ¥è®¤è¯†è‡ªå·±ã€‚ æ‹–å»¶å¾ˆå¯èƒ½æˆäº†ä»–ä»¬æ©ç›–è‡ªå·±å¼±é¡¹çš„ä¸€ä¸ªå¿ƒç†ç­–ç•¥ æŒ‰ç…§åˆ«äººçš„è§„å®šåšäº‹æ„å‘³ç€å±ˆæœå’Œå¤±å»æŒæ§ã€‚ è™½ç„¶è¦å¿å—è‡ªè´£ã€è‡ªè½»å’Œå¯¹è‡ªå·±çš„åæ„Ÿæ˜¯ç›¸å½“ç—›è‹¦çš„ï¼Œä½†æ˜¯æ¯”èµ·å»çœ‹æ¸…çœŸå®çš„è‡ªæˆ‘æ‰€å¸¦æ¥çš„è„†å¼±å’Œæ— åœ°è‡ªå®¹ï¼Œè¿™æ ·çš„æ„Ÿå—æˆ–è®¸æ›´èƒ½å¤Ÿè¢«æ‰¿å—å¾—èµ·ï¼Œæ‹–å»¶æ˜¯ä¿æŠ¤ä»–ä»¬çš„ç›¾ç‰Œã€‚ äºŒã€ å®¡é—®æ‹–å»¶ï¼šè¢«æ¶åœ¨å®¡åˆ¤å¸­ä¸Šçš„å¤±è´¥ææƒ§ç—‡ å¦‚æœæˆ´ç»´å…³å¿ƒçš„æ˜¯æˆä¸ºä¸€ä¸ªå‡ºè‰²çš„å¾‹å¸ˆï¼Œé‚£ä¹ˆä»–ä¸ºä»€ä¹ˆè¦é€šè¿‡æ‹–å»¶æ¥å›é¿æœ‰åŠ©äºä»–æˆå°±æ¢¦æƒ³è€Œå¿…é¡»åšçš„å·¥ä½œå‘¢ æ˜¯å•Šï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæƒ³æˆå°±æŸäº›äº‹ï¼Œå´ä¸èƒ½ä¸“æ³¨å»åšï¼Œç„¶åå†å»æ‡Šæ‚”ï¼ è¿™äº›å› å®³æ€•å¤±è´¥è€Œå‹æŠ‘è‡ªå·±çš„äººå¾€å¾€ä»¥ä¸€ç§å®½æ³›çš„æ–¹å¼æ¥å®šä¹‰â€œå¤±è´¥â€ã€‚å½“ä»–ä»¬å¯¹è‡ªå·±åœ¨ä¸€ä»¶äº‹æƒ…ä¸Šçš„è¡¨ç°æ„Ÿåˆ°å¤±æœ›çš„æ—¶å€™ï¼Œä»–ä»¬ä¸ä»…è®¤ä¸ºè‡ªå·±åœ¨é‚£ä»¶äº‹æƒ…ä¸Šå¤±è´¥äº†ï¼Œä»–ä»¬è¿˜è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªå¤±è´¥è€…ã€‚ å¦‚æœè¿™æ ·å°±åˆ¤å®šå¤±è´¥ï¼Œé‚£ä¹ˆå¤±è´¥å°±ä¸æ˜¯æˆåŠŸä»–å¦ˆäº†ï¼Œæ˜¯å­™å­ ä¸ç®¡èƒ½åŠ›æ˜¯å¦‚ä½•è¢«å®šä¹‰çš„ï¼Œå½“å®ƒæˆäº†ä¸€ä¸ªäººè‡ªæˆ‘ä»·å€¼æ„Ÿçš„å•ä¸€å†³å®šå› ç´ æ—¶ï¼Œé—®é¢˜å°±äº§ç”Ÿäº† å…¨åŠ›ä»¥èµ´åå¤±è´¥æ¯”æ²¡æœ‰å°½åŠ›çš„å¤±è´¥æ›´åŠ è®©äººæŒ«è´¥ã€‚æ‰€ä»¥æ½œæ„è¯†é€‰æ‹©é€ƒé¿ï¼Œä¿æœ‰å¦‚æœå°½åŠ›åè™šæ— ç¼¥ç¼ˆçš„å¸Œæœ›ã€‚ äººä»¬é€šè¿‡æ‹–å»¶æ¥å®‰æ…°è‡ªå·±ï¼Œè®©è‡ªå·±ç›¸ä¿¡ä»–ä»¬çš„èƒ½åŠ›è¦å¤§äºå…¶è¡¨ç°ï¼Œä»–ä»¬ç”šè‡³è¿˜ç»´æŠ¤ç€è¿™æ ·ä¸€ç§ä¿¡å¿µï¼šä»–ä»¬çš„æ½œåœ¨èƒ½åŠ›æ˜¯å‡ºè‰²çš„ã€ä¸å¯é™é‡çš„ æœ‰äº›äººå®æ„¿æ‰¿å—æ‹–å»¶æ‰€å¸¦æ¥çš„ç—›è‹¦åæœï¼Œä¹Ÿä¸æ„¿æ„æ‰¿å—åŠªåŠ›ä¹‹åå´æ²¡æœ‰å¦‚æ„¿ä»¥å¿æ‰€å¸¦æ¥çš„ç¾è¾±ã€‚ è­¦æƒ•ï¼šå–œæ¬¢æ‹–å»¶çš„å®Œç¾ä¸»ä¹‰è€… å¦‚æœä¸€ä¸ªäººè®¤ä¸ºä¸ç®¡ä»–é¢å¯¹çš„ææ–™å¤šå¤æ‚ï¼Œä»–éƒ½åº”è¯¥èƒ½å¤Ÿé©¬ä¸Šç†è§£å®ƒï¼Œä¸€æ—¦ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹æ—¶ï¼Œä»–ä»¬çš„åŠªåŠ›å°±ä¼šæˆ›ç„¶è€Œæ­¢ã€‚ä»–ä»¬å¯¹å¿…é¡»åŠªåŠ›åšäº‹æ„Ÿåˆ°å¤±æœ›ï¼Œè¿™è®©ä»–ä»¬ä¸æƒ³ä»˜å‡ºä¸ºäº†ç†Ÿæ‚‰å’Œç²¾é€šææ–™æ‰€å¿…è¦çš„åŠªåŠ›ã€‚ç›¸åï¼Œä»–ä»¬é€šè¿‡æ‹–å»¶æ¥å›é¿åŠªåŠ›ã€‚ æˆ‘ä¸çŸ¥é“æœ‰å¤šå°‘äººæ˜¯è¿™æ ·çš„ï¼Œä½†æˆ‘çŸ¥é“æˆ‘æœ‰ç‚¹è¿™æ–¹é¢çš„å€¾å‘ã€‚ ä»–ä»¬å¯¹èªæ˜çš„æ¸´æœ›å´ä½¿ä»–ä»¬å˜å¾—æ— çŸ¥ã€‚ ä»–ä»¬ç›¸ä¿¡æ¯ä¸ªé—®é¢˜éƒ½æœ‰ä¸€ä¸ªæ­£ç¡®çš„è§£å†³åŠæ³•ï¼Œè€Œæ‰¾åˆ°è¿™ä¸ªåŠæ³•å°±æ˜¯ä»–ä»¬çš„èŒè´£æ‰€åœ¨ã€‚åœ¨å‘ç°æ­£ç¡®çš„è§£å†³åŠæ³•ä¹‹å‰ï¼Œä»–ä»¬ä¸æ„¿æ„é‡‡å–ä»»ä½•è¡ŒåŠ¨ï¼Œä¹Ÿä¸æ‰¿æ‹…ä»»ä½•ä»»åŠ¡ã€‚ å¤§éƒ¨åˆ†äººéƒ½æœ‰ä¸€ä¸ªæ„¿æœ›ï¼Œå¸Œæœ›å°†æ¥æŸä¸€å¤©æˆ‘ä»¬ä¹Ÿå¯ä»¥çŸ¥é“å’Œæ§åˆ¶æ‰€æœ‰äº‹æƒ… â€œè‡ªæ®‹â€æ˜¯ä¸€ç§é—´æ¥ä¿æŠ¤ä½ çš„è‡ªæˆ‘å’Œè‡ªå°Šçš„æ–¹å¼ å®ƒä¸æ˜¯é»„é‡‘å°±æ˜¯åƒåœ¾ èœ—å£³ï¼šç¬¬äºŒå°±æ˜¯æœ€å¤§çš„å¤±è´¥ã€‚èœ—å£³å®³äººä¸æµ…ğŸ˜‚ å›ºå®šå¿ƒæ€ï¼ˆfixed mindset) æˆé•¿å¿ƒæ€ï¼ˆgrowth mindsetï¼‰ ä½ ä¸æ“…é•¿çš„äº‹æƒ…åè€Œæ›´ä¸ºæœ‰è¶£ï¼Œå› ä¸ºé€šè¿‡åšè¿™æ ·çš„äº‹æƒ…ï¼Œä½ å¯ä»¥æ‹“å±•ä½ è‡ªå·±ï¼Œå¹¶ä»ä¸­å­¦ä¹ ã€‚ â€œåˆå¤œæ—¶åˆ†ï¼Œå¾€äº‹å†å†ï¼Œçº·è‡³æ²“æ¥ã€‚å…¶ä¸­ä¸å°½æ˜¯ç¾äº‹ï¼šç—›è‹¦ã€é”™è¯¯ã€æœªå°½ä¹‹äº‹ï¼Œä»¥åŠä»¤äººç¾æ„§å’Œæ‚²ä¼¤çš„ç§ç§å¾€äº‹ä¸€é½æ¶Œä¸Šå¿ƒå¤´ã€‚ä½†æ˜¯ä¸€åˆ‡ï¼Œæ— è®ºå¥½ä¸åï¼Œç—›è‹¦ä¸æ¬¢ä¹ï¼Œéƒ½æç»˜è¿›äº†ä¸°å¯Œçš„äººç”Ÿç”»å·ä¸­ï¼Œéƒ½æˆäº†æˆ‘æ€æƒ³çš„ç²®é£Ÿå’Œè¿›æ­¥çš„åŠ¨åŠ›ã€‚â€â€”â€” ä½œå®¶æ¢…Â·æ’’å°”é¡¿ï¼ˆMay Sartonï¼‰æå†™äº†æˆé•¿çš„å¿ƒæ€ ä¸‰ã€ å¯¹è¯æ‹–å»¶ï¼šæ‹–å»¶ä½ å¥½ï¼ŒæˆåŠŸå†è§ åŠæ—¶è¿½éšç›®æ ‡ è™½ç„¶æ²¡æœ‰å…¶ä»–äººçŸ¥é“ä»–ä»¬çš„æˆåŠŸåªä¸è¿‡æ˜¯èµ¶å‡ºæ¥çš„ï¼Œä½†æ˜¯ä»–ä»¬è‡ªå·±çŸ¥é“â€”â€”å¯¹ä»–ä»¬æ¥è¯´ï¼Œè¿™æ„å‘³ç€ä»–ä»¬ä»ç„¶æ²¡æœ‰çœŸæ­£æˆåŠŸã€‚ å®é™…ä¸Šå¾ˆå¯èƒ½æ˜¯åœ¨ææƒ§æˆåŠŸï¼Œå¹¶åˆ©ç”¨æ‹–å»¶æ¥é¿å…æˆåŠŸçš„åˆ°æ¥ã€‚ å¯¹æˆåŠŸçš„æ¸´æœ›è¦æ¯”å¯¹æˆåŠŸçš„ææƒ§æ›´å®¹æ˜“é‰´åˆ«å‡ºæ¥ å†…å¿ƒçš„å†²çªæœ‰æ—¶å€™ä¼šä»¥ä¸€ç§æ— æ³•è§£é‡Šçš„æƒ…ç»ªè½¬å˜è¡¨ç°å‡ºæ¥ï¼Œä»¥ä¸€é˜µè‡ªæˆ‘æ€€ç–‘æˆ–è€…è´Ÿç–šæ„Ÿï¼Œæˆ–è€…ä»¥å¸Œæœ›ä¸å¤±æœ›çš„äº¤æ›¿èµ·ä¼è¡¨ç°å‡ºæ¥ï¼Œå°±å¥½åƒä¾ç¨€çš„è€³è¯­ï¼Œæˆ‘ä»¬ä¸æ¸…æ¥šé‚£äº›è€³è¯­åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä»¥åŠç©¶ç«Ÿè°åœ¨é‚£é‡Œè·Ÿæˆ‘ä»¬è¯´è¯ã€‚ ä»¥è‡³äºè®©æˆ‘ä»¬ä¸§å¤±äº†è‡ªå‘æ€§ã€å¥½å¥‡å¿ƒä»¥åŠé¢å¯¹æŒ‘æˆ˜çš„å‹‡æ°”ã€‚ æ‹–å»¶è€…å¾€å¾€ç»™äººç•™ä¸‹â€œéšä¾¿ä½ ï¼Œæ— æ‰€è°“â€çš„å°è±¡ï¼Œå› ä¸ºä»–ä»¬åšäº‹ä»ä¸å…¨åŠ›ä»¥èµ´ ä¸€æ—¦ä½ äº§ç”Ÿäº†ä¸€ä¸ªéå¸¸æœ‰åˆ›æ„çš„å¯ä»¥ä»˜è¯¸å®æ–½çš„è®¾è®¡æ€è·¯ï¼Œäººä»¬ä¼šæœŸå¾…æ¯ä¸€ä»¶ä½ æ‰€åšçš„äº‹æƒ…éƒ½æ˜¯å¯Œæœ‰åˆ›æ–°ç²¾ç¥çš„ã€‚ å°±åƒä¸€ä¸ªç”µåŠ¨æ‰¶æ¢¯ï¼Œä¸€æ—¦ä½ ä¸€è„šè¸ä¸Šå»ï¼Œä¸åˆ°é¡¶ç«¯ä½ å°±æ‰¾ä¸åˆ°åœ°æ–¹å¯ä»¥ä¸‹å» æˆåŠŸæ¯«æ— ä¾‹å¤–åœ°ä¼šå¯¼è‡´ä¸€ä¸ªäººå¤±å»å¯¹è‡ªå·±ç”Ÿæ´»çš„æ§åˆ¶æƒå’Œé€‰æ‹©æƒã€‚ äººä»¬å¸¸å¸¸å›¢ç»“åœ¨ä¸€èµ·ç›¸äº’æŠ±æ€¨é‚£äº›ç ´äº‹ï¼Œä»ä¸­å¾—åˆ°ç›¸äº’å¿ƒç†ä¸Šçš„æ”¯æŒã€‚ ç›¸ä¿¡è‡ªå·±æœ‰æƒåˆ©èµ°è‡ªå·±çš„äººç”Ÿä¹‹è·¯ï¼Œè¿™æ ·çš„å†³æ–­æˆ–è®¸ä¼šè®©ä½ è·Ÿè‡ªå·±çš„å®¶åº­å’Œæ–‡åŒ–è§‚å¿µå‘ç”Ÿå†²çªã€‚åœ¨ä¸€äº›æ–‡åŒ–ä¼ ç»Ÿä¸­ï¼Œæ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„äººç”Ÿè¦æ¯”ç…§é¡¾å®¶åº­æˆå‘˜å’Œè€ƒè™‘é›†ä½“éœ€è¦æ¬¡è¦å¾—å¤šã€‚ ä¸­å›½æ˜¯å…¸å‹æ¡ˆä¾‹ ç”¨æ‹–å»¶ä»£æ›¿äº†é€‰æ‹© å˜æ•…ä¼šè®©ä½ æ„Ÿåˆ°æœ‰é£é™©ã€‚å½“ä½ çš„äººç”Ÿå‘ç”Ÿäº†æŸä¸ªå˜æ•…ï¼Œä½ å¯èƒ½é­é‡åˆ°ä¸€ä¸ªæœªçŸ¥çš„è‡ªå·±ï¼Œä¸€æ®µæœªçŸ¥çš„å…³ç³»ï¼Œæˆ–è€…ä¸€ä¸ªæœªçŸ¥çš„ä¸–ç•Œã€‚ä½†æ˜¯æˆ‘ä»¬è®¤ä¸ºï¼Œè·Ÿä½ è®¤ä¸ºçš„é£é™©ç›¸æ¯”ï¼Œå®ƒä¼šè®©ä½ è¿›å…¥åˆ°ä¸€ä¸ªæ›´å¥½çš„äººç”Ÿé˜¶æ®µã€‚ä½ å¯ä»¥æ”¹å˜è‡ªå·±ä»¥é€‚åº”ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥æ”¹å˜è‡ªå·±ä»¥é€‚åº”æˆåŠŸã€‚ æ‹–å»¶vså¿ƒç†å››ã€ æŒ£æ‰ä¸­çš„æ‹–å»¶è€…ï¼šæˆä¸ºæˆ˜è´¥è€…æ€ä¹ˆåŠ äº‰å¤ºæ§åˆ¶æƒçš„è¾ƒé‡,å› ä¸ºä½ æƒ³è¯æ˜æ²¡æœ‰äººå¯ä»¥å¼ºè¿«ä½ è¿åè‡ªå·±çš„æ„æ„¿ã€‚æˆäº†äº‰å¤ºæ§åˆ¶æƒä»¥åŠèµ¢å¾—å°Šæ•¬å’Œç‹¬ç«‹è‡ªä¸»çš„ä¸€åœºäº‰å¤ºæˆ˜ã€‚ è§„åˆ™æ˜¯ä»¥æŸç§å¤–åœ¨åŠ›é‡åŠ è¯¸äºæˆ‘ä»¬èº«ä¸Šçš„é™åˆ¶æˆ–è€…æœŸå¾…çš„å½¢å¼å‡ºç°çš„ å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘æœ‰æ„æ— æ„çš„é€šè¿‡æ‰“ç ´è§„åˆ™æ¥è¡¨ç°è‡ªå·±çš„ä¸ä¼—ä¸åŒã€‚ æ‹–å»¶å¢å¼ºäº†å¥¹çš„è‡ªç”±æ„Ÿï¼Œå¹¶è®©å¥¹ç¡®ä¿¡è‡ªå·±ä¸æ˜¯è¿™äº›è§„çŸ©çš„å›šçŠ¯ã€‚ è™½ç„¶è§„åˆ™æœ€åˆæ˜¯ä½ è‡ªå·±å®šçš„ï¼Œä½†æ˜¯å®ƒå°±åƒæ˜¯å¤–éƒ¨å¼ºåŠ ç»™ä½ çš„ä¸€ä¸ªè¦æ±‚ï¼Œä½ å¿…é¡»ä»ä¸­å¤ºå›ä½ çš„è‡ªç”± ä¸ªäººæ„Ÿåˆ°è¢«äººä¾µçŠ¯æ—¶çš„ååº”è¦æ¯”è§„åˆ™æˆ–è€…æƒåŠ›å¯¹ä»–çš„å½±å“å¤§å¤šäº† æ‹–å»¶æˆäº†æŠµåˆ¶ä¾µçŠ¯çš„ä¸€ç§æ–¹å¼ã€‚ æ‹–å»¶ä¹Ÿå¯ä»¥å¸¦æ¥å¤ä»‡çš„å¿«æ„Ÿã€‚ è·Ÿç°å®ç›¸å¯¹æŠ—çš„æˆ˜æ–—æ˜¯æœ€ä¸å¯æ€è®®çš„ å¦‚æœä½ çš„è‡ªæˆ‘ä»·å€¼æ„Ÿæ˜¯å»ºç«‹åœ¨ä¸è®©åˆ«äººå·¦å³ä½ çš„èƒ½åŠ›ä¸Šï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡è·Ÿäººæ‰“äº¤é“éƒ½ä¼šè®©ä½ å¦‚ä¸´å¤§æ•Œã€‚ å¦‚æœæˆ‘å¯¹è‡ªå·±çš„ç‹¬ç«‹æ€§ç¡®å®šæ— ç–‘ï¼Œé‚£ä¹ˆæˆ‘å°±æ²¡æœ‰å¿…è¦é€šè¿‡è¿™æ ·çš„æ‹–å»¶æ¥è¯æ˜å®ƒã€‚ å¯¹å®³æ€•åœ¨äº‰æˆ˜ä¸­è´¥ä¸‹é˜µæ¥çš„æ‹–å»¶è€…è€Œè¨€ï¼ŒæŠŠè‡ªå·±æ‰€æƒ³æ‰€æ„Ÿæš´éœ²ç»™åˆ«äººçœ‹ä¼šè®©ä»–ä»¬æ„Ÿåˆ°è‡ªå·±æä¸ºè„†å¼± åœ¨æŠ‰æ‹©å’Œæ‰¿è¯ºä¸­æ‹–å»¶æ˜¯ä¿æŠ¤ä½ è‡ªå·±çš„ä¸€ç§é—´æ¥æ–¹å¼ æ‹–å»¶çš„é—´æ¥ç‰¹æ€§å¯ä»¥ä¿æŠ¤ä½ ä¸å—æ„¤æ€’æƒ…ç»ªçš„ç ´åæ€§å½±å“ï¼Œé—´æ¥åœ°è¡¨è¾¾æ„¤æ€’æ˜¯ä½ æ§åˆ¶è‡ªå·±æƒ…ç»ªçš„ä¸€ç§æ–¹å¼ã€‚å¾ˆå¯èƒ½ä½ æ…¢æ…¢å¼€å§‹ç›¸ä¿¡ä»»ä½•æƒ…ç»ªéƒ½åº”è¯¥è¢«åŒ…è£¹èµ·æ¥ã€‚ä»»ä½•æ¼æ€’æˆ–è€…æ°”æ„¤çš„è¡¨éœ²éƒ½ä¼šè®©åˆ«äººçœ‹ç©¿ä½ ï¼Œä»–ä»¬å°±å¯ä»¥é€šè¿‡ä½ çš„æ•æ„Ÿå¤„æ¥æ“æ§ä½ ã€‚ä¸‹ä¸€æ¬¡ä½ çš„å¯¹æ‰‹å°±ä¼šçŸ¥é“æ€ä¹ˆæ‘†å¸ƒä½ ã€‚ é‚£äº›é€šè¿‡æ‹–å»¶å‘åŠ¨äº‰æˆ˜çš„äººå¸¸å¸¸ä¼šåœ¨ä¸€ä¸ªå¼ºåŠ¿çš„äººé¢å‰æ„Ÿåˆ°è‡ªå·±çš„è½¯å¼±ã€‚ é˜»ç¢å¯¹æ–¹æ¯”å¾—åˆ°è‡ªå·±æƒ³è¦çš„æ›´ä¸ºé‡è¦ã€‚ å›é€†æœŸè¿™è¡¨ç°çš„éå¸¸æ˜æ˜¾ï¼ åœ¨æ—¥å¸¸ç”Ÿæ´»çš„ç§ç§ç»†èŠ‚ä¸­è¢«è¿‡åˆ†ç®¡æŸçš„å­©å­ï¼Œä»–ä»¬çš„ç‹¬ç«‹äººæ ¼å¾€å¾€å¾—ä¸åˆ°é¼“åŠ±å’Œæ”¯æŒï¼Œåè€Œå—åˆ°è®¥ç¬‘å’Œæ‰“å‹ã€‚è™½ç„¶æ¯ä¸€ä¸ªç”Ÿæ´»ç»†èŠ‚ä¸­çš„æ‘©æ“¦å’Œç¢°æ’éƒ½æ˜¯å¾®ä¸è¶³é“çš„ï¼Œä½†æ˜¯å½“è¿™æ ·çš„äº‹æƒ…å‡ å¹´ä»¥æ¥ä¸€ç›´é‡å¤åœ°å‘ç”Ÿï¼Œå°±ä¼šå¯¹ä¸€ä¸ªäººçš„å¿ƒç†äº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚ä¸€ä¸ªå¯¹è‡ªå·±çš„ç‹¬ç«‹è‡ªä¸»æ€§æ²¡æœ‰è‡ªä¿¡çš„å­©å­æ— æ³•å‘å±•å‡ºä¸€ä¸ªå¥å…¨çš„è‡ªæˆ‘ã€‚ ä¸€ä¸ªè¯·æ±‚ä¸ä¸€å®šæ„å‘³ç€æ§åˆ¶ï¼›ä¸€ä¸ªè§„åˆ™å¹¶ä¸å¿…ç„¶æ˜¯ä¸€ä¸ªæ— æ³•é€ƒè„±çš„ç‰¢æˆ¿ï¼Œè€Œä¸äººåˆä½œä¹Ÿå¯èƒ½æ˜¯ä¸€ä»¶ä»¤äººå¼€å¿ƒçš„äº‹æƒ…ã€‚ äº”ã€ å¿ƒç†èˆ’é€‚åŒºï¼šå¯¹äº²è¿‘ä¸ç–è¿œçš„ææƒ§ å®³æ€•ç–è¿œçš„äººéƒ½æ˜¯é€šè¿‡ä¸äººä¿æŒäº²è¿‘çš„å…³ç³»æ¥è·å¾—å·¨å¤§å®‰å…¨æ„Ÿçš„ã€‚è€Œå®³æ€•äº²è¿‘çš„äººåˆ™åˆšå¥½ç›¸åï¼Œä¸äººä¿æŒè·ç¦»ä¼šè®©ä»–ä»¬æ›´åŠ è‡ªåœ¨ã€‚ å¦‚æœä½ å®³æ€•ä½ çš„åˆ©ç›Šåœ¨è¢«è¿™ä¸ªæ å¤ºæ€§çš„ä¸–ç•Œæ‰€çŸ¥æ™“ä¹‹åå°±ä¼šè¢«ä¾µå ï¼Œä½ å¯èƒ½å°±ä¼šè¿‡ä¸Šä¸€ç§è¿è‡ªå·±çš„çœŸå®æ„¿æœ›éƒ½ä¸äº†è§£çš„ç”Ÿæ´» ä¸å»çˆ±è¦èƒœäºå¤±å»çˆ± æ— è®ºä½ çš„ç„¦è™‘æ˜¯æ¥è‡ªäºå¯¹ç–è¿œçš„ææƒ§è¿˜æ˜¯å¯¹äº²å¯†çš„ææƒ§ï¼Œæ‹–å»¶å§‹ç»ˆæ˜¯ä½ ç»´æŠ¤å¿ƒç†èˆ’é€‚è¾¹ç•Œçš„ä¸€ç§æ–¹å¼ã€‚ ä¸€ä¸ªè‰¯å¥½çš„å…³ç³»éœ€è¦åœ¨ä¾èµ–å’Œç‹¬ç«‹ä¹‹é—´å–å¾—å¹³è¡¡ã€‚ å…­ã€ æ‹–å»¶æ—¶é’Ÿï¼šä½ çŸ¥é“ç°åœ¨å‡ ç‚¹å— å¦‚æœæ²¡æœ‰äººæ¥æµ‹å®šæ—¶é—´ï¼Œæ—¶é—´è¿˜å­˜åœ¨å—ï¼Ÿ é’Ÿè¡¨æ—¶é—´å’Œæ²‰æµ¸æ—¶é—´ æ—¶é—´ä¼šå¸®åŠ©ä½ æ‘†è„±é‚£ç§ä¾å¾ªå­£èŠ‚å‘¨æœŸå˜åŒ–è€Œå½¢æˆçš„çº¿æ€§æ—¶é—´è§‚ æ—¶é—´å¯¹äºæ¯ä¸ªäººéƒ½æ˜¯ä¸åŒçš„ï¼Œäº‹å®ä¸Šï¼Œä½ å¯¹æ—¶é—´çš„ä¸»è§‚æ„Ÿå—å¯èƒ½è®©å¦ä¸€ä¸ªäººè¿·æƒ‘ä¸è§£ï¼Œç”šè‡³ç”Ÿæ°”å‘ç«ï¼Œå› ä¸ºä»–ä¹Ÿæœ‰ä»–è‡ªå·±ç‹¬ç‰¹çš„æ—¶é—´æ„Ÿï¼Œè€Œä¸”å¾ˆå¯èƒ½è·Ÿä½ çš„å¤§ä¸ºä¸åŒã€‚ äººä»¬æ˜¯å‚ç…§åŸºäºè¿‡å»ã€ç°åœ¨å’Œæœªæ¥çš„ä¸åŒåæ ‡æ¥æ„ŸçŸ¥æ—¶é—´çš„ åœ¨ä¸‰ç§ä¸åŒçš„æ—¶é—´åæ ‡å‚ç…§ä¸­ä¿æŒå¹³è¡¡çš„äººæœ€æœ‰å¯èƒ½é€‚åº”ç¤¾ä¼šå‘å±•çš„æ­¥ä¼ï¼Œä¹Ÿæ›´èƒ½å¤Ÿå……åˆ†åœ°äº«å—ç”Ÿæ´» æœªæ¥æŠ˜æ‰£ è®¤è¯†åˆ°æ—¶é—´çš„æœ‰é™æ€§æ˜¯ä¸­å¹´äººå¿ƒç†ä¸Šé¢ä¸´çš„ä¸€ä¸ªä¸»è¦æŒ‘æˆ˜ï¼š å¯¹äºä¸€ä¸ªè·Ÿç”Ÿå‘½çš„æœ‰é™æ€§åšç€æŠ—äº‰çš„æ‹–å»¶è€…è€Œè¨€ï¼Œæ¥å—ç”Ÿå‘½æ— å¯é¿å…çš„ç»ˆç»“æ˜¯ä¸€é¡¹å…·æœ‰é‡è¦å¿ƒç†æ„ä¹‰çš„æŒ‘æˆ˜ ä½ æˆ–è®¸å·²ç»æ³¨æ„åˆ°ï¼Œä¸å—æ—¶é—´é™åˆ¶çš„æ„Ÿè§‰å¾€å¾€å‘ç”Ÿåœ¨å½“ä½ å¤„äºæ·±æ·±çš„æ„‰æ‚¦æˆ–è€…ç©å¾—æœ€å¼€å¿ƒçš„æ—¶å€™ï¼Œå¯Œæœ‰åˆ›é€ æ€§çš„æ—¶åˆ»ä»¿ä½›ä¹Ÿæ˜¯å‘ç”Ÿåœ¨æ—¶é—´ä¹‹å¤–ã€‚å½“ä½ æ·±æ·±åœ°æ²‰æµ¸åœ¨è‡ªå·±æ‰€åšçš„äº‹æƒ…ä¸­çš„æ—¶å€™ï¼Œä½ ä¸çŸ¥é“æ—¶é—´ç©¶ç«Ÿè¿‡å»äº†å‡ åˆ†é’Ÿè¿˜æ˜¯å‡ ä¸ªå°æ—¶ã€‚åœ¨æ—¶é—´è¿·å¤±çš„çŠ¶æ€ä¸­å¾…ä¸Šä¸€ä¸ªå°æ—¶ã€ä¸€å¤©æˆ–è€…ä¸€ä¸ªæ˜ŸæœŸéƒ½å¯ä»¥è®©ä½ ç„•ç„¶ä¸€æ–°ã€åˆ›æ„æ— ç©·ã€‚ æ­£æ˜¯è¿™ä¸ªä¸è¢«å¯Ÿè§‰çš„è¿‡å»å‰¥å¤ºäº†å¥¹èµ°å‘æœªæ¥çš„æƒåˆ© ä½ çš„è¿‡å»å°±æ˜¯ä½ çš„è¿‡å»ï¼Œä¸ç®¡ä½ å–œä¸å–œæ¬¢å®ƒï¼Œä¸ç®¡ä½ æ˜¯ä¸æ˜¯æ¸…æ¥šåœ°è®°å¾—å®ƒï¼Œä¹Ÿä¸ç®¡ä½ æ˜¯å¦ä¸ºå®ƒæ‰¿æ‹…èµ·ä½ çš„è´£ä»»ã€‚è¿‡å»å‘ç”Ÿçš„è®¸å¤šäº‹æƒ…ä¸æ˜¯ä½ çš„é”™â€”â€”æˆ–è®¸ä¹Ÿä¸æ˜¯ä»»ä½•äººçš„é”™ï¼Œæˆ–è®¸æœ‰ä¸€äº›äº‹æƒ…æ˜¯ä½ çš„é”™ï¼Œä½†æ˜¯è¿™äº›åœ¨ä½ ç”Ÿæ´»ä¸­å‘ç”Ÿçš„äº‹ä»¶å±äºä½ ï¼Œå¹¶å°†æ°¸è¿œå±äºä½ ã€‚å³ä¾¿ä½ æ„Ÿåˆ°äº‹æƒ…è¿˜æ²¡æœ‰å®Œï¼Œæˆ–è€…ä¸å…¬å¹³ï¼Œä½ ä¹Ÿæ— æ³•å›åˆ°è¿‡å»æ”¹å˜å®ƒä»¬ã€‚ æ‹–å»¶vså¤§è„‘ä¸ƒã€ ä¸–ç•Œä¸Šå­˜åœ¨â€œæ‹–å»¶åŸºå› â€å— å¤§è„‘å…·æœ‰ä¸€ç§é‡ç»„èƒ½åŠ›ï¼Œå®ƒå¯ä»¥æ‰“ç ´æ—§çš„ç¥ç»è”ç³»ï¼Œå»ºç«‹æ–°çš„ç¥ç»è”ç³»ï¼Œæˆ‘ä»¬æŠŠè¿™ç§èƒ½åŠ›ç§°åšâ€œç¥ç»å¯å¡‘æ€§â€ å¯èƒ½åœ¨å¾ˆå¤šæ—¶é—´ä¸‹ä½ æ²¡æœ‰æ„è¯†åˆ°è¿«ä½¿ä½ é€ƒé¿æŸä¸ªäº‹æƒ…çš„é‚£ä¸ªæ„Ÿå—æ˜¯ä»€ä¹ˆã€‚å³ä¾¿æ˜¯è¿™æ ·ï¼Œä½ çš„èº«ä½“è¿˜æ˜¯ä¼šæœ‰ååº”ã€‚ åœ¨é­é‡è¿‡ä¸€æ¬¡å±é™©çš„åˆºæ¿€ä¹‹åï¼Œåªè¦ä¸‹ä¸€æ¬¡å†æ¬¡ç¢°åˆ°è¿™æ ·çš„åˆºæ¿€ï¼Œææƒ§å°±ä¼šè¢«é‡æ–°æ¿€å‘ï¼Œå“ªæ€•ä½ å·²ç»ä¸è®°å¾—å®ƒäº† åŸå§‹åˆºæ¿€ä¸ä½ çš„ææƒ§ä¹‹é—´çš„é‚£ä¸ªè”ç³»ç°åœ¨è¿˜å¤„äºæ— æ„è¯†ä¹‹ä¸­ ææƒ§è¿™ä¹ˆéš¾ä»¥å¤„ç†çš„å¦å¤–ä¸€ä¸ªåŸå› æ˜¯ å¤§è„‘è´Ÿè´£ä¼ å¯¼ææƒ§çš„é€šé“éå¸¸å¼ºåŠ² ä¸ºäº†å¯¹ä»˜ææƒ§å’Œå†²åŠ¨ï¼Œäººç±»é€æ¸å‘å±•å‡ºäº†ä¸€ç³»åˆ—çš„é˜²å«æœºåˆ¶ï¼Œå°†ä¸å ªå¿å—çš„ç—›è‹¦çš„æ€æƒ³ã€æƒ…æ„ŸåŠè®°å¿†é˜»æŒ¡åœ¨æ„è¯†èŒƒå›´ä¹‹å¤–ï¼Œ å¯¹è´Ÿé¢æƒ…ç»ªåŠ ä»¥è®¤çŸ¥é‡å¡‘çš„äººé™ä½äº†ä»–ä»¬çš„ç´§å¼ åº¦ï¼Œè¿™ä½¿ä»–ä»¬æ›´å®¹æ˜“ä»é€‚åº”ä¸è‰¯çš„é™ˆæ—§æ€æƒ³å’Œè´Ÿé¢æƒ…ç»ªä¸­æ‘†è„±å‡ºæ¥ã€‚ æ˜¾æ€§è®°å¿†ï¼Œæœ‰æ—¶å€™è¢«ç§°ä½œâ€œåæœŸâ€è®°å¿†ï¼Œæ›´ä¸ºæˆ‘ä»¬æ‰€ç†Ÿæ‚‰ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨æˆ‘ä»¬å‘å±•äº†è¯­è¨€å’Œæ„è¯†èƒ½åŠ›ä¹‹åæ‰äº§ç”Ÿçš„ æ•¬ç•å’Œæ¥å—ä½ å¤§è„‘äº§ç”Ÿçš„ååº”ä¾ç„¶æ˜¯æä¸ºé‡è¦çš„ä¸€æ­¥ ä½ èº«å¤„å½“ä¸‹è¿™ä¸ªæ—¶åˆ»ï¼Œè€Œé‚£äº›è®°å¿†ï¼Œä¸ç®¡ä½ æ˜¯å¦è®°å¾—ï¼Œéƒ½æ¥è‡ªè¿‡å»ã€‚ ä¸€ä¸ªäººå¤§è„‘çš„çŠ¶æ€ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªäººçš„çŠ¶æ€ã€‚ è¿™æ ·çš„ä¸å’Œè°åœ¨æ‰€æœ‰çš„äººé™…å…³ç³»ä¸­éƒ½æ˜¯ä¸å¯é¿å…çš„ï¼Œä½†æ˜¯å®ƒä»¬ä¸ä¸€å®šéƒ½æ˜¯æœ‰é—®é¢˜çš„ã€‚æ¯ä¸ªçˆ¶æ¯éƒ½æœ‰ä¸å¼€å¿ƒçš„æ—¥å­ã€‚åªæœ‰å½“è¿™äº›ä¸å’Œè°æˆä¸ºä¸€ç§å¸¸æ€çš„æ—¶å€™ï¼Œå®ƒä»¬æ‰ä¼šåœ¨å­©å­å¿ƒé‡Œç•™ä¸‹ä¸å¥å…¨çš„å½±å“ åå¶å‚¬äº§ç´ æœ‰åŠ©äºè°ƒæ•´ç¤¾ä¼šå…³ç³»å’Œå¯¹å…¶ä»–äººçš„æƒ…æ„Ÿä¾èµ–ã€‚ ä½ å¯ä»¥ç”¨é¼“åŠ±è€Œä¸æ‰¹è¯„ã€åŒæƒ…è€Œä¸æ”»å‡»çš„æ€åº¦æ¥å¯¹å¾…è‡ªå·±ã€‚ å…«ã€ å¦‚ä½•æ‰“é€ å¤§è„‘çš„å…¨å±€é¢†å¯¼åŠ› ä¸€ä¸ªæ‰§è¡Œèƒ½åŠ›ä½ä¸‹çš„äººä¸ç®¡æ‹¥æœ‰å¤šå¥½çš„ä¸ªäººç´ è´¨ï¼Œä»–éƒ½å¯èƒ½åœ¨é‡è¦çš„ç”Ÿå­˜æŠ€èƒ½ä¸Šæœ‰æ‰€ç¼ºå¤± åˆ†è§£æˆå‡ ä¸ªå°çš„æ­¥éª¤ï¼Œè·¨å‡ºå°å°çš„ç¬¬ä¸€æ­¥ï¼Œå­¦ä¹ æ€æ ·è®°å½•æ—¶é—´ï¼Œä»¥åŠå¦‚ä½•ä¼˜åŒ–å‘¨å›´ç¯å¢ƒä½¿ä¹‹å‘æœ‰åˆ©äºæˆåŠŸçš„æ–¹å‘æ¨è¿› ä¸€ä¸ªä¸èƒ½æœ‰æ•ˆæŠ‘åˆ¶è‡ªå·±çš„äººä¼šæˆä¸ºå†²åŠ¨çš„ç‰ºç‰²å“ã€‚ å¦‚æœä½ å‘ç°è‡ªå·±å¯¹â€œä¸´æ—¶æŠ±ä½›è„šâ€ä¸Šç˜¾äº†ï¼Œé‚£ä¹ˆä½ å¯èƒ½æ˜¯é€šè¿‡è¿™æ ·çš„æ–¹å¼åœ¨ç»™è‡ªå·±å¼€å‡ºä¸€å‰‚è‡ªè¡Œç”Ÿæ•ˆçš„è¯æ–¹ï¼šè‚¾ä¸Šè…ºç´ ï¼Œå®ƒä¼šå¢å¼ºä½ ä¸“æ³¨çš„èƒ½åŠ›ã€‚ å½“ä½ æŠ‘éƒæ—¶ï¼Œä½ ä¼šæ„Ÿåˆ°èƒ½é‡ä¸è¶³ï¼Œä¸æ„¿æ„å‚ä¸ï¼Œå¤±å»å…´è¶£ï¼Œæ²¡æœ‰ç›®æ ‡ï¼Œä¸å†ä¹è§‚ã€‚å¦‚æœä½ å¤„äºæ‚²æƒ¨çš„å¿ƒå¢ƒä¸­ï¼Œå¯¹ç”Ÿæ´»æ„Ÿåˆ°æ— æœ›ï¼Œä¹Ÿä¸å†å…³å¿ƒè‡ªå·±ç©¶ç«Ÿæ´»å¾—æ€æ ·ï¼Œé‚£ä¹ˆï¼Œä½ å¾ˆå¯èƒ½å°±ä¸ä¼šå†å»å…³å¿ƒè‡ªå·±çš„å·¥ä½œæˆ–å­¦ä¸šï¼Œä¹Ÿä¸å†å…³å¿ƒæ˜¯å¦èƒ½è·Ÿæœ‹å‹å¾…åœ¨ä¸€èµ·ï¼Œå¯¹å¤„ç†ç¨æ”¶äº‹åŠ¡æˆ–è€…ç…§é¡¾å¥½è‡ªå·±çš„èº«ä½“éƒ½å˜å¾—æ¯«æ— å…´è‡´ã€‚å¦‚æœä½ æŠ‘éƒäº†ï¼Œä½ å¾ˆå¯èƒ½ä¼šåœ¨å¾ˆå¤šé‡è¦çš„äº‹æƒ…ä¸Šæ‹–æ²“ä¸å‰ã€‚è¦æŠŠè‡ªå·±æ‹‰å‡ºå»æ•£æ­¥ç®€ç›´æˆäº†ä¸€ä»¶ä¸å¯èƒ½çš„äº‹æƒ…ï¼›å½“ä½ è¿åˆ·ç‰™çš„åŠ›æ°”éƒ½æ²¡æœ‰çš„æ—¶å€™ï¼Œè¦ä½ æ•´ç†æŠ½å±‰ç®€ç›´ä¼šè®©ä½ æ˜å€’ã€‚ è¯·æ”¾å¿ƒï¼Œä½ å¹¶ä¸å­¤ç‹¬ ä¸è¦è¿™æ ·åšï¼ä½ æˆ–è®¸éœ€è¦å®ƒâ€¦â€¦ä½ å¯èƒ½å†ä¹Ÿæ‰¾ä¸åˆ°è¿™æ ·çš„ä¸œè¥¿äº†â€¦â€¦æœ‰ä¸€å¤©å®ƒä¼šå€¼å¾ˆå¤šé’±â€¦â€¦å®ƒæ˜¯æˆ‘å¤–ç¥–æ¯çš„ï¼ è¯¥æ‰”å°±æ‰”å§ï¼ æ‹–å»¶äº§ç”Ÿå‹åŠ›ï¼Œè€Œå‹åŠ›åˆä¼šå¯¼è‡´æ‹–å»¶ ç¡çœ è¢«å‰¥å¤ºçš„å¹´è½»äººåœ¨ä»äº‹ä¸€é¡¹ä»»åŠ¡æ—¶æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€æ— æ³•åšæŒï¼Œåœ¨ä»äº‹ä¸€äº›è¢«è®¤ä¸ºæ˜¯â€˜æ— èŠä¹å‘³â€™çš„ä»»åŠ¡æ—¶å°¤å…¶å¦‚æ­¤ã€‚ä»–ä»¬åœ¨é¢å¯¹ä¸€äº›éœ€è¦è®¡åˆ’æˆ–ç›®æ ‡å¯¼å‘çš„å¤æ‚ä»»åŠ¡æ—¶ä¼šç¢°åˆ°åŒæ ·çš„é—®é¢˜ï¼Œåœ¨ç›®æ ‡æŠ½è±¡ã€æŠ¥é…¬æ»åçš„æƒ…å†µä¸‹ï¼Œé—®é¢˜å°±æ›´å¤§äº†ã€‚ æ›´åŠ ä»”ç»†å’Œæ•¬ç•çš„å¿ƒæ€çˆ±æŠ¤è‡ªå·±çš„å¤§è„‘ ä¹ã€ ä½ æ˜¯æ€æ ·å˜æˆä¸€ä¸ªæ‹–å»¶è€…çš„ å¦‚æœä½ å…ˆå¤©çš„ç‰¹æ€§è·Ÿä½ åå¤©è¢«å¯¹å¾…çš„æ–¹å¼ä¹‹é—´æ²¡æœ‰è¢«å¾ˆå¥½åœ°åè°ƒçš„è¯ï¼Œä½ å¾ˆéš¾ä¸ºè‡ªå·±å»ºç«‹èµ·åšå®çš„è‡ªä¿¡ï¼Œè€Œç¼ºä¹è‡ªä¿¡æ˜¯å¯¼è‡´æ‹–å»¶çš„ä¸€ä¸ªä¸»è¦å› ç´ ã€‚ ä¸€ä¸ªè¢«ç†æƒ³åŒ–çš„æˆåŠŸæ¦œæ ·æ˜¯æ— æ³•ä»˜è¯¸å®è·µçš„ï¼ äººè„‘å¯¹æœªæ¥çš„æœŸå¾…æ˜¯ä»¥è¿‡å»æ‰€ä¹ å¾—çš„ä¸œè¥¿ä½œä¸ºå‚ç…§çš„ã€‚ä½ æ˜¯é€šè¿‡è¿‡å»çš„ç»éªŒæ¥æ„ŸçŸ¥æœªæ¥çš„ æ–½å‹ã€æ€€ç–‘ã€æ§åˆ¶ã€ä¾é™„å’Œç–è¿œ å½“è¿™ä¸ªä¸–ç•Œå¯¹å­©å­æ¥è¯´äº‹å®ä¸Šå·²ç»æˆäº†ä¸€ä¸ªå±é™©çš„æ‰€åœ¨ï¼Œè€Œç›´æ¥çš„åæŠ—åˆå¤ªå†’é™©ã€‚åœ¨è¢«çˆ¶æ¯ç›‘æ§çš„ç¯å¢ƒä¸‹ï¼Œæ‹–å»¶å°±æˆäº†ä»–ä»¬çš„ä¸€ç§åæŠ—æ–¹å¼ã€‚ å¸®åŠ©å­©å­å®¹å¿å¤±è´¥å’Œæ¥å—ç°å®ã€‚ ä¸€äº›å¯Œæœ‰äººæ€§çš„å“è´¨å¾€å¾€ä¼šè¢«å¿½è§†æˆ–è€…ä½ä¼° åã€ æ‹–å»¶è¡Œä¸ºæ¨¡å¼çš„æ³•åº­å¤§è°ƒæŸ¥ å¿ƒç†æ ¹æºã€ç”Ÿç‰©å› ç´ å’Œäººç”Ÿç» å‹‡æ•¢å¹¶éæ²¡æœ‰ææƒ§ï¼Œè€Œæ˜¯å…‹æœææƒ§ï¼Œæˆ˜èƒœææƒ§ æ”¹å–„æ‹–å»¶çŠ¶å†µåŒæ—¶ä¹Ÿæ„å‘³ç€è¦é¢å¯¹ä»–ä»¬ä¸€ç›´å›é¿çš„ææƒ§ å¸®åŠ©ä»–äººè€Œä¸ç…§çœ‹å¥½è‡ªå·±ä¼šè®©ä½ å¤±å»è‡ªæˆ‘çš„æ–¹å‘ å¦‚æœç…§çœ‹åˆ«äººè¿™ä»¶äº‹æˆäº†ä½ å›é¿è‡ªå·±çš„ä¸€ç§æ–¹å¼çš„è¯ï¼Œè¿™æ—¶ä½ å°±æˆäº†ä¸€ä¸ªå—éš¾è€…ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåœ£äºº ç¼ºä¹å¯¹çœŸæ­£é‡è¦äº‹æƒ…çš„æ´å¯Ÿçš„äººå¯èƒ½ä¼šå¯¹æ¯ä¸€ä¸ªæ–°å‡ºç°çš„æœºä¼šéƒ½å…´è¶£ç›ç„¶ã€‚ä»–ä»¬ä¸æ–­ä»ä¸€é¡¹è¡ŒåŠ¨è·³åˆ°å¦ä¸€é¡¹è¡ŒåŠ¨ä¸­ï¼Œè€Œæ²¡æœ‰å®Œæˆçš„å·¥ä½œéƒ½è¢«å †åœ¨ä¸€è¾¹ã€‚å¦‚æœä½ åœ¨é‚£äº›åšäº†ä¸€åŠå’Œå³å°†è¦åšçš„äº‹æƒ…ä¹‹é—´å¥”å¿™ï¼Œå¦‚æœä½ ä¸ºé‚£äº›å³å°†åˆ°æ¥æˆ–å°†è¢«é”™è¿‡çš„æœ€åæœŸé™è€Œå¿§å¿ƒå¿¡å¿¡ï¼Œä½ å¯èƒ½ä¼šè®©è‡ªå·±çš„å†…å¿ƒå……æ»¡äº†ç„¦è™‘ï¼Œå› ä¸ºå†…å¿ƒçš„ç™½æ¿æ€»æ˜¯éœ€è¦æŸäº›ä¸œè¥¿æ¥å¡«è¡¥ã€‚ æœ€å¯æ€•çš„äº‹æƒ…æ˜¯å»å…¨ç„¶åœ°æ¥å—è‡ªå·± å¯¹è‡ªå·±çš„å¼±é¡¹å¿ƒæ€€æ•¬ç•åœ°ç»™äºˆå…³æ³¨ï¼Œå‹å–„åœ°å¯¹å¾…è‡ªå·±ï¼Œå¹¶é€šè¿‡é”»ç‚¼æé«˜ç›¸åº”çš„æŠ€èƒ½ï¼Œæˆ–è€…åšä¸€äº›ç›¸åº”çš„å®‰æ’ï¼Œé‚£æ ·ï¼Œä½ æ‰å¯ä»¥çœŸæ­£åœ°å¸®åŠ©åˆ°è‡ªå·±ã€‚ å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æ¥å—çš„æ˜¯åˆ«äººçœ¼ä¸­çš„è‡ªå·±ï¼ è¦å®Œå…¨åœ°æ¥å—è‡ªå·±å°±å¿…é¡»äº†è§£è‡ªå·±çš„æƒ…æ„Ÿå¹¶ä¸ä¹‹å…±å¤„ï¼Œä¸è®ºè¿™ä¸ªæƒ…æ„Ÿæ˜¯å¥½æ˜¯åï¼Œæ˜¯ç¾å¥½è¿˜æ˜¯ä¸‘é™‹ã€‚ è¦å®Œå…¨åœ°æ¥å—è‡ªå·±å°±å¿…é¡»äº†è§£è‡ªå·±çš„æƒ…æ„Ÿå¹¶ä¸ä¹‹å…±å¤„ï¼Œä¸è®ºè¿™ä¸ªæƒ…æ„Ÿæ˜¯å¥½æ˜¯åï¼Œæ˜¯ç¾å¥½è¿˜æ˜¯ä¸‘é™‹ã€‚ ä¸€ç§è¾¨è¯†è‡ªèº«å’Œä»–äººæƒ…æ„Ÿçš„èƒ½åŠ›ï¼Œä¸€ç§è‡ªæˆ‘æ¿€å‘çš„èƒ½åŠ›ï¼Œä¹Ÿæ˜¯ä¸€ç§ç®¡ç†è‡ªèº«æƒ…æ„Ÿå’Œäººé™…æƒ…æ„Ÿçš„èƒ½åŠ› è®¤ä¸ºä½ åªæœ‰åœ¨èˆ’èˆ’æœæœçš„æ—¶å€™æ‰èƒ½é‡‡å–è¡ŒåŠ¨ä¹Ÿæ˜¯ä¸€ç§éå¸¸å±€é™çš„çœ‹æ³• â€œä¼šèŠ±è´¹å¾ˆå¤šç²¾åŠ›æƒ³è¦å»ç»´æŠ¤ä»–ä»¬çš„ç„¦è™‘ï¼Œç»´æŠ¤ç„¦è™‘ä¼¼ä¹æˆäº†ä»–ä»¬çš„èŒä¸š å¦‚æœä½ åœ¨æŸæ–¹é¢çš„æ‹–å»¶æ˜¯å‡ºäºä½ åœ¨å¦ä¸€æ–¹é¢çš„ä»·å€¼è§‚ï¼Œé‚£ä¹ˆè¿™å…¶ä¸­ä¸€å®šä¼ é€’äº†æŸäº›ä½ åº”è¯¥å»ç†è§£çš„é‡è¦ä¿¡æ¯ å½“ä½ çš„è‡ªæˆ‘ç³»ç»Ÿå¤ªè¿‡åˆ»æ¿ï¼Œä½ å°±ç«™åœ¨äº†ä¸€ä¸ªå®Œç¾ä¸»ä¹‰è€…çš„ç«‹åœºä¸Šï¼Œè€Œå®Œç¾ä¸»ä¹‰åˆæ˜¯æ‹–å»¶çš„æ¸©åºŠï¼›ä½ ä¸€éåˆä¸€éåœ°é‡å¤åŒæ ·çš„è¡Œä¸ºï¼Œä¹Ÿä¸ç®¡å®ƒæ˜¯å¦æœ‰æ•ˆï¼›ä½ å¯¹åˆ«äººçš„æœŸæœ›ç¼ºä¹å¼¹æ€§ï¼›å½“ä½ è®¾æƒ³çš„ç”Ÿæ´»ä¸èƒ½å¦‚ä½ æ‰€æ„¿çš„æ—¶å€™ï¼Œä½ çš„å†…å¿ƒå°±å®¹æ˜“é™·å…¥æ··ä¹±ä¸éªšåŠ¨ä¹‹ä¸­ å¯¹äºåƒâ€œæˆ‘è‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆâ€è¿™æ ·çš„é—®é¢˜ï¼Œæ²¡æœ‰ä¸€ä¸ªç°æˆçš„ç­”æ¡ˆå¯ä»¥å†³å®šä½ æ˜¯å¯¹è¿˜æ˜¯é”™ ä½ ä¸ä»…å¿…é¡»æŠŠä½œä¸ºä¸€ä¸ªä¸ªä½“çš„è‡ªæˆ‘ä¸ä»–äººå¯¹ä½ çš„å½±å“åŒºåˆ†å¼€æ¥ï¼Œè€Œä¸”è¿˜å¿…é¡»è·Ÿé‚£ä¸ªå……å½“å†…å¿ƒæ£€å¯Ÿå®˜çš„ä½ åŒºåˆ†å¼€æ¥ï¼Œä½ å¿…é¡»ä»è‡ªæˆ‘é˜»ç¢ä¸­èµ°å‡ºæ¥ â—† æ‰¾å‡ºå¯¼è‡´æ‹–å»¶çš„å› ç´  ç›®æ ‡å’Œå›æŠ¥å¤ªé¥è¿œäº†ï¼Œæ„Ÿå—ä¸åˆ°å¯¹æˆ‘æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ ä¸€ä¸ªé•¿è¿œçš„ç›®æ ‡å¯¹ç•Œå®šä½ æ˜¯è°ä»¥åŠä½ æƒ³è¦ä»€ä¹ˆéƒ½æ˜¯éå¸¸é‡è¦çš„ â—† å¦‚ä½•è¿ç”¨è¿™äº›æŠ€å·§ è§‚å¯Ÿå†…å¿ƒçš„æŠµæŠ— è‡ªç”±ä¹¦å†™ ä¸åšåˆ¤æ–­çš„æƒ…å†µä¸‹å»äº†è§£ä½ çš„æ€ç»´å’Œæƒ…ç»ª æŒ–æ˜ä½ çš„ææƒ§ï¼Œäº†è§£å†…å¿ƒçš„æŠµæŠ—ï¼Œæ‰¾å‡ºä½ çš„ä»·å€¼è§‚ï¼Œæ£€æŸ¥ä½ å¯¹æˆ‘ä»¬å»ºè®®çš„ååº”ï¼Œæˆ–è€…ç›‘æµ‹ä½ å¯¹æ”¹å˜çš„æ€åº¦ã€‚ åœ¨æˆ‘çœ‹åˆ°è‡ªå·±æ‰€å†™çš„æ–‡å­—ä¹‹å‰ï¼Œæˆ‘å¯¹è‡ªå·±çš„æ‰€æ€æ‰€æƒ³å¹¶ä¸æ˜¯ååˆ†äº†è§£ æ‹–å»¶vså¾æœä¹‹æˆ˜åä¸€ã€ ä½œæˆ˜å‰ä¼ ï¼šæ‹–å»¶å¤§ç›˜ç‚¹ å¦‚æœä½ ä»¥ä¸€ä¸ªæ—è§‚è€…çš„èº«ä»½æ¥è§‚å¯Ÿè‡ªå·±ï¼Œä½ å°±ä¼šå¯¹è‡ªå·±çš„æ‹–å»¶é—®é¢˜æœ‰æ›´å¤šçš„äº†è§£ ä¸€ä¸ªæ‹–å»¶è€…æ˜¯æ¯«æ— å¸Œæœ›çš„ï¼Œå³ä¾¿ä½ çš„æ‹–å»¶å·²ç»è”“å»¶åˆ°å¾ˆå¤šé¢†åŸŸï¼Œä½†æ˜¯æ€»æœ‰ä¸€äº›æ–¹é¢ä½ æ˜¯ä¸æ‹–å»¶çš„ã€‚ åäºŒã€ ä½œæˆ˜æ­¦å™¨ï¼šæ˜ç¡®çš„ç›®æ ‡ä¸å¯è¡Œæ€§çš„è®¡åˆ’ ä¸ºäº†è®¾ç«‹ä¸€ä¸ªæ›´ä¸ºç°å®çš„ç›®æ ‡ï¼Œæˆ‘ä»¬è¯·æ‹–å»¶è€…è®¾æƒ³ä¸€ä¸ªæœ€å°çš„ç›®æ ‡ã€‚ä½ å¯ä»¥è®¾ç«‹ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç›®æ ‡ï¼Œå®ƒæ—¢éå¸¸å°ï¼Œåˆå¯ä»¥ç»™ä½ å¸¦æ¥è¿›æ­¥æ„Ÿå’Œæˆå°±æ„Ÿï¼Ÿä¸€ å¯èƒ½æ˜¯åº”è¯¥ç»“æŸä¸€å¤©å·¥ä½œçš„ä¸€ä¸ªä¿¡å·ã€‚ å¥–èµè‡ªå·±çš„æƒ³æ³•å¯¹ä¸€ä¸ªæ‹–å»¶è€…è€Œè¨€æˆ–è®¸å¾ˆé™Œç”Ÿï¼Œå› ä¸ºä»–ä»¬å€¾å‘äºæƒ©ç½šè‡ªå·±è€Œä¸æ˜¯è¡¨æ‰¬è‡ªå·±ã€‚ æ–¯ç§‘ç‰¹ä»æ¥æ²¡æœ‰å¯¹è‡ªå·±æ‰€åšçš„äº‹æƒ…æ„Ÿåˆ°æ»¡æ„ï¼Œå› ä¸ºä»–çš„å…³æ³¨ç„¦ç‚¹å§‹ç»ˆåœç•™åœ¨é‚£äº›ä»–æ²¡æœ‰å®Œæˆçš„äº‹æƒ…ã€‚ å¾ˆå¤šæ—¶å€™åªæ˜¯æ€¥ç€èµ°ï¼Œæ„Ÿè§‰æ…¢ä¸‹æ¥å°±å¥½åƒå°‘äº†ç‚¹ä»€ä¹ˆ è¿™å¯¹æ‹–å»¶è€…è€Œè¨€æˆ–è®¸æœ‰ç‚¹éš¾åº¦ï¼Œä»–ä»¬ä¸å–œæ¬¢å›æƒ³æ‰€åšçš„å’Œæ²¡æœ‰åšçš„äº‹æƒ…ã€‚ åä¸‰ã€ ä½œæˆ˜æ–¹æ³•Aï¼šå­¦ä¼šæ€æ ·åˆ¤æ–­æ—¶é—´ æ‹–å»¶è€…å–œæ¬¢å¾…åœ¨ä¸€ä¸ªå…·æœ‰æ½œåœ¨å¯èƒ½æ€§çš„æ¨¡ç³Šç‹å›½ï¼Œè€Œä¸å–œæ¬¢ä¸€ä¸ªå…·ä½“çš„ã€å¯æµ‹é‡çš„æˆ–è€…æœ‰é™çš„æ—¶é—´æ¡†æ¶å†…ã€‚ è¿™æ˜¯æˆ‘å¬è¿‡å…³äºè®¡åˆ’çš„ï¼Œæœ€å¥½çš„ä¸€å¥ã€‚ â€œè®¡åˆ’æ˜¯å°†æœªæ¥å¸¦å…¥åˆ°å½“ä¸‹ï¼Œè¿™æ ·ä½ é©¬ä¸Šå°±å¯ä»¥åšä¸€äº›äº‹æƒ…æ¥åˆ›é€ æœªæ¥ã€‚â€ â€œè®¡åˆ’æ˜¯å°†æœªæ¥å¸¦å…¥åˆ°å½“ä¸‹ï¼Œè¿™æ ·ä½ é©¬ä¸Šå°±å¯ä»¥åšä¸€äº›äº‹æƒ…æ¥åˆ›é€ æœªæ¥ã€‚â€ å¦‚æœä»–ä»¬å°†å¨±ä¹ç”¨äºé€ƒé¿å·¥ä½œï¼Œä»–ä»¬å¯èƒ½å¹¶æ²¡æœ‰åœ¨è¿™æ ·çš„ç–¯ç‹‚æ¶ˆé£ä¸­æ„Ÿå—åˆ°å¤šå°‘çœŸæ­£çš„å¿«ä¹ åœ¨åšå®Œäº‹ä¹‹åï¼Œä½ è®°å½•å¾—è¶ŠåŠæ—¶ï¼Œå¥–èµçš„æ•ˆåŠ›å°±è¶Šæ˜¾è‘—ï¼Œå‡è½»æ‹–å»¶çš„ä¸€ä¸ªé‡è¦å› ç´ å°±æ˜¯æ›´å¿«åœ°ç»™äºˆå¥– è‡ªæˆ‘ç›‘æµ‹æœ‰åŠ©äºå¢è¿›å·¥ä½œæ—¶é—´å’Œæå‡å·¥ä½œæˆå°± å°†ä½ å¯¹å®Œæˆæ—¶é—´çš„é¢„æµ‹ä¸å®é™…ä½¿ç”¨æ—¶é—´åšå¯¹æ¯”ã€‚ æƒ©ç½šèµ·ä¸åˆ°æ¿€åŠ±ä½œç”¨ï¼Œèƒ¡èåœæ”¿ç­–è¦æ¯”å¤§æ£’æ”¿ç­–è¦ç®¡ç”¨å¾—å¤š â€œéæ­¤å³å½¼â€çš„è§‚å¿µå¯¹æ‹–å»¶è€…è€Œè¨€å§‹ç»ˆæ˜¯ä¸€ä¸ªä¸æ–­å‡ºç°çš„éšœç¢ çœŸæ­£çš„å¤±è´¥æ˜¯ç”Ÿæ´»ä¸­æ¯ä»¶äº‹ä½ éƒ½è¦å›ºæ‰§åœ°äº²åŠ›äº²ä¸ºï¼Œè¿™æ ·åšåªä¼šæœ‰ä¸€ä¸ªç»“æœï¼Œé‚£å°±æ˜¯ä½ åªèƒ½å®Œæˆå…¶ä¸­çš„ä¸€åŠã€‚ èƒ½å¤Ÿä»¥å¦ä¸€ä¸ªæ–¹å¼å°†äº‹æƒ…åšå®Œæ€»æ¯”æ‹–ç€ä¸åšè¦å¥½å¤šäº† è¿™ç§ç¦æ¬²ä¸»ä¹‰å’Œè‡ªæˆ‘æƒ©ç½šå‹çš„å¿ƒæ€å’Œåšæ³•å¹¶ä¸ä¼šå¢åŠ ä½ çš„åšäº‹æ•ˆç‡ï¼Œå®ƒåªä¼šå¢åŠ ä½ çš„å‹åŠ›å’Œè‹¦æ¼ï¼Œå¢åŠ å‹åŠ›å°±æ˜¯ç»™è‡ªå·±æ·»éº»çƒ¦ è¿‡äºå¿™ç¢Œæœ¬èº«æ˜¯å¦å°±æ˜¯æ‹–å»¶å‘¢ï¼Ÿ è¿™ç§ç†ç”±è®©è‡ªå·±æ„Ÿè§‰æŒ¯æŒ¯æœ‰è¯ï¼ â€œæˆ‘å¹¶æ²¡æœ‰åœ¨æ‹–å»¶ï¼Œæˆ‘åªæ˜¯å¤ªå¿™äº†ï¼Œæ— æ³•åŠæ—¶å¹²å®Œæ¯ä¸€ä»¶äº‹ã€‚â€ å­¦ä¼šåœ¨è¿‡å»ã€ç°åœ¨å’Œæœªæ¥ä¹‹é—´å–å¾—è®¤çŸ¥ä¸Šçš„å¹³è¡¡ ä¸è¦é»æ»åœ¨æ—¶é—´ä¸­ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚å¦‚æœä½ é»æ»åœ¨è¿‡å»ï¼Œä½ å°±æ— æ³•äº«å—ç°åœ¨ï¼Œä¹Ÿä¸èƒ½ä¸ºæœªæ¥åšæ‰“ç®—ï¼›å¦‚æœä½ é»æ»åœ¨ç°åœ¨ï¼Œä½ å°±å¤„äºå½“ä¸‹æ—¶åˆ»çš„æ§åˆ¶ä¹‹ä¸­ï¼Œè€Œå¤±å»äº†è·Ÿè¿‡å»å’Œæœªæ¥çš„è”ç³»ï¼Œä½ ä¹Ÿæ— æ³•ä»è‡ªå·±çš„ç»éªŒä¸­å—ç›Šï¼›å¦‚æœä½ é»æ»åœ¨æœªæ¥ï¼Œä½ å°±è¢«é”å®šåœ¨ä¸€ä¸ªå¹»æƒ³çš„ä¸–ç•Œï¼Œæ— è®ºè¿™ä¸ªå¹»æƒ³æ˜¯æ­£é¢çš„è¿˜æ˜¯è´Ÿé¢çš„ï¼Œä½ æ‰€èƒ½åšçš„å°±åªæœ‰è®¡åˆ’æˆ–è€…æ‹…å¿§ã€‚ é€šè¿‡æ‹–å»¶çš„æ–¹å¼æ¥çªƒå–ä¼‘é—²çš„æ—¶é—´ åå››ã€ ä½œæˆ˜æ–¹æ³•Bï¼šå­¦ä¼šâ€œæ¥å—â€å’Œâ€œæ‹’ç»â€ æ¶ˆè´¹é©±åŠ¨å¹¶ä»¥ç´¢å–ä¸ºå¯¼å‘çš„ç¤¾ä¼šä¸­ æ‹–å»¶è€…å¯¹åˆ«äººçš„ç›®æ ‡æ€»æ˜¯èƒ½å¤Ÿä¿æŒéå¸¸æ¸…é†’å’ŒåŠ¡å®çš„å¤´è„‘ï¼Œä½†æ˜¯å¯¹ä»–ä»¬è‡ªå·±çš„ç›®æ ‡å´ä¸€ç‰‡ç³Šæ¶‚ï¼Œè¿‡äºç†æƒ³åŒ– åº”å¯¹æŒ‘æˆ˜æœ‰åˆ©äºä½ çš„æˆé•¿ã€‚ å¯¹æ‚ä¹±æ— åºè¯´ä¸ å¯¹ç”µå­æ‚ç‰©è¯´ä¸ï¼å¤ªå¤šä¿¡æ¯æ¶Œè¿›æ¥ï¼Œè¿œè¿œè¶…è¿‡äº†å¤§è„‘æ‰€èƒ½å¤„ç†çš„èŒƒå›´ åäº”ã€ ä½œæˆ˜æ–¹æ³•Cï¼šåˆ©ç”¨ä½ çš„èº«ä½“å‡è½»æ‹–å»¶ æ­£å¿µï¼ˆmindfulnessï¼‰æŒ‡çš„æ˜¯â€œåœ¨å½“ä¸‹æ—¶åˆ»å¯¹å‘¨é­ç¯å¢ƒä¸å¸¦åˆ¤æ–­åœ°ä¿æŒæœ‰æ„è¯†çš„è§‰å¯Ÿâ€ å½“ä»–ä»¬å°†æ³¨æ„åŠ›æ”¾åœ¨ä»–ä»¬çš„å‘¼å¸ä¸Šï¼Œè€Œæ²¡æœ‰æƒ³è¦æ”¹å˜ä»»ä½•äº‹æƒ…çš„æ—¶å€™ï¼Œä»–ä»¬çš„å¸æ°”å°±å¼€å§‹å˜å¾—æ›´ç¼“æ…¢ã€æ›´å……åˆ†ï¼Œä»–ä»¬çš„å‘¼æ°”ä¹Ÿä¼šå˜å¾—æ›´æ·±é•¿ã€‚ å…‰æ˜¯æ„Ÿå—åˆ°è‡ªå·±æ´»ç”Ÿç”Ÿçš„èº«ä½“å’Œå¿ƒçµï¼Œå°±å·²ç»è®©ä½ å†…å¿ƒå……æ»¡æ„Ÿæ¿€ä¹‹æƒ…ã€‚ æ‹–å»¶vså»ºè®®åå…­ã€ å¯¹æ‚£æœ‰æ³¨æ„åŠ›ç¼ºå¤±ç´Šä¹±å’Œæ‰§è¡ŒåŠŸèƒ½éšœç¢æ‹–å»¶è€…çš„ä¸€äº›å»ºè®® éš¾ä»¥ç®¡æ§å†²åŠ¨å’Œå¹²æ‰° å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯è¦æœ‰ç­–ç•¥åœ°å»å‡å°‘å¹²æ‰°çš„æ•°é‡ï¼Œå¹¶æé†’è‡ªå·±å›åˆ°æ­£åœ¨ä»äº‹çš„äº‹æƒ…ã€‚ è‡ªæˆ‘ç›‘ç£çš„èƒ½åŠ›æ˜¯ä¸€é¡¹é‡è¦çš„æ‰§è¡ŒåŠŸèƒ½ã€‚ å¦‚æœä½ åœ¨åšè¿™äº›äº‹æƒ…çš„æ—¶å€™å½¢æˆäº†æƒ¯ä¾‹ï¼Œé‚£ä¹ˆä½ å°±ä¸å¤ªå¯èƒ½ä¼šå°†å®ƒä»¬æ¨è¿Ÿã€‚ åä¸ƒã€ å·§å¦™åº”å¯¹é€ æˆæ‹–å»¶çš„æ–‡åŒ–å‹åŠ› å“ªé‡Œæœ‰å°´å°¬å’Œä¸èˆ’æœï¼Œå“ªé‡Œå°±æ½œä¼ç€æ‹–å»¶çš„å¯èƒ½æ€§ï¼šå­¦ç”Ÿä»¬å¯èƒ½ä¼šæ¨è¿Ÿä¸å®¶äººå’Œè€æœ‹å‹çš„æ¥è§¦ï¼Œå¯èƒ½è¿˜ä¼šæ‹–å»¶åŠŸè¯¾ï¼Œé˜»æŒ¡è‡ªå·±åœ¨å­¦ä¸šä¸Šå–å¾—è¿›æ­¥ï¼Œè¿™æ˜¯ä»–ä»¬è·ŸåŸæœ‰ç¤¾äº¤åœˆå‡å°‘éš”é˜‚çš„ä¸€ç§æ–¹å¼ã€‚ è‡ªæˆ‘æ€€ç–‘ä¼šè…èš€ä½ çš„è‡ªä¿¡ï¼Œæ‰“å‡»ä½ å°è¯•æ–°äº‹ç‰©å’Œå†’é™©çš„æ„æ„¿ã€‚ ç¥ç»ç§‘å­¦å®¶è®¤ä¸ºæˆäººä¿æŒå¤§è„‘æ´»è·ƒçš„æœ€å¥½åŠæ³•å°±æ˜¯å»å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€ã€‚ åå…«ã€ èªæ˜æ‘†è„±è¢«åŠ¨æ‹–å»¶çš„æ€ªåœˆ æƒ³è¦æ‹–å»¶è€…åšæŸä»¶äº‹æƒ…ï¼Œä½†æ˜¯ä»–ä¸åšã€‚ å½“ä½ è¯´â€œåªç®¡åšâ€çš„æ—¶å€™ï¼Œä½ å¼ºè°ƒçš„æ˜¯ï¼šæ‹–å»¶è€…æ²¡æœ‰èƒ½åŠ›å»åšæ¯ä¸ªäººéƒ½èƒ½å¤Ÿåšçš„äº‹æƒ…ã€‚è¿™è®©æ‹–å»¶è€…çš„æ„Ÿè§‰æ›´å·®ã€‚ å¼ºåŒ–äº†æ‹–å»¶è€…çš„æœŸå¾…ï¼Œä»–ä»¬ä¼šæ›´åŠ æŒ‡æœ›åœ¨æœ€åæ—¶åˆ†æœ‰äººæ¥æ‹¯æ•‘ä»–ä»¬ã€‚ é•¿æœŸæ¥çœ‹ï¼Œå°†é‡å¿ƒæ”¾åœ¨è¿‡ç¨‹ä¸Šåè€Œæœ‰åˆ©äºè·å¾—ä¸€ä¸ªæ›´å¥½çš„ç»“æœï¼Œå­¦ä¹ çš„ä¹è¶£ä¼šå¼ºåŒ–å­¦ä¹ çš„åŠ¨åŠ›ã€‚ ä¿æŒä½ çš„ä¸ªäººç«‹åœº å‹‡æ°”ä¸æ˜¯ä¸ææƒ§ï¼Œè€Œæ˜¯å¾æœææƒ§ã€‚ åˆ¶è‡ªå·±è¯´è¿™æ ·çš„è¯ï¼Œâ€œä½ ä¸ºä»€ä¹ˆä¸ç›´æ¥å»åšå‘¢ï¼Ÿâ€æˆ–å…¶ä»–ä¸€äº›è¯´æ³•ï¼Œå°¤å…¶ä¸è¦å¸¦ç€æ¼æ€’ã€ä¸ä¿¡ä»»ã€è›®æ¨ªæˆ–è€…å…¶ä»–ç±»ä¼¼çš„è¯­è°ƒè·Ÿå­©å­è¯´è¯ã€‚ æ‹–å»¶è€…èƒ½å¤Ÿæ¬£èµåˆ«äººèº«ä¸Šçš„ä¼˜è‰¯å“è´¨ï¼Œä½†æ˜¯å´æ— æ³•çè§†è‡ªå·±èº«ä¸Šçš„è¿™äº›å“è´¨ï¼Œä»–ä»¬è®¤ä¸ºä»–ä»¬å°±æ˜¯ä»–ä»¬æ‰€åšçš„äº‹æƒ…ã€‚ åè®° å› æ­¤ï¼Œæ‹–å»¶çœŸçš„å°±åƒä¸€æ£µè’²å…¬è‹±ï¼Œä¸æ˜¯å—ï¼Ÿå®ƒå…·æœ‰é”™ç»¼å¤æ‚çš„æ ¹é¡»ï¼Œå¾ˆéš¾å®Œå…¨æ ¹é™¤ã€‚è¯·ä½ æ‹”å‡ºè¿™äº›è’²å…¬è‹±ï¼Œä¸€æ¬¡ä¸€æ£µï¼Œè¿™æ ·ä½ çš„èŠ±å›­æ‰ä¸ä¼šè¢«è’²å…¬è‹±å…¨éƒ¨å æ®ï¼Œä½ æ‰æœ‰ç©ºé—´å»ç§æ¤å…¶ä»–ä½ æ‰€å–œæ¬¢çš„æ¤ç‰© å¿«ä¹æ¥è‡ªäºæŒ‰ç…§ä½ çš„ä»·å€¼è§‚å¥åº·åœ°ç”Ÿæ´»ï¼Œæ¥è‡ªäºè·Ÿä»–äººå’Œè·Ÿè‡ªå·±å†…å¿ƒæ·±å¤„çš„è¿é€šï¼Œå®ƒè¿˜æ¥è‡ªäºèƒ½å¤Ÿæ¥å—è‡ªå·±æœ¬æ¥çš„æ ·å­ï¼Œæ¥è‡ªäºä¸ç®¡æ‹–å»¶æ˜¯å¦æ˜¯ä½ ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä»èƒ½å¤Ÿå¦‚å®åœ°æ¥å—å®ƒï¼Œå°±åƒè™½ç„¶èŠ±å›­é‡Œé•¿ç€ä¸€äº›è’²å…¬è‹±ï¼Œè€Œä½ ä¾ç„¶èƒ½å¤Ÿä¹åœ¨å…¶ä¸­ã€‚ ä½ å¿…é¡»è¦æœ‰ä¸€æ®µè®©è‡ªæˆ‘æ§åˆ¶ç¨äº‹æ”¾æ¾çš„æ—¶é—´ å…³äºè‡ªæˆ‘çº¦æŸèƒ½åŠ›å·®ï¼Œå­˜åœ¨ç€å¾ˆå¤šä¸åŒçš„è§£é‡Šï¼Œä½†æ˜¯æ²¡æœ‰ä¸€ç§è§£é‡Šå°†å®ƒè”ç³»åˆ°å“è¡Œé—®é¢˜ã€‚ é‚£ç§é€‚åº”ä¸è‰¯çš„å®Œç¾ä¸»ä¹‰è€…ã€‚ å°±åœ¨ä»–ä»¬è¿™æ ·çš„å£°æ˜ä¸­å·²ç»åæ˜ å‡ºä»–ä»¬å®Œç¾ä¸»ä¹‰çš„æ€åº¦ã€‚ å¼€æ”¾æ€§ï¼ˆç†æ™ºä¸Šçš„å¥½å¥‡å¿ƒã€åˆ›é€ æ€§å’Œæƒ³è±¡åŠ›ã€å¯¹è‰ºæœ¯ä¸ç¾çš„æ¬£èµï¼‰ã€å®œäººæ€§ï¼ˆåˆä½œã€ä¸ºä»–äººè€ƒè™‘ã€å…³å¿ƒäººé™…å’Œè°ã€ä¹è§‚ã€è¯šå®ï¼‰ã€å¯»æ±‚åˆºæ¿€ï¼ˆè¿™è·Ÿå†’é™©ç¨å¾®æœ‰ä¸€ç‚¹è”ç³»ï¼‰å’Œæ™ºèƒ½ç­‰ å•å•ä¾é å¯¹å–œæ¬¢å’Œä¸å–œæ¬¢çš„è¡¨é¢æ±‡æŠ¥å°±å¯¹äººä»¬æ‹–å»¶çš„åŸå› åšå‡ºè§£é‡Šæ˜¯ä¸€ä¸ªé”™è¯¯ å¯èƒ½åªä¸è¿‡æ˜¯å‡ºäºäººä»¬å¯¹å¾ˆå¤šç”Ÿæ´»è´£ä»»çš„åŒæ¶è¿™ä¸€è§‚ç‚¹ äººä»¬å¹¶ä¸æ€»æ˜¯ä¼šåšå‡ºç†æ€§çš„ç»æµé€‰æ‹© å¿ƒç†å­¦ä¸ç»æµå­¦ äººä»¬è¿‡ä»½å¼ºè°ƒäº†å½“å‰äº‹æƒ…çš„é‡è¦æ€§ï¼Œè€Œä½ä¼°äº†æœªæ¥äº‹æƒ…çš„é‡è¦æ€§ï¼Œä»–å°†è¿™ç§å€¾å‘ç§°ä¸ºâ€œæœªæ¥æŠ˜æ‰£â€ æ‹–å»¶è€…åœ¨å¯¹ä»»åŠ¡é‡è¦æ€§çš„è¯„ä¼°ä¸Šæ˜¯å‰åä¸ä¸€è‡´çš„ï¼Œè€Œè¿™ç§ä¸ä¸€è‡´å¯¼è‡´ä»–å¾ˆéš¾å‘ç€æœªæ¥ç›®æ ‡æŒç»­ç¨³å®šåœ°è¿ˆè¿›ã€‚ éç†æ€§ä¹è§‚ä¸»ä¹‰è·Ÿä¸€ä¸ªäººçš„è‡ªæˆ‘åœ¨æ—¶é—´è·¨åº¦ä¸­çš„å»¶ç»­æ„Ÿæœ‰å…³ æ¯ä¸ªäººéƒ½æœ‰ç»™æœªæ¥æ‰“æŠ˜æ‰£çš„å€¾å‘ã€‚ å¢åŠ ä¸€ä¸ªäººå¯¹æˆåŠŸçš„æœŸæœ›æ˜¯å‡å°‘æ‹–å»¶çš„å¦ä¸€ä¸ªå¥½åŠæ³•]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å¿ƒç†å­¦</tag>
        <tag>æ‹–å»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-ç®—æ³•è®¾è®¡æŠ€å·§]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚æ¬¢è¿æœ‰å…´è¶£å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘ï¼Œæ¬¢è¿issueï¼Œæˆ–è€…ç›´æ¥æäº¤pull requestã€‚ å½“ä½ é‡åˆ°æ–°é—®é¢˜çš„æ—¶å€™ï¼Œéœ€è¦å¯»æ‰¾æ–°çš„ç®—æ³•ã€‚ æ˜¯å¦æœ‰ç±»ä¼¼çš„å…¶å®ƒé—®é¢˜ï¼Ÿå¦‚æœæ‚¨å¯ä»¥æ ¹æ®å¦ä¸€ä¸ªæ›´æ™®éçš„é—®é¢˜æ¥æ„å»ºè§£å†³ä½ ç›®å‰éœ€è¦è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨ç°æœ‰ç®—æ³•ã€‚ ä¸ºä»€ä¹ˆé‡æ–°å‘æ˜è½®å­ï¼Ÿ æˆ‘å–œæ¬¢Steven Skienaçš„ç®—æ³•è®¾è®¡æ‰‹å†Œï¼Œå®ƒåŒ…å«äº†ä¸€ç³»åˆ—å¯ä»¥å°è¯•çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚(å¦è§Steven Skienaçš„ç®—æ³•åº“) è¯‘æ³¨ï¼šè±†ç“£ ç®—æ³•è®¾è®¡æ‰‹å†Œ å¯ä»¥ä»æš´åŠ›æ–¹æ¡ˆå¼€å§‹åŸå§‹è€Œæš´åŠ›çš„è§£å†³æ–¹æ¡ˆé€šå¸¸å¯¹å®é™…ä½¿ç”¨è€Œè¨€å¤ªæ…¢ï¼Œä½†å®ƒä»¬æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚ é€šè¿‡ç¼–å†™æš´åŠ›è§£å†³æ–¹æ¡ˆï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ç†è§£é—®é¢˜çš„çœŸæ­£å«ä¹‰ã€‚ ä¸€æ—¦ä½ æœ‰ä¸€ä¸ªæš´åŠ›å®æ–½æ–¹æ¡ˆï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒæ¥éªŒè¯ä½ æå‡ºçš„ä»»ä½•æ”¹è¿›æ˜¯å¦æ­£ç¡®çš„ã€‚ å¦‚æœæ‚¨åªä½¿ç”¨å°å‹æ•°æ®é›†ï¼Œé‚£ä¹ˆæš´åŠ›æ–¹æ³•å®é™…ä¸Šå¯èƒ½è¶³å¤Ÿå¥½ã€‚ ä¸è¦é™·å…¥è¿‡æ—©ä¼˜åŒ–çš„é™·é˜±ï¼ åˆ†è€Œæ²»ä¹‹ â€œå½“ä½ æ”¹å˜ä½ çœ‹å¾…äº‹ç‰©çš„æ–¹å¼æ—¶ï¼Œä½ çœ‹åˆ°çš„ä¸œè¥¿ä¼šå‘ç”Ÿå˜åŒ–ã€‚â€ â€”â€” é©¬å…‹æ–¯Â·æ™®æœ—å…‹ï¼Œé‡å­ç‰©ç†å­¦å®¶å’Œè¯ºè´å°”å¥–è·å¾—è€… åˆ†è€Œæ²»ä¹‹æ˜¯ä¸€ç§å¤„ç†å¤§é—®é¢˜çš„æ–¹æ³•ï¼Œå°†å…¶åˆ†è§£æˆç¢ç‰‡å¹¶é€æ­¥å‘è§£å†³æ–¹æ¡ˆè¿ˆè¿›ã€‚ ä¸æ˜¯å°†æ•´ä¸ªé—®é¢˜çœ‹ä½œä¸€ä¸ªå•ä¸€ï¼Œåºå¤§è€Œå¤æ‚çš„ä»»åŠ¡ï¼Œè€Œæ˜¯å°†é—®é¢˜åˆ†æˆç›¸å¯¹è¾ƒå°çš„é—®é¢˜ï¼Œè¿™æ ·é—®é¢˜æ›´å®¹æ˜“ç†è§£å’Œå¤„ç†ã€‚ æ‚¨å¯ä»¥è§£å†³è¾ƒå°çš„é—®é¢˜å¹¶èšåˆè§£å†³æ–¹æ¡ˆï¼Œç›´åˆ°æ‚¨åªä½¿ç”¨è§£å†³æ–¹æ¡ˆã€‚ åœ¨æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œæ‰‹å¤´çš„é—®é¢˜éƒ½ä¼šç¼©å°ï¼Œè§£å†³æ–¹æ¡ˆä¼šå˜å¾—æˆç†Ÿï¼Œç›´åˆ°æ‚¨æ‹¥æœ‰æœ€ç»ˆæ­£ç¡®çš„è§£å†³æ–¹æ¡ˆã€‚å°†é—®é¢˜åˆ†è§£ä¸ºè§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œå°†è¿™äº›è§„æ¨¡æ›´å°çš„å­é—®é¢˜é€ä¸ªå‡»ç ´ï¼Œç„¶åå°†å·²è§£å†³çš„å­é—®é¢˜åˆå¹¶ï¼Œæœ€ç»ˆå¾—å‡ºâ€œæ¯â€é—®é¢˜çš„è§£ã€‚ å°†ç›¸åŒçš„è§£å†³æ–¹æ¡ˆé‡å¤åœ°ï¼ˆæˆ–ç»å¸¸é€’å½’åœ°ï¼‰åº”ç”¨äºè§£å†³è¾ƒå°çš„ä»»åŠ¡ï¼Œä»è€Œåœ¨æ›´çŸ­çš„æ—¶é—´å†…è·å¾—ç»“æœã€‚]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-å¤§Oè¡¨ç¤ºæ³•]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E5%A4%A7O%E8%A1%A8%E7%A4%BA%E6%B3%95.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚æ¬¢è¿æœ‰å…´è¶£å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘ï¼Œæ¬¢è¿issueï¼Œæˆ–è€…ç›´æ¥æäº¤pull requestã€‚ çŸ¥é“æŸä¸ªç®—æ³•çš„è¿è¡Œé€Ÿåº¦å’Œå ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå¯¹äºé€‰æ‹©æ­£ç¡®çš„ç®—æ³•æ¥è§£å†³é—®é¢˜éå¸¸æœ‰å¸®åŠ©ã€‚ å¤§Oè¡¨ç¤ºæ³• èƒ½è®©ä½ å¯¹ä¸€ä¸ªç®—æ³•çš„è¿è¡Œæ—¶é—´å’Œå ç”¨å†…å­˜æœ‰ä¸ªå¤§æ¦‚æ¦‚å¿µã€‚å½“æœ‰äººè¯´ï¼Œâ€œè¿™ä¸ªç®—æ³•åœ¨æœ€ç³Ÿæƒ…å†µä¸‹çš„è¿è¡Œæ—¶é—´æ˜¯ O(n^2)ï¼Œè€Œä¸”å ç”¨äº† O(n) å¤§å°çš„ç©ºé—´â€æ—¶ï¼Œä»–çš„æ„æ€æ˜¯è¿™ä¸ªç®—æ³•æœ‰ç‚¹æ…¢ï¼Œä¸è¿‡æ²¡å å¤šå¤§å†…å­˜ã€‚ è¦çŸ¥é“ä¸€ä¸ªç®—æ³•çš„å¤§O è¡¨ç¤ºæ³•é€šå¸¸è¦é€šè¿‡æ•°å­¦åˆ†æã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä¼šæ¶‰åŠå…·ä½“çš„æ•°å­¦ï¼Œä¸è¿‡çŸ¥é“ä¸åŒçš„å€¼æ„å‘³ç€ä»€ä¹ˆä¼šå¾ˆæœ‰ç”¨ã€‚æ‰€ä»¥è¿™é‡Œæœ‰ä¸€å¼ æ–¹ä¾¿çš„è¡¨ã€‚n åœ¨è¿™é‡Œä»£è¡¨çš„æ„æ€æ˜¯æ•°æ®çš„ä¸ªæ•°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“å¯¹ä¸€ä¸ªæœ‰ 100 ä¸ªå…ƒç´ çš„æ•°ç»„è¿›è¡Œæ’åºæ—¶ï¼Œn = 100ã€‚ Big-Oè¡¨ç¤ºç¬¦å· åå­— æè¿° O(1) å¸¸æ•°çº§ æœ€å¥½çš„ã€‚ä¸è®ºè¾“å…¥æ•°æ®é‡æœ‰å¤šå¤§ï¼Œè¿™ä¸ªç®—æ³•çš„è¿è¡Œæ—¶é—´æ€»æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å­: åŸºäºç´¢å¼•å–å‡ºæ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ã€‚ O(log n) å¯¹æ•°çº§ ç›¸å½“å¥½ã€‚è¿™ç§ç®—æ³•æ¯æ¬¡å¾ªç¯æ—¶ä¼šæŠŠéœ€è¦å¤„ç†çš„æ•°æ®é‡å‡åŠã€‚å¦‚æœä½ æœ‰ 100 ä¸ªå…ƒç´ ï¼Œåˆ™åªéœ€è¦ä¸ƒæ­¥å°±å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚1000 ä¸ªå…ƒç´ åªè¦åæ­¥ã€‚100,0000 å…ƒç´ åªè¦äºŒåæ­¥ã€‚å³ä¾¿æ•°æ®é‡å¾ˆå¤§è¿™ç§ç®—æ³•ä¹Ÿéå¸¸å¿«ã€‚ä¾‹å­ï¼šäºŒåˆ†æŸ¥æ‰¾ã€‚ O(n) çº¿æ€§çº§ è¿˜ä¸é”™ã€‚å¦‚æœä½ æœ‰ 100 ä¸ªå…ƒç´ ï¼Œè¿™ç§ç®—æ³•å°±è¦åš 100 æ¬¡å·¥ä½œã€‚æ•°æ®é‡ç¿»å€é‚£ä¹ˆè¿è¡Œæ—¶é—´ä¹Ÿç¿»å€ã€‚ä¾‹å­ï¼šçº¿æ€§æŸ¥æ‰¾ã€‚ O(n log n) çº¿æ€§å¯¹æ•°çº§ è¿˜å¯ä»¥ã€‚æ¯”çº¿æ€§çº§å·®äº†ä¸€äº›ï¼Œä¸è¿‡ä¹Ÿæ²¡é‚£ä¹ˆå·®åŠ²ã€‚ä¾‹å­ï¼šæœ€å¿«çš„é€šç”¨æ’åºç®—æ³•ã€‚ O(n^2) äºŒæ¬¡æ–¹çº§ æœ‰ç‚¹æ…¢ã€‚å¦‚æœä½ æœ‰ 100 ä¸ªå…ƒç´ ï¼Œè¿™ç§ç®—æ³•éœ€è¦åš 100^2 = 10000 æ¬¡å·¥ä½œã€‚æ•°æ®é‡ x 2 ä¼šå¯¼è‡´è¿è¡Œæ—¶é—´ x 4 (å› ä¸º 2 çš„ 2 æ¬¡æ–¹ç­‰äº 4)ã€‚ä¾‹å­ï¼šå¾ªç¯å¥—å¾ªç¯çš„ç®—æ³•ï¼Œæ¯”å¦‚æ’å…¥æ’åºã€‚ O(n^3) ä¸‰æ¬¡æ–¹çº§ ç‰¹åˆ«æ…¢ã€‚å¦‚æœä½ æœ‰ 100 ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¿™ç§ç®—æ³•å°±è¦åš 100^3 = 100,0000 æ¬¡å·¥ä½œã€‚æ•°æ®é‡ x 2 ä¼šå¯¼è‡´è¿è¡Œæ—¶é—´ x 8ã€‚ä¾‹å­ï¼šçŸ©é˜µä¹˜æ³•ã€‚ O(2^n) æŒ‡æ•°çº§ è¶…çº§æ…¢ã€‚è¿™ç§ç®—æ³•ä½ è¦æƒ³æ–¹è®¾æ³•é¿å…ï¼Œä½†æœ‰æ—¶å€™ä½ å°±æ˜¯æ²¡å¾—é€‰ã€‚åŠ ä¸€ç‚¹ç‚¹æ•°æ®å°±ä¼šæŠŠè¿è¡Œæ—¶é—´æˆå€çš„åŠ é•¿ã€‚ä¾‹å­ï¼šæ—…è¡Œå•†é—®é¢˜ã€‚ O(n!) é˜¶ä¹˜çº§ æ¯”èœ—ç‰›è¿˜æ…¢ï¼ä¸ç®¡å¹²ä»€ä¹ˆéƒ½è¦è·‘ä¸ª N å¹´æ‰èƒ½å¾—åˆ°ç»“æœã€‚ ä»¥ä¸‹æ˜¯æ¯ç§å¤§Oè¡¨ç¤ºæ³•çš„ç¤ºä¾‹ï¼š O(1) O(1)å¤æ‚æ€§çš„æœ€å¸¸è§ç¤ºä¾‹æ˜¯è®¿é—®æ•°ç»„ç´¢å¼•ã€‚ 1let value = array[5] Another example of O(1) is pushing and popping from Stack. å¦å¤–ä¸€ä¸ªO(1)çš„ä¾‹å­æ˜¯æ ˆçš„æ¨è¿›å’Œå¼¹å‡ºã€‚ O(log n) 12345678910111213141516 var j = 1 while j &lt; n &#123; // do constant time stuff j *= 2 &#125; ``` ä¸æ˜¯ç®€å•åœ°é€’å¢ï¼Œ'j'åœ¨æ¯æ¬¡è¿è¡Œä¸­å¢åŠ 2å€ã€‚äºŒåˆ†æœç´¢ç®—æ³•æ˜¯O(log n)å¤æ‚åº¦çš„ç¤ºä¾‹ã€‚**O(n)** ```swift for i in stride(from: 0, to: n, by: 1) &#123; print(array[i]) &#125; æ•°ç»„éå†å’Œçº¿æ€§æœç´¢æ˜¯O(n)å¤æ‚æ€§çš„ç¤ºä¾‹ã€‚ O(n log n) 1234567for i in stride(from: 0, to: n, by: 1) &#123;var j = 1 while j &lt; n &#123; j *= 2 // do constant time stuff &#125;&#125; æˆ– 12345678for i in stride(from: 0, to: n, by: 1) &#123; func index(after i: Int) -&gt; Int? &#123; // multiplies `i` by 2 until `i` &gt;= `n` return i &lt; n ? i * 2 : nil &#125; for j in sequence(first: 1, next: index(after:)) &#123; // do constant time stuff &#125;&#125; åˆå¹¶æ’åºå’Œå †æ’åºæ˜¯O(n log n)å¤æ‚åº¦çš„ç¤ºä¾‹ã€‚ O(n^2) 12345for i in stride(from: 0, to: n, by: 1) &#123; for j in stride(from: 1, to: n, by: 1) &#123; // do constant time stuff &#125;&#125; éå†ç®€å•çš„äºŒç»´æ•°ç»„å’Œå†’æ³¡æ’åºæ˜¯O(n^2)å¤æ‚åº¦çš„ç¤ºä¾‹ã€‚ O(n^3) 1234567891011121314151617181920212223 for i in stride(from: 0, to: n, by: 1) &#123; for j in stride(from: 1, to: n, by: 1) &#123; for k in stride(from: 1, to: n, by: 1) &#123; // do constant time stuff &#125; &#125; &#125; ``` **O(2^n)** å…·æœ‰è¿è¡Œæ—¶é—´O(2^N)çš„ç®—æ³•é€šå¸¸æ˜¯é€’å½’ç®—æ³•ï¼Œå…¶é€šè¿‡é€’å½’åœ°è§£å†³å¤§å°ä¸ºN-1çš„ä¸¤ä¸ªè¾ƒå°é—®é¢˜æ¥è§£å†³å¤§å°ä¸ºNçš„é—®é¢˜ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ‰“å°äº†è§£å†³è‘—åçš„Nç›˜â€œæ±‰è¯ºå¡”â€é—®é¢˜æ‰€éœ€çš„æ‰€æœ‰åŠ¨ä½œã€‚ ```swift func solveHanoi(n: Int, from: String, to: String, spare: String) &#123; guard n &gt;= 1 else &#123; return &#125; if n &gt; 1 &#123; solveHanoi(n: n - 1, from: from, to: spare, spare: to) &#125; else &#123; solveHanoi(n: n - 1, from: spare, to: to, spare: from) &#125; &#125; O(n!) ä¸‹é¢ç»™å‡ºäº†O(n!)çš„æœ€ç®€å•çš„ä¾‹å­ã€‚ 12345func nFactFunc(n: Int) &#123; for i in stride(from: 0, to: n, by: 1) &#123; nFactFunc(n: n - 1) &#125;&#125; å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½ ç”¨ç›´è§‰å°±å¯ä»¥çŸ¥é“ä¸€ä¸ªç®—æ³•çš„å¤§O è¡¨ç¤ºæ³•ï¼Œä¸éœ€è¦ä½¿ç”¨æ•°å­¦ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœä½ çš„ä»£ç ç”¨ä¸€ä¸ªå¾ªç¯éå†ä½ è¾“å…¥çš„æ¯ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªç®—æ³•å°±æ˜¯ O(n)ã€‚å¦‚æœæ˜¯å¾ªç¯åµŒå¥—å¾ªç¯ï¼Œé‚£å°±æ˜¯ O(n^2)ã€‚å¦‚æœ3ä¸ªå¾ªç¯åµŒå¥—åœ¨ä¸€èµ·å°±æ˜¯ O(n^3)ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ³¨æ„ï¼Œå¤§O è¡¨ç¤ºæ³•åªæ˜¯ä¸€ç§ä¼°ç®—ï¼Œå½“æ•°æ®é‡å¤§çš„æ—¶å€™æ‰æœ‰ç”¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ’å…¥æ’åºçš„æœ€ç³Ÿæƒ…å†µè¿è¡Œæ—¶é—´æ˜¯ O(n^2)ã€‚ ç†è®ºä¸Šæ¥è¯´å®ƒçš„è¿è¡Œæ—¶é—´æ¯”å½’å¹¶æ’åºè¦æ…¢ä¸€äº›ï¼Œå½’å¹¶æ’åºæ˜¯ O(n log n)ã€‚ä½†å¯¹äºå°æ•°æ®é‡ï¼Œæ’å…¥æ’åºå®é™…ä¸Šæ›´å¿«ä¸€äº›ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å·²ç»æœ‰ä¸€éƒ¨åˆ†æ•°æ®æ˜¯æ’åºå¥½çš„æ•°ç»„ã€‚ å¦‚æœä½ çœ‹å®Œæ²¡æ‡‚ï¼Œä¹Ÿä¸è¦å¤ªçº ç»“äº†ã€‚è¿™ç§ä¸œè¥¿ä»…ä»…åœ¨æ¯”è¾ƒä¸¤ç§ç®—æ³•å“ªç§æ›´å¥½çš„æ—¶å€™æ‰æœ‰ç‚¹ç”¨ã€‚ä½†å½’æ ¹ç»“åº•ï¼Œä½ è¿˜æ˜¯è¦å®é™…æµ‹è¯•ä¹‹åæ‰èƒ½å¾—å‡ºç»“è®ºã€‚è€Œä¸”å¦‚æœæ•°æ®é‡ç›¸å¯¹è¾ƒå°ï¼Œå“ªæ€•ç®—æ³•æ¯”è¾ƒæ…¢ï¼Œåœ¨å®é™…ä½¿ç”¨ä¹Ÿä¸ä¼šé€ æˆå¤ªå¤§çš„é—®é¢˜ã€‚]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>Big-O</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-ä¸ºä»€ä¹ˆè¦å­¦ä¹ ç®—æ³•ä¸æ•°æ®ç»“æ„ï¼Ÿ]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚æ¬¢è¿æœ‰å…´è¶£å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘ï¼Œæ¬¢è¿issueï¼Œæˆ–è€…ç›´æ¥æäº¤pull requestã€‚ å¦‚æœä½ å·²ç»å†™è¿‡ä¸€äº›ä»£ç ï¼Œä½ ä¹Ÿè®¸å°±ä¼šå¥½å¥‡å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„çš„æ„ä¹‰ä½•åœ¨ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ æ²¡æœ‰æ¥å—è¿‡è®¡ç®—æœºç§‘å­¦ä¸“ä¸šçš„é«˜ç­‰æ•™è‚²ã€‚ æ¯•ç«Ÿï¼Œåœ¨å¹³æ—¶çš„ç¼–ç å·¥ä½œä¸­ï¼Œåˆ°åº•ä¼šæœ‰å¤šå°‘æœºä¼šéœ€è¦è‡ªå·±äº²è‡ªç¼–å†™ä¸€ä¸ªé“¾è¡¨æˆ–æ’åºç®—æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¯èƒ½æ°¸è¿œéƒ½ä¸ä¼šã€‚ ç„¶è€Œâ€¦äº†è§£ä¸€ç‚¹ç°æœ‰ç®—æ³•è§£å†³é—®é¢˜æ—¶æ‰€ç”¨çš„å¥‡æŠ€æ·«å·§å¯èƒ½ä¼šç»™äºˆä½ å¯å‘ï¼Œè®©ä½ èƒ½æ›´å¥½åœ°ä¼˜åŒ–è‡ªå·±çš„ä»£ç ã€‚ é™¤äº†è‡ªå¸¦çš„æ ‡å‡†æ•°ç»„å’Œå­—å…¸ä¹‹å¤–ï¼Œäº†è§£ä¸€äº›å…¶å®ƒçš„æ•°æ®ç»“æ„è®©ä½ åœ¨æ„å»ºè‡ªå·±çš„ App æ—¶æ‹¥æœ‰æ›´å¤šçš„é€‰æ‹©ã€‚ å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¼šåŠ©ä½ æˆä¸ºæ›´å¥½çš„å¼€å‘è€…ï¼ï¼ˆå½“ç„¶ä¹Ÿå°±æ„å‘³äº†å¯ä»¥èµšåˆ°æ›´å¤šçš„$$$ï¼‰ è¿ç”¨ç®—æ³•èƒ½è®©ä½ ç¼–å†™å‡ºå…¶å®ƒæ–¹å¼ç¼–å†™ä¸å‡ºçš„è½¯ä»¶è¿‡å»æ›¾ç»åœ¨ç¼–å†™ App æ—¶é‡åˆ°è¿‡ç“¶é¢ˆï¼Œæ— æ³•ç»§ç»­ç¼–å†™ä¸‹å»ï¼Œå› ä¸ºæˆ‘é™·å…¥åˆ°äº†ä¸€äº›åŸºç¡€çš„é—®é¢˜ä¸­ï¼Œæ— æ³•è‡ªæ‹”ã€‚ é€šå¸¸çš„ç“¶é¢ˆéƒ½æ˜¯è¿è¡Œé€Ÿåº¦çš„é—®é¢˜ï¼Œæˆ‘çš„ App ä¸å¤Ÿå¿«ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼ŒåŸå› å¤šæ˜¯æˆ‘åœ¨è§£å†³é—®é¢˜æ˜¯é€‰ç”¨äº†é”™è¯¯çš„ç®—æ³•ã€‚å¦‚æœæˆ‘å½“æ—¶çŸ¥é“ O(n) å’Œ O(n^2) ä¹‹é—´çš„åŒºåˆ«ï¼Œæˆ–è®¸å°±èƒ½å…‹æœè¿™äº›ç“¶é¢ˆäº†ã€‚ å¯¹äºå°è§„æ¨¡çš„æ•°æ®é‡ç®€å•ç²—æš´çš„æ–¹æ³•å¾€å¾€èƒ½å¾ˆå¥½çš„å®Œæˆå·¥ä½œï¼Œä½†äº‹æƒ…å¹¶ä¸æ€»æ˜¯å¦‚äººæ‰€æ„¿ã€‚å¯¹äºå¤§æ•°æ®é‡ï¼Œä½ éœ€è¦ä½¿ç”¨æ›´åŠ èªæ˜çš„ç®—æ³•ã€‚ æœ‰äº›æ—¶å€™ï¼Œæˆ‘å¯¹è‡ªå·±æ‰€é¢å¯¹çš„é—®é¢˜æ ¹æœ¬å°±æ‰‹è¶³æ— æªï¼Œç”šè‡³å†™ä¸å‡ºæ¥ä¸€ä¸ªè¿è¡Œè¾ƒæ…¢çš„æ­£ç¡®ç®—æ³•ï¼Œä¸çŸ¥é“ä»ä½•å¤„ä¸‹æ‰‹ã€‚è¿™æ—¶å€™ï¼Œå¦‚æœäº†è§£ä¸€äº›ç®—æ³•ç†è®ºï¼Œå°±ä¼šæœ‰æ›´å¤šçš„æ–¹æ³•å¯ä¾›å°è¯•ã€‚ ä¸è¦æ­»è®°ç¡¬èƒŒç®—æ³•å®ç°æœ¬æ–‡çš„ç›®çš„ä¸åœ¨æ­»è®°ç¡¬èƒŒç®—æ³•å®ç°ã€‚ä½ åº”è¯¥è¯•ç€å»ç†è§£ä¸åŒçš„ç®—æ³•æ˜¯å¦‚ä½•è§£å†³ä¸åŒçš„é—®é¢˜çš„ï¼Œè€Œä¸æ˜¯æ­»è®°ç¡¬èƒŒã€‚ å­¦ä¹ ä¸€äº›ç®—æ³•æŠ€æœ¯ï¼Œä¾‹å¦‚ï¼šåˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’ã€è´ªå©ªç®—æ³•ç­‰ï¼Œå¯ä»¥åŠ©ä½ æ›´å¥½åœ°ç†è§£ç®—æ³•ä¹‹é—´çš„å¿«æ…¢å·®å¼‚ï¼Œå¹¶å­¦ä¼šåœ¨ç®—æ³•å¯¹æ—¶é—´å’Œç©ºé—´çš„ä½¿ç”¨ä¸Šåšå‡ºå¹³è¡¡ã€‚ æ‰€ä»¥æœ¬é¡¹ç›®çš„ä¸»è¦ç›®çš„æ˜¯æ•™ä¼šä½ å¦‚ä½•æ›´å¥½çš„è·Ÿè®¡ç®—æœºæ‰“äº¤é“ã€‚ æ”¾è½»æ¾ï¼Œç®—æ³•å¹¶æ²¡æœ‰å¬èµ·æ¥é‚£ä¹ˆå¯æ€•å¾ˆå¤šç®—æ³•ä¹¦å¼€ç¯‡å°±æ‘†ä¸Šæ¥å¾ˆå¤šæ•°å­¦ç†è®ºï¼Œæ•°å­¦å…¬å¼å›ºç„¶æœ‰ç”¨ï¼Œä½†åˆå­¦å¹¶ä¸éœ€è¦ã€‚æ‰€ä»¥ä¸è¦è¢«é‚£äº›å…¬å¼å“åˆ°äº†ã€‚åªè¦å†™è¿‡ä»£ç ï¼Œä½ å°±èƒ½å¾ˆå¥½åœ°ç†è§£é‚£äº›ç¥å¥‡çš„ç®—æ³•å’Œæ•°æ®ç»“æ„èƒŒåçš„åŸç†ã€‚ ç›¸ä¿¡æˆ‘ï¼Œç®—æ³•æ˜¯å¾ˆæœ‰è¶£çš„ã€‚:-)]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Swiftç®—æ³•ä¿±ä¹éƒ¨-ä»€ä¹ˆæ˜¯ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Ÿ]]></title>
    <url>%2F2018%2FSwift%E7%AE%97%E6%B3%95%E4%BF%B1%E4%B9%90%E9%83%A8-%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9F.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ˜¯å¯¹ Swift Algorithm Club ç¿»è¯‘çš„ä¸€ç¯‡æ–‡ç« ã€‚Swift Algorithm Clubæ˜¯ raywenderlich.comç½‘ç«™å‡ºå“çš„ç”¨Swiftå®ç°ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰åœ¨GitHubä¸Šæœ‰18000+â­ï¸ï¼Œæˆ‘åˆç•¥ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰ä¸€ç™¾å·¦å³ä¸ªçš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼ŒåŸºæœ¬ä¸Šå¸¸è§çš„éƒ½åŒ…å«äº†ï¼Œæ˜¯iOSerå­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ä¸é”™çš„èµ„æºã€‚andyRon/swift-algorithm-club-cnæ˜¯æˆ‘å¯¹Swift Algorithm Clubï¼Œè¾¹å­¦ä¹ è¾¹ç¿»è¯‘çš„é¡¹ç›®ã€‚æ¬¢è¿æœ‰å…´è¶£å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæœ‰æ—¶é—´çš„å°ä¼™ä¼´ä¸€èµ·å‚ä¸ç¿»è¯‘ï¼Œæ¬¢è¿issueï¼Œæˆ–è€…ç›´æ¥æäº¤pull requestã€‚ ä»€ä¹ˆæ˜¯ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Ÿä¸€ä¸ªç®—æ³•å°±åƒä¸€å¼ æ•™è®¡ç®—æœºâ€œçƒ¹é¥ªâ€çš„â€œé£Ÿè°±â€ã€‚å¦‚æœä½ äº†è§£åšèœçš„è¿‡ç¨‹ï¼Œä½ å°±èƒ½ç†è§£ç®—æ³•çš„å®šä¹‰ã€‚ ä¸‹é¢æœ‰ä¸€å¼ å…³äºåˆ¶ä½œè–„é¥¼çš„é£Ÿè°±ï¼š åœ¨ä¸€ä¸ªå¤§ç¢—é‡Œï¼Œå°†é¢ç²‰ï¼Œå‘é…µç²‰ï¼Œç›å’Œç³–è¿‡ç­›ã€‚ åŠ å…¥ç‰›å¥¶ã€é¸¡è›‹å’ŒèåŒ–äº†çš„å¥¶æ²¹ã€‚ æ…æ‹Œæ··åˆç›´è‡³ä¸æŸ”é¡ºæ»‘ã€‚ ä¸­ç«åŠ çƒ­å¹³åº•é”…ã€‚ å°†æ…æ‹Œå¥½çš„é¢ç³Šç¼“æ…¢å€’å…¥é”…ä¸­ï¼Œæ¯ä¸ªè–„é¥¼å¤§æ¦‚ç”¨1/4æ¯çš„é¢ç³Šå³å¯ã€‚ è–„é¥¼ä¸¤é¢éƒ½å‘ˆé»„è¤è‰²å³å¯å‡ºé”…äº«ç”¨äº†ã€‚ è¿™å¼ é£Ÿè°±ç”±ä¸€ç³»åˆ—çš„æ­¥éª¤ç»„æˆï¼Œä½ åªéœ€ä¸€æ­¥æ¥ä¸€æ­¥æŒ‰ç…§æŒ‡ä»¤æ¥å°±å¯ä»¥äº†ã€‚ç®—æ³•ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåªä¸è¿‡å®ƒçš„æŒ‡ä»¤æ˜¯äº¤ç»™è®¡ç®—æœºå»æ‰§è¡Œçš„ï¼Œè€Œä¸æ˜¯å¨å¸ˆã€‚ è¿™äº›åŸæ–™(é¢ç²‰ã€ç‰›å¥¶ã€é¸¡è›‹ã€é»„æ²¹ç­‰)ç›¸å½“äºç®—æ³•ä¸­çš„å¾…å¤„ç†æ•°æ®ã€‚è¿™äº›åŸå§‹æ•°æ®(å„ç§ä¸åŒçš„åŸæ–™)ä½œä¸ºç®—æ³•çš„è¾“å…¥ï¼Œè¾“å‡ºçš„æ•°æ®(å¥½åƒçš„è–„é¥¼)å³æ˜¯ç»“æœã€‚ é‚£ä¹ˆæ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä»¬æ˜¯åœ¨ç®—æ³•è¿è¡Œæ—¶ä¿å­˜æ•°æ®çš„å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ç…é¥¼é…æ–¹ä¸­ï¼Œæ•°æ®ç»“æ„æ˜¯ç”¨äºç››æ”¾é¢ç²‰çš„è¢‹å­ï¼Œæ˜¯ç”¨äºå°†æ‰€æœ‰ä¸œè¥¿ç»„åˆåœ¨ä¸€èµ·çš„æ…æ‹Œç¢—ï¼Œæ˜¯ç”¨äºç…é¥¼çš„ç…é”…ï¼Œæ˜¯æœ€åç”¨äºç››æ”¾æˆå“ç…é¥¼çš„ç›˜å­ã€‚]]></content>
      <categories>
        <category>swift-algorithm-club-cn</category>
      </categories>
      <tags>
        <tag>ç®—æ³•ä¸æ•°æ®ç»“æ„</tag>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºå­—ç¬¦ç¼–ç ]]></title>
    <url>%2F2018%2Fascii-unicode-utf8.html</url>
    <content type="text"><![CDATA[ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œå¯¹ç¼–ç é—®é¢˜æœ‰å¿…è¦äº†è§£ä¸€ä¸‹ã€‚è®¡ç®—æœºæ˜¯ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨æ•°æ®çš„ï¼Œè‡³äºä¸ºä»€ä¹ˆé€‰æ‹©äºŒè¿›åˆ¶ï¼Œè¿™å¯èƒ½å°±éœ€è¦ä»è®¡ç®—æœºçš„è¯ç”Ÿå†å²è¯´èµ·äº†ï¼Œè¿™ä¸æ˜¯ç°åœ¨å…³æ³¨çš„ç‚¹ã€‚ è®¡ç®—æœºæ–‡ä»¶ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºï¼ˆæš‚ä¸”è¿™æ ·åˆ†å§ï¼‰ï¼šæ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚é€šä¿—çš„è¯´ï¼Œæ–‡æœ¬æ–‡ä»¶å°±æ˜¯å¹³å¸¸é€šè¿‡æŸä¸ªè½¯ä»¶ï¼ˆè®°äº‹æœ¬ï¼ŒEditPlusï¼ŒUltraEditï¼Œsublimeç­‰å„ç§ç¼–è¾‘å™¨ï¼Œå„ç§IDEç­‰ç­‰ï¼‰æ‰“å¼€çœ‹åˆ°æ˜¯â€˜å­—ç¬¦â€™ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å°±æ˜¯æ‰“å¼€æ˜¯å›¾ç‰‡æˆ–è§†é¢‘ç­‰ï¼Œå½“ç„¶æ˜¯é€šè¿‡æŸäº›èƒ½å¤Ÿè§£é‡ŠäºŒè¿›åˆ¶çš„ç¨‹åºæ¥å®Œæˆã€‚è¿™é‡Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œæ–‡ä»¶çš„åç¼€åä¸èƒ½ç”¨æ¥åŒºåˆ†æ–‡ä»¶çš„ç±»å‹ï¼Œåç¼€ååªæ˜¯ç³»ç»Ÿï¼ˆç‰¹åˆ«æ˜¯Windowsï¼‰ç”¨æ¥å¯¹æ–‡ä»¶è¿›è¡Œé¢„å…ˆåˆ†ç±»ï¼Œå¹¶ç»™äºˆå¯¹åº”çš„å›¾æ ‡å’Œç›¸åº”åŒå‡»åæ‰“å¼€çš„ç¨‹åºï¼Œè‡³äºé¢„å…ˆç»™å®šçš„ç¨‹åºèƒ½ä¸èƒ½æ‰“å¼€å°±ä¸å¾—è€ŒçŸ¥ã€‚å¦‚ï¼Œåœ¨Windowsä¸‹ï¼ŒæŠŠä¸€ä¸ªtxtæ–‡ä»¶çš„åç¼€åæ”¹æˆjpgåï¼šå˜æˆ åŒå‡»æ‰“ä¸å¼€ï¼Œç”¨è®°äº‹æœ¬ä¾ç„¶èƒ½æ‰“å¼€ï¼Œå°±æ˜¯å†…éƒ¨ç¼–ç æ²¡å˜ï¼Œå…¶å®æ–‡ä»¶çš„ç±»å‹åœ¨ç¼–ç æˆäºŒè¿›åˆ¶å½¢å¼å·²ç»ç¡®å®šï¼ˆä¸€èˆ¬æ˜¯åœ¨å¤´éƒ¨ï¼‰ã€‚ phpè¯»å–å›¾ç‰‡æ–‡ä»¶ï¼š12$a = file_get_contents(&apos;bg.png&apos;);echo $a; æµè§ˆå™¨ä»¥UTF8å½¢å¼æ‰“å¼€å›¾ç‰‡çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œè™½ç„¶å¤§éƒ¨åˆ†æ˜¯ä¹±ç ï¼Œä½†å¤´éƒ¨è¿˜æ˜¯å¯ä»¥çœ‹åˆ°è§£ç ä¸ºPNGçš„ï¼š å­—ç¬¦ç¼–ç å­—ç¬¦ç¼–ç å°±æ˜¯æ¯ä¸ªåœ¨ç”µè„‘é‡Œå‡ºç°çš„å­—ç¬¦éƒ½ä¼šå¯¹åº”ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œè¿™ä¸ªäºŒè¿›åˆ¶å¯ä»¥æˆä¸ºç ç‚¹(code point)ã€‚ä¸åŒçš„ç¼–ç å½¢å¼ï¼ŒåŒ…å«çš„å­—ç¬¦æ•°ä¸åŒï¼Œå­—ç¬¦å’ŒäºŒè¿›åˆ¶æ•°å¯¹åº”å…³ç³»ä¹Ÿä¸åŒã€‚ ASCIIç ASCII(American Standard Code for Information Interchange)ç æ˜¯ æ¯”è¾ƒæ—©çš„ç¼–ç å½¢å¼ï¼Œæ€»å…±å®šä¹‰128ä¸ªå­—ç¬¦ï¼Œç”¨äº†ä¸€ä¸ªå­—èŠ‚çš„7ä½ï¼Œä¹Ÿå°±æ˜¯ä» 0000 0000 åˆ° 0111 1111 ã€‚ 0-32, 127ï¼šï¼ˆå…±34ä¸ªï¼‰ä¸èƒ½ç›´æ¥æ˜¾ç¤ºå­—ç¬¦çš„ï¼ˆæ§åˆ¶æˆ–è€…é€šä¿¡ä½¿ç”¨çš„ï¼‰ï¼Œ32æ˜¯ç©ºæ ¼ä¹Ÿç®—åœ¨å…¶ä¸­ï¼Œ127æ˜¯åˆ é™¤ç¬¦ï¼› 33-64,91-96,123-126ï¼šï¼ˆå…±21*2=42ä¸ªï¼‰é”®ç›˜ä¸Šé™¤äº†è‹±æ–‡å­—æ¯å’Œä¸ç›´æ¥æ˜¾ç¤ºå­—ç¬¦çš„é”®æœ‰21ä¸ªï¼Œæ¯ä¸€ä¸ªé”®ä¸Šæœ‰ä¸¤ä¸ªå­—ç¬¦ï¼› 65-90,97-122ï¼šï¼ˆ26*2=56ä¸ªï¼‰è‹±æ–‡å­—æ¯ï¼› å¯¹äºè‹±è¯­ç³»çš„äººæ¥è¯´è¿™128ä¸ªå­—ç¬¦å·²ç»å¤Ÿäº†ï¼Œä»–ä»¬åœ¨ç”µè„‘ä¸Šæ¥è§¦çš„çš„å­—ç¬¦ä¹Ÿå°±è¿™ä¹ˆå¤šå¤Ÿäº†ï¼Œè¯´æ¥ä¹Ÿæ˜¯å¥‡ç‰¹ï¼Œè‹±æ–‡å­—ç¬¦26ä¸ªå°±èƒ½é€šè¿‡ç»„åˆç”¨æ¥è¡¨ç¤ºè‹±è¯­æ‰€æœ‰æ„æ€ï¼Œè¿™ç§ç»„åˆå½¢å¼å¾ˆé€‚åˆè®¡ç®—æœºã€‚è€Œæˆ‘ä»¬æ±‰è¯­å°±ä¸åŒäº†ï¼Œæˆ‘æƒ³æ˜¯ä¸èƒ½é€šè¿‡ç¬”ç”»çš„ç»„åˆç»„æˆæ‰€æœ‰æ±‰å­—äº†ã€‚æ®è¯´æ±‰è¯­æ˜¯æœ€éš¾å­¦çš„è¯­è¨€ä¹‹ä¸€ğŸ˜…ï¼Œè¾›äºæˆ‘å·²ç»ä¼šæ±‰è¯­äº†ğŸ˜€ğŸ˜ã€‚ Unicode128ä¸ªå­—ç¬¦å¯¹äºå…¶ä»–è¯­è¨€æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå•æ±‰å­—å°±æœ‰å°†è¿‘10ä¸‡ä¸ªï¼ˆå¸¸ç”¨åº”è¯¥å‡ åƒä¸ªï¼‰ï¼Œæ¯ä¸ªæ±‰å­—éƒ½éœ€è¦ä¸€ä¸ªç ç‚¹ï¼Œå…¶ä»–è¯­è¨€ä¸­çš„å­—ç¬¦ä¹Ÿéœ€è¦å¯¹å…¶å­—ç¬¦ç¼–ç æˆç ç‚¹ï¼ŒåŸæœ¬æœ‰å¾ˆå¤šç¼–ç æ–¹å¼ï¼Œè¿™äº›ç¼–ç æ²¡æœ‰è¿›è¡Œç»Ÿä¸€è§„å®šï¼Œå°±ä¼šæœ‰å†²çªï¼Œä¸€ä¸ªäºŒè¿›åˆ¶æ•°åœ¨ä¸åŒç¼–ç æ–¹å¼ä¸­å°±æœ‰å¯èƒ½è§£é‡Šä¸ºä¸åŒçš„å­—ç¬¦ï¼Œè¿™æ ·ä½¿ä¸åŒåœ°åŒºçš„äººäº¤æµä¸ä¾¿ã€‚ Unicodeå°±æ˜¯åœ¨è¿™æ ·æ¡ä»¶ä¸‹è¯ç”Ÿï¼Œç®€å•çš„è¯´ï¼ŒUnicodeå°±æ˜¯å¤§çš„æ˜ å°„è¡¨ï¼ŒæŠŠå…¨ä¸–ç•Œæ‰€æœ‰è¯­è¨€ç¬¦å·éƒ½åŒ…å«å…¶ä¸­ï¼Œæ¯ä¸ªç¬¦å·çš„æ˜ å°„çš„ç ç‚¹çš„éƒ½ä¸ç›¸åŒã€‚ æ±‰å­—å¤§éƒ¨åˆ†å¯ä»¥ç”¨4ä¸ª16è¿›åˆ¶æ•°è¡¨ç¤ºï¼Œå‚çœ‹æ±‰å­—Unicodeã€‚å¦‚ï¼šU+620Eè¡¨ç¤ºæˆ(è¿™æ˜¯æˆ‘çš„å§“ï¼Œè¯»rÃ³ngï¼Œä¸æ˜¯ æˆ’ï¼Œåœ¨è¿™é‡Œæ™®åŠä¸€ä¸‹ï¼Œæˆ‘å·²ç»è¢«å«æˆ æˆ’æŸ æ— æ•°æ¬¡äº†ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸)ã€‚ Unicodeæ˜¯ä¸€ä¸ªåºå¤§çš„å­—ç¬¦é›†ï¼Œä¸€ä¸ªå¾ˆå¤šå­—ç¬¦ä¸äºŒè¿›åˆ¶æ•°çš„å”¯ä¸€çš„ä¸€ä¸€å¯¹åº”é›†åˆã€‚Unicodeæ²¡æœ‰è§„å®šæ€ä¹ˆå­˜å‚¨ï¼Œ620Eï¼ˆ0110 0010 0000 1110ï¼‰è‡³å°‘éœ€è¦2ä¸ªå­—èŠ‚ï¼Œè€Œå…¶ä»–å­—ç¬¦å¯èƒ½éœ€è¦æ›´å¤šå­—èŠ‚ã€‚åƒU+0041è¡¨ç¤ºè‹±æ–‡å­—æ¯Aï¼Œå¦‚æœä¹Ÿéœ€è¦ç”¨2ä¸ªå­—èŠ‚æˆ–è€…æ›´å¤šï¼Œåˆ™å‰é¢çš„æœ‰ä¸€äº›å­—èŠ‚éƒ½æ˜¯0ï¼Œé‚£ä¹ˆå¤ªæµªè´¹èµ„æºäº†ï¼Œä¸ºäº†å‡å°‘ç©ºé—´çš„æµªè´¹å°±å‡ºç°äº†UTF8ã€‚ UTF8UTF8æ˜¯Unicodeå­˜å‚¨ä¸€ç§å®ç°æ–¹å¼ã€‚å®ƒé‡‡ç”¨å˜å­—èŠ‚æ•°ï¼ˆ1-4ä¸ªï¼‰æ¥èŠ‚çº¦èµ„æºã€‚ UTF-8çš„ç¼–ç è§„åˆ™å¾ˆç®€å•ï¼Œåªæœ‰äºŒæ¡ï¼š å¯¹äºå•å­—èŠ‚çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½è®¾ä¸º0ï¼Œåé¢7ä½ä¸ºè¿™ä¸ªç¬¦å·çš„Unicodeç ã€‚å› æ­¤å¯¹äºè‹±è¯­å­—æ¯ï¼Œæ­¤æ—¶UTF-8ç¼–ç å’ŒASCIIç æ˜¯ç›¸åŒçš„ã€‚ å¯¹äºnå­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰nä½éƒ½è®¾ä¸º1ï¼Œç¬¬n+1ä½è®¾ä¸º0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„Unicodeç ã€‚ ä¸‹è¡¨æ€»ç»“äº†ç¼–ç è§„åˆ™ï¼Œå­—æ¯xè¡¨ç¤ºå¯ç”¨ç¼–ç çš„ä½ã€‚ Unicodeç¬¦å·èŒƒå›´(åå…­è¿›åˆ¶) UTF-8ç¼–ç æ–¹å¼ (äºŒè¿›åˆ¶ï¼‰ 0000 0000 - 0000 007F 0xxxxxxx 0000 0080 - 0000 07FF 110xxxxx 10xxxxxx 0000 0800 - 0000 FFFF 1110xxxx 10xxxxxx 10xxxxxx 0001 0000 - 0010 FFFF 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx è¿™æ ·è§£è¯»UTF8ç¼–ç å°±å®¹æ˜“åŒºåˆ†å‡ ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦äº†ã€‚å¦‚æœä¸€ä¸ªå­—èŠ‚çš„ç¬¬ä¸€ä½æ˜¯0ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—èŠ‚å•ç‹¬è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼›å¦‚æœä¸€ä¸ªå­—èŠ‚çš„ç¬¬ä¸€ä½æ˜¯1ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—èŠ‚ä¸‹é¢è¿ç»­å‡ ä¸ª1ï¼Œå°±è¡¨ç¤ºå½“å‰å­—ç¬¦å ç”¨å‡ ä¸ªå­—èŠ‚ã€‚ ä»¥æ±‰å­—æˆä¸ºä¾‹ï¼Œçœ‹çœ‹UTF8ç¼–ç å®ç°è¿‡ç¨‹ï¼š å·²çŸ¥æˆçš„Unicodeæ˜¯620Eï¼ˆ0110 0010 0000 1110ï¼‰ã€‚ 620E åœ¨ç¬¬ä¸‰è¡ŒèŒƒå›´å†…ï¼ˆ0000 0800 - 0000 FFFFï¼‰ï¼Œå› æ­¤éœ€è¦ä¸‰ä¸ªå­—èŠ‚ç¼–ç æˆï¼Œå³ 1110xxxx 10xxxxxx 10xxxxxx ä»æˆçš„æœ€åä¸€ä¸ªäºŒè¿›åˆ¶ä½å¼€å§‹ï¼Œä¾æ¬¡ä»åå‘å‰å¡«å…¥æ ¼å¼ä¸­çš„xï¼Œå¤šå‡ºçš„ä½è¡¥0ã€‚å¾—æˆçš„UTF8ç¼–ç çš„åå…­è¿›åˆ¶æ˜¯E6888Eã€‚ å‚è€ƒï¼šå­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicodeå’ŒUTF-8]]></content>
      <categories>
        <category>æš‚æ—¶æ²¡æƒ³åˆ°æ€ä¹ˆåˆ†ç±»</category>
      </categories>
      <tags>
        <tag>ASCII</tag>
        <tag>Unicode</tag>
        <tag>UTF8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šç•…é”€çš„åŸç†ã€‹â€”â€”ä½œä¸ºæ¶ˆè´¹è€…ï¼Œæˆ‘ä¸æƒ³è¢«å•†å®¶ç‰µç€é¼»å­èµ°]]></title>
    <url>%2F2018%2F%E7%95%85%E9%94%80%E7%9A%84%E5%8E%9F%E7%90%86.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦é©¬ä¿®Â·å¨å°”ç§‘å…‹æ–¯ï¼ˆMatthew Willcoxï¼‰ï¼Œåšè¾¾å¤§æ¡¥å¹¿å‘Šå…¬å¸ï¼ˆFCBï¼‰å†³ç­–åˆ¶å®šç ”ç©¶æ‰€çš„åˆ›ç«‹è€…å’Œæ‰§è¡Œå¸¸å§”ã€‚åšè¾¾å¤§æ¡¥å¹¿å‘Šå…¬å¸ï¼ˆFCBï¼‰æ˜¯ä¸–ç•Œæœ€æ—©çš„å¹¿å‘Šå…¬å¸ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å…¨çƒæœ€æ—©ä¸Šå¸‚çš„å¹¿å‘Šå…¬å¸ä¹‹ä¸€ã€‚é©¬ä¿®åœ¨å“ç‰Œæˆ˜ç•¥é¢†åŸŸå·²ç»æœ‰25å¹´çš„ä»ä¸šç»å†ï¼Œè¶³è¿¹éå¸ƒæ¬§æ´²ã€äºšæ´²å’ŒåŒ—ç¾æ´²ã€‚ä»–æœåŠ¡è¿‡æç»´æ–¯ã€ç¾å›½è‰ºç”µã€å¸Œå°”é¡¿é…’åº—é›†å›¢ã€è”åˆåˆ©åã€é›€å·¢ã€å£³ç‰Œå’Œè‘›å…°ç´ å²å…‹ç­‰å¤§ä¼ä¸šã€‚ ã€Šç•…é”€çš„åŸç†ã€‹ï¼Œä½œè€…åœ¨ä¹¦é‡Œæ€»ç»“äº†è‡ªå·±25å¹´çš„å¹¿å‘Šå’Œè¥é”€ä»ä¸šç»éªŒï¼Œä»¥åŠåŠä¸ªä¸–çºªä»¥æ¥äººç±»è¡Œä¸ºå’Œç¥ç»ç§‘å­¦çš„ç ”ç©¶æˆæœï¼Œæ­ç§˜è¥é”€çš„æœ¬è´¨ä»¥åŠå¦‚ä½•åˆºæ¿€å¤§è„‘åšå‡ºå†³ç­–ã€‚ å†…å®¹ä¸€ã€è¥é”€çš„æœ¬è´¨ è¥é”€çš„æœ¬è´¨æ˜¯ï¼šå½±å“é€‰æ‹©ï¼Œä½¿äº‹æƒ…å˜å¾—ç›´è§‚ï¼Œè®©åˆ«äººè½»æ˜“å°±èƒ½é€‰æ‹©ä½ çš„å•†å“å’ŒæœåŠ¡ å“ç‰Œæ–¹é’ˆï¼šæƒ³å°½åŠæ³•æ‰¾åˆ°ç”¨æˆ·å–œæ¬¢å•¥ï¼Œå†çœ‹çœ‹è‡ªå·±çš„å•†å“æœ‰å•¥å¥½çš„åœ°æ–¹èƒ½å¤Ÿè¿åˆä»–ä»¬çš„å–œå¥½ã€‚ å¤§è„‘æ–¹é’ˆï¼šä»å¤§è„‘åšå†³ç­–çš„è¿‡ç¨‹å‡ºå‘ï¼Œå»ç ”ç©¶æ€ä¹ˆå½±å“æ¶ˆè´¹è€…çš„æ¯ä¸€æ¬¡é€‰æ‹©ï¼Œæ¯ä¸€æ¬¡è¥é”€è¡Œä¸ºéƒ½æ˜¯ä¸€æ¬¡å½±å“é€‰æ‹©çš„è¿‡ç¨‹ã€‚ å“ç‰Œçš„é‡è¦æ€§ä¹Ÿåœ¨é€æ¸é™ä½ï¼Œå“ç‰Œå¯¹æ¶ˆè´¹è€…çš„å¸å¼•åŠ›åœ¨ä¸‹é™ã€‚ä¼ ç»Ÿè¥é”€ä¸­çš„å“ç‰Œæ–¹é’ˆé€æ¸å˜å¾—ä¸é€‚ç”¨ï¼Œåº”è½¬ä¸ºä»¥å¤§è„‘å†³ç­–ä¸ºå‡ºå‘ç‚¹çš„å¤§è„‘æ–¹é’ˆã€‚ äºŒã€åˆºæ¿€å¤§è„‘åšå‡ºé€‰æ‹©çš„æ–¹æ³•1)æˆä¸ºç”¨æˆ·å¿ƒé‡Œçš„â€œè€ç†Ÿäººâ€å…ˆè®©å•†å“æˆä¸ºæ¶ˆè´¹è€…ç”Ÿæ´»ä¸­åå¤å‡ºç°çš„â€œè€ç†Ÿäººâ€ï¼Œäº§ç”Ÿç†Ÿæ‚‰åº¦ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå†é€šè¿‡åˆ¶é€  å°æƒŠå–œå’Œå°æ–°å¥‡ è®©æ¶ˆè´¹è€…æŒç»­å…³æ³¨ã€‚ ğŸŒ°ï¼šåœ¨ä¸€ä¸ªå„ç§å£°éŸ³æ··æ‚çš„é¸¡å°¾é…’ä¼šä¸Šï¼Œæ— è®ºå¤šä¹ˆåµé—¹ï¼Œåªè¦æœ‰äººå–Šæˆ‘ä»¬çš„åå­—ï¼Œæˆ‘ä»¬æ€»èƒ½å¬å¾—åˆ°ï¼Œè¿™å°±æ˜¯è®¤çŸ¥ç¥ç»ç§‘å­¦ä¸­ä¸€ä¸ªè‘—åçš„ç°è±¡ï¼Œå«åšâ€œé¸¡å°¾é…’ä¼šæ•ˆåº”â€ï¼Œè¯´çš„å°±æ˜¯ç†Ÿæ‚‰å’Œç›¸å…³çš„äº‹ç‰©ä¼šå—åˆ°äººä»¬çš„é‡ç‚¹å…³æ³¨ã€‚ ğŸŒ°ï¼šç™»æœºæˆ–è€…å…¥ä½é…’åº—æ—¶ï¼Œå‡èˆ±æˆ–è€…æ¢æ›´å¥½çš„æˆ¿é—´ä¼šè®©æˆ‘ä»¬è·å¾—æ„å¤–æƒŠå–œã€‚è¿™ä»½é«˜å…´ä¸ä»…ä»…æ˜¯å› ä¸ºæ„Ÿè§‰å—åˆ°äº†ä¼˜å¾…ï¼Œè¿˜å› ä¸ºæˆ‘ä»¬çš„å¤§è„‘æ„Ÿå—åˆ°å› ä¸ºè‡ªå·±çš„å¥½å†³ç­–å¸¦æ¥äº†å¥½å›æŠ¥ï¼Œæ‰€ä»¥ï¼Œåœ¨ç¬¬äºŒæ¬¡é¢ä¸´é€‰æ‹©æ—¶ï¼Œå¤§è„‘ä¼šåšå‡ºåŒæ ·çš„å†³ç­–ã€‚ 2)åˆ¶é€ ç¨€ç¼ºå±•æœ›ç†è®º(prospect theoryï¼Œä¹Ÿä½œå‰æ™¯ç†è®º)ï¼šé€šè¿‡è€ƒè™‘æŸå¤±å’Œä¿å­˜æ‰€å¾—çš„å†³ç­–è¡Œä¸ºã€‚å‰æ™¯ç†è®ºçš„ä¸€ä¸ªè¡¨ç°å°±æ˜¯äººä»¬ç‰¹åˆ«è®¨åŒæŸå¤±ï¼Œä¸æ„¿æ”¾å¼ƒå·²ç»å¾—åˆ°çš„ä¸œè¥¿ã€‚ åˆ©ç”¨å¤§è„‘å®³æ€•å¤±å»çš„æœ¬èƒ½ï¼Œå¯ä»¥åˆ¶é€ ç¨€ç¼ºæ„Ÿï¼Œä»è€Œé©±åŠ¨æ¶ˆè´¹è€…çš„å„ç§è¡Œä¸ºã€‚ ğŸŒ°ï¼šæ‰“å®¢æœç”µè¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°â€œåå¸­æ­£å¿™â€ï¼ŒåŒæ ·éƒ½æ˜¯è®©ç”¨æˆ·ç­‰å¾…ï¼Œä¸ºä»€ä¹ˆä¸æŠŠè¯­éŸ³å½•åˆ¶æˆâ€œé©¬ä¸Šå°±æœ‰äººæ¥å¬ç”µè¯â€å‘¢ï¼Ÿé©¬ä¸Šå°±æœ‰äººæ¥å¬éš¾é“ä¸æ˜¯å¯¹ç”¨æˆ·æ›´å‹å–„å—ï¼Ÿå…¶å®ï¼Œè¿™æ˜¯è¥é”€äººå‘˜çš„ä¸€ç§è¥é”€æ‰‹æ®µã€‚ç ”ç©¶è¡¨æ˜ï¼Œå½“äººä»¬å¬åˆ°â€œåå¸­æ­£å¿™â€æ—¶ï¼Œä¼šäº§ç”Ÿè¿™ç§æœåŠ¡å¾ˆç¨€æœ‰çš„æ„Ÿè§‰ï¼Œè¿™ç§ç¨€ç¼ºæ„Ÿè®©äººä»¬å®³æ€•å¤±å»çš„æ„Ÿè§‰æ›´å¼ºçƒˆï¼Œäººä»¬å°±æ›´æ„¿æ„ç»§ç»­ç­‰å¾…ã€‚ ç¦€èµ‹æ•ˆåº”(Endowment effect)ï¼šäººä»¬ä¼šé«˜ä¼°å·²ç»æ‹¥æœ‰çš„ä¸œè¥¿ã€‚ ğŸŒ°ï¼šäººä»¬ä¸æ„¿æ„äº¤æ¢è‡ªå·±è´­ä¹°åˆ°çš„å½©ç¥¨ï¼Œå› ä¸ºäººä»¬éƒ½è®¤ä¸ºè‡ªå·±ä¹°çš„å½©ç¥¨ä¸­å¥–æ¦‚ç‡é«˜ã€‚ 3)ç”¨è½»æ¾æ‰“åŠ¨å®¢æˆ·äººç±»æ°¸è¿œåå¥½æœ€å®¹æ˜“çš„é‚£æ¡è·¯ï¼Œå¤§è„‘å–œæ¬¢ç®€å•ã€‚ è¡ŒåŠ¨ä¸Šçš„ä¾¿åˆ© å’Œ ç²¾ç¥ä¸Šçš„æ”¾æ¾ã€‚ ğŸŒ°ï¼šè¦æƒ³äººä»¬åƒå¾—å¥åº·ï¼Œå¯ä»¥æŠŠå¥åº·é£Ÿå“æ”¾åœ¨é¤å…æœ€æ˜¾çœ¼çš„åœ°æ–¹ï¼Œç”¨ç¯å…‰çªå‡ºé™ˆåˆ—ï¼Œè®©äººä»¬ä¸€çœ¼å°±èƒ½çœ‹åˆ°ï¼Œä¼¸æ‰‹å°±èƒ½æ‹¿åˆ°ã€‚æ€»ä¹‹ï¼Œå°±æ˜¯è®©å¥åº·é£Ÿå“çš„é€‰é¡¹æˆä¸ºæœ€çœåŠ›çš„é€‰é¡¹ã€‚ 4)åˆ©ç”¨æ—¶é—´çš„åŠ›é‡ç³»åˆ—ä½ç½®æ•ˆåº”(serial-position effect)ï¼šäººä»¬å€¾å‘äºå¯¹é¦–å…ˆè§åˆ°çš„äº‹ç‰©å’Œæœ€åè§åˆ°çš„äº‹ç‰©æœ‰æ›´å¥½çš„å°è±¡ã€‚ ğŸŒ°ï¼šèƒŒå•è¯çš„æ—¶å€™ï¼Œå¦‚æœèƒ½æŠŠä¸€æœ¬å•è¯ä¹¦ä»å¤´èƒŒåˆ°å°¾ï¼Œå¾€å¾€æ˜¯ Aã€Z å¼€å¤´çš„å•è¯å®¹æ˜“è®°ä½ï¼Œä¸­é—´éƒ¨åˆ†çš„å•è¯è®°å¾—å°±æ²¡é‚£ä¹ˆå¥½äº†ã€‚ å¼ºåŠ¿ç»“å°¾ç†è®ºï¼Œ æœ€åä¸€æ­¥ä¸€å®šè¦åšå¥½ï¼Œç»™æ¶ˆè´¹è€…ç•™ä¸‹ä¸€ä¸ªå¥½çš„ç»“å°¾ã€‚é”€å”®äººå‘˜å¦‚ä½•ä¸æ¶ˆè´¹è€…é“åˆ«ï¼Œè¦æ¯”å¦‚ä½•æ¬¢è¿ä»–ä»¬æ›´é‡è¦ã€‚ğŸŒ°ï¼šä¸€ä½å¸æœºåœ¨é«˜é€Ÿå…¬è·¯ä¸Šå¼€è½¦æ—¶ï¼Œçœ‹åˆ°äº†åŒæ ·å¤šçš„çº¢è‰²æ±½è½¦å’Œè“è‰²æ±½è½¦ï¼Œä½†å¦‚æœåœ¨ä¸‹é«˜é€Ÿçš„æ—¶å€™ä»–çœ‹åˆ°çš„æ˜¯ä¸€è¾†çº¢è‰²æ±½è½¦ï¼Œé‚£ä¹ˆä»–ä¼šè®¤ä¸ºè‡ªå·±ä¸€è·¯ä¸Šçœ‹åˆ°çš„çº¢è‰²æ±½è½¦æ›´å¤šã€‚ å‚è€ƒï¼šå¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å¿ƒç†å­¦</tag>
        <tag>è¥é”€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å›¾è§£TCP/IP-5-iPåè®®ç›¸å…³æŠ€æœ¯]]></title>
    <url>%2F2018%2Ftujie-TCP-IP-5.html</url>
    <content type="text"><![CDATA[ä»…å‡­IPæ— æ³•å®Œæˆé€šä¿¡ 1 DNS 2 ARPARP(Address Resolution Protocol)ï¼Œä»¥ç›®æ ‡IPåœ°å€ä¸ºçº¿ç´¢ï¼Œç”¨æ¥å®šä½ä¸‹ä¸€ä¸ªåº”è¯¥æ¥æ”¶æ•°æ®åˆ†åŒ…çš„ç½‘ç»œè®¾å¤‡å¯¹åº”çš„MACåœ°å€ã€‚ ARPçš„å·¥ä½œæœºåˆ¶ARPå€ŸåŠ©ARPè¯·æ±‚ä¸ARPå“åº”ä¸¤ç§ç±»å‹çš„åŒ…ç¡®å®šMACåœ°å€ã€‚ RARPRARP(Reverse Address Resolution Protocol)ï¼Œä»MACåœ°å€å®šä½IPåœ°å€çš„åè®® ä»£ç†ARP3 ICMPICMPçš„ä¸»è¦åŠŸèƒ½ï¼šç¡®è®¤IPåŒ…æ˜¯å¦æˆåŠŸé€è¾¾ç›®æ ‡åœ°å€ï¼Œé€šçŸ¥åœ¨å‘é€è¿‡ç¨‹å½“ä¸­IPåŒ…è¢«åºŸå¼ƒçš„å…·ä½“åŸå› ï¼Œæ”¹å–„ç½‘è·¯è®¾ç½®ç­‰ã€‚ 4 DHCPDHCP(Dynamic Host Configuration Protocol)ï¼Œå®ç°è‡ªåŠ¨è®¾ç½®IPåœ°å€ã€ç»Ÿä¸€ç®¡ç†IPåœ°å€åˆ†é…ã€‚ DHCPå·¥ä½œæœºåˆ¶ 5 NATNAT(Network Address Translator)ï¼Œç”¨äºæœ¬åœ°ç½‘ç»œä¸­ä½¿ç”¨ç§æœ‰åœ°å€ï¼Œåœ¨è¿æ¥äº’è”ç½‘æ—¶è½¬è€Œä½¿ç”¨å…¨å±€IPåœ°å€çš„æŠ€æœ¯ã€‚ 6 IPéš§é“]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šè®¾è®¡å¿ƒç†å­¦1ã€‹â€”â€”å¥½çš„è®¾è®¡æ˜¯æœ‰ç« å¯å¾ªçš„]]></title>
    <url>%2F2018%2F%E8%AE%BE%E8%AE%A1%E5%BF%83%E7%90%86%E5%AD%A61.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦å”çº³å¾·Â·è¯ºæ›¼(Donald Arthur Norman)ï¼Œæ›¾è¢«ç¾å›½ã€Šå•†ä¸šå‘¨åˆŠã€‹è¯„ä¸ºå…¨çƒå½±å“åŠ›è®¾è®¡å¸ˆä¹‹ä¸€ã€‚ç¾å›½è®¤çŸ¥å¿ƒç†å­¦å®¶ã€è®¡ç®—æœºå·¥ç¨‹å¸ˆã€å·¥ä¸šè®¾è®¡å®¶ï¼Œè®¤çŸ¥ç§‘å­¦å­¦ä¼šçš„å‘èµ·äººä¹‹ä¸€ã€‚ç°ä¸ºç¾å›½è¥¿åŒ—å¤§å­¦è®¡ç®—æœºç§‘å­¦ç³»å’Œå¿ƒç†å­¦æ•™æˆï¼Œæ˜¯å°¼è€Œæ£®-è¯ºæ›¼é›†å›¢(Nielsen Norman Group)å’¨è¯¢å…¬å¸çš„åˆ›åŠäººä¹‹ä¸€ï¼Œè‹¹æœè®¡ç®—æœºå…¬å¸å…ˆè¿›æŠ€æœ¯éƒ¨å‰¯æ€»è£ã€‚1999å¹´ï¼ŒUpsideæ‚å¿—æåè¯ºæ›¼åšå£«ä¸ºä¸–ç•Œ100ç²¾è‹±ä¹‹ä¸€ã€‚2002å¹´ï¼Œè¯ºæ›¼è·å¾—äº†ç”±äººæœºäº¤äº’ä¸“å®¶åä¼š(SIGCHI)æˆäºˆçš„ç»ˆèº«æˆå°±å¥–ã€‚ä½œä¸ºä¸€ä¸ªä»¥äººä¸ºä¸­å¿ƒçš„è®¾è®¡çš„å€¡å¯¼è€…ï¼Œè¯ºæ›¼æœ€è‘—åçš„ä¹¦å°±æ˜¯ã€Šè®¾è®¡å¿ƒç†å­¦ã€‹ã€‚ ã€Šè®¾è®¡å¿ƒç†å­¦ã€‹æœ€æ—©å‡ºç‰ˆäº1988å¹´ï¼Œæ˜¯è®¾è®¡å­¦çš„ç»å…¸å…¥é—¨ä¹¦ç±ã€‚2013å·¦å³ï¼Œä½œè€…å¯¹è¿™å¥—ä¹¦å¤§å¹…åº¦å¢åŠ å’Œå®Œå–„ï¼Œç°åœ¨ã€Šè®¾è®¡å¿ƒç†å­¦ã€‹ æœ‰å››æœ¬ä¹¦ï¼š ã€Šè®¾è®¡å¿ƒç†å­¦1ï¼šæ—¥å¸¸çš„è®¾è®¡ã€‹ ã€Šè®¾è®¡å¿ƒç†å­¦2ï¼šä¸å¤æ‚å…±å¤„ã€‹ ã€Šè®¾è®¡å¿ƒç†å­¦3ï¼šæƒ…æ„ŸåŒ–è®¾è®¡ã€‹ ã€Šè®¾è®¡å¿ƒç†å­¦4ï¼šæœªæ¥è®¾è®¡ã€‹ æœ¬æ–‡æ˜¯å¯¹ã€Šè®¾è®¡å¿ƒç†å­¦1ï¼šæ—¥å¸¸çš„è®¾è®¡ã€‹çš„è¯»ä¹¦ç¬”è®°ã€‚ å†…å®¹ä¸€ã€ä»€ä¹ˆæ˜¯å¥½è®¾è®¡ å¯è§†æ€§ï¼Œå°±æ˜¯è®©ç”¨æˆ·çŸ¥é“è¿™ä¸ªäº§å“æ€ä¹ˆç”¨ï¼Œæ€ä¹ˆæ“ä½œæ‰æ˜¯åˆç†çš„ã€‚ ğŸŒ°ï¼Œé—¨çš„æŠŠæ‰‹è®©ç”¨æˆ·çŸ¥é“é—¨æ˜¯æ‹‰çš„æˆ–æ¨çš„ï¼Œæˆ–æ˜¯å·¦å³ç§»åŠ¨çš„ã€‚ æ˜“é€šæ€§ï¼Œå°±æ˜¯è¦è®©ç”¨æˆ·æ˜ç™½ä½ çš„è®¾è®¡æ„å›¾ï¼Œæ˜ç¡®çš„å‘Šè¯‰ç”¨æˆ·ï¼Œä½ è®¾è®¡çš„è¿™ä¸ªä¸œè¥¿æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚ ğŸŒ°ï¼Œç”µè§†é¥æ§å™¨å¤ªå¤šçš„é”®ï¼Œè®©ç”¨æˆ·ä¸çŸ¥æ‰€è°“ ä¸ºä»€ä¹ˆæœ‰é‚£ä¹ˆå¤šçš„ç³Ÿç³•è®¾è®¡ï¼Ÿ å› ä¸ºå¾ˆå¤šäº§å“éƒ½æ˜¯å·¥ç¨‹å¸ˆåšçš„ï¼Œå·¥ç¨‹å¸ˆéƒ½æ˜¯å—è¿‡ä¸¥æ ¼é€»è¾‘è®­ç»ƒçš„äººï¼Œä»–ä»¬å¤©ç„¶åœ°ä»¥ä¸ºï¼Œæ‰€æœ‰äººéƒ½åº”è¯¥æŒ‰ç…§é€»è¾‘æ€è€ƒï¼Œæ‰€ä»¥ä»–ä»¬è®¾è®¡å‡ºæ¥çš„äº§å“å¾€å¾€éƒ½â€œä¸è¿‘äººæƒ…â€ã€‚ ğŸ”¥ä½œä¸ºå·¥ç¨‹å¸ˆçš„æˆ‘ï¼Œè¦æ—¶åˆ»æ³¨æ„è¿™ä¸€ç‚¹ï¼Œä¸è¦ä»»ä½•æ—¶å€™éƒ½å¤ªæ³¨é‡é€»è¾‘ã€‚ äºŒã€äº¤äº’è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŸåˆ™ ç¤ºèƒ½ï¼ˆæ˜¾ç¤ºèƒ½åŠ›ï¼‰ï¼š æŒ‡æŸäº›ç‰©ä½“æœ¬èº«å°±æœ‰çš„ã€ç‰¹å®šçš„äº¤äº’æ–¹å¼ï¼Œä¸éœ€è¦è§£é‡Šï¼Œå®ƒç›´æ¥å°±å¯ä»¥è¢«æ„ŸçŸ¥åˆ°ã€‚ ğŸŒ°ï¼šä¸€æŠŠæ¤…å­ï¼Œä¸ç®¡å®ƒæ€ä¹ˆè®¾è®¡ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ªå¹³é¢ï¼Œå’±ä»¬è¿˜æ˜¯èƒ½è®¤å‡ºå®ƒæ˜¯ä¸€æŠŠæ¤…å­ï¼Œå¯ä»¥åäººã€‚è¿™é‡Œé¢çš„â€œå¹³é¢â€ï¼Œå°±æ˜¯ä¸€ç§ç¤ºèƒ½ã€‚ä¸€å‡ºç°å¹³é¢ï¼Œäººä»¬å°±ä¼šå¤©ç„¶åœ°è®¤ä¸ºï¼Œè¿™ä¸ªåœ°æ–¹æ˜¯å¯ä»¥åçš„ã€‚ æ„ç¬¦ï¼š æ˜¯ä¸€ç§æç¤ºï¼Œå‘Šè¯‰ç”¨æˆ·å¯ä»¥é‡‡å–ä»€ä¹ˆè¡Œä¸ºã€‚ ğŸŒ°ï¼šæœ‰äº›å•†åœºçš„å¤§é—¨ä¸Šï¼Œä¼šå†™ä¸Šâ€œæ¨â€æˆ–è€…æ˜¯â€œæ‹‰â€çš„æç¤ºï¼Œè¿™ä¸ªæ¨å’Œæ‹‰å°±æ˜¯ä¸€ç§æ„ç¬¦ã€‚ æ„ç¬¦ä¸ä»…å¯ä»¥ç”¨è§†è§‰çš„æ–¹å¼æ¥å±•ç°ï¼Œå£°éŸ³ä¹Ÿå¯ä»¥èµ·åˆ°æ„ç¬¦çš„ä½œç”¨ã€‚ğŸŒ°ï¼šé—¨é”é”å¥½çš„æ—¶å€™ï¼Œä¼šå‘å‡ºâ€œå’”åš“â€ä¸€å£°ã€‚é¢åŒ…ç‰‡çƒ¤å¥½ä¹‹åä»é¢åŒ…æœºé‡Œè·³å‡ºæ¥çš„å£°éŸ³ã€‚è¿™äº›å£°éŸ³éƒ½æ˜¯ä¸€ç§æ„ç¬¦ï¼Œèƒ½ä¼ è¾¾ç»™äººæŸç§ä¿¡æ¯ã€‚ ğŸŒ°ï¼šæ±½è½¦å‘åŠ¨æœºçš„å£°éŸ³ä¼šç»™äººä¸€ç§å®‰å…¨è­¦å‘Šâš ï¸ï¼Œç°åœ¨ç”µåŠ¨è½¦æ²¡æœ‰é‚£ç§å£°éŸ³ï¼Œæœ‰æ—¶å°±ç”µåŠ¨æœºå°±éœ€è¦æ¨¡ä»¿æ±½è½¦å‘åŠ¨æœºçš„å£°éŸ³æ¥ç»™äººè­¦å‘Šã€‚ çº¦æŸ å¾ˆå¤šä¸œè¥¿å’±ä»¬ä»¥å‰éƒ½æ²¡ç”¨è¿‡ï¼Œä½†ä¸ºä»€ä¹ˆæ€»æ˜¯èƒ½å¾ˆå¿«ä¸Šæ‰‹å‘¢ï¼Ÿè¿™å°±æ˜¯çº¦æŸåœ¨è®¾è®¡é‡Œèµ·åˆ°çš„ä½œç”¨ã€‚ ğŸŒ°ï¼šæ¯”å¦‚ä¸€è¾†ä¹é«˜çš„ç©å…·æ‘©æ‰˜è½¦ï¼Œå³ä¾¿ä½ ä»¥å‰æ²¡ç©å„¿è¿‡ï¼Œä¹Ÿèƒ½å¾ˆå¿«å°±æŠŠå®ƒç»„è£…èµ·æ¥ã€‚å› ä¸ºå®ƒçš„è½®å­åªèƒ½è£…åœ¨å‰å‰ä¸Šï¼Œæ‰‹è‡‚åªèƒ½è£…åœ¨å°äººçš„èº¯å¹²ä¸Šï¼Œæ¯ä¸ªéƒ¨ä»¶çš„æ¥å£éƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥æ‰§è¡Œçš„æ“ä½œå°±é‚£ä¹ˆå‡ ç§ï¼Œå¤šå°è¯•å‡ æ¬¡ï¼Œæˆ‘ä»¬å°±èƒ½æŠŠè¿™ä¸ªç©å…·æ‘©æ‰˜è½¦ç»„è£…å¥½ã€‚ æ˜ å°„ æœ€å¥½çš„æ˜ å°„ï¼Œå°±æ˜¯æ§åˆ¶å¼€å…³ç›´æ¥å®‰è£…åœ¨è¢«æ§åˆ¶çš„å¯¹è±¡ä¸Šã€‚ ğŸŒ°ï¼šè§¦å±æ‰‹æœºæ¯”æŒ‰é”®æ‰‹æœºå¥½ å¦‚æœåšä¸åˆ°è¿™ä¹ˆç›´æ¥çš„æ˜ å°„ï¼Œé‚£å°±å°½é‡æŠŠå¼€å…³è£…åˆ°è¢«æ§åˆ¶å¯¹è±¡çš„é™„è¿‘ã€‚ ğŸŒ°ï¼šæœ‰ä¸¤ä¸ªç¶çœ¼çš„ç…¤æ°”ç¶ï¼Œå¼€å…³å°±ä¼šåˆ†åˆ«è£…åˆ°ä¸¤ä¸ªç¶çœ¼çš„æ—è¾¹ã€‚ å¦‚æœè¿™ä¹Ÿåšä¸åˆ°ï¼Œé‚£å°±è¦è®©å¼€å…³å’Œè¢«æ§åˆ¶å¯¹è±¡çš„ç©ºé—´åˆ†å¸ƒä¿æŒä¸€è‡´ã€‚ ğŸŒ°ï¼šå¢™é¢ä¸Šçš„å¼€å…³å’Œå±‹é¡¶çš„åŠç¯ï¼Œè¦æœ‰æ˜ç¡®çš„æ˜ å°„å…³ç³»ã€‚ åé¦ˆä¸€ä¸ªå¥½çš„è®¾è®¡ï¼Œä¸€å®šè¦æœ‰åŠæ—¶çš„åé¦ˆã€‚å½“ç„¶ï¼Œåé¦ˆä¹Ÿä¸èƒ½å¤ªé¢‘ç¹ï¼Œè¿™ä¼šæ‰“æ‰°åˆ°ç”¨æˆ·ã€‚ ğŸŒ°ï¼šå¾ˆå¤šé¥æ§å™¨æŒ‰ä¸€ä¸‹å°±ä¼šå‘å‡ºâ€œæ»´â€çš„ä¸€å£°ï¼Œå®Œæˆä¸€ä¸ªæ“ä½œè¦æŒ‰å¥½å‡ ä¸‹é¥æ§å™¨ï¼Œè¿™æ—¶å€™è¿ç»­çš„æ»´æ»´å£°å°±ä¼šæå¾—äººå¿ƒçƒ¦æ„ä¹±ã€‚ ä¸‰ã€äººä¸ºå·®é”™å¾€å¾€æ¥æºäºç³Ÿç³•çš„è®¾è®¡äººä¸æ˜¯æœºå™¨ï¼Œä¸èƒ½è¦æ±‚äººåšå‡ºè¿åè‡ªç„¶è§„å¾‹çš„äº‹æƒ…,æ¯”å¦‚è¦æ±‚äººå¥½å‡ ä¸ªå°æ—¶ä¿æŒé«˜åº¦è­¦æƒ•çš„çŠ¶æ€ï¼Œæˆ–è€…åŒä¸€æ—¶é—´å¤„ç†å¥½å‡ ä¸ªä»»åŠ¡ï¼Œè¿™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œè‚¯å®šä¼šæœ‰äººä¼šå‡ºé”™ã€‚ é¢å¯¹é—®é¢˜çš„æ—¶å€™ï¼Œå¤šé—®å‡ ä¸ªä¸ºä»€ä¹ˆï¼Œèƒ½ä¿ƒè¿›äººä»¬æ›´å¤šæ€è€ƒï¼Œä¹Ÿèƒ½åˆ°æœ€æ ¹æœ¬çš„åŸå› ï¼Œå‘ç°è®¾è®¡é—®é¢˜ã€‚ äº”ä¸ªä¸ºä»€ä¹ˆï¼š12345678æˆ˜æ–—æœºå¤±äº‹ï¼ŒæŸ¥æ‰¾åŸå› ï¼šä¸ºä»€ä¹ˆé£æœºå¤±äº‹ï¼Ÿ å› ä¸ºå®ƒå½“æ—¶å¤±æ§äº†ä¸æ–­å‘ä¸‹ä¿¯å†²ã€‚é£æœºå‘˜ä¸ºä»€ä¹ˆæ²¡æœ‰æŠŠä¿¯å†²çŠ¶æ€ä¸‹çš„é£æœºæ¢å¤åˆ°æ­£å¸¸çŠ¶æ€ï¼Ÿ å› ä¸ºé£è¡Œå‘˜æ²¡æœ‰åŠæ—¶å¯åŠ¨æ¢å¤è£…ç½®ã€‚ä¸ºä»€ä¹ˆä»–æ²¡æœ‰å¯åŠ¨æ¢å¤è£…ç½®å‘¢ï¼Ÿ å¯èƒ½æ˜¯å› ä¸ºä»–å½“æ—¶ç¼ºæ°§äº†æˆ–è€…æ˜¯æ¢å¤è£…ç½®æŒ‰é’®å¤ªå°äº†ã€‚... å››ã€æ€ä¹ˆè®¾è®¡ï¼Œæ‰èƒ½é¿å…äººä»¬æ“ä½œå¤±è¯¯ çº¦æŸ ğŸŒ°ï¼šæ¯”å¦‚åœ¨é“¶è¡ŒåŠç†ä¸šåŠ¡ï¼Œå¡«å†™å®Œä¿¡æ¯ä¹‹åï¼Œäººä»¬å¾ˆå¯èƒ½é¡ºæ‰‹å°±æŠŠè¥ä¸šçª—å£çš„ç¬”è£…åˆ°è‡ªå·±å…œé‡Œäº†ï¼Œä¸ºäº†é¿å…è¿™ç§å¤±è¯¯ï¼Œé“¶è¡Œå°±æŠŠç¬”æ‹´åœ¨çª—å£ä¸Šï¼Œè¿™ä¸ªå°çº¦æŸå°±èƒ½å‡å°‘äººä»¬çš„å¤±è¯¯ã€‚ ğŸŒ°ï¼šATMæœºï¼Œå¦‚æœçº¦æŸå…ˆæ‹”å¡åå–é’± å°±å¯ä»¥é¿å…å¿˜è®°å–å¡ å¼ºåˆ¶ ğŸŒ°ï¼šåœ¨æ²¡æœ‰æ–­ç”µçš„æƒ…å†µä¸‹æ‰“å¼€å¾®æ³¢ç‚‰æ˜¯éå¸¸å±é™©çš„ï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªé”™è¯¯ï¼Œå¾®æ³¢ç‚‰å°±å¯ä»¥è¢«è®¾è®¡æˆåœ¨å¼€é—¨çš„ä¸€ç¬é—´ï¼Œä¹ŸåŒæ—¶æ–­å¼€ç”µæºã€‚ ğŸŒ°ï¼šå‰²è‰æœºï¼Œå¼¹ç°§å¼€å…³ï¼ŒæŒ‰ç€æ‰èƒ½ä½¿ç”¨ æ•…æ„åˆ¶é€ å›°éš¾ ğŸŒ°ï¼šå¾ˆéš¾æ‰“å¼€çš„è¯ç“¶ï¼Œå°±å¯ä»¥é˜²æ­¢å°å­©åƒé”™è¯ï¼Œä½†è¿˜ä¸å½±å“å¤§äººå¹³æ—¶æ­£å¸¸ä½¿ç”¨ã€‚ äºŒæ¬¡ç¡®è®¤ã€æ’¤é”€ ğŸŒ°ï¼šå¾ˆå¤šç”µè„‘è½¯ä»¶ï¼Œåœ¨ä½ ç‚¹å‡»å…³é—­ä¹‹åï¼Œéƒ½ä¼šå¼¹çª—æé†’ä½ ï¼Œæ˜¯å¦ç¡®è®¤å…³é—­ã€‚è¿˜å¯ä»¥åŠ ä¸Šæ’¤é”€åŠŸèƒ½ï¼Œæ¯”å¦‚ç”µè„‘çš„â€œå›æ”¶ç«™â€åŠŸèƒ½ã€‚ äº”ã€â€œä»¥äººä¸ºæœ¬â€çš„è®¾è®¡æ€ç»´â€œä»¥äººä¸ºæœ¬â€ï¼Œä¸ä»…æ˜¯ä»·å€¼è§‚ï¼Œè¿˜æ˜¯æ–¹æ³•è®ºã€‚å®ƒå¯ä»¥æŒ‡å¯¼æˆ‘ä»¬çš„è¡ŒåŠ¨ã€‚å­¦ä¼šå®šä¹‰é—®é¢˜ï¼Œå·¥ç¨‹å¸ˆè§£å†³é—®é¢˜å¼º è§‚å¯Ÿ è®¾è®¡å¸ˆä¸ä¼šä¸€å¼€å§‹å°±èšç„¦äºè§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯ä¼šå…ˆåˆ†æéšè—åœ¨é—®é¢˜ä¹‹ä¸‹çš„æœ¬è´¨åŸå› ï¼Œæ‰¾åˆ°é—®é¢˜çš„æœ¬è´¨ï¼Œæ‰å¼€å§‹ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ã€‚è®¾è®¡å¸ˆè¿˜ä¼šå»æ‰¾æ½œåœ¨ç”¨æˆ·ï¼Œè§‚å¯Ÿä»–ä»¬çš„è¡Œä¸ºï¼Œç†è§£ä»–ä»¬çš„å…´è¶£çˆ±å¥½ã€åŠ¨æœºä»¥åŠçœŸå®éœ€æ±‚ã€‚é€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œæ¥å®šä¹‰è®¾è®¡è¦è§£å†³çš„çœŸæ­£é—®é¢˜ã€‚ å½“ç„¶è¦åœ¨ç”¨æˆ·è‡ªç„¶çŠ¶æ€ä¸‹è§‚å¯Ÿã€‚ åˆ›æ„ åœ¨åˆ›æ„çš„åˆæœŸï¼Œè¦å‘æ•£æ€ç»´ï¼Œè®©äººä»¬å°½é‡å¤šæå‡ºæ–°ç‚¹å­ï¼Œè¿™ä¸ªé˜¶æ®µåƒä¸‡ä¸è¦æ€¥ç€æ‰¹åˆ¤ï¼Œä¸ç®¡äººä»¬è¯´å‡ºä»€ä¹ˆç‚¹å­ï¼Œéƒ½è¦è®°ä¸‹æ¥ã€‚ç­‰æœ‰äº†ä¸€å †ç‚¹å­çš„æ—¶å€™ï¼Œå†è¿›è¡Œç­›é€‰æ•´åˆï¼ŒæŒ‘å‡ºæœ€å¥½çš„ç‚¹å­è¿›è¡Œä¸‹ä¸€æ­¥ã€‚ æ‰“æ · è¦æƒ³çŸ¥é“ä¸€ä¸ªåˆ›æ„æ˜¯ä¸æ˜¯åˆç†ï¼Œå”¯ä¸€çš„æ–¹æ³•å°±æ˜¯æµ‹è¯•ã€‚æ‰€è°“çš„æ‰“æ ·ï¼Œå°±æ˜¯ç”¨è‰å›¾ï¼Œæˆ–è€…æ˜¯æ¨¡å‹ï¼Œå¿«é€Ÿåšå‡ºä¸€ä¸ªå¯ä»¥å±•ç¤ºçš„æ ·å“å‡ºæ¥ã€‚ æµ‹è¯• å…ˆæ‰¾ä¸€å°éƒ¨åˆ†ç›®æ ‡ç”¨æˆ·ï¼Œè®©ä»–ä»¬ä½¿ç”¨æ ·å“ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€å®šè¦è‡ªç„¶ï¼Œå°½é‡è¿˜åŸåˆ°çœŸå®çš„ä½¿ç”¨åœºæ™¯é‡Œã€‚å¾—åˆ°åé¦ˆä¹‹åã€‚ å†æ¬¡é‡å¤ä¸Šé¢å››ä¸ªæ­¥éª¤ï¼šè§‚å¯Ÿã€åˆ›æ„ã€æ‰“æ ·ã€æµ‹è¯•ã€‚ç›´åˆ°è®¾è®¡å‡ºèƒ½çœŸæ­£è§£å†³ç”¨æˆ·éœ€æ±‚ï¼Œå¹¶ä¸”æœ‰è‰¯å¥½ç”¨æˆ·ä½“éªŒçš„äº§å“ä¸ºæ­¢ã€‚ å‚è€ƒï¼šå¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å¿ƒç†å­¦</tag>
        <tag>è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Šèµ¤è£¸è£¸çš„ç»Ÿè®¡å­¦ã€‹â€”â€”é¢å¯¹çˆ†ç‚¸çš„æ•°æ®ï¼Œäº†è§£ç»Ÿè®¡å­¦æ˜¯å¾ˆæœ‰å¿…è¦çš„]]></title>
    <url>%2F2018%2F%E8%B5%A4%E8%A3%B8%E8%A3%B8%E7%9A%84%E7%BB%9F%E8%AE%A1%E5%AD%A6.html</url>
    <content type="text"><![CDATA[ä½œè€…å’Œæœ¬ä¹¦æ¦‚è¦æŸ¥å°”æ–¯â€¢æƒ ä¼¦ï¼ˆCharles Wheelanï¼‰ï¼Œäº1997ï½2002å¹´é—´æ‹…ä»»ã€Šç»æµå­¦äººã€‹æ‚å¿—é©»ç¾å›½ä¸­è¥¿éƒ¨åœ°åŒºçš„è®°è€…ï¼Œè¿˜ä¸ºã€ŠèŠåŠ å“¥éƒ¨æŠ¥ã€‹ã€ã€Šçº½çº¦æ—¶æŠ¥ã€‹å’Œã€Šåå°”è¡—æ—¥æŠ¥ã€‹æ’°ç¨¿ï¼Œæ‰€è‘—ã€Šèµ¤è£¸è£¸çš„ç»æµå­¦ã€‹æ˜¯ç•…é”€å¤šå¹´çš„ç»æµå­¦æ™®åŠè¯»ç‰©ã€‚ ã€Šèµ¤è£¸è£¸çš„ç»Ÿè®¡å­¦ã€‹æ˜¯ä¸€æœ¬å…³äºç»Ÿè®¡å­¦å¸¸è¯†çš„ç§‘æ™®ä¹¦ã€‚ å†…å®¹ä½œä¸ºå¤§æ•°æ®æ—¶ä»£ç‚™æ‰‹å¯çƒ­çš„å­¦é—®ï¼Œç»Ÿè®¡å­¦å¯ä»¥è§£å†³å¾ˆå¤šå®é™…é—®é¢˜ã€‚å¯å¦‚æœè¿ç”¨ä¸å½“ï¼Œç»Ÿè®¡å­¦ä¹Ÿä¼šåˆ¶é€ å‡è±¡ã€é€ æˆè¯¯å¯¼ã€‚ äº†è§£ç»Ÿè®¡å­¦ï¼Œäº†è§£åœ¨å¤§æ•°æ®æ—¶ä»£ç”Ÿå­˜çš„æ¸¸æˆæ³•åˆ™ã€‚ è¿ç”¨å¥½ç»Ÿè®¡å­¦çŸ¥è¯†ï¼Œèƒ½è®©æˆ‘ä»¬åœ¨é¢å¯¹é™Œç”Ÿé—®é¢˜çš„æ—¶å€™ï¼Œå¾—å‡ºæœ‰è¯´æœåŠ›çš„ç»“è®ºï¼Œåšå‡ºåˆç†çš„å†³ç­–ã€‚ç»Ÿè®¡å­¦å®¶çš„å·¥ä½œï¼šé€šè¿‡åˆ†ææ•°æ®æ¥æ¨æ–­äº‹ç‰©çš„æœ¬è´¨ï¼Œé¢„æµ‹å®ƒæœªæ¥çš„å‘å±•ã€‚ ä¸€ã€å¤§æ•°å®šå¾‹å¤§æ•°å®šå¾‹ çš„æ•°å­¦è¡¨è¾¾ï¼šå½“è¯•éªŒæ¬¡æ•°è¶³å¤Ÿå¤šæ—¶ï¼Œå®éªŒç»“æœçš„å¹³å‡å€¼ä¼šæ— é™åœ°æ¥è¿‘ä¸€ä¸ªæ•°å€¼ï¼Œè¿™ä¸ªæ•°å€¼ä¸€èˆ¬å«åšâ€œæœŸæœ›å€¼â€ã€‚ å½©ç¥¨ï¼šå‘è¡Œæœºæ„åªè¦ä¿è¯å½©ç¥¨çš„é”€å”®é¢å¤§äºå¥–é‡‘æœŸæœ›å€¼ï¼Œå°±è‚¯å®šèµšé’±ã€‚ èµŒåœºï¼šåªè¦èƒ½å¸å¼•åˆ°è¶³å¤Ÿæ•°é‡çš„èµŒå®¢ï¼Œä¸ç®¡å¹¸è¿å„¿èµ¢èµ°å¤šå°‘é’±ï¼ŒèµŒåœºæ°¸è¿œæ˜¯æœ€åçš„èµ¢å®¶ã€‚ æŠ•èµ„é£é™©æ‰¿å—èƒ½åŠ›è¶Šå¼ºï¼Œæ„å‘³ç€å…è®¸è¯•éªŒçš„æ¬¡æ•°è¶Šå¤šï¼Œä¹Ÿå°±è¶Šæœ‰å¯èƒ½èµšåˆ°æœŸæœ›çš„æŠ•èµ„å›æŠ¥ã€‚ ä¿é™©è¡Œä¸š äºŒã€ä¸­å¿ƒæé™å®šç†ä¸­å¿ƒæé™å®šç†ï¼š ä»»æ„ä¸€ä¸ªç¾¤ä½“æ ·æœ¬çš„å¹³å‡å€¼ï¼Œéƒ½ä¼šå›´ç»•åœ¨è¿™ä¸ªç¾¤ä½“çš„æ•´ä½“å¹³å‡å€¼å‘¨å›´ã€‚ ä»»æ„ç¾¤ä½“æ ·æœ¬çš„å¹³å‡å€¼â‰ˆæ•´ä½“å¹³å‡å€¼ ä¾‹å­ğŸŒ°ï¼š å‡å¦‚ä½ çƒ§äº†ä¸€é”…æ±¤ï¼Œæƒ³çŸ¥é“å‘³é“æ€ä¹ˆæ ·ï¼Œæ²¡å¿…è¦æŠŠæ±¤éƒ½å–å…‰ï¼Œåªè¦å°ä¸€å°å‹ºå°±å¯ä»¥äº†ï¼Œä»»æ„ä¸€å‹ºæ±¤çš„å‘³é“ç»ä¸ä¼šç›¸å·®å¾ˆè¿œã€‚ ä¸‰ã€éšæœºæŠ½æ ·é€‰å–ä»£è¡¨æ€§æ ·æœ¬çš„è¿‡ç¨‹å°±æ˜¯éšæœºæŠ½æ ·ã€‚ æ³¨æ„åè§ã€‚ é€‰æ‹©æ€§åè§ å¹¸å­˜è€…åè§ å¥åº·ç”¨æˆ·åè§ å››ã€å›å½’åˆ†æå›å½’åˆ†æ ï¼šé€šè¿‡ä¸€ä¸ªå·²çŸ¥çš„ç°è±¡ï¼Œæ¥æ‰¾åˆ°æœªçŸ¥çš„åŸå› ã€‚å¤šå…ƒçº¿æ€§å›å½’æ–¹ç¨‹æ¨¡å‹ã€‚ç ”ç©¶å¤æ‚ç»Ÿè®¡å­¦é—®é¢˜çš„å¿…å¤‡å·¥å…·ã€‚ä¿æŒç†æ€§çš„æ€åº¦ã€‚ äº”ã€å¸¸çŠ¯çš„é”™è¯¯ â€œé»‘å¤©é¹…äº‹ä»¶â€ï¼šä¸€èˆ¬ç”¨æ¥æŒ‡é‚£äº›å½±å“å¾ˆå¤§ï¼Œä½†éš¾ä»¥é¢„æµ‹çš„å°æ¦‚ç‡äº‹ä»¶ã€‚ ç¾å›½æ¬¡è´·å±æœºï¼Œè‡´å‘½é—®é¢˜æ˜¯å®ƒçš„æ¦‚ç‡å­¦æ¨¡å‹å‚ç…§çš„æ˜¯è¿‡å»20å¹´çš„å¸‚åœºè¡Œä¸ºï¼Œä¸èƒ½å¯¹æœªçŸ¥çš„æ„å¤–æƒ…å†µåšå‡ºé¢„æµ‹ã€‚ ç»Ÿè®¡è¯¯å·®ï¼š åªè¦æ•°æ®åˆ†æå»ºç«‹åœ¨æŠ½æ ·è°ƒæŸ¥ä¹‹ä¸Šï¼Œæ ·æœ¬çš„ç»Ÿè®¡ç»“æœå’ŒçœŸå®æƒ…å†µä¹‹é—´å°±ä¼šå­˜åœ¨è¯¯å·®ã€‚ å…­ã€æ€»ç»“ç²¾ç¡®æœ‰æ—¶å€™å¹¶ä¸æ„å‘³ç€å‡†ç¡®ã€‚ æ¦‚ç‡å­¦æœ¬èº«ä¸ä¼šçŠ¯é”™ï¼ŒçŠ¯é”™çš„æ˜¯ä½¿ç”¨å®ƒçš„äººã€‚ éšç€å¤§æ•°æ®æ—¶ä»£çš„åˆ°æ¥ï¼Œè½¬å˜è‡ªå·±å¯¹å‘¨å›´ä¸–ç•Œçš„è®¤çŸ¥æ–¹å¼éå¸¸é‡è¦ã€‚ å‚è€ƒï¼šå¾—åˆ°-æ¯å¤©å¬æœ¬ä¹¦]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç»Ÿè®¡å­¦</tag>
        <tag>å¤§æ•°æ®</tag>
        <tag>å¤§æ•°å®šå¾‹</tag>
        <tag>æœŸæœ›å€¼</tag>
        <tag>éšæœºæŠ½æ ·</tag>
        <tag>ä¸­å¿ƒæé™å®šç†</tag>
        <tag>å›å½’åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å›¾è§£TCP/IP-4-IPåè®®]]></title>
    <url>%2F2018%2Ftujie-TCP-IP-4.html</url>
    <content type="text"><![CDATA[TCP/IPçš„å¿ƒè„æ˜¯äº’è”ç½‘å±‚ï¼ŒåŒ…æ‹¬IP(Internet Protocol)å’ŒICMP(Internet Control Message Protocol)ä¸¤ä¸ªåè®®ã€‚ 1IPå³ç½‘é™…åè®® ä¸»æœºï¼šé…ç½®IPåœ°å€ï¼Œä½†ä¸è¿›è¡Œè·¯ç”±æ§åˆ¶çš„è®¾å¤‡ã€‚è·¯ç”±å™¨ï¼šé…ç½®IPåœ°å€åˆæœ‰è·¯ç”±æ§åˆ¶çš„è®¾å¤‡ã€‚èŠ‚ç‚¹ï¼šä¸»æœºå’Œè·¯ç”±å™¨çš„ç»Ÿç§°ã€‚ 2IPåŸºç¡€çŸ¥è¯†IPåœ°å€å±äºç½‘ç»œå±‚åœ°å€è·¯ç”±æ§åˆ¶IPè·¯ç”±ä¹Ÿå«å¤šè·¯è·¯ç”± ä¸ºäº†å°†æ•°æ®åŒ…å‘ç»™ç›®æ ‡ä¸»æœºï¼Œæ‰€æœ‰ä¸»æœºéƒ½ç»´æŠ¤è¿™ä¸€å¼ è·¯ç”±æ§åˆ¶è¡¨ï¼ˆRouting Tableï¼‰ æ•°æ®é“¾è·¯çš„æŠ½è±¡åŒ–ä¸åŒæ•°æ®é“¾è·¯æœ€å¤§åŒºåˆ«æ˜¯æœ€å¤§ä¼ è¾“å•ä½ï¼ˆMTUï¼ŒMaximum Transmission Unitï¼‰ã€‚ IPå±äºé¢å‘æ— è¿æ¥å‹é¢å‘æ— è¿æ¥æ˜¯æŒ‡åœ¨å‘åŒ…ä¹‹å‰ï¼Œä¸éœ€è¦å»ºç«‹ä¸å¯¹ç«¯ç›®æ ‡åœ°å€ä¹‹é—´çš„è¿æ¥ã€‚ è¿™æ ·åšçš„åŸå› ï¼š ç®€åŒ– æé€Ÿ ä¸ºäº†æé«˜å¯é æ€§ï¼Œä¸Šä¸€å±‚çš„TCPé‡‡ç”¨é¢å‘æœ‰è¿æ¥å‹ 3IPåœ°å€çš„åŸºç¡€çŸ¥è¯†IPåœ°å€ç»„æˆIPåœ°å€ç»„æˆï¼š ç½‘è·¯æ ‡è¯†ï¼ˆç½‘ç»œåœ°å€ï¼‰ï¼Œ ä¸»æœºæ ‡è¯†ï¼ˆä¸»æœºåœ°å€ï¼‰ IPåœ°å€çš„åˆ†ç±» å¹¿æ’­åœ°å€IPå¤šæ’­ å­ç½‘æ©ç  CIDRä¸VLSM0ã€10ã€27ç­‰å¼€å¤´çš„Aç±»åœ°å€éƒ½æ˜¯å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ä¿ç•™åœ°å€ã€‚ å…¨å±€åœ°å€ä¸ç§æœ‰åœ°å€4è·¯ç”±æ§åˆ¶IPåœ°å€ä¸è·¯ç”±æ§åˆ¶ è·¯ç”±æ§åˆ¶è¡¨ä¸­è®°å½•ç€ç½‘ç»œåœ°å€ä¸ä¸‹ä¸€æ­¥åº”è¯¥å‘é€è‡³è·¯ç”±å™¨çš„åœ°å€ã€‚ åœ¨Windowså’ŒUnixä¸Šè¡¨ç¤ºè·¯ç”±å™¨çš„æ–¹æ³•åˆ†åˆ«ä¸ºnetstat-rï¼Œ netstat-rnã€‚ ç¯å›åœ°å€ï¼šåŒä¸€å°è®¡ç®—æœºä¸Šçš„ç¨‹åºä¹‹é—´è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„ä¸€ä¸ªé»˜è®¤åœ°å€ã€‚ 127.0.0.1 è·¯ç”±æ§åˆ¶å™¨çš„èšåˆ 5IPåˆ†å‰²å¤„ç†ä¸å†æ„æˆå¤„ç† IPæŠ¥æ–‡çš„åˆ†ç‰‡ä¸é‡ç»„ç»è¿‡åˆ†ç‰‡ä¹‹åçš„IPæ•°æ®æŠ¥åœ¨èƒŒé‡ç»„çš„æ—¶å€™ï¼Œåªèƒ½ç”±ç›®æ ‡ä¸»æœºè¿›è¡Œã€‚è·¯ç”±å™¨è™½ç„¶åšåˆ†ç‰‡ä½†ä¸ä¼šè¿›è¡Œé‡ç»„ã€‚ è·¯å¾„MTUå‘ç° 6 IPv67 IPv4é¦–éƒ¨8 IPv6 é¦–éƒ¨æ ¼å¼]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å›¾è§£TCP/IP-3-æ•°æ®é“¾è·¯]]></title>
    <url>%2F2018%2Ftujie-TCP-IP-3.html</url>
    <content type="text"><![CDATA[1æ•°æ®é“¾è·¯çš„ä½œç”¨äºŒè¿›åˆ¶0ã€1è¡¨ç¤ºä¿¡æ¯ï¼Œåœ¨é€šä¿¡åª’ä»‹ä¸­å›½å¯¹åº”æ˜¯ ç”µå‹çš„é«˜ä½ã€å…‰çš„é—ªç­ä»¥åŠç”µæ³¢çš„å¼ºå¼±ç­‰ä¿¡å·ã€‚ æ•°æ®é“¾è·¯è¢«è§†ä¸ºç½‘ç»œä¼ è¾“ä¸­çš„æœ€å°å•ä½ã€‚ ä¸åŒçš„æ•°æ®é“¾è·¯ç½‘è·¯ï¼šä»¥å¤ªç½‘FDDIï¼ˆFiber Distributed Data Interfaceï¼Œå…‰çº¤åˆ†å¸ƒå¼æ•°æ®æ¥å£ï¼‰ATMï¼ˆAsynchronous Transfer Modeï¼Œå¼‚æ­¥ä¼ è¾“æ–¹å¼ï¼‰æ— çº¿LANè“ç‰™ ç½‘ç»œæ‹“æ‰‘ï¼ˆTopologyï¼‰ 2æ•°æ®é“¾è·¯ç›¸å…³æŠ€æœ¯2.1MACåœ°å€MACåœ°å€é•¿48æ¯”ç‰¹ï¼Œä¸€èˆ¬è¢«çƒ§å…¥åˆ°ROMä¸­ã€‚ä»»æ„ä¸€ä¸ªç½‘å¡çš„MACåœ°å€æ˜¯å…¨ä¸–ç•Œå”¯ä¸€çš„ï¼ˆè™šæ‹Ÿç½‘å¡é™¤å¤–ï¼‰ã€‚ å‚å•†è¯†åˆ«ç ï¼ˆOUI, Organizationally Unique Ideifierï¼‰ï¼Œå¯é€šè¿‡ç½‘ç»œåˆ†æå™¨åˆ†æå¾—åˆ°ã€‚ 2.2å…±äº«ä»‹è´¨ç½‘è·¯ï¼šå¤šä¸ªè®¾å¤‡å…±äº«ä¸€ä¸ªé€šä¿¡ä»‹è´¨ äº‰ç”¨æ–¹å¼ï¼ˆContentionï¼‰ï¼Œä¹Ÿå« CSMAï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®ï¼‰ CSMA/CD (Carrier Sense Multiple Acess with Collision Detection) ä»¤ç‰Œä¼ é€’æ–¹å¼åªæœ‰è·å¾—ä»¤ç‰Œçš„ç«™æ‰èƒ½å‘é€æ•°æ® 2.3éå…±äº«ä»‹è´¨ç½‘ç»œ åŠåŒå·¥ä¸å…¨åŒå·¥é€šä¿¡ 2.4 æ ¹æ®MACåœ°å€è½¬å‘äº¤æ¢é›†çº¿å™¨ ä¹Ÿå« ä»¥å¤ªç½‘äº¤æ¢æœº 2.5 ç¯è·¯æ£€æµ‹æŠ€æœ¯2.6 VLAN3ä»¥å¤ªç½‘ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰æºäºEtherï¼ˆä»¥å¤ªï¼‰ï¼Œæ„ä¸ºä»‹è´¨ã€‚ ä»¥å¤ªç½‘çš„åˆ†ç±»BASEå‰çš„10ã€100ã€10Gç­‰ä»£è¡¨ä¼ è¾“é€Ÿåº¦ï¼ŒBASEåçš„2ã€5ã€Tã€Fç­‰å­—ç¬¦ä»£è¡¨ä¼ è¾“ä»‹è´¨ã€‚ ä»¥å¤ªç½‘ä¼ è¾“é€Ÿåº¦ä¸è®¡ç®—æœºå†…éƒ¨çš„è¡¨ç°å€¼ä¸åŒï¼Œä»¥å¤ªç½‘ä¸­æ˜¯1000ï¼ˆ1K=1000ï¼Œ1M=1000Kç­‰ï¼‰ï¼Œè€Œè®¡ç®—æœºå†…éƒ¨æ˜¯1024ã€‚ 4æ— çº¿é€šä¿¡ 5PPPPPP(Point-to-Point Protocol) ç‚¹å¯¹ç‚¹]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å›¾è§£TCP/IP-2-TCP/IPåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2018%2Ftujie-TCP-IP-2.html</url>
    <content type="text"><![CDATA[1TCP/IPå‡ºç°çš„èƒŒæ™¯åŠå…¶å†å²å†›ç”¨æŠ€æœ¯ARPANET UNIXç³»ç»Ÿçš„æ™®åŠä¸äº’è”ç½‘çš„æ‰©å¼  å•†ç”¨äº’è”ç½‘æœåŠ¡çš„å¯è’™ ISP 2TCP/IPçš„æ ‡å‡†åŒ– TCP/IPåè®®ç¾¤ TCP/IPè§„èŒƒ â€”- RFCRFC(Request For Commentï¼Œå¾æ±‚æ„è§è¡¨) TCP/IPçš„æ ‡å‡†åŒ–æµç¨‹ äº’è”ç½‘è‰æ¡ˆé˜¶æ®µ -&gt; è®°å…¥RFCè¿›å…¥æè®®æ ‡å‡†é˜¶æ®µ -&gt; è‰æ¡ˆæ ‡å‡†é˜¶æ®µ -&gt; çœŸæ­£çš„æ ‡å‡†é˜¶æ®µ 3äº’è”ç½‘åŸºç¡€çŸ¥è¯† äº’è”ç½‘ç»“æ„ 4TCP/IPåè®®åˆ†å±‚æ¨¡å‹ ç¡¬ä»¶ï¼ˆç‰©ç†å±‚ï¼‰ ç½‘ç»œæ¥å£å±‚ï¼ˆæ•°æ®é“¾è·¯å±‚ï¼‰ äº’è”ç½‘å±‚ï¼ˆç½‘ç»œå±‚ï¼‰è¿æ¥äº’è”ç½‘çš„æ‰€æœ‰ä¸»æœºè·Ÿè·¯ç”±å™¨å¿…é¡»å®ç°IPçš„åŠŸèƒ½ï¼Œå…¶å®ƒè¿æ¥äº’è”ç½‘çš„ç½‘ç»œè®¾å¤‡ï¼ˆå¦‚ç½‘æ¡¥ã€ä¸­ç»§å™¨æˆ–é›†çº¿å™¨ï¼‰å°±æ²¡æœ‰å¿…è¦ä¸€å®šå®ç°IPæˆ–TCPçš„åŠŸèƒ½ï¼ˆæœ‰æ—¶ä¸ºäº†ç›‘æ§å’Œç®¡ç†è¿™äº›è®¾å¤‡å°±è¦äº†ï¼‰ã€‚ ARPï¼šä»åˆ†ç»„æ•°æ®åŒ…çš„IPåœ°å€ä¸­è§£æå‡ºç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰çš„åè®® ä¼ è¾“å±‚ ï¼š è®©åº”ç”¨ç¨‹åºä¹‹é—´å®ç°é€šä¿¡ åº”ç”¨å±‚ 5TCP/IPåˆ†å±‚æ¨¡å‹ä¸é€šä¿¡ç¤ºä¾‹ æ¯ä¸ªåˆ†å±‚çš„åŒ…é¦–éƒ¨ä¸­è¿˜åŒ…å«ä¸€ä¸ªè¯†åˆ«ä½ã€‚]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å›¾è§£TCP/IP-1-ç½‘ç»œåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2018%2Ftujie-TCP-IP-1.html</url>
    <content type="text"><![CDATA[ç°åœ¨TCP/IPä¸å±€é™äºé“¾æ¥è®¡ç®—æœºï¼Œè¿˜å¯ä»¥é“¾æ¥æ±½è½¦ã€æ•°ç ç›¸æœºã€å®¶ç”µç­‰ï¼Œå¦å¤–è¿˜åº”ç”¨åœ¨è®¡ç®—æœºç³»ç»Ÿè™šæ‹ŸåŒ–å’Œäº‘è®¡ç®—ã€‚ 1è®¡ç®—æœºç½‘ç»œå‡ºç°çš„èƒŒæ™¯ ä»ç‹¬ç«‹æ¨¡å¼åˆ°ç½‘ç»œäº’è¿æ¨¡å¼WANï¼ˆWide Area Networkï¼Œ å¹¿åŸŸç½‘ï¼‰ï¼ŒLANï¼ˆLocal Area Networkï¼Œå±€åŸŸç½‘ï¼‰ ä»è®¡ç®—æœºé€šä¿¡åˆ°ä¿¡æ¯é€šä¿¡ 2è®¡ç®—æœºä¸ç½‘ç»œå‘å±•çš„7ä¸ªé˜¶æ®µ æ‰¹å¤„ç†ï¼ˆbatch processingï¼‰ï¼š äº‹å…ˆå…ˆå°†ç”¨æˆ·ç¨‹åºå’Œæ•°æ®è£…å…¥å¡å¸¦æˆ–ç£å¸¦ï¼Œå¹¶ç”±è®¡ç®—æœºæŒ‰ç…§ä¸€å®šçš„é¡ºåºè¯»å– åˆ†æ—¶ç³»ç»Ÿï¼ˆtime sharing system ï¼ŒTSSï¼‰(1960s)ï¼šå¤šä¸ªç»ˆç«¯ä¸åŒä¸€ä¸ªè®¡ç®—æœºè¿æ¥ï¼Œå…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨ä¸€å°è®¡ç®—æœºçš„ç³»ç»Ÿã€‚ ç‹¬å æ€§ã€å¤šè·¯æ€§ã€äº¤äº’æ€§ã€åŠæ—¶æ€§ BASIC è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ (1970s) å¤šå°è®¡ç®—æœºåˆ†å¸ƒå¼å¤„ç† é€šä¿¡çº¿è·¯ è®¡ç®—æœºç½‘ç»œçš„äº§ç”Ÿ (1980s)åˆ†ç»„äº¤æ¢æŠ€æœ¯ çª—å£ç³»ç»Ÿ äº’è”ç½‘çš„æ™®åŠ (1990s) ä»¥äº’è”ç½‘æŠ€æœ¯ä¸ºä¸­å¿ƒ (2000s)ç”µè¯ç½‘ -&gt; IPç½‘ ä»â€œå•çº¯å»ºç«‹è¿æ¥â€åˆ°â€œå®‰å…¨å»ºç«‹è¿æ¥â€ TCP/IP 3åè®® åè®®å°±ä¿¡æ˜¯è®¡ç®—æœºä¹‹é—´é€šè¿‡ç½‘ç»œå®ç°é€šæ—¶äº‹å…ˆè¾¾æˆéƒ½çš„ä¸€ç§â€œçº¦å®šâ€ã€‚åè®®å¦‚åŒäººä¸äººçš„å¯¹è¯ï¼šå°†æ±‰è¯­å’Œè‹±è¯­å½“ä½œâ€œåè®®â€å°†èŠå¤©å½“ä½œâ€œé€šä¿¡â€å°†è¯´è¯çš„å†…å®¹å½“ä½œâ€œæ•°æ®â€ cpué€šå¸¸åŒä¸€æ—¶é—´åªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºã€‚ä¹±è½¬æœºåˆ¶ å¤šä»»åŠ¡è°ƒåº¦ äººä¸äººä¹‹é—´äº¤æµçš„å®¹é”™ç‡å¾ˆé«˜ï¼Œè€Œè®¡ç®—æœºä¸ä¸€æ ·ï¼Œè®¡ç®—æœºä¹‹é—´äº¤æµè¦æ³¨æ„â€œåº”å¯¹å¼‚å¸¸â€ã€‚ åˆ†ç»„äº¤æ¢åè®® æ˜¯å°†å¤§æ•°æ®åˆ†å‰²æˆåŒ…ï¼ˆPacketï¼‰çš„è¾ƒå°å•ä½è¿›è¡Œä¼ è¾“çš„æ–¹æ³•ã€‚ 4åè®®ç”±è°è§„å®š ISOï¼ˆInternational Organization for Standards, å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼‰åˆ¶å®šäº†å›½é™…æ ‡å‡†OSIï¼ˆOpen System Interconnection, å¼€æ”¾å¼é€šä¿¡ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ï¼‰ 5åè®®åˆ†å±‚åˆ†å±‚ ç±»ä¼¼æ¨¡å—åŒ–å¼€å‘ã€‚â€œæ¥å£â€ ä¸Šä¸‹å±‚ä¹‹é—´äº¤äº’æ‰€éµå¾ªçš„çº¦å®šâ€œåè®®â€ åŒä¸€å±‚ä¹‹é—´äº¤äº’æ‰€éµå¾ªçš„çº¦å®š åˆ†å±‚çš„ä¼˜åŠ¿ï¼šç‹¬ç«‹ä½¿ç”¨ï¼ˆæ‰©å±•çµæ´»ï¼‰ï¼Œç»†åˆ†é€šä¿¡åŠŸèƒ½ã€‚ åˆ†å±‚çš„åŠ£åŠ¿ï¼šè¿‡åˆ†æ¨¡å—åŒ–ï¼Œä½¿å¤„ç†å˜å¾—æ›´åŠ æ²‰é‡ä»¥åŠæ¯ä¸ªæ¨¡å—éƒ½ä¸å¾—ä¸å®ç°ç›¸ä¼¼çš„å¤„ç†é€»è¾‘ OSIå‚è€ƒæ¨¡å‹å„ä¸ªåˆ†å±‚çš„ä½œç”¨ 6OSIå‚è€ƒæ¨¡å‹é€šä¿¡å¤„ç†ä¸¾ä¾‹å‡è®¾ç”¨æˆ·Aä½¿ç”¨ä¸»æœºAè¦ç»™ä½¿ç”¨ä¸»æœºBçš„ç”¨æˆ·B åœ¨åº”ç”¨å±‚ åœ¨è¡¨ç¤ºå±‚è¡¨ç¤ºå±‚å°†æ•°æ®ä»ä¸»æœºç‰¹æœ‰çš„æ ¼å¼è½¬æ¢ä¸ºç½‘ç»œæ ‡å‡†ä¼ è¾“æ ¼å¼ã€‚ä¸åŒè®¡ç®—æœºå¯¹æ•°æ®åœ¨å†…å­˜ä¸­ç›¸å¼‚çš„åˆ†é…æ–¹å¼ï¼ˆå¦‚ï¼šå¤§å®ä½“å’Œå°å®ä½“ï¼‰ åœ¨ä¼šè¯å±‚ä¼šè¯å±‚å†³å®šé‡‡ç”¨å“ªä¸ªé“¾æ¥å‘é€ï¼ˆä½•æ—¶è¿æ¥ï¼Œä½•æ—¶å‘é€ï¼Œä½†æ²¡æœ‰å®é™…ä¼ è¾“æ•°æ®çš„åŠŸèƒ½ï¼‰ åœ¨ä¼ è¾“å±‚ï¼šå®é™…ä¼ è¾“æ•°æ® ç½‘ç»œå±‚ ç½‘ç»œå±‚ä¸ä¼ è¾“å±‚ç›¸äº’åä½œä»¥ç¡®ä¿æ•°æ®åŒ…èƒ½å¤Ÿä¼ é€çš„ä¸–ç•Œå„åœ°ï¼Œå®ç°å¯é ä¼ è¾“ã€‚ æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚é€šè¿‡ä¼ è¾“ä»‹è´¨äº’è¿çš„è®¾å¤‡ä¹‹é—´è¿›è¡Œæ•°æ®å¤„ç† ç‰©ç†å±‚å°†æ•°æ®çš„0ã€1è½¬æ¢ä¸ºç”µå‹å’Œè„‰å†²ä¼ è¾“ç»™ç‰©ç†çš„ä¼ è¾“ä»‹è´¨ï¼Œè€Œç›¸äº’ç›´è¿çš„è®¾å¤‡ä¹‹é—´ä½¿ç”¨åœ°å€ï¼ˆMACåœ°å€ï¼‰å®ç°ä¼ è¾“ 7ä¼ è¾“æ–¹å¼çš„åˆ†ç±» é¢å‘æœ‰è¿æ¥å‹ä¸é¢å‘æ— è¿æ¥å‹ ç”µè·¯äº¤æ¢ï¼ˆå†å²ä¹…ï¼Œä¸»è¦ç”¨äºç”µè¯ç½‘ï¼‰å’Œ åˆ†ç»„äº¤æ¢ï¼ˆè“„ç§¯äº¤æ¢ï¼‰ æ ¹æ®æ¥æ”¶ç«¯æ•°é‡åˆ†ç±» å•æ’­ï¼ˆunicastï¼‰ å¹¿æ’­ï¼ˆbroadcast) ç”µè§†æ’­æ”¾ å¤šæ’­ï¼ˆmulticastï¼‰ ç”µè§†ä¼šè®® ä»»æ’­ï¼ˆanycastï¼‰ DNSæ ¹åŸŸåè§£ææœåŠ¡å™¨ 8åœ°å€1.åœ°å€çš„å”¯ä¸€æ€§ åœ¨åŒä¸€ä¸ªé€šä¿¡ç½‘ç»œä¸­ä¸å…è®¸æœ‰ä¸¤ä¸ªç›¸åŒåœ°å€çš„é€šä¿¡ä¸»ä½“å­˜åœ¨ã€‚2.åœ°å€çš„å±‚æ¬¡æ€§ ä¸ºäº†é«˜æ•ˆåœ°ä»è¶Šæ¥è¶Šå¤šçš„åœ°å€ä¸­æ‰¾å‡ºé€šä¿¡çš„ç›®æ ‡åœ°å€ã€‚ ipåœ°å€å…·æœ‰å±‚æ¬¡æ€§ MACå¯»å€ å‚è€ƒ åœ°å€è½¬å‘è¡¨(è®°å½•å®é™…çš„MACåœ°å€)IPåœ°å€ å‚è€ƒ è·¯ç”±æ§åˆ¶è¡¨(è®°å½•ä¹‹åçš„ç½‘ç»œå·å’Œå­ç½‘æ©ç ) 9ç½‘ç»œçš„æ„æˆè¦ç´  9.1é€šä¿¡åª’ä»‹ä¸æ•°æ®é“¾è·¯ ä¼ è¾“é€Ÿç‡ï¼Œå•ä½bps(Bits Per Second, æ¯ç§’æ¯”ç‰¹æ•°)ï¼Œ åˆç§°ä¸º å¸¦å®½(Bandwidth) ååé‡ï¼šä¸»æœºä¹‹é—´å®é™…çš„ä¼ è¾“é€Ÿç‡ã€‚ååé‡ä¸ä»…è¡¡é‡å¸¦å®½ï¼Œä¹Ÿè¡¡é‡ä¸»æœºçš„CPUå¤„ç†èƒ½åŠ›ã€ç½‘ç»œçš„æ‹¥å µç¨‹åº¦ã€æŠ¥æ–‡ä¸­æ•°æ®å­—æ®µçš„å æœ‰ä»½é¢ç­‰ä¿¡æ¯ã€‚ 9.2ç½‘å¡ç½‘å¡ï¼Œå…¨ç¨‹ç½‘ç»œæ¥å£å¡ï¼ˆNIC, Network Information Centerï¼‰ï¼Œä¹Ÿç§°ç½‘ç»œé€‚é…å™¨ã€LANå¡ã€‚ 9.3ä¸­ç»§å™¨(Repeater)æ³¢å½¢è°ƒæ•´å’Œæ”¾å¤§ä¸­ç»§å™¨æ— æ³•æ”¹å˜ä¼ è¾“é€Ÿç‡æœ‰å¤šä¸ªç«¯å£æœåŠ¡çš„ä¸­ç»§å™¨è¢«ç§°ä¸º é›†çº¿å™¨ 9.4ç½‘æ¡¥/2å±‚äº¤æ¢æœº è‡ªå­¦å¼ç½‘æ¡¥ä¼šè®°ä½æ›¾ç»é€šè¿‡è‡ªå·±è½¬å‘çš„æ‰€æœ‰æ•°æ®å¸§çš„MACåœ°å€ï¼Œå¹¶ä¿å­˜åˆ°è‡ªå·±é‡Œçš„å†…å­˜è¡¨ä¸­ã€‚ äº¤æ¢é›†çº¿å™¨ æ˜¯ç½‘æ¡¥çš„ä¸€ç§ 9.5è·¯ç”±å™¨/3æ›¾äº¤æ¢æœº ç½‘ç»œæ˜¯æ ¹æ®ç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰è¿›è¡Œå¤„ç†ï¼Œè€Œè·¯ç”±å™¨/3å±‚äº¤æ¢æœºåˆ™æ˜¯æ ¹æ®IPåœ°å€è¿›è¡Œå¤„ç†çš„ã€‚ 9.6 4~7å±‚äº¤æ¢æœº 9.7ç½‘å…³ å…¸å‹ä¾‹å­æ˜¯äº’è”ç½‘é‚®ä»¶ä¸æ‰‹æœºé‚®ä»¶ä¹‹é—´çš„è½¬æ¢æœåŠ¡ã€‚ ä»£ç†æœåŠ¡å™¨ä¹Ÿæ˜¯ç½‘å…³çš„ä¸€ç§ï¼Œæˆä¸ºåº”ç”¨ç½‘å…³ é˜²ç«å¢™]]></content>
      <categories>
        <category>å›¾è§£TCP/IP</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šæˆ‘æ‰€ç†è§£çš„ç”Ÿæ´»ã€‹è®°å½•]]></title>
    <url>%2F2018%2F%E6%88%91%E6%89%80%E7%90%86%E8%A7%A3%E7%9A%84%E7%94%9F%E6%B4%BB.html</url>
    <content type="text"><![CDATA[æ³¨ï¼š æœ¬æ–‡æ˜¯æˆ‘å‡ å¹´å‰çš„è®°å½•ï¼Œæ•´ç†æ—¶å‘ç°è¿˜å¯ä»¥å†çœ‹çœ‹ã€‚ åºæˆ‘æ‰€ç†è§£çš„ç”Ÿæ´»å°±æ˜¯é™¤äº†é€ è°£ä»¥å¤–ï¼Œå»é€ å…¶ä»–ä¸€åˆ‡ä¸œè¥¿ã€‚ è¿™ä¸–é“è®©é‚£äº›ä¸è¯´ç²—è¯ä½†æœ€ç¼ºå¾·çš„äººèƒ½åšé“å¾·è¯„åˆ¤å®¶ï¼Œè¿™ä¸–é“è®©é‚£äº›è¯ä¸è„ä½†å¿ƒçœ¼è„ã€æ‰‹æ®µè„çš„äººå½“é“ã€‚ æˆ‘æ‰€ç†è§£çš„ç”Ÿæ´»å°±æ˜¯åšç€è‡ªå·±å–œæ¬¢çš„äº‹ä»¶ï¼Œå…»æ´»è‡ªå·±ï¼Œå…»æ´»å®¶äººã€‚ ä½ åœ¨å°é¢ä¸Šçœ‹è§æˆ‘æˆåŠŸä¸€æ¬¡ï¼Œæˆ‘åœ¨å°é¢ä¸‹å°±å¹²ç ¸åæ¬¡ï¼Œé‚£åˆå¦‚ä½•ï¼Œæˆ‘åˆæ²¡æ­»ï¼Œä¸åœåœ°å¹²å°±è¡Œäº†ï¼Œäººä»¬åªä¼šè®°ä½ä½ æˆåŠŸçš„é‚£ä¸€æ¬¡ã€‚ æˆ‘åªè´Ÿè´£åˆ¶é€ ä½œå“ï¼Œä¸è´Ÿè´£ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿæ²¡æœ‰å”®åæœåŠ¡ï¼Œæ›´ä¸ä¼šæ ¹æ®å¤§å®¶çš„å£å‘³æ¥æ”¹è¿›ã€‚ å……æ»¡æŒ«è´¥ç”šè‡³åæ‚”ï¼Œä½†é—æ†¾å¹¶ä¸å¤šã€‚ å¾—ä¹‹æˆ‘å¹¸ï¼Œä¸å¾—æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆä¸å¹¸ã€‚ å›½äº‹æˆ‘èµ°å¾—â€œè‚¤æµ…â€ï¼Œ å‡ ä¹æ‰€æœ‰äººéƒ½å’Œæ°”ã€‚ é™¤äº†åˆ©ç›Šå’Œäººä¸äººä¹‹é—´çš„æ–—äº‰ï¼Œæˆ‘ä»¬å‡ ä¹å¯¹ä¸€åˆ‡éƒ½å†·æ¼ ã€‚ æˆ‘ä»¬æ‰€ç‚«è€€çš„ï¼Œä»–ä»¬çš„çº³ç¨äººä¸ä¼šç­”åº”ï¼›æˆ‘ä»¬æ‰€å¤±å»çš„ï¼Œä»–ä»¬éƒ½ç•™ä¸‹äº†ï¼›æˆ‘ä»¬æ‰€ç¼ºå°‘çš„ï¼Œæ‰æ˜¯æœ€èƒ½è®©äººæ„Ÿåˆ°è‡ªè±ªçš„ã€‚ åœ¨è¿™ä¸ªä¸€ç‚¹å°±ç€ã€ä¸€ç…½å°±æ—ºçš„ç¤¾ä¼šé‡Œï¼Œæ¯ä¸ªäººçš„ç§æœ‰è´¢äº§éƒ½æ˜¯ä¸å®‰å…¨çš„ã€‚ çœ‹è§å¥½çš„æ§ä¸ªåœºï¼Œé‡è§åçš„å†·ä¸ªåœºï¼Œç¢°è§å‚»çš„ç¬‘ä¸ªåœºï¼Œç­‰ä»–ä»¬è‡ªå·±ç»™è‡ªå·±ç ¸ä¸ªåœºã€‚ å¾ˆå¤šäººæ¨ç‰¹æƒæ²¡æœ‰åœ¨è‡ªå·±æ‰‹ä¸­ã€‚ æ²¡æœ‰äººèƒ½æ§åˆ¶è‡ªå·±ä¸ä¼šå‡Œé©¾åœ¨ä»–äººå’Œæ³•å¾‹ä¹‹ä¸Šï¼Œå“ªæ€•ä»–å†å¥½å†æ¸©åšã€‚ä½“åˆ¶èµ‹äºˆç‰¹æ®Šä¸ªä½“çš„ç‰¹æƒæ˜¯æ— æ³•é è‡ªæˆ‘ä¿®è¡Œæ¥ç¾åŒ–å’Œæ¶ˆè§£çš„ã€‚ åœ°è¡¨ä¸Šçš„å…‰é²œï¼Œåœ°åº•ä¸‹çš„ä¸å ªã€‚åŸå¸‚è®©ç”Ÿæ´»æ›´ç¾å¥½ï¼Œä¹Ÿèƒ½è®©ç”Ÿæ´»æ›´æ§½ç³•ã€‚ ç°åœ¨çš„äººå¿ƒå…¶å®ç›¸ä¿¡çš„æ˜¯æƒ…ç»ªã€‚å¤§å®¶çš„æ³¨æ„åŠ›è½¬ç§»å¾—å¤ªå¿«äº†ã€‚ ä¸­å›½äººæœ‰æ—¶å€™ä¸è®¤å¯è‡ªå·±äººã€‚ æ€»æ˜¯ä¹ æƒ¯äºè®¤å¯å½“ä¸‹ï¼Œè¿½æº¯è¿‡å¾€ã€‚ä¸æ˜¯æ¯ä»¶äº‹éƒ½èƒ½ç»™äººç”Ÿå¸¦æ¥ä»€ä¹ˆï¼Œäººç”Ÿçš„æ—¶å…‰ï¼Œæ€»éœ€è¦å»åº¦è¿‡ã€‚æˆ‘é€‰æ‹©è¿™æ ·åº¦è¿‡ã€‚åœ¨åšäº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›çœ‹å¾—è¿œä¸€äº›ï¼›ä½†åœ¨è¿‡æ—¥å­çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›çœ‹å¾—è¿‘ä¸€äº›ã€‚ åªæ˜¯æˆ‘çš„æ¬²æœ›å¯èƒ½æœªå¿…é‚£ä¹ˆç›´æ¥ã€‚æˆ‘å§‹ç»ˆä¸èƒ½æ¥å—å’Œå¾ˆå¤šä¸è§£é£æƒ…çš„äººåœ¨ä¸€èµ·ã€‚æœ‰äº›äººçš„åŠªåŠ›æ˜¯ä¸ºäº†æ‘†è„±è‡ªå·±åŸæ¥çš„å‡ºèº«å’Œç¯å¢ƒï¼Œæœ‰äº›äººçš„åŠªåŠ›æ˜¯ä¸ºäº†è¯æ˜æ— è®ºå‡ºèº«å’Œç¯å¢ƒè‡ªå·±éƒ½å¯ä»¥ï¼Œè¿™éƒ½æ— å¯åšéã€‚ å¤©ä¸‹åŠ¿é©å‘½ä¸ä¿è¯å°±èƒ½å¸¦æ¥æ°‘ä¸»ã€‚ä¸èƒ½ç”¨å®Œç¾çš„æ°‘ä¸»ã€å®Œç¾çš„è‡ªç”±ã€å®Œç¾çš„äººæƒå­—é¢ä¸Šçš„è§£é‡Šæ¥é€ƒé¿ä¸­å›½çš„ç°å®ã€‚ä¸€åˆ‡èƒ½ç”¨é’±è§£å†³çš„ç¤¾ä¼šçŸ›ç›¾éƒ½ä¸ç®—ä»€ä¹ˆçŸ›ç›¾ã€‚è‡ªç”±åœ¨ä¸­å›½æœ€æ²¡æœ‰æ„ŸæŸ“åŠ›ã€‚æˆ‘ä¸ä¼šç”¨ä»–äººçš„å‰é€”æ¥ç¾åŒ–æˆ‘è‡ªå·±çš„å±¥å†ã€‚ æ¶ˆè´¹æ”¿æ²» æ¶ˆè´¹æƒ…ç»ª æ¶ˆè´¹å…¬å…±äº‹ä»¶ç°å®ç¤¾ä¼šä¸­çš„å¯è¡Œæ€§æ“ä½œ æˆåŠŸä¹‹é“æœ‰å¾ˆå¤šæœªå¿…èƒ½å±•å¼€çš„ä¸œè¥¿ï¼Œè€Œä¸”ä½ ä¹Ÿä¸èƒ½å°†è‡ªå·±çš„ç‹—å±è¿èµ é€ç»™å—ä¼—ã€‚ å®¶ä¸–è’è¯çš„æ¬ºéª—ä½ è¯´ä½ ä¸€ç”Ÿæ²¡åšåäº‹ï¼Œä¸ºä½•è¿™æ ·ã€‚æˆ‘æƒ³æˆ‘å¯ä»¥è¯•ç€å‘Šè¯‰ä½ ä¸ºä½•ã€‚å› ä¸ºï¼Œä½ ä¸€ç”Ÿæ²¡åšè¿‡åäº‹ï¼Œæ‰€ä»¥ï¼Œå°±æ˜¯è¿™æ ·ã€‚ å‘½é‡Œæœ‰æ—¶ç»ˆé¡»æœ‰ï¼Œå‘½é‡Œæ— æ—¶é¡»å¼ºæ±‚ã€‚å› ä¸ºå‘½é‡Œæœ¬æ¥ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œåªæœ‰è¯ç”Ÿå’Œæ­»äº¡ï¼Œè€Œä¸­é—´çš„éƒ½æ˜¯ä½ è¦å¼ºæ±‚çš„éƒ¨åˆ†ã€‚ä¸¤ä¸ªæƒ³åœ¨ä¸€èµ·çš„äººï¼Œä¾¿æ˜¯æœ€å¤§ï¼Œä¾¿æ˜¯æœ€æ­£ï¼Œä»–äººçš†æ˜¯ç¬¬ä¸‰è€…ã€‚ ç‰¢éªšä¹Ÿæ˜¯æ¨åŠ¨ç¤¾ä¼šè¿›æ­¥çš„ä¸€ç§æ–¹å¼ã€‚æ„¿æ€€ç€å–„æ„ï¼Œç›¸ä¿¡ä»–æ˜¯æ— å¿ƒçš„å¹æ°´ã€‚æ²¡æœ‰äººæ°¸è¿œå’Œè¿‡å»çš„è‡ªå·±ä¸€è‡´ï¼Œé™¤éä½ ä¸å†æˆé•¿ã€‚ æˆ‘é€‰æ‹©èµ°å¾—é“è·¯å¤ªä¸ä¸€æ ·ï¼Œå……æ»¡æœªçŸ¥ï¼Œæ‰€ä»¥æˆ‘å¾ˆå¸Œæœ›æ—¥å¸¸ç”Ÿæ´»é‡Œæ²¡æœ‰å˜æ•…ï¼Œä¸å†æœ‰é™Œç”Ÿçš„äº‹ç‰©ã€‚ ä¸ºåœ¨ä¹æˆ‘çš„äººåˆ›é€ å„ç§ä¸œè¥¿ï¼Œç»ä¸å‘åŒæ¶æˆ‘çš„äººè§£é‡Šæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚ äººç”Ÿçš„è®¸å¤šé—®é¢˜éœ€è¦é˜…å†æ¥å›ç­”ï¼Œè€Œä¸èƒ½åƒæ•°å­¦é—®é¢˜ä¸€æ ·ï¼Œé€šè¿‡ä¸åœè®ºè¯è€Œå¾—åˆ°ã€‚ è¿‡å»å¼å¦‚æœæ–‡æ˜ä¸å¤Ÿæ–‡æ˜ï¼Œé‚£å°±è®©é‡è›®è¶³å¤Ÿé‡è›®ã€‚ ã€Šè¿™ä¸ªç”·äººæ¥è‡ªåœ°çƒã€‹ ä¸ºçƒ­çˆ±çš„äººæˆ–äº‹ç‰©æ´’ä¸‹çƒ­è¡€å’Œçƒ­æ³ªï¼Œæœ€åçš„ç»“æœæ— éå°±æ˜¯å¯¹æ–¹ä¸€å¥â€œä½ æƒ³æ€æ ·â€ã€‚ æœ‰çš„æ—¶å€™æ­»æ­»çš„åšæŒå¯èƒ½ä¼šåœ¨ä¸€ä¸ªåˆé€‚çš„æ—¶å€™é‡æ‹¾ï¼Œæ— è®ºå¯¹ç†æƒ³è¿˜æ˜¯å¯¹æ„Ÿæƒ…éƒ½æ˜¯è¿™æ ·ã€‚ æˆ‘æ˜¯ä¸€ä¸ªè™šè£çš„äººï¼Œæœ‰æ—¶å€™ç”šè‡³è¿˜è™šä¼ªï¼Œç”±äºæˆ‘å¾—åˆ°çš„è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å‡è£…è¶Šæ¥è¶Šä¸è™šè£ï¼Œå› ä¸ºæœ‰äº†ä¸€äº›çœŸå®¹ã€‚ä½†æˆ‘çš„å†…å¿ƒè¿˜æ˜¯è™šè£çš„ã€‚ä¸å‡ºå¸­æ‰€æœ‰é¢å¥–å…¸ç¤¼ï¼Œä¸å»å„ç§ä¸Šæµåœºåˆå…¶å®æ˜¯å¦ä¸€ç§è™šè£ï¼Œå¹¶ä¸æ˜¯æ·¡æ³Šã€‚ æˆåç®—å±ï¼Œå¤šå°‘å±¡ç§€ä¸‹é™çš„å‚»é€¼ä¹Ÿèƒ½ç²‰ä¸ç»•è†ã€‚ æˆ‘æ˜¯ä½ å½“æ—¶éƒ½æ²¡æœ‰åšå¥½ã€æ²¡æœ‰åšåˆ°ï¼Œä½ æœ‰ä»€ä¹ˆèµ„æ ¼è±å…è¢«ä»–äººå˜²ç¬‘ï¼Ÿè‡ªå·±æ²¡æœ‰å±•éœ²å…‰èŠ’ï¼Œå°±ä¸åº”è¯¥æ€ªåˆ«äººæ²¡æœ‰çœ¼å…‰ã€‚ å†å²åªä¼šè®°å¾—ä½ çš„ä½œå“å’Œè£èª‰ï¼Œè€Œä¸ä¼šç•™ä¸‹ä¸€äº‹æ— æˆè€…çš„é—²è¨€ç¢è¯­ã€‚ é’æ˜¥å°±æ˜¯ä¸€åœºç¦»è‡ªå·±çš„ç«¥å¹´ã€è‡ªå·±çš„å°‘å¹´è¶Šæ¥è¶Šè¿œçš„è¿œè¡Œã€‚ å› ä¸ºæˆ‘ä»¬ä¸èƒ½å›å»äº†ï¼Œä¸èƒ½ç®€å•äº†ï¼Œæ‰€ä»¥æ‰ä¼šå¯¹è¿‡å¾€é‚£äº›çº¯ç²¹å‘å‡ºå¶ç„¶çš„å¹æ¯ã€‚ å¾€å¾€æ²¡æ€ä¹ˆç»å†è¿‡çš„äººä¼šæœ‰ä¸€å †æ„Ÿæ‚Ÿï¼Œç»å†è¶Šå¤šåè€Œè¦è¯´çš„è¶Šå°‘ã€‚ ç¥ä¸ä¿ä½‘ä½ ï¼Œå› ä¸ºç¥å°±æ˜¯ä½ æ‰€ç†è§£çš„ä½ è‡ªå·±ã€‚ å¼€å§‹äº†å¹¶ä¼šæœ‰ç»“æœï¼Œè¿‡ç¨‹å„ä¸åŒã€‚èµ°è¿‡çš„è·¯æˆ‘ä¼šè®°å¾—ï¼Œä½†ä¸ä¼šé‡æ–°èµ°è¿‡ã€‚æ­£åœ¨èµ°çš„å’Œæœªæ¥çš„è·¯æˆ‘ä¼šèµ°è¿‡ï¼Œæ–¹å¼ä¸å¾—è€ŒçŸ¥ï¼Œè®©åˆ«äººæœ‰è·¯å¯èµ°å§ï¼ä½†æˆ‘çŸ¥é“æœ‰å¾ˆå¤šäººä¼šç»™æˆ‘æŒ‡è·¯çš„ã€‚æˆ‘ä¼šéå¸¸æ„Ÿè°¢ä»–ä»¬ï¼Œæˆ‘çˆ±ä»–ä»¬ï¼Œä»–ä»¬æ€•æˆ‘è¿·è·¯æˆ–è€…è¯¯å…¥æ­§é€”ã€‚ä¸ç®¡æœ€ç»ˆæˆ‘æ€ä¹ˆé€‰æ‹©ï¼Œéƒ½èƒ½åˆ°è¾¾ç»ˆç‚¹ã€‚è·¯å¼€å§‹äº†å°±ä¸€å®šä¼šç»“æŸï¼Œæ–¹å¼å’Œè·¯çº¿å±äºæ¯ä¸ªäººè‡ªå·±ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹è®°å½•]]></title>
    <url>%2F2018%2F%E9%BB%91%E5%AE%A2%E4%B8%8E%E7%94%BB%E5%AE%B6.html</url>
    <content type="text"><![CDATA[æ³¨ï¼š æœ¬æ–‡æ˜¯æˆ‘å‡ å¹´å‰çš„è®°å½•ï¼Œæ•´ç†æ—¶å‘ç°è¿˜å¯ä»¥å†çœ‹çœ‹ã€‚ ä¿ç½—-æ ¼é›·å„å§†å…¶äººå…¶äº‹â€œè¿è¥åˆ›ä¸šå…¬å¸ï¼Œæ¯å¤©éƒ½åƒåœ¨æˆ˜æ–—ï¼›è€Œä¸ºå¤§å…¬å¸å·¥ä½œï¼Œå°±åƒåœ¨çª’æ¯ä¸­æŒ£æ‰ã€‚â€ â€œæˆ‘ç”Ÿæ´»çš„ä¸­å¾—ä¸€åˆ‡ï¼Œéƒ½æ­£åœ¨æˆä¸ºè®¡ç®—æœºã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³ç†è§£æˆ‘ä»¬ç›®å‰çš„ä¸–ç•Œä»¥åŠå®ƒçš„æœªçŸ¥åŠ¨å‘ï¼Œé‚£ä¹ˆå¤šäº†è§£ä¸€äº›é»‘å®¢çš„æƒ³æ³•ä¼šå¯¹ä½ æœ‰å¸®åŠ©ã€‚â€ Y Combinatoråˆ›å§‹äººæœ¬èº«æ¯”ä»–çš„åˆ›æ„æ›´é‡è¦å†…è€— è¯‘è€…åºè¡¨é¢ä¸Šè¿™æ˜¯ä¸€ä¸ªæœºå™¨çš„æ—¶ä»£ï¼Œä½†æ˜¯å®é™…ä¸Šæœºå™¨çš„è®¾è®¡è€…å†³å®šäº†æˆ‘ä»¬çš„æ—¶ä»£ã€‚stallmanï¼šâ€œå‡ºäºå…´è¶£è€Œè§£å†³æŸä¸ªéš¾é¢˜ï¼Œä¸ç®¡å®ƒæœ‰æ²¡ç”¨ï¼Œè¿™å°±æ˜¯é»‘å®¢ã€‚â€ å¥½ç©ï¼Œé«˜æ™ºå•†ï¼Œæ¢ç´¢ç²¾ç¥çœŸæ­£çš„é»‘å®¢è‡´åŠ›äºæ”¹å˜ä¸–ç•Œï¼Œè®©ä¸–ç•Œè¿è½¬å¾—æ›´å¥½ã€‚ å‰è¨€è®¡ç®—æœºä¸–ç•Œå°±åƒæ˜¯æ™ºåŠ›ä¸–ç•Œçš„å¤§è¥¿éƒ¨ï¼Œåœ¨é‚£é‡Œæ²¡æœ‰ä½ ä¸æ•¢æƒ³å¾—äº‹ä»¶ï¼Œåªè¦ä½ æ„¿æ„æ‰¿æ‹…å†’é™©åæœã€‚ ä¸ºä»€ä¹ˆä¹¦å‘†å­ä¸å—æ¬¢è¿ä»–ä»¬çœŸçš„ä¸æƒ³è®©è‡ªå·±å—æ¬¢è¿ â€œä»»ä½•ä¸€ç§è‰ºæœ¯ï¼Œä¸ç®¡æ˜¯å¦é‡è¦ï¼Œå¦‚æœä½ æƒ³è¦å†è¯¥é¢†åŸŸå‡ºç±»æ‹”èƒï¼Œå°±å¿…é¡»å…¨èº«æŠ•å…¥â€ â€”- é˜¿å°”ä¼¯è’‚ å¯¹äºé‚£äº›é«˜åº¦å›°éš¾çš„é¢†åŸŸï¼Œåªæœ‰èº«å¤„å…¶ä¸­çš„äººï¼Œæ‰èƒ½æ„è¯†åˆ°æˆåŠŸéœ€è¦ä¸é—´æ–­ï¼ˆè™½ç„¶æœªå¿…æ˜¯è‡ªè§‰çš„ï¼‰ä»˜å‡ºã€‚åœ¨ä¸€ä¸ªäººäº§ç”Ÿè‰¯çŸ¥ä¹‹å‰ï¼ŒæŠ˜ç£¨å°±æ˜¯ä¸€ç§å¨±ä¹ã€‚ é‚£äº›å¯¹è‡ªå·±æ²¡è‡ªä¿¡çš„äººå°±ä¼šé€šè¿‡è™å¾…ä»–ä»¬çœ¼ä¸­çš„ä¸‹ç­‰äººæ¥çªæ˜¾è‡ªå·±çš„èº«ä»½ã€‚ æ²¡æœ‰ä»€ä¹ˆæ¯”ä¸€ä¸ªå…±åŒçš„æ•Œäººæ›´èƒ½ä½¿å¾—äººä»¬å›¢ç»“èµ·æ¥äº† éš¾æ€ªèªæ˜çš„å°å­©è¯»ä¸­å­¦æ—¶å¾€å¾€æ˜¯ä¸å¿«ä¹çš„ã€‚ é‚£äº›åœ¨å­¦æ ¡çš„æƒ³æ³•åœ¨ç¤¾ä¼šä¸­å¾—åˆ°äº†å®ç°ä¹Ÿæˆä¸ºäº†ä»–ä»¬ä¸ªäººé­…åŠ›æ‰€åœ¨ã€‚ å½“æ‰€åšçš„äº‹ä»¶èƒ½äº§ç”ŸçœŸå®çš„æ•ˆæœï¼Œé‚£ä¹ˆå‘ç°æ­£ç¡®çš„ç­”æ¡ˆå°±å¼€å§‹å˜å¾—é‡è¦äº†ã€‚ ä¹¦å‘†å­å·²ç»åœ¨æ€è€ƒçš„ä¸œè¥¿ï¼Œæ­£æ˜¯çœŸå®ä¸–ç•Œçœ‹é‡çš„ä¸œè¥¿ã€‚ å­¦æ ¡çš„çœŸæ­£ç›®çš„æ˜¯æŠŠå„¿ç«¥éƒ½å…³åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œä»¥ä¾¿å¤§äººä»¬ç™½å¤©å¯ä»¥è…¾å‡ºæ‰‹æ¥æŠŠäº‹ä»¶åšå®Œã€‚ ä½ å‘Šè¯‰ä¸€ä¸ªäººï¼Œä»–çš„è„šå¤©ç”Ÿå°±æ˜¯åçš„ï¼Œå¹¶ä¸èƒ½é˜»æ­¢ä»–å»æ€€ç–‘ä»–å¯èƒ½ç©¿é”™äº†é‹å­ã€‚ é€ƒç¦»è¿™ç§ç©ºè™šç”Ÿæ´»çš„å”¯ä¸€æ–¹æ³•ï¼Œå°±æ˜¯å‘å®ƒå±ˆæœã€‚ 2 é»‘å®¢ä¸ç”»å®¶åˆ›ä½œè€… computer science1 è®¡ç®—æœºç§‘å­¦å®¶/æ•°å­¦å®¶2 è®¡ç®—æœºåšç‰©å­¦å®¶/è®¡ç®—æœºçš„å®éªŒå®¤ç§‘å­¦3 é»‘å®¢ æ²¡æœ‰ä»€ä¹ˆæ¯”ä¸€ä¸ªé”™è¯¯çš„å‰ææ›´å®¹æ˜“äº§ç”Ÿå¤§é‡å¾…è§£å†³çš„é—®é¢˜äº†ã€‚ åˆ›é€ ä¼˜ç¾äº‹ç‰©çš„æ–¹å¼å¾€å¾€ä¸æ˜¯ä»å¤´åšèµ·ï¼Œè€Œæ˜¯åœ¨ç°æœ‰æˆæœçš„åŸºç¡€ä¸Šåšä¸€äº›å°å°çš„è°ƒæ•´ï¼Œæˆ–è€…å°†å·²æœ‰çš„è§‚ç‚¹ç”¨æ¯”è¾ƒæ–°çš„æ–¹å¼ç»„åˆèµ·æ¥ã€‚ åˆ›é€ æ€§ä»ä¸åŒæ–¹é¢é™åˆ¶äº†ä¼˜ç¾è½¯ä»¶çš„è¯ç”Ÿ æ›´å¤§çš„å±é™©æ˜¯ä½ è‡ªå·±ä¹Ÿä¼šè¯¯è§£è‡ªå·±çš„å·¥ä½œã€‚ é»‘å®¢ææ‡‚â€œè®¡ç®—ç†è®ºâ€çš„å¿…è¦æ€§ï¼Œä¸ç”»å®¶ææ‡‚é¢œæ–™åŒ–å­¦æˆåˆ†çš„å¿…è¦æ€§å·®ä¸å¤šå¤§ã€‚ ï¼ˆé»‘å®¢çš„æƒ³æ³•ï¼‰æ¥è‡ªäºå…¶ä»–åˆ›ä½œé¢†åŸŸã€‚ å¤ªè¿‡ä¸“ä¸šåŒ–æ‰€å¸¦æ¥çš„å¼Šç«¯ã€‚ å…è®¸åŠ¨æ€æ‰©å±•(malleable)ã€‚ç¼–ç¨‹è¯­è¨€æ˜¯ç”¨æ¥å¸®åŠ©æ€è€ƒç¨‹åºçš„ï¼Œè€Œä¸æ˜¯ç”¨æ¥è¡¨è¾¾ä½ å·²ç»æƒ³å¥½çš„ç¨‹åºã€‚ ä½œå®¶å’Œç”»å®¶æ²¡æœ‰â€œå¯¹æ•°å­¦å®¶çš„å¦’å¿Œâ€ï¼Œä»–ä»¬è®¤ä¸ºè‡ªå·±åœ¨ä»äº‹ä¸æ•°å­¦å®Œå…¨ä¸ç›¸å…³çš„äº‹ä»¶ã€‚å¤§å­¦å’Œå®éªŒå®¤å¼ºè¿«é»‘å®¢æˆä¸ºç§‘å­¦å®¶ï¼Œä¼ä¸šå¼ºè¿«é»‘å®¢æˆä¸ºå·¥ç¨‹å¸ˆã€‚å½“ä½ æ’æ–¥å·®å¼‚çš„æ—¶å€™ï¼Œä½ ä¸ä»…å°†å¤±è´¥çš„å¯èƒ½æ€§æ’é™¤åœ¨å¤–ï¼Œä¹Ÿå°†è·å¾—é«˜åˆ©æ¶¦çš„å¯èƒ½æ€§æ’é™¤åœ¨å¤–ã€‚å¥½ç©çš„è½¯ä»¶çš„éœ€æ±‚é‡ï¼Œæ¯”ä¸ä¸Šè§£å†³å®¢æˆ·éº»çƒ¦é—®é¢˜çš„è½¯ä»¶çš„éœ€æ±‚é‡ã€‚day jobåº”è¯¥å®šæœŸåœ°ä»å¤´å¼€å§‹ï¼Œè€Œä¸è¦é•¿å¹´ç´¯æœˆåœ°åœ¨ä¸€ä¸ªé¡¹ç›®ä¸Šä¸æ–­å·¥ä½œï¼Œå¹¶ä¸”è¯•å›¾æŠŠæ‰€æœ‰çš„æœ€æ–°æƒ³æ³•ä»¥ä¿®è®¢ç‰ˆçš„å½¢å¼åŒ…æ‹¬è¿›å»ã€‚ åˆå§‹çš„åŸåˆ›å’Œç«™åœ¨å·¨äººçš„è‚©ä¸Š ä»ä»–äººçš„è§’åº¦æ€è€ƒé—®é¢˜æ­£æ˜¯æˆåŠŸçš„å¥¥ç§˜æ‰€åœ¨ã€‚ äº†è§£åˆ«äººå¯¹äºäº‹ä»¶çš„çœ‹æ³•ï¼Œå¹¶ä¸ä»£è¡¨ä½ ä¸ºä»–çš„åˆ©ç›ŠæœåŠ¡ã€‚ æ€æ ·å‘æ²¡æœ‰æŠ€æœ¯èƒŒæ™¯çš„äººè§£é‡ŠæŠ€æœ¯é—®é¢˜ã€‚ ç¨‹åºå†™å‡ºæ¥æ˜¯ç»™äººçœ‹çš„ï¼Œé™„å¸¦èƒ½åœ¨æœºå™¨ä¸Šè¿è¡Œã€‚ â€”- ã€Šè®¡ç®—æœºç¨‹åºçš„ç»“æ„ä¸è§£é‡Šã€‹ ä¸€ç§æ–°çš„åª’ä»‹åˆšåˆšè¯ç”Ÿçš„æ—¶å€™ï¼Œäººä»¬çƒ­æƒ…é«˜æ¶¨ã€å…´å¥‹ä¸å·²ï¼ŒçŸ­çŸ­å‡ ä»£äººå°±æ¢ç´¢æ¸…æ¥šäº†è¿™ç§åª’ä»‹çš„å¤§éƒ¨åˆ†å¯èƒ½æ€§ï¼ŒæŠŠå®ƒçš„èƒ½é‡å‘æŒ¥åˆ°æè‡´ã€‚ ç¼–ç¨‹ç›®å‰å¥½åƒå°±å¤„åœ¨è¿™ä¸ªé˜¶æ®µã€‚ ä¸èƒ½è¯´çš„è¯ä¹ ä¿—çš„åŠ›é‡ä¸è¶³ä»¥æŸç¼šä»–ä»¬ â€œè¦æ ¹æ®ç¤¾ä¼šè¦æ±‚ï¼Œæ”¹é€ è‡ªå·±çš„æ€æƒ³â€ å†å²çš„å€’é€€ æœªæ¥çš„äººä»¬å¯èƒ½ä¼šå‘ç°ï¼Œä»–ä»¬è§‰å¾—å¾ˆå¹³å¸¸çš„è¯ï¼Œåœ¨æˆ‘ä»¬ä»Šå¤©è¿™ä¸ªæ—¶ä»£éƒ½æ˜¯ä¸èƒ½è¯´çš„ã€‚ å›é¡¾è¿‡å»ã€‚æˆ‘ä»¬å¯ä»¥å»æ‰¾é‚£äº›è¿‡å»è¢«è®¤ä¸ºç†æ‰€å½“ç„¶ï¼Œå¦‚ä»Šå´è¢«è®¤ä¸ºä¸å¯æ€è®®çš„äº‹æƒ… hard sicence soft science æˆ‘ä»¬å–œæ¬¢å­©å­ä»¬çœ‹ä¸Šå»å¤©çœŸæ— é‚ªã€‚ æµè¡Œçš„æ—¶å°š æµè¡Œçš„é“å¾·è§‚å¿µ å¦‚æœä¸€ä¸ªå›¢é˜Ÿå¼ºå¤§åˆ°æ— æ¯”è‡ªä¿¡ï¼Œå®ƒæ›´æœ¬ä¸ä¼šåœ¨ä¹åˆ«äººçš„æŠ¨å‡»ã€‚ é“å¾·ç¦å¿Œçš„æœ€å¤§åˆ¶é€ è€…æ˜¯æƒåŠ›æ–—äº‰ä¸­å ä¸Šé£çš„ï¼Œä½†åŒæ—¶æœ‰è½¯å¼±åˆ°éœ€è¦ç¦å¿Œä¿æŠ¤è‡ªå·±çš„åˆ©ç›Šã€‚ æŠ±è´Ÿå¿ƒ ææƒ§å¿ƒ ç¬¬äºŒæ‰¹çš„æ¥å—è€…åªæœ‰è·Ÿéšè€…äº†æˆ‘è¦äº²çœ¼çœ‹ä¸€ä¸‹ï¼Œç„¶åè‡ªå·±åšå†³å®šã€‚ ä¼˜ç§€ä½œå“å¾€å¾€æ¥è‡ªäºå…¶ä»–äººå¿½è§†çš„æƒ³æ³•ï¼Œè€Œæœ€è¢«å¿½è§†çš„æƒ³æ³•å°±æ˜¯é‚£äº›è¢«ç¦æ­¢çš„æ€æƒ³è§‚ç‚¹ã€‚ åªè¦ä½ èƒ½çœ‹åˆ°åˆ«äººçœ‹ä¸åˆ°æˆ–ä¸æ•¢çœ‹çš„ä¸œè¥¿ï¼Œä½ å°±æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚ è®­ç»ƒè‡ªå·±å»æƒ³é‚£äº›ä¸èƒ½æƒ³çš„äº‹æƒ…ï¼Œä½ è·å¾—çš„å¥½å¤„ä¼šè¶…è¿‡æ‰€å¾—åˆ°çš„æƒ³æ³•æœ¬èº«ã€‚è‡ªç”±æ€è€ƒæ¯”ç•…æ‰€æ¬²è¨€æ›´é‡è¦ã€‚åœ¨å¿ƒé‡Œæ— æ‰€ä¸æƒ³ï¼Œä½†æ˜¯ä¸ä¸€å®šè¦è¯´å‡ºæ¥ã€‚â€œå®ˆå£å¦‚ç“¶ï¼Œç¬‘è„¸ç›¸è¿â€â€œä¸èƒ½è¯´çš„è¯â€å¤ªå¤šäº†ï¼Œå¦‚æœå£æ— é®æ‹¦ï¼Œä½ å°±æ²¡æ—¶é—´åšæ­£äº‹äº†ã€‚åªè¦ä¸æ˜¯é”™è¯¯çš„è§‚ç‚¹ï¼Œå°±ä¸åº”è¯¥è¢«å‹åˆ¶è®¨è®ºã€‚ è‰¯å¥½çš„åä¹ æƒ¯hacker, hack prose, hack the problemåªæœ‰æ·±å…¥äº†è§£å½“å‰çš„æŠ€æœ¯ï¼Œé»‘å®¢æ‰èƒ½æ„æƒ³ä¸‹ä¸€ä»£æŠ€æœ¯ã€‚é»‘å®¢æ°¸è¿œæ˜¯è‡ªè´Ÿçš„ã€‚é»‘å®¢çš„æ‰€ä½œæ‰€ä¸ºå®Œå…¨å‡ºäºå…´è¶£ï¼Œæƒ³åˆ°å“ªé‡Œå°±åšåˆ°å“ªé‡Œï¼Œæ²¡æœ‰æ˜ç¡®çš„è®¡åˆ’ï¼Œåªæ±‚å¼€å¿ƒã€‚å¾ˆè‡ªè´Ÿçš„äººå¿…é¡»åŸ¹å…»å‡ºæ•é”çš„æ„Ÿè§‰ï¼ŒåŠæ—¶å‘ç°å‘¨å›´æƒ…åŠ¿çš„å˜åŒ–ï¼ŒçŸ¥é“æ€æ ·æ‰èƒ½è„±èº«ã€‚ä¸€ä¸ªäººä»¬æ‹¥æœ‰è¨€è®ºè‡ªç”±å’Œè¡ŒåŠ¨è‡ªç”±çš„ç¤¾ä¼šï¼Œå¾€å¾€æœ€æœ‰å¯èƒ½é‡‡çº³æœ€ä¼˜æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯é‡‡çº³æœ€æœ‰æƒåŠ¿çš„äººæå‡ºçš„æ–¹æ¡ˆã€‚Laffer curve å¦ä¸€æ¡è·¯æ¡Œé¢è½¯ä»¶ äº’è”ç½‘è½¯ä»¶ ç”¨æˆ·å¯†é›†äº’åŠ¨çš„è½¯ä»¶ åä¸‹æ¥å†™ä¸œè¥¿çš„æ—¶å€™ï¼Œä¸€åŠçš„æ„æ€æ˜¯å†™ä½œæ—¶äº§ç”Ÿçš„ã€‚ å®ç°æŸä¸ªæ„æ€ï¼Œä¼šå¸¦æ¥æ›´å¤šçš„æ„æ€ã€‚ æé«˜è½¯ä»¶å¯é æ€§çš„å…³é”®åœ¨äºå¼€å‘æ—¶å…¨ç¥è´¯æ³¨ï¼Œè€Œä¸æ˜¯é™ä½å¼€å‘é€Ÿåº¦ã€‚å¦‚æœä½ äº²çœ¼è§åˆ°æŸäººç¬¬ä¸€æ¬¡ä½¿ç”¨ä½ çš„è½¯ä»¶ï¼Œä½ å°±ä¼šçŸ¥é“è½¯ä»¶çš„å“ªä¸ªåœ°æ–¹æœ€æ‰“åŠ¨ä»–ã€‚ ä¸€å®šæ•°é‡çš„ç›—ç‰ˆå¯¹è½¯ä»¶å…¬å¸æ˜¯æœ‰å¥½å¤„çš„ã€‚ ä»·æ ¼æ­§è§† å…¬å¸å†…éƒ¨æ‰€æœ‰ä¸ç›´æ¥æ„Ÿå—åˆ°ç«äº‰å‹åŠ›çš„éƒ¨é—¨éƒ½åº”è¯¥å¤–åŒ…å‡ºå»ï¼Œè®©å®ƒä»¬æš´éœ²åœ¨ç«äº‰å‹åŠ›ä¹‹ä¸‹ã€‚ å¦‚æœæ–°äº‹ç‰©çœŸçš„æœ‰é‡å¤§æ”¹è¿›ï¼Œé‚£ä¹ˆå®ƒæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ç”Ÿå­˜ç©ºé—´çš„ã€‚ ç®¡ç†ä¼ä¸šï¼šåšå‡ºç”¨æˆ·å–œæ¬¢çš„äº§å“ï¼Œä¿è¯å¼€æ”¯å°äºæ”¶å…¥ã€‚ åªæœ‰æ‡‚å¾—è®¾è®¡çš„é»‘å®¢ï¼Œæ‰èƒ½è®¾è®¡è½¯ä»¶ï¼Œä¸èƒ½äº¤ç»™å¯¹è½¯ä»¶ä¸€çŸ¥åŠè§£çš„è®¾è®¡å¸ˆã€‚å¦‚æœä½ ä¸ç®—è‡ªå·±åŠ¨æ‰‹è®¾è®¡å’Œå¼€å‘ï¼Œé‚£å°±ä¸è¦åˆ›ä¸šã€‚ ä»–ä»¬å®³æ€•ä½ èƒœè¿‡ä½ å®³æ€•ä»–ä»¬ å¼€å‘äº’è”ç½‘è½¯ä»¶ä¸éœ€è¦å¾—åˆ°ä»»ä½•äººçš„è®¸å¯ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿé˜»æ­¢ä½ ã€‚ä½ ä¸éœ€è¦å»ç”³è¯·è®¸å¯è¯ï¼Œä¸éœ€è¦åœ¨é›¶å”®åº—çš„è´§æ¶ä¸Šè°‹å¾—ä¸€å¸­ä¹‹åœ°ï¼Œä¹Ÿä¸éœ€è¦å‘èº¬å±ˆè†åœ°æ±‚äººå®¶ï¼Œå°†ä½ çš„è½¯ä»¶ä¸æ“ä½œç³»ç»Ÿæ†ç»‘åœ¨ä¸€èµ·ã€‚ä½ èƒ½ç‹—è´­è¿‡æµè§ˆå™¨å‘å¸ƒè½¯ä»¶ï¼Œæ²¡æœ‰äººèƒ½åœ¨ä½ å’Œæµè§ˆç½‘ç«™çš„ç”¨æˆ·ä¹‹é—´æ’ä¸Šä¸€è„šã€‚ å¦‚ä½•åˆ›é€ è´¢å¯Œå¹³å‡ä¸»ä¹‰æ³›æ»¥ ä½¿ç”¨â€œæŒ£é’±â€è¿™ä¸ªè¯ä¼šä¸åˆ©äºç†è§£å¦‚ä½•æ‰èƒ½æŒ£é’±ã€‚(make money-è´¢å¯Œï¼Œmoney-é‡‘é’±) é‡‘é’±æ˜¯ä¸“ä¸šåŒ–çš„å‰¯äº§å“ã€‚ å…¬å¸çš„å­˜åœ¨ç›®çš„å°±æ˜¯æ»¡è¶³äººä»¬çš„æŸç§éœ€è¦ã€‚ è‹¦æ¼ï¼šæ— æ³•å‡†ç¡®æµ‹é‡æ¯ä¸ªå‘˜å·¥çš„è´¡çŒ®ã€‚ å›¢é˜Ÿè¶Šå¤§ï¼Œæ¯ä¸ªäººçš„è´¡çŒ®å°±è¶Šæ¥è¿‘äºæ•´ä½“çš„å¹³å‡å€¼ã€‚ æŠ€æœ¯å°±æ˜¯æŸç§æ‰‹æ®µï¼Œå°±æ˜¯æˆ‘ä»¬åšäº‹çš„æ–¹å¼ã€‚ç»æµä»·å€¼å–å†³äºæœ‰å¤šå°‘äººä½¿ç”¨è¿™ç§æ–°æ–¹å¼ã€‚æˆ‘ä»¬å¾ˆä¹äºè¿«ä½¿é‚£äº›åˆå¤§åˆæ…¢çš„ç«äº‰å¯¹æ‰‹è·Ÿç€æˆ‘ä»¬ä¸€èµ·èµ°è¿›æ²¼æ³½åœ°ã€‚ä¸æ˜¯è®©ä¹°å®¶çœ‹åˆ°æœ‰è·åˆ©çš„å¯èƒ½ï¼Œè€Œæ˜¯è®©ä»–ä»¬æ„Ÿåˆ°å¤±å»æœºä¼šçš„ææƒ§ã€‚ æ— è®ºä½ çš„æŠ€æœ¯æ°´å¹³æœ‰å¤šé«˜ï¼Œç”¨æˆ·æ•°é‡éƒ½æ¯”ä½ è‡ªå·±çš„åˆ¤æ–­æ›´èƒ½å‡†ç¡®åæ˜ å“ªäº›é—®é¢˜åº”è¯¥ä¼˜å…ˆè§£å†³ã€‚ åˆ›é€ äººä»¬éœ€è¦çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯åˆ›é€ è´¢å¯Œã€‚åˆ›é€ è´¢å¯Œçš„äººèƒ½å¤Ÿå¿ƒå®‰ç†å¾—åœ°äº«ç”¨è‡ªå·±çš„è´¢å¯Œã€‚ æ²¡æœ‰è´¢å¯Œçš„æ¿€åŠ±ï¼Œå°±ä¸ä¼šæœ‰äººæ„¿æ„å»åšæŠ€æœ¯é©æ–°ã€‚ å…³æ³¨è´«å¯Œåˆ†åŒ–ä¸ç®¡æ˜¯æˆ˜äº‰è¿˜æ˜¯æ”¿æ²»æ–—äº‰ï¼Œæœ¬è´¨ä¸Šéƒ½å±äºå·çªƒã€‚æŠ€æœ¯çš„å‘å±•ä½¿å¾—é€šè¿‡åˆ›é€ è€Œç§¯ç´¯çš„é€Ÿåº¦ç¬¬ä¸€æ¬¡æœ‰å¯èƒ½è¶…è¿‡é€šè¿‡å·çªƒè€Œç§¯ç´¯è´¢å¯Œçš„é€Ÿåº¦ã€‚ æ¯ä¸€ç¬”å·¨å¤§è´¢å¯Œçš„èƒŒåï¼Œéƒ½éšè—ç€ç½ªè¡Œã€‚ â€”- å·´å°”æ‰å…‹æŠ€æœ¯æ— æ³•ä½¿å…¶å˜å¾—æ›´ä¾¿å®œçš„å”¯ä¸€ä¸œè¥¿ï¼Œå°±æ˜¯å“ç‰Œã€‚æ— æ‰€äº‹äº‹ä½¿äººæ„Ÿåˆ°å­¤ç‹¬å’Œæ¶ˆæ²‰æŠ€æœ¯åœ¨åŠ å¤§æ”¶å…¥å·®è·çš„åŒæ—¶ï¼Œç¼©å°äº†å¤§éƒ¨åˆ†çš„å…¶ä»–å·®è·ã€‚ç”Ÿæ´»åœ¨ä¸€ä¸ªæ•´ä½“ä¸Šéå¸¸å¯Œè£•ä½†æ˜¯æˆ‘ä¸ªäººç›¸å¯¹è´«ç©·çš„ç¤¾ä¼šï¼Œè¿˜æ˜¯ç”Ÿæ´»åœ¨ä¸€ä¸ªæˆ‘ä¸ªäººç›¸å¯¹éå¸¸å¯Œè£•ä½†æ˜¯æ•´ä½“ä¸Šéå¸¸è´«ç©·çš„ç¤¾ä¼šå‘¢ï¼Ÿ é˜²æ­¢åƒåœ¾é‚®ä»¶çš„ä¸€ç§æ–¹æ³•è®¾è®¡è€…çš„å“å‘³å–œæ¬¢ä¸€ä»¶ä¸œè¥¿ï¼Œå´ä¸çŸ¥é“ä¸ºä»€ä¹ˆè‡ªå·±å–œæ¬¢å®ƒã€‚ äººç±»çš„æ€æƒ³å°±æ˜¯æ²¡æœ‰ç»è¿‡æ•´ç†çš„æ— æ•°æ‚å¿µçš„æ··åˆã€‚ å¦‚æœä½ æ˜¯ä¸€ä¸ªè®¾è®¡å¸ˆï¼Œå¹¶ä¸”ä½ ä¸æ‰¿è®¤æœ‰ä¸€ç§äººä»¬å…±åŒè®¤å¯çš„ä¸œè¥¿å«åšâ€œç¾â€ï¼Œé‚£ä¹ˆä½ å°±æ²¡æœ‰åŠæ³•åšå¥½å·¥ä½œã€‚ ä¼˜ç§€è®¾è®¡çš„åŸåˆ™æ˜¯è®¸å¤šå­¦ç§‘çš„å…±åŒåŸåˆ™ è£…é¥°å“æœ¬èº«å¹¶ä¸æ˜¯åäº‹ï¼Œåªæœ‰å½“å®ƒè¢«ç”¨æ¥æ©ç›–ç»“æ„çš„è‹ç™½æ—¶ï¼Œæ‰å˜æˆäº†ä¸€ä»¶åäº‹ã€‚ å¥½è®¾è®¡å¸ˆæ°¸è¿œä¸è¿‡æ—¶çš„è®¾è®¡ å¯¹ç§°çš„å±é™©åœ¨äºå®ƒå¯ä»¥ç”¨æ¥å–ä»£æ€è€ƒï¼Œåœ¨å¤§é‡ä½¿ç”¨é‡å¤çš„æ—¶å€™è¿™ç§å±é™©æ€§æ›´å¤§ã€‚ å¤§è‡ªç„¶åœ¨é•¿æœŸçš„æ¼”åŒ–ä¸­å·²ç»è§£å†³äº†å¾ˆå¤šè®¾è®¡é—®é¢˜ã€‚ é—ä¼ ç®—æ³•å¯èƒ½ä¼šåˆ›é€ å‡ºæ­£å¸¸æ¡ä»¶ä¸‹éš¾ä»¥è®¾è®¡çš„å¤æ‚äº‹ç‰©ã€‚ ä½ åº”è¯¥åŸ¹å…»å¯¹è‡ªå·±çš„ä¸æ»¡ã€‚ ç¼–ç¨‹è¯­è¨€è§£æä¸€ä¸ªæ“ä½œæ‰€éœ€çš„ä»£ç è¶Šå¤šï¼Œå°±è¶Šéš¾é¿å…bugï¼Œä¹Ÿè¶Šéš¾å‘ç°å®ƒä»¬ã€‚ åªè¦ä½ æ‡‚å¾—é©¾é©­å¼€æºè½¯ä»¶ç¤¾åŒºï¼Œå°±ä¼šæœ‰å¾ˆå¤šäººåœ¨çŸ­æœŸå†…ä¸ºä½ æä¾›å¤§é‡çš„ä»£ç ã€‚ ä¸€ç™¾å¹´åçš„ç¼–ç¨‹è¯­è¨€ä¸€ç§ç¼–ç¨‹è¯­è¨€çš„ä¸¤å¤§ç»„æˆéƒ¨åˆ†ï¼š1.åŸºæœ¬è¿ç®—ç¬¦çš„é›†åˆï¼ˆæ‰®æ¼”å…¬ç†çš„è§’è‰²ï¼‰ã€‚2.é™¤è¿ç®—ç¬¦ä»¥å¤–çš„å…¶ä»–éƒ¨åˆ†ï¼ˆåŸåˆ™ä¸Šï¼Œè¿™ä¸ªéƒ¨åˆ†å¯ä»¥ç”¨åŸºæœ¬è¿ç®—ç¬¦è¡¨è¾¾å‡ºæ¥ï¼‰ æ•°å­¦å®¶æ€»æ˜¯è§‰å¾—å…¬ç†è¶Šå°‘è¶Šå¥½ã€‚ ä¸€ç§è¯­è¨€çš„å†…æ ¸è®¾è®¡å¾—è¶Šå°ã€è¶Šå¹²å‡€ï¼Œå®ƒçš„ç”Ÿå‘½åŠ›å°±è¶Šé¡½å¼ºã€‚ å¯¹é€Ÿåº¦çš„è¿½æ±‚æ˜¯äººç±»å†…å¿ƒæ·±å¤„æ ¹æ·±è’‚å›ºçš„æ¬²æœ›ã€‚æ•ˆç‡ä½ä¸‹çš„è½¯ä»¶å¹¶ä¸ç­‰äºå¾ˆçƒ‚çš„è½¯ä»¶ã€‚æµªè´¹ç¨‹åºå‘˜çš„æ—¶é—´è€Œä¸æ˜¯æµªè´¹æœºå™¨çš„æ—¶é—´æ‰æ˜¯çœŸæ­£çš„æ— æ•ˆç‡ã€‚ æ‹’ç»å¹³åº¸é€‰æ‹©ä½¿ç”¨å“ªä¸€ç§æŠ€æœ¯çš„æ—¶å€™ï¼Œä½ ä¸èƒ½è€ƒè™‘åˆ«äººçš„åšæ³•ï¼Œåªèƒ½è€ƒè™‘ä»€ä¹ˆæ ·çš„æŠ€æœ¯èƒ½æœ€å¥½åœ°å®Œæˆå·¥ä½œã€‚åœ¨ç«äº‰ä¸­ï¼Œä½ çš„å¯¹æ‰‹æ— æ³•ç†è§£ä½ çš„æŠ€æœ¯ä¼˜åŠ¿ï¼Œè¿™å¯æ˜¯å†å®è´µä¸è¿‡äº†ã€‚ä»–ä»¬éƒ½æ»¡è¶³äºè‡ªå·±ç¢°å·§ç”¨ç†Ÿäº†çš„é‚£ç§è¯­è¨€ã€‚Lispäººç±»å¤©æ€§å˜åŒ–çš„é€Ÿåº¦å¤§å¤§æ…¢äºè®¡ç®—æœºç¡¬ä»¶å˜åŒ–çš„é€Ÿåº¦ã€‚ ä¹¦å‘†å­çš„å¤ä»‡æ¡ä»¶è¶Šè‹›åˆ»çš„é¡¹ç›®ï¼Œå¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€å°±è¶Šèƒ½å‘æŒ¥ä½œç”¨ã€‚æŠŠè½¯ä»¶è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯å°±å¯ä»¥æ²¡æœ‰é¡¾å¿Œåœ°ä½¿ç”¨æœ€å…ˆè¿›çš„æŠ€æœ¯ã€‚ ä»–ä»¬çœ¼ä¸­ä¸æ­£å¸¸çš„äº‹ä»¶æ°æ°å°±æ˜¯ä½¿å¾—è¿™ä¸€åˆ‡å‘ç”Ÿçš„åŸå› æ‰€åœ¨ã€‚åœ¨åŸºç¡€è¯­è¨€ä¹‹ä¸Šå…ˆæ„å»ºä¸€ç§ä½ è‡ªå·±çš„è¯­è¨€ï¼Œç„¶åå†ç”¨åè€…å¼€å‘åº”ç”¨ç¨‹åºã€‚ç¨‹åºå‘˜ä½¿ç”¨æŸç§è¯­è¨€èƒ½åšåˆ°çš„äº‹ä»¶æ˜¯æœ‰æé™çš„ã€‚ç»ç†çœŸæ­£å…³å¿ƒçš„æ˜¯ä¸æ‰¿æ‹…å†³ç­–å¤±è´¥çš„è´£ä»»ã€‚ æ¢¦å¯ä»¥æ±‚çš„ç¼–ç¨‹è¯­è¨€åªæœ‰æµè¡Œæ‰ä¼šè®©å®ƒä¿æŒä¼˜ç§€ã€‚ æ— æ³•ä»¥ä¸€ç§è¯­è¨€æœ¬èº«çš„ä¼˜ç¼ºç‚¹è¯„åˆ¤è¿™ç§è¯­è¨€ã€‚ åªæœ‰å½“ä¸€ç§è¯­è¨€æœ¬èº«çš„ä¼˜ç¼ºç‚¹è¯„åˆ¤è¿™ç§è¯­è¨€ã€‚åªè¦è®¡ç®—æœºå¯ä»¥è‡ªå·±æ¨æ–­å‡ºæ¥çš„äº‹æƒ…ï¼Œéƒ½åº”è¯¥è®©è®¡ç®—æœºè‡ªå·±å»æ¨æ–­ã€‚æ•å¼€èƒ¸æ€€ï¼šå¯¹äºåˆ¶é€ å·¥å…·çš„äººæ¥è¯´ï¼Œæ€»æ˜¯ä¼šæœ‰ç”¨æˆ·ä»¥è¿èƒŒä½ æœ¬æ„çš„æ–¹å¼ä½¿ç”¨ä½ çš„å·¥å…·ã€‚ è®©å­—èŠ‚ç æˆä¸ºè¯­è¨€çš„æ­£å¼ç»„æˆéƒ¨åˆ†ï¼Œå…è®¸ç¨‹åºå‘˜åœ¨ç“¶é¢ˆå¤„å†…åµŒå­—èŠ‚ç ã€‚ ç¡¬ä»¶å’Œè½¯ä»¶ç°åœ¨æ†ç»‘åœ¨ä¸€èµ·ä¾›åº”ã€‚ äººä»¬æœ‰æ—¶å€™ä¼šæƒ³è¦è‡ªå·±å¹¶ä¸çœŸæ­£éœ€è¦çš„ä¸œè¥¿ã€‚ å¤§å¤šæ•°çƒ­é—¨æ–°å•†å“äº‹åè¢«è¯æ˜éƒ½æ˜¯æµªè´¹æ—¶é—´çš„å™±å¤´ï¼Œæ²¡å¤šä¹…å°±æ¶ˆå¤±å¾—æ— å½±æ— è¸ªã€‚ äººä»¬çœŸæ­£æ³¨æ„åˆ°ä½ çš„æ—¶å€™ï¼Œä¸æ˜¯ç¬¬ä¸€çœ¼çœ‹åˆ°ä½ ç«™åœ¨é‚£é‡Œï¼Œè€Œæ˜¯å‘ç°è¿‡äº†è¿™ä¹ˆä¹…ä½ å±…ç„¶è¿˜åœ¨é‚£é‡Œã€‚ â€œæœ€å¥½çš„æ–‡å­—æ¥è‡ªä¸åœçš„ä¿®æ”¹ã€‚â€ å¯¹è§£å†³éš¾é¢˜çš„å¯èƒ½æ€§ä¿æŒä¹è§‚ï¼ŒåŒæ—¶å¯¹å½“å‰è§£æ³•çš„åˆç†æ€§ä¿æŒæ€€ç–‘ã€‚ åšå‡ºä¼˜ç§€æˆæœçš„äººï¼Œåœ¨åšçš„è¿‡ç¨‹ä¸­å¸¸å¸¸è§‰å¾—è‡ªå·±åšå¾—ä¸å¤Ÿå¥½ã€‚ å¦‚æœä½ èƒ½å¹³è¡¡å¥½å¸Œæœ›å’Œæ‹…å¿§ï¼Œå®ƒä»¬å°±ä¼šæ¨åŠ¨é¡¹ç›®å‰è¿›ï¼Œå°±åƒè‡ªè¡Œè½¦åœ¨ä¿æŒå¹³è¡¡ä¸­å‰è¿›ä¸€æ ·ã€‚ å¦‚æœç”¨æˆ·æ•°é‡åºå¤§ï¼Œä¿®æ”¹è¯­è¨€å¸¦æ¥çš„ç—›è‹¦å°±å°†æŒç»­å¾ˆé•¿æ—¶é—´ã€‚ è®¾è®¡ä¸ç ”ç©¶è®¾è®¡ä¸ç ”ç©¶ï¼Œå¥½ä¸æ–°ã€‚ åªæœ‰åº”ç”¨â€œæ–°â€çš„åˆ›æ„å’Œç†è®ºï¼Œæ‰ä¼šè¯ç”Ÿè¶…è¶Šå‰äººçš„æœ€ä½³è®¾è®¡ï¼›åªæœ‰è§£å†³é‚£äº›å€¼å¾—è§£å†³çš„éš¾é¢˜ï¼ˆä¹Ÿå°±æ˜¯â€œå¥½â€çš„éš¾é¢˜ï¼‰ï¼Œåªæ˜¯å‰è¿›çš„è·¯çº¿ä¸åŒç½¢äº†ã€‚é™¤éè®¾å®šç›®æ ‡ç”¨æˆ·ï¼Œå¦åˆ™ä¸€ç§è®¾è®¡çš„å¥½åæ ¹æœ¬æ— ä»è°ˆèµ·ã€‚å¦‚æœç›®æ ‡ç”¨æˆ·ç¾¤ä½“æ¶µç›–äº†è®¾è®¡å¸ˆæœ¬äººï¼Œé‚£ä¹ˆæœ€æœ‰å¯èƒ½è¯ç”Ÿä¼˜ç§€è®¾è®¡ã€‚ â€œå¼±å³æ˜¯å¼ºâ€(Worse is Better) å°½å¿«æ‹¿å‡ºåŸå‹ï¼Œå¬å–ç”¨æˆ·çš„æ„è§ã€‚å…ˆåšå‡ºåŸå‹ï¼Œå†é€æ­¥åŠ å·¥åšå‡ºæˆå“ã€‚ ä»»ä½•æ—¶å€™ï¼Œä»£ç å¿…é¡»èƒ½å¤Ÿè¿è¡Œã€‚ â€œç”»ä½œæ°¸è¿œæ²¡æœ‰å®Œå·¥çš„ä¸€å¤©ï¼Œä½ åªæ˜¯ä¸å†ç”»ä¸‹å»è€Œå·²ã€‚â€]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœº</tag>
        <tag>ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºåšå®¢æ·»åŠ Disqusè¯„è®ºç³»ç»Ÿ]]></title>
    <url>%2F2018%2Fcomment-disqus.html</url>
    <content type="text"><![CDATA[ç»™åšå®¢æ·»åŠ ä¸€ä¸ªè¯„è®ºç³»ç»Ÿï¼Œè€ƒè™‘äº†å¥½å‡ ä¸ªï¼Œä½†æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†Disqusï¼Œè€ƒè™‘ä¸€ä¸‹å‡ ç‚¹ï¼š ä¹‹å‰éå¸¸å—æ¬¢è¿çš„å¤šè¯´ï¼ŒæŸåŸå› å…³é—­äº†ï¼Œç°åœ¨å›½å†…ä¹Ÿæœ‰éå¸¸å¤šå¥½çš„è¯„è®ºç³»ç»Ÿï¼Œä½†å°±æ˜¯æ‹…å¿ƒåˆå‡ºç°æŸåŸå› å…³é—­ï¼Œé‚£å°±éº»çƒ¦äº† Disquså”¯ä¸€çš„é—®é¢˜å°±æ˜¯åœ¨å¢™å¤–ï¼Œæˆ‘è€ƒè™‘ä¸€ä¸‹ï¼Œè®¿é—®æˆ‘åšå®¢åæœ‰å…«ä¹éƒ½æ˜¯åšæŠ€æœ¯çš„ï¼Œæ¢¯å­è‚¯å®šæ˜¯å¤šçš„æ˜¯ï¼ŒğŸ˜€ Disqusæ·»åŠ ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚ æ³¨å†ŒDisqusåˆ°Disqusï¼Œæ³¨å†Œä¸€ä¸ªè´¦å· I want to install Disqus on my siteå°±æ˜¯ç°åœ¨Disqusåšä¸ªç«™ç‚¹çš„æ ‡è®°ã€‚ è¿™è¾¹çš„Shortnameæ¯”è¾ƒé‡è¦ï¼Œä¹‹åå†hexo-nextä¸­é…ç½®å°±æ˜¯ç”¨è¿™ä¸ªShortnameï¼Œéœ€è¦ä¸é‡å¤ã€‚ ä¸‹é¢çš„ä¿¡æ¯å°±æŒ‰ç…§è§„åˆ™å¡«å°±æ˜¯äº†ã€‚ å¡«å†™é…ç½®æ–‡ä»¶åœ¨next/_config.ymlä¸­æ·»åŠ æˆ–ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š12345# Disqusdisqus: enable: true shortname: http-andyron-com count: true æ›´æ–°ä¸€ä¸‹ç³»ç»Ÿ123hexo cleanhexo ghexo d ç°åœ¨åœ¨æ–‡ç« åº•éƒ¨å°±å‡ºç°è¯„è®ºç³»ç»Ÿäº†ã€‚ Disqusåˆšåˆšæ¨å‡ºäº† Reactionsï¼Œå¯ä»¥åœ¨åå°é…ç½®ã€‚]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨LeanCloundç»™hexo+nextåšå®¢æ·»åŠ æ–‡ç« é˜…è¯»æ•°]]></title>
    <url>%2F2018%2Fleanclound-hexo-next.html</url>
    <content type="text"><![CDATA[ä¸ªäººåšå®¢ä¹‹å‰ç”¨çš„NexT æ¡†æ¶ä»‹ç» ä¸è’œå­ç»Ÿè®¡ æ¥ç»Ÿè®¡æ–‡ç« é˜…è¯»æ•°ã€ç½‘ç«™è®¿é—®äººæ•°å’Œç½‘ç«™è®¿é—®æ€»æ•°ã€‚ä½†æ˜¯æ€»æ˜¯å‘ç°æ–‡ç« é˜…è¯»æ•°è€æ˜¯å‡ºç°é—®é¢˜ï¼Œå› æ­¤æŠŠæ–‡ç« é˜…è¯»æ•°æ¢æˆç”¨LeanCloudæ¥ç»Ÿè®¡ï¼Œçœ‹èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚LeanCloudçš„å…è´¹çš„å¼€å‘ç‰ˆå®Œå…¨æ»¡è¶³äº†æˆ‘åšå®¢è¿™ç§å°ç½‘ç«™çš„éœ€æ±‚äº†ã€‚é…ç½®èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¸‹é¢åšä¸ªè®°å½•ï¼š æ³¨å†ŒLeanCloundè´¦å·è¿™ä¸ªå¾ˆæ–¹ä¾¿ï¼Œå¾®åšï¼ŒGitHubéƒ½å¯ä»¥ç›´æ¥å…³è”æ³¨å†Œï¼Œæˆ–è€…ç›´æ¥ç”¨é‚®ç®±æ³¨å†Œã€‚ åˆ›å»ºåº”ç”¨æ¯”å¦‚æˆ‘åˆ›å»ºä¸€ä¸ªåä¸ºandyron.com.counterçš„åº”ç”¨ã€‚ è·å–APP IDï¼ŒAPP Keyï¼Œä¹‹åå†é…ç½®æ–‡ä»¶ä¸­é…ç½®ã€‚ åˆ›å»ºClass åœ¨åº”ç”¨çš„æ•°æ®é…ç½®ç•Œé¢ï¼Œå·¦ä¾§ä¸‹åˆ’çº¿å¼€å¤´çš„éƒ½æ˜¯ç³»ç»Ÿé¢„å®šä¹‰å¥½çš„è¡¨ï¼Œä¸ºäº†ä¾¿äºåŒºåˆ†æˆ‘ä»¬æ–°å»ºä¸€å¼ è¡¨æ¥ä¿å­˜æˆ‘ä»¬çš„æ•°æ®ã€‚æ–°å»ºClassç”¨æ¥ä¸“é—¨ä¿å­˜æˆ‘ä»¬åšå®¢çš„æ–‡ç« è®¿é—®é‡ç­‰æ•°æ®ï¼Œç†è®ºä¸Šæ¥è¯´åå­—å¯ä»¥éšæ„å–åï¼Œåªè¦ä½ äº¤äº’ä»£ç åšç›¸åº”çš„æ›´æ”¹å³å¯ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯å¯¹NexTä¸»é¢˜çš„ä¿®æ”¹å…¼å®¹ï¼Œæ­¤å¤„çš„æ–°å»ºClassåå­—å¿…é¡»ä¸ºCounter: æ·»åŠ å®‰å…¨åŸŸåæ·»åŠ å®‰å…¨åŸŸååï¼Œåªæœ‰è¿™äº›å®‰å…¨åŸŸåæ‰æœ‰æƒè®¿é—®åå°çš„æ•°æ®äº†ï¼Œå¯ä»¥è¿›ä¸€æ­¥æå‡å®‰å…¨æ€§ã€‚ ä¿®æ”¹ä¸€ä¸‹ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹é…ç½®æ–‡ä»¶next/_config.yml12345678910111213141516171819202122leancloud_visitors: enable: true app_id: #ä½ çš„app_id app_key: #ä½ çš„çš„app_key# Show PV/UV of the website/page with busuanzi. ä¸è’œå­ç»Ÿè®¡# Get more information on http://ibruce.info/2015/04/04/busuanzi/busuanzi_count: # count values only if the other configs are false enable: true # custom uv span for the whole site site_uv: true site_uv_header: &lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; è®¿é—®äººæ•° site_uv_footer: äººæ¬¡ # # custom pv span for the whole site site_pv: true site_pv_header: &lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i&gt; æ€»è®¿é—®é‡ site_pv_footer: æ¬¡ # custom pv span for one page only page_pv: false page_pv_header: &lt;i class=&quot;fa fa-file-o&quot;&gt;&lt;/i&gt; é˜…è¯» page_pv_footer: æ¬¡ æ›´æ–°ä¸€ä¸‹ç³»ç»Ÿ123hexo cleanhexo ghexo d æœ€æ–°çš„NexTæ¡†æ¶å·²ç»ä¸éœ€è¦å†é…ç½®æ ·å¼ï¼Œå¯ä»¥çœ‹åˆ° åœ¨LeanCloudä¸­ä¹Ÿå¯ä»¥æŸ¥çœ‹æ•°æ®äº†ï¼š æ³¨ï¼šobjetcIdè¿™ä¸ªä¸»é”®æ˜¯ç”±æ—¥æœŸå’Œåšæ–‡æ ‡é¢˜ç»„åˆæˆçš„ï¼Œå› æ­¤æ ‡é¢˜å˜åŒ–ï¼Œé˜…è¯»ä¼šé‡æ–°è®¡æ•° å‚è€ƒï¼š ä¸ºNexTä¸»é¢˜æ·»åŠ æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡åŠŸèƒ½ä½¿ç”¨leancloudç»™åšå®¢æ·»åŠ é˜…è¯»æ¬¡æ•°]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>LeanClound</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºiOSå¤šçº¿ç¨‹ï¼Œè¿™è¾¹å‹‰å¼ºå¯ä»¥çœ‹çœ‹(OC&Swift)]]></title>
    <url>%2F2018%2Fios-multithreading.html</url>
    <content type="text"><![CDATA[iOSå¼€å‘å¤šçº¿ç¨‹æ€»æ˜¯ç»•ä¸è¿‡çš„åï¼Œçœ‹äº†å¾ˆå¤šå‰è¾ˆä»¬ä¼˜ç§€çš„æ–‡ç« ï¼Œå¦‚ï¼šå…³äºiOSå¤šçº¿ç¨‹ï¼Œæˆ‘è¯´ï¼Œä½ å¬ï¼Œæ²¡å‡†ä½ å°±æ‡‚äº†ï¼ã€è°ˆiOSå¤šçº¿ç¨‹(NSThreadã€NSOperationã€GCD)ç¼–ç¨‹ã€iOSå¤šçº¿ç¨‹ï¼šã€GCDã€è¯¦å°½æ€»ç»“ã€iOSå¤šçº¿ç¨‹ï¼šã€pthreadã€NSThreadã€è¯¦å°½æ€»ç»“ã€iOSå¤šçº¿ç¨‹ï¼šã€NSOperationã€NSOperationQueueã€è¯¦å°½æ€»ç»“ã€å…³äºiOSå¤šçº¿ç¨‹ï¼Œä½ çœ‹æˆ‘å°±å¤Ÿäº†ç­‰ï¼Œä½†ä¸è‡ªå·±æ•´ç†ä¸€ä¸‹ï¼Œæ•²ä¸€ä¸‹ä»£ç æ€»æ˜¯æ„Ÿè§‰ä¸æ·±åˆ» ï¼Œäºæ˜¯å°±æœ‰è¿™ç¯‡æ–‡ç« ï¼Œæ–­æ–­ç»­ç»­æ•´ç†äº†å¥½ä¹…ã€‚ ç¤ºä¾‹æˆ‘å°½é‡æŠŠä¸åŒçŸ¥è¯†ç‚¹ä»£ç ç‹¬ç«‹å¼€ï¼Œçœ‹ç€ç®€å•ä¸€äº›ï¼Œå®¹æ˜“ç†è§£ã€‚ç¤ºä¾‹ä»£ç æˆ‘éƒ½ç”¨OCå’ŒSwiftåˆ†åˆ«å†™äº†ï¼Œä¸è¿‡æ–‡ä¸­éƒ½æ˜¯ä»¥OCè¯´æ˜çš„ï¼Œå› ä¸ºå¦‚æœç”¨ä¸¤ç§è¯­è¨€ä¸€èµ·ï¼Œçœ‹èµ·æ¥å¯èƒ½æ¯”è¾ƒä¹±ï¼Œæ–‡ç« ä¹Ÿä¼šæ›´åŠ é•¿ï¼ˆå·²ç»éå¸¸é•¿äº†ğŸ˜‚ğŸ˜‚ï¼‰ã€‚Swiftå†™æ³•å¯èƒ½æœ‰æ¯”è¾ƒå¤§åŒºåˆ«ï¼Œä¹Ÿæœ‰äº›åŠŸèƒ½å–æ¶ˆï¼Œä½†çœ‹ä¸€ä¸‹ä»£ç åº”è¯¥èƒ½æ˜ç™½äº†ã€‚æ–‡ä¸­çš„æ‰€æœ‰ç¤ºä¾‹ä»£ç ï¼šandyRon/iOS-Multithreading å…ˆçœ‹ä¸ªå¤§æ¦‚ï¼š 1 ç®€ä»‹ä¸€äº›å¸®åŠ©ç†è§£çš„æ¦‚å¿µï¼Œå¯ä»¥å…ˆç®€å•çœ‹ä¸€ä¸‹ï¼Œç„¶åè¯»å®Œå…¨æ–‡å†å›æ¥çœ‹ä¸€ä¸‹è¿™ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½å°±æ¯”è¾ƒæ¸…æ™°äº†ã€‚ğŸ™‚ 1.1 ä¸€äº›æ¦‚å¿µ ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„æ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½æ˜¯ä¸€ä¸ª è¿›ç¨‹(Process) ï¼Œæ¯ä¸ªè¿›ç¨‹ç³»ç»Ÿéƒ½ä¼šåˆ†é…ç»™å®ƒç‹¬ç«‹çš„å†…å­˜è¿è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨iOSç³»ç»Ÿä¸­ä¸­ï¼Œæ¯ä¸€ä¸ªåº”ç”¨éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚ ä¸€ä¸ªè¿›ç¨‹çš„æ‰€æœ‰ä»»åŠ¡éƒ½åœ¨ çº¿ç¨‹(Thread) ä¸­è¿›è¡Œï¼Œå› æ­¤æ¯ä¸ªè¿›ç¨‹è‡³å°‘è¦æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹ã€‚é‚£å¤šçº¿ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹å¼€å¯å¤šæ¡çº¿ç¨‹ï¼Œè®©æ‰€æœ‰ä»»åŠ¡å¹¶å‘æ‰§è¡Œã€‚ iOS Appä¸€æ—¦è¿è¡Œï¼Œé»˜è®¤å°±ä¼šå¼€å¯ä¸€æ¡çº¿ç¨‹ã€‚è¿™æ¡çº¿ç¨‹ï¼Œé€šå¸¸ç§°ä½œä¸ºâ€œä¸»çº¿ç¨‹â€ã€‚åœ¨iOSåº”ç”¨ä¸­ä¸»çº¿ç¨‹çš„ä½œç”¨ä¸€èˆ¬æ˜¯ï¼šåˆ·æ–°UIï¼›å¤„ç†UIäº‹ä»¶ï¼Œä¾‹å¦‚ç‚¹å‡»ã€æ»šåŠ¨ã€æ‹–æ‹½ã€‚ å¦‚æœä¸»çº¿ç¨‹çš„æ“ä½œå¤ªå¤šã€å¤ªè€—æ—¶ï¼Œå°±ä¼šé€ æˆAppå¡é¡¿ç°è±¡ä¸¥é‡ã€‚æ‰€ä»¥ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½ä¼šæŠŠè€—æ—¶çš„æ“ä½œæ”¾åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œï¼Œè·å–åˆ°ç»“æœä¹‹åï¼Œå›åˆ°ä¸»çº¿ç¨‹å»åˆ·æ–°UIã€‚ å¤šçº¿ç¨‹åœ¨ä¸€å®šæ„ä¹‰ä¸Šå®ç°äº†è¿›ç¨‹å†…çš„èµ„æºå…±äº«ï¼Œä»¥åŠæ•ˆç‡çš„æå‡ã€‚åŒæ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šç›¸å¯¹ç‹¬ç«‹ï¼Œå®ƒæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œæ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯æ‰§è¡Œç¨‹åºæœ€åŸºæœ¬çš„å•å…ƒï¼Œæœ‰è‡ªå·±æ ˆå’Œå¯„å­˜å™¨ã€‚ åŒæ­¥ï¼š åªèƒ½åœ¨å½“å‰çº¿ç¨‹æŒ‰å…ˆåé¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œä¸å¼€å¯æ–°çº¿ç¨‹ã€‚ å¼‚æ­¥ï¼š å¯ä»¥åœ¨å½“å‰çº¿ç¨‹å¼€å¯å¤šä¸ªæ–°çº¿ç¨‹æ‰§è¡Œï¼Œå¯ä¸æŒ‰é¡ºåºæ‰§è¡Œã€‚ é˜Ÿåˆ—ï¼š è£…è½½çº¿ç¨‹ä»»åŠ¡çš„é˜Ÿå½¢ç»“æ„ã€‚ å¹¶å‘ï¼š çº¿ç¨‹æ‰§è¡Œå¯ä»¥åŒæ—¶ä¸€èµ·è¿›è¡Œæ‰§è¡Œã€‚ ä¸²è¡Œï¼š çº¿ç¨‹æ‰§è¡Œåªèƒ½ä¾æ¬¡é€ä¸€å…ˆåæœ‰åºçš„æ‰§è¡Œã€‚ é€šè¿‡ç¡®ä¿ä¸»çº¿ç¨‹è‡ªç”±å“åº”ç”¨æˆ·äº‹ä»¶ï¼Œå¹¶å‘å¯ä»¥å¾ˆå¥½åœ°æé«˜åº”ç”¨çš„å“åº”æ€§ã€‚é€šè¿‡å°†å·¥ä½œåˆ†é…åˆ°å¤šæ ¸ï¼Œè¿˜èƒ½æé«˜åº”ç”¨å¤„ç†çš„æ€§èƒ½ã€‚ä½†æ˜¯å¹¶å‘ä¹Ÿå¸¦æ¥ä¸€å®šçš„é¢å¤–å¼€é”€(è°ƒåº¦)ï¼Œå¹¶ä¸”ä½¿ä»£ç æ›´åŠ å¤æ‚ï¼Œæ›´éš¾ç¼–å†™å’Œè°ƒè¯•ã€‚ 1.2 å¤šçº¿ç¨‹æ¦‚å¿µè¡¥å…… å¤šçº¿ç¨‹çš„åŸç†ï¼š åŒä¸€æ—¶é—´ï¼ŒCPUåªèƒ½å¤„ç†ä¸€æ¡çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€æ¡çº¿ç¨‹åœ¨å·¥ä½œã€‚æ‰€è°“å¤šçº¿ç¨‹å¹¶å‘(åŒæ—¶)æ‰§è¡Œï¼Œå…¶å®æ˜¯CPUå¿«é€Ÿçš„åœ¨å¤šçº¿ç¨‹ä¹‹é—´è°ƒåº¦(åˆ‡æ¢)ã€‚å¦‚æœCPUè°ƒåº¦çº¿ç¨‹çš„æ—¶é—´è¶³å¤Ÿå¿«ï¼Œå°±é€ æˆäº†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„å‡è±¡ã€‚ åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­å¹¶ä¸æ˜¯çº¿ç¨‹è¶Šå¤šè¶Šå¥½ï¼Œå¦‚æœå¼€äº†å¤§é‡çš„çº¿ç¨‹ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„CPUèµ„æºï¼ŒCPUä¼šè¢«ç´¯æ­»ï¼Œæ‰€ä»¥ä¸€èˆ¬æ‰‹æœºåªå¼€1~3ä¸ªçº¿ç¨‹ä¸ºå®œï¼Œä¸è¶…è¿‡5ä¸ªã€‚ å¤šçº¿ç¨‹çš„ä¼˜ç‚¹ï¼š èƒ½é€‚å½“æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡èƒ½é€‚å½“æé«˜èµ„æºçš„åˆ©ç”¨ç‡ï¼Œè¿™ä¸ªåˆ©ç”¨ç‡è¡¨ç°åœ¨(CPUï¼Œå†…å­˜çš„åˆ©ç”¨ç‡) å¤šçº¿ç¨‹çš„ç¼ºç‚¹ï¼š å¼€å¯çº¿ç¨‹éœ€è¦å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´(é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹å ç”¨1Mï¼Œå­çº¿ç¨‹å ç”¨512KBï¼Œå¦‚æœå¼€å¯å¤§é‡çš„çº¿ç¨‹ï¼Œä¼šå ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œé™ä½ç¨‹åºçš„æ€§èƒ½) çº¿ç¨‹è¶Šå¤šï¼ŒCPUåœ¨è°ƒåº¦çº¿ç¨‹ä¸Šçš„å¼€é”€å°±è¶Šå¤§ çº¿ç¨‹è¶Šå¤šï¼Œç¨‹åºè®¾è®¡å°±è¶Šå¤æ‚ï¼Œæ¯”å¦‚çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå¤šçº¿ç¨‹çš„æ•°æ®å…±äº«ï¼Œè¿™äº›éƒ½éœ€è¦ç¨‹åºçš„å¤„ç†ï¼Œå¢åŠ äº†ç¨‹åºçš„å¤æ‚åº¦ã€‚ åœ¨iOSå¼€å‘ä¸­ä½¿ç”¨çº¿ç¨‹çš„æ³¨æ„äº‹é¡¹ï¼š åˆ«å°†æ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ”¾åœ¨ä¸»çº¿ç¨‹ä¸­ è€—æ—¶æ“ä½œä¼šå¡ä½ä¸»çº¿ç¨‹ï¼Œä¸¥é‡å½±å“UIçš„æµç•…åº¦ï¼Œç»™ç”¨æˆ·ä¸€ç§â€œå¡â€çš„åä½“éªŒ 2 å››ç§è§£å†³æ–¹æ¡ˆå¯¹æ¯” ç›®å‰iOSå¤šçº¿ç¨‹æœ‰å››ç§æ–¹æ³•ï¼špthreadï¼ŒNSThreadï¼ŒGCDï¼Œ NSOperationï¼Œå››ç§æ–¹æ¡ˆçš„ç®€å•å¯¹æ¯”ä¸€ä¸‹ã€‚ ç”±äºpthreadå¹³å¸¸å‡ ä¹ç”¨ä¸åˆ°ï¼Œæˆ‘æš‚æ—¶å°±ä¸å­¦äº†ã€‚ æ¯ä¸ªNSThreadå¯¹è±¡å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼ŒçœŸæ­£æœ€åŸå§‹çš„çº¿ç¨‹ï¼Œç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯éœ€è¦æ‰‹åŠ¨ç®¡ç†æ‰€æœ‰çš„çº¿ç¨‹æ´»åŠ¨ï¼Œå¦‚ç”Ÿå‘½å‘¨æœŸã€çº¿ç¨‹åŒæ­¥ã€ç¡çœ ç­‰ã€‚ æ€ä¹ˆé€‰æ‹©ï¼Ÿç®€å•è€Œå®‰å…¨çš„é€‰æ‹©NSOperationå®ç°å¤šçº¿ç¨‹å³å¯ã€‚å¤„ç†å¤§é‡å¹¶å‘æ•°æ®ï¼Œåˆè¿½æ±‚æ€§èƒ½æ•ˆç‡çš„é€‰æ‹©GCDã€‚ 3 NSTreadç”Ÿå‘½å‘¨æœŸè¿˜æ˜¯éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†ï¼Œæ‰€ä»¥è¿™å¥—æ–¹æ¡ˆä¹Ÿæ˜¯å¶å°”ç”¨ç”¨ï¼Œä¸è¿‡è·å–å½“å‰çº¿ç¨‹([NSThread currentThread])å’Œè·å–ä¸»çº¿ç¨‹([NSThread mainThread])çš„è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šç»å¸¸ä½¿ç”¨ã€‚ 3.1 NSThreadä¸‰ç§çº¿ç¨‹å¼€å¯æ–¹å¼ åŠ¨æ€å¼€å¯ 12NSThread *thread1 = [[NSThread alloc] initWithTarget:self selector:@selector(doSomething1:) object:(@&quot;NSThread1&quot;)];[thread1 start]; é™æ€å¼€å¯ 12// åˆ›å»ºå¥½ä¹‹åç›´æ¥å¯åŠ¨[NSThread detachNewThreadSelector:@selector(doSomething2:) toTarget:self withObject:(@&quot;NSTread2&quot;)]; éšå¼å¼€å¯ 12// åˆ›å»ºå¥½ä¹‹åä¹Ÿæ˜¯ç›´æ¥å¯åŠ¨[self performSelectorInBackground:@selector(doSomething3:) withObject:(@&quot;NSTread3&quot;)]; 3.2 NSThreadæ‹“å±• è·å–å½“å‰çº¿ç¨‹ 1NSThread *current = [NSThread currentThread]; è·å–ä¸»çº¿ç¨‹ 1NSThread *main = [NSThread mainThread]; æš‚åœå½“å‰çº¿ç¨‹ä¸€æ®µæ—¶é—´ 1[NSThread sleepForTimeInterval:2]; æš‚åœå½“å‰çº¿ç¨‹åˆ°æŸä¸ªæ—¶é—´ 1[NSThread sleepUntilDate: date]; çº¿ç¨‹ä¹‹é—´é€šä¿¡ 123456//åœ¨æŒ‡å®šçº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ[self performSelector:@selector(run) onThread:thread withObject:nil waitUntilDone:YES]; //åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œ[self performSelectorOnMainThread:@selector(run) withObject:nil waitUntilDone:YES]; //åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œæ“ä½œ[self performSelector:@selector(run) withObject:nil]; 4. GCD GCDä¸ºGrand Central Dispatchçš„ç¼©å†™ã€‚Grand Central Dispatch (GCD)æ˜¯Appleå¼€å‘çš„ä¸€ä¸ªå¤šæ ¸ç¼–ç¨‹çš„è¾ƒæ–°çš„è§£å†³æ–¹æ³•ã€‚å®ƒä¸»è¦ç”¨äºä¼˜åŒ–åº”ç”¨ç¨‹åºä»¥æ”¯æŒå¤šæ ¸å¤„ç†å™¨ä»¥åŠå…¶ä»–å¯¹ç§°å¤šå¤„ç†ç³»ç»Ÿã€‚ 4.1 GCDçš„ä¼˜ç‚¹ GCD å¯ç”¨äºå¤šæ ¸çš„å¹¶è¡Œè¿ç®— GCD ä¼šè‡ªåŠ¨åˆ©ç”¨æ›´å¤šçš„ CPU å†…æ ¸ï¼ˆæ¯”å¦‚åŒæ ¸ã€å››æ ¸ï¼‰ GCD ä¼šè‡ªåŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºçº¿ç¨‹ã€è°ƒåº¦ä»»åŠ¡ã€é”€æ¯çº¿ç¨‹ï¼‰ ç¨‹åºå‘˜åªéœ€è¦å‘Šè¯‰ GCD æƒ³è¦æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ï¼Œä¸éœ€è¦ç¼–å†™ä»»ä½•çº¿ç¨‹ç®¡ç†ä»£ç  4.2 ä»»åŠ¡å’Œé˜Ÿåˆ— ä»»åŠ¡ï¼š è¡¨ç°ä¸Šå°±æ˜¯ä¸€æ®µä»£ç ï¼ŒOCå°±å¯¹åº”ä¸€ä¸ªBlockã€‚ä»»åŠ¡ æœ‰ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼Œæ˜¯å¦ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œä¼šä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ åŒæ­¥æ‰§è¡Œï¼ˆsyncï¼‰ï¼šåœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œä¸ä¼šå¼€è¾Ÿæ–°çš„çº¿ç¨‹ã€‚å¿…é¡»ç­‰åˆ°Blockå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œdispatchå‡½æ•°æ‰ä¼šè¿”å›ã€‚ å¼‚æ­¥æ‰§è¡Œï¼ˆasyncï¼‰ï¼šå¯ä»¥åœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡ï¼Œä½†ä¸ä¸€å®šä¼šå¼€è¾Ÿæ–°çš„çº¿ç¨‹ã€‚dispatchå‡½æ•°ä¼šç«‹å³è¿”å›, ç„¶åBlockåœ¨åå°å¼‚æ­¥æ‰§è¡Œã€‚ é˜Ÿåˆ—ï¼šä»»åŠ¡ç®¡ç†æ–¹å¼ã€‚åˆ†ä¸º ä¸²è¡Œ å’Œ å¹¶è¡Œä¸¤ç§æ–¹å¼ï¼Œéƒ½æ˜¯æŒ‰ç…§ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™ä¾æ¬¡è§¦å‘ä»»åŠ¡ã€‚ ä¸²è¡Œé˜Ÿåˆ— ï¼š æ‰€æœ‰ä»»åŠ¡ä¼šåœ¨ä¸€æ¡çº¿ç¨‹ä¸­æ‰§è¡Œï¼ˆæœ‰å¯èƒ½æ˜¯å½“å‰çº¿ç¨‹ä¹Ÿæœ‰å¯èƒ½æ˜¯æ–°å¼€è¾Ÿçš„çº¿ç¨‹ï¼‰ï¼Œå¹¶ä¸”ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œæ‰å¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ï¼ˆç­‰å¾…å®Œæˆï¼‰ å¹¶è¡Œé˜Ÿåˆ—ï¼š å¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼ˆä½†ä¸ä¸€å®šä¼šå¼€å¯æ–°çš„çº¿ç¨‹ï¼‰ï¼Œå¹¶ä¸”å½“ä¸€ä¸ªä»»åŠ¡æ”¾åˆ°æŒ‡å®šçº¿ç¨‹å¼€å§‹æ‰§è¡Œæ—¶ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡å°±å¯ä»¥å¼€å§‹æ‰§è¡Œäº†ã€‚ï¼ˆç­‰å¾…å‘ç”Ÿï¼‰ ä¸¤è€…çš„åŒºåˆ«ï¼šæ‰§è¡Œé¡ºåºä¸åŒï¼Œä»¥åŠå¼€å¯çº¿ç¨‹æ•°ä¸åŒã€‚ ä¸¤ä¸ªç‰¹æ®Šé˜Ÿåˆ—ï¼š ä¸»é˜Ÿåˆ—ï¼š ç³»ç»Ÿåˆ›å»ºå¥½çš„ä¸€ä¸ª ä¸²è¡Œé˜Ÿåˆ—ï¼Œå®ƒç®¡ç†å¿…é¡»åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»»åŠ¡ã€‚ å…¨å±€é˜Ÿåˆ—ï¼šç³»ç»Ÿä¸ºæˆ‘ä»¬åˆ›å»ºå¥½çš„ä¸€ä¸ªå¹¶è¡Œé˜Ÿåˆ—ï¼Œä½¿ç”¨èµ·æ¥ä¸æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„å¹¶è¡Œé˜Ÿåˆ—æ— æœ¬è´¨å·®åˆ«ã€‚ ä¸åŒé˜Ÿåˆ—åˆ›å»ºè·å–æ–¹å¼ï¼š 123456789101112- (void)create &#123; // dispatch_queue_create ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é˜Ÿåˆ—åå­—ï¼Œä¸€èˆ¬ç”¨appçš„Bundle Identifierå‘½åæ–¹å¼å‘½åï¼›ç¬¬äºŒä¸ªå‚æ•°ä¸ºNULLæ—¶è¡¨æ˜¯ä¸²è¡Œé˜Ÿåˆ— //ä¸²è¡Œé˜Ÿåˆ— dispatch_queue_t serialQueue = dispatch_queue_create(&quot;q1.andyron.com&quot;, NULL); dispatch_queue_t serialQueue2 = dispatch_queue_create(&quot;q2.andyron.com&quot;, DISPATCH_QUEUE_SERIAL); //å¹¶è¡Œé˜Ÿåˆ— dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;q3.andyron.com&quot;, DISPATCH_QUEUE_CONCURRENT); //å…¨å±€å¹¶è¡Œé˜Ÿåˆ— DISPATCH_QUEUE_PRIORITY_DEFAULTè¡¨ç¤ºä¼˜å…ˆçº§ dispatch_queue_t globalQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); //ä¸»é˜Ÿåˆ—è·å– dispatch_queue_t mainQueue = dispatch_get_main_queue();&#125; åŒæ­¥æ‰§è¡Œ å¼‚æ­¥æ‰§è¡Œ ä¸²è¡Œé˜Ÿåˆ— å½“å‰çº¿ç¨‹ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œ å…¶ä»–çº¿ç¨‹ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œ å¹¶è¡Œé˜Ÿåˆ— å½“å‰çº¿ç¨‹ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œ å¼€å¾ˆå¤šçº¿ç¨‹ï¼Œä¸€èµ·æ‰§è¡Œ 4.3 ä¸‹é¢ğŸ‘‡ä»¥ä¸€ä¸ªä¸€ä¸ªğŸŒ°æ¥å­¦ä¹ GCDï¼Œå¸®åŠ©ææ¸…ä¸Šé¢çš„æ¦‚å¿µ ä¾‹å­ä¸€:çº¿ç¨‹æ­»é”ï¼ˆä¸»é˜Ÿåˆ— + åŒæ­¥æ‰§è¡Œï¼‰1234567- (void)case1 &#123; NSLog(@&quot;A=====%@&quot;, [NSThread currentThread]); dispatch_sync(dispatch_get_main_queue(), ^&#123; NSLog(@&quot;B=====%@&quot;, [NSThread currentThread]); &#125;); NSLog(@&quot;C=====%@&quot;, [NSThread currentThread]);&#125; è¿è¡Œç»“æœå´©æºƒï¼š æ‰“å°ç»“æœï¼š1GCD(OC)[51511:6351422] A=====&lt;NSThread: 0x600000064340&gt;&#123;number = 1, name = main&#125; è§£é‡Šï¼šé»˜è®¤å°±ä¸€ä¸ªä¸»é˜Ÿåˆ—å’Œä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œå› æ­¤case1å‡½æ•°è¿™æ®µä»»åŠ¡å°±åœ¨ä¸»é˜Ÿåˆ—ä¸­åŒæ­¥æ‰§è¡Œï¼Œdispatch_sync...è¿™æ®µä»£ç è¡¨ç¤ºæŠŠBå¤„ä»»åŠ¡åŠ å…¥ä¸»é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¸”åŒæ­¥æ‰§è¡Œï¼Œè¿™å°±å‡ºé—®é¢˜ï¼ŒBå¤„ä»»åŠ¡è¦ç­‰ä¸»é˜Ÿåˆ—ä¸­åŒæ­¥æ‰§è¡Œä¹‹å‰çš„case1è¿™æ®µä»»åŠ¡ç»“æŸåæ‰§è¡Œï¼Œä½†Bå¤„ä»»åŠ¡åœ¨case1è¿™æ®µä»»åŠ¡ä¸­ï¼Œcase1åˆè¦ç­‰Bå¤„ä»»åŠ¡æ‰§è¡Œå®Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚case1ä»»åŠ¡è¦ç­‰Bå¤„å®Œæˆæ‰èƒ½ç»§ç»­ï¼Œä½†case1åˆæ’åœ¨Bå¤„å‰é¢ï¼Œè¿™å°±å°´å°¬äº†ï¼Œï¿£â–¡ï¿£ï½œï½œï¼Œå› æ­¤å´©æºƒäº†ğŸ˜– ä¾‹å­äºŒï¼šä¸»é˜Ÿåˆ— + å¼‚æ­¥æ‰§è¡Œ1234567- (void)case2 &#123; NSLog(@&quot;A=====%@&quot;, [NSThread currentThread]); dispatch_async(dispatch_get_main_queue(), ^&#123; NSLog(@&quot;B=====%@&quot;, [NSThread currentThread]); &#125;); NSLog(@&quot;C=====%@&quot;, [NSThread currentThread]);&#125; ç»“æœï¼š123GCD(OC)[52567:6465354] A=====&lt;NSThread: 0x600000068d40&gt;&#123;number = 1, name = main&#125;GCD(OC)[52567:6465354] C=====&lt;NSThread: 0x600000068d40&gt;&#123;number = 1, name = main&#125;GCD(OC)[52567:6465354] B=====&lt;NSThread: 0x600000068d40&gt;&#123;number = 1, name = main&#125; è§£é‡Šï¼šä»»åŠ¡éƒ½åœ¨ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼Œè€Œä¸”åªè¦ä¸€ä¸ªä¸»çº¿ç¨‹ï¼ˆnameéƒ½æ˜¯mainï¼‰ï¼ŒBå¤„ä»»åŠ¡ç”±äºæ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œç­‰case2ä»»åŠ¡å®Œæˆåæ‰§è¡Œã€‚ ä¾‹å­ä¸‰ï¼šä¸²è¡Œé˜Ÿåˆ— + åŒæ­¥æ‰§è¡Œ1234567891011121314// ä¸²è¡Œé˜Ÿåˆ— + åŒæ­¥æ‰§è¡Œ- (void)case3 &#123; dispatch_queue_t serialQueue = dispatch_queue_create(&quot;q2.andyron.com&quot;, DISPATCH_QUEUE_SERIAL); dispatch_sync(serialQueue, ^&#123; NSLog(@&quot;1======%@&quot;, [NSThread currentThread]); &#125;); dispatch_sync(serialQueue, ^&#123; NSLog(@&quot;2======%@&quot;, [NSThread currentThread]); &#125;); dispatch_sync(serialQueue, ^&#123; NSLog(@&quot;3======%@&quot;, [NSThread currentThread]); &#125;); NSLog(@&quot;4======%@&quot;, [NSThread currentThread]);&#125; ç»“æœï¼š1234GCD(OC)[53734:6582112] 1======&lt;NSThread: 0x604000261700&gt;&#123;number = 1, name = main&#125;GCD(OC)[53734:6582112] 2======&lt;NSThread: 0x604000261700&gt;&#123;number = 1, name = main&#125;GCD(OC)[53734:6582112] 3======&lt;NSThread: 0x604000261700&gt;&#123;number = 1, name = main&#125;GCD(OC)[53734:6582112] 4======&lt;NSThread: 0x604000261700&gt;&#123;number = 1, name = main&#125; è§£é‡Šï¼šğŸŒ°1ä¸­çš„ä¸»é˜Ÿåˆ—ä¹Ÿæ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œä½†å’Œè¿™è¾¹ä¸åŒï¼Œè¿™è¾¹æ˜¯æ–°å»ºäº†å¦ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œä¸ä¼šå‡ºç°å†²çªï¼Œå¹¶ä¸”éƒ½åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œï¼Œè¿™ä¹Ÿè¯´æ˜äº†åŒæ­¥æ‰§è¡Œä¸å…·å¤‡åˆ›å»ºæ–°çº¿ç¨‹çš„èƒ½åŠ›ã€‚ åˆ—å­å››ï¼šä¸²è¡Œé˜Ÿåˆ— + å¼‚æ­¥æ‰§è¡Œ1234567891011121314// ä¸²è¡Œé˜Ÿåˆ— + å¼‚æ­¥æ‰§è¡Œ- (void)case4 &#123; dispatch_queue_t serialQueue = dispatch_queue_create(&quot;q2.andyron.com&quot;, DISPATCH_QUEUE_SERIAL); dispatch_async(serialQueue, ^&#123; NSLog(@&quot;1========%@&quot;,[NSThread currentThread]); &#125;); dispatch_async(serialQueue, ^&#123; NSLog(@&quot;2========%@&quot;,[NSThread currentThread]); &#125;); dispatch_async(serialQueue, ^&#123; NSLog(@&quot;3========%@&quot;,[NSThread currentThread]); &#125;); NSLog(@&quot;4========%@&quot;,[NSThread currentThread]);&#125; æ‰“å°ç»“æœï¼š1234GCD(OC)[53970:6604711] 4========&lt;NSThread: 0x60000007c880&gt;&#123;number = 1, name = main&#125;GCD(OC)[53970:6604933] 1========&lt;NSThread: 0x600000460280&gt;&#123;number = 3, name = (null)&#125;GCD(OC)[53970:6604933] 2========&lt;NSThread: 0x600000460280&gt;&#123;number = 3, name = (null)&#125;GCD(OC)[53970:6604933] 3========&lt;NSThread: 0x600000460280&gt;&#123;number = 3, name = (null)&#125; è§£é‡Šï¼šç°åœ¨æ‰“å°äº†4ï¼Œåæ‰“å°äº†1ï¼Œ2ï¼Œ3ï¼Œè¿™æ˜¯ä¸€éƒ¨æ‰§è¡Œçš„ç»“æœï¼Œå¹¶ä¸”4åœ¨ä¸»çº¿ç¨‹ï¼Œå…¶å®ƒåœ¨å­çº¿ç¨‹æ‰“å°ï¼Œè¿™ä¹Ÿè¯´æ˜äº†å¼‚æ­¥æ‰§è¡Œå¯ä»¥åˆ›å»ºæ–°çº¿ç¨‹ã€‚ åˆ—å­äº”ï¼šå¹¶è¡Œé˜Ÿåˆ— + åŒæ­¥æ‰§è¡Œ1234567891011121314151617/// å¹¶è¡Œé˜Ÿåˆ— + åŒæ­¥æ‰§è¡Œ- (void)case5 &#123; dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;q3.andyron.com&quot;, DISPATCH_QUEUE_CONCURRENT); dispatch_sync(concurrentQueue, ^&#123; NSLog(@&quot;1========%@&quot;,[NSThread currentThread]); //[self nslogCount:10000 number:1]; &#125;); dispatch_sync(concurrentQueue, ^&#123; NSLog(@&quot;2========%@&quot;,[NSThread currentThread]); //[self nslogCount:10000 number:2]; &#125;); dispatch_sync(concurrentQueue, ^&#123; NSLog(@&quot;3========%@&quot;,[NSThread currentThread]); //[self nslogCount:10000 number:3]; &#125;); NSLog(@&quot;4========%@&quot;,[NSThread currentThread]);&#125; æ‰“å°ç»“æœï¼š1234GCD(OC)[54401:6646454] 1========&lt;NSThread: 0x600000260e80&gt;&#123;number = 1, name = main&#125;GCD(OC)[54401:6646454] 2========&lt;NSThread: 0x600000260e80&gt;&#123;number = 1, name = main&#125;GCD(OC)[54401:6646454] 3========&lt;NSThread: 0x600000260e80&gt;&#123;number = 1, name = main&#125;GCD(OC)[54401:6646454] 4========&lt;NSThread: 0x600000260e80&gt;&#123;number = 1, name = main&#125; è§£é‡Šï¼šéƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œç”±äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç»“æœçœ‹ä¸Šå»æ˜¯é¡ºåºæ‰§è¡Œã€‚ åˆ—å­å…­ï¼š å¹¶è¡Œé˜Ÿåˆ— + å¼‚æ­¥æ‰§è¡Œ1234567891011121314// å¹¶è¡Œé˜Ÿåˆ— + å¼‚æ­¥æ‰§è¡Œ- (void)case6 &#123; dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;q3.andyron.com&quot;, DISPATCH_QUEUE_CONCURRENT); dispatch_async(concurrentQueue, ^&#123; NSLog(@&quot;1========%@&quot;,[NSThread currentThread]); &#125;); dispatch_async(concurrentQueue, ^&#123; NSLog(@&quot;2========%@&quot;,[NSThread currentThread]); &#125;); dispatch_async(concurrentQueue, ^&#123; NSLog(@&quot;3========%@&quot;,[NSThread currentThread]); &#125;); NSLog(@&quot;4========%@&quot;,[NSThread currentThread]);&#125; æ‰“å°ç»“æœï¼š1234GCD(OC)[54687:6675227] 2========&lt;NSThread: 0x600000466600&gt;&#123;number = 5, name = (null)&#125;GCD(OC)[54687:6675036] 4========&lt;NSThread: 0x604000078d00&gt;&#123;number = 1, name = main&#125;GCD(OC)[54687:6675226] 1========&lt;NSThread: 0x600000463fc0&gt;&#123;number = 4, name = (null)&#125;GCD(OC)[54687:6675229] 3========&lt;NSThread: 0x60400067d400&gt;&#123;number = 6, name = (null)&#125; è§£é‡Šï¼šé™¤äº†æ‰“å°4çš„æ˜¯ä¸»çº¿ï¼Œå…¶ä»–åˆå¼€å¯äº†ä¸‰ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä¸‰ä¸ªä»»åŠ¡ï¼Œå½“å¤©å¼€å¯å‡ ä¸ªçº¿ç¨‹æ˜¯æœ‰CPUè‡ªå·±å†³å®šçš„ï¼Œä»»åŠ¡çš„æ‰§è¡Œæ˜¯éšæœºçš„ã€‚ 4.4 GCD é‡ç‚¹ åªè¦æ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œè‚¯å®šè¦ç­‰ä¸Šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½å¼€å§‹ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ä½†æ˜¯å¹¶è¡Œé˜Ÿåˆ—å½“ä¸Šä¸€ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œåï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡å°±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚ åŒæ­¥+ä¸²è¡Œï¼šæœªå¼€è¾Ÿæ–°çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ï¼›åŒæ­¥+å¹¶è¡Œï¼šæœªå¼€è¾Ÿæ–°çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ï¼›å¼‚æ­¥+ä¸²è¡Œï¼šæ–°å¼€è¾Ÿä¸€æ¡çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ï¼›å¼‚æ­¥+å¹¶è¡Œï¼šå¼€è¾Ÿå¤šæ¡æ–°çº¿ç¨‹ï¼Œå¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼›åœ¨ä¸»çº¿ç¨‹ä¸­åŒæ­¥ä½¿ç”¨ä¸»é˜Ÿåˆ—æ‰§è¡Œä»»åŠ¡ï¼Œä¼šé€ æˆæ­»é”ã€‚ 4.5 GCDå…¶ä»–ç›¸å…³æ–¹æ³• å»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼š void dispatch_after(dispatch_time_t when, dispatch_queue_t queue, dispatch_block_t block);æŒ‡å®šæ—¶é—´åæ‰§è¡ŒæŸä¸ªä»»åŠ¡ï¼Œdispatch_afterå‡½æ•°æŒ‡å®šçš„æ—¶é—´æ˜¯æŒ‡å¤šé•¿åå°†ä»»åŠ¡åŠ åˆ°æŸä¸ªé˜Ÿåˆ—ä¸­ï¼Œè€Œä¸æ˜¯å…·ä½“æ‰§è¡Œæ—¶é—´ï¼Œå…·ä½“æ—¶é—´è¦çœ‹CPUæ‰§è¡Œæ—¶é—´äº†ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸ªå¤§çº¦å»¶è¿Ÿæ—¶é—´ã€‚ 123456- (void)after &#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; // 2.0ç§’åå¼‚æ­¥è¿½åŠ ä»»åŠ¡ä»£ç åˆ°ä¸»é˜Ÿåˆ—ï¼Œå¹¶å¼€å§‹æ‰§è¡Œ NSLog(@&quot;after---%@&quot;,[NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125;);&#125; dispatch_onceï¼šåœ¨ç”Ÿå‘½å‘¨æœŸå†…åªæ‰§è¡Œä¸€æ¬¡ã€‚ 123456- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; NSLog(@&quot;å°±ä¸€æ¬¡%@&quot;,[NSThread currentThread]); &#125;);&#125; ä¸ç®¡ç‚¹å‡»å¤šå°‘æ¬¡åªæœ‰ä¸€æ¬¡è¾“å‡ºã€‚ GCDçš„å†…å®¹å¾ˆä¸°å¯Œï¼Œè¿˜æœ‰å¾ˆå¤šå‡½æ•°ï¼Œ2016å’Œ2017çš„WWDCéƒ½æœ‰ä¸“é—¨è®²åˆ°GCDï¼Œæƒ³æ›´è¿‘ä¸€æ­¥å¯ä»¥å‚è€ƒï¼šModernizing Grand Central Dispatch Usageï¼ŒConcurrent Programming With GCD in Swift 3ã€‚ 5 NSOperation å’Œ NSOperationQueue5.1 æ¦‚å¿µ NSOperation(æ“ä½œ) å’Œ NSOperationQueueï¼ˆæ“ä½œé˜Ÿåˆ—ï¼‰ æ˜¯è‹¹æœå¯¹GCDçš„å°è£… NSOperation å’Œ NSOperationQueue åˆ†åˆ«ç›¸å½“äº GCD çš„ ä»»åŠ¡ å’Œ é˜Ÿåˆ— NSOperation åªæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œä½¿ç”¨å…¶ 2 ä¸ªå­ç±»ï¼šNSInvocationOperation å’Œ NSBlockOperation ã€‚ NSOperationçš„ä½¿ç”¨é™¤äº†å…¶ç°æœ‰çš„å­ç±»ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å­ç±»ã€‚ æ“ä½œé˜Ÿåˆ—é€šè¿‡è®¾ç½®æœ€å¤§å¹¶å‘æ“ä½œæ•°ï¼ˆmaxConcurrentOperationCountï¼‰æ¥æ§åˆ¶å¹¶å‘ã€ä¸²è¡Œã€‚ NSOperationQueue ä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ç§ä¸åŒç±»å‹çš„é˜Ÿåˆ—ï¼šä¸»é˜Ÿåˆ—å’Œè‡ªå®šä¹‰é˜Ÿåˆ—ã€‚ä¸»é˜Ÿåˆ—è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¹‹ä¸Šï¼Œè€Œè‡ªå®šä¹‰é˜Ÿåˆ—åœ¨åå°æ‰§è¡Œã€‚ NSOperation éœ€è¦é…åˆ NSOperationQueue æ¥ä½¿ç”¨ã€‚å¦åˆ™ï¼ŒNSOperation å•ç‹¬ä½¿ç”¨æ—¶ç³»ç»Ÿé»˜è®¤åŒæ­¥æ‰§è¡Œæ“ä½œï¼Œé…åˆ NSOperationQueue æˆ‘ä»¬èƒ½æ›´å¥½çš„å®ç°å¼‚æ­¥æ‰§è¡Œã€‚ 5. 2 NSOperation å®ç°å¤šçº¿ç¨‹çš„æ­¥éª¤ åˆ›å»ºæ“ä½œï¼šå…ˆå°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå°è£…åˆ°ä¸€ä¸ª NSOperation å¯¹è±¡ä¸­ã€‚ åˆ›å»ºé˜Ÿåˆ—ï¼šåˆ›å»º NSOperationQueue å¯¹è±¡ã€‚ å°†æ“ä½œåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼šå°† NSOperation å¯¹è±¡æ·»åŠ åˆ°NSOperationQueue å¯¹è±¡ä¸­ã€‚ ä¹‹åï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨å°† NSOperationQueue ä¸­çš„ NSOperation å–å‡ºæ¥ï¼Œåœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œæ“ä½œã€‚ 5.3 ä½¿ç”¨NSOperationçš„å­ç±»NSInvocationOperation12NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(run) object:nil];[operation start]; åœ¨æ²¡æœ‰ä½¿ç”¨NSOperationQueueæ—¶ï¼ŒNSInvocationOperationä¼šåœ¨å½“å‰çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹æˆ–å…¶ä»–çº¿ç¨‹ï¼‰å†…è¿è¡Œã€‚ 5.4 ä½¿ç”¨NSOperationçš„å­ç±»NSBlockOperation1234NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^&#123; NSLog(@&quot;%@&quot;, [NSThread currentThread]); &#125;];[operation start]; ç»“æœï¼š 12NSOperation(OC)[97406:5880178] 1---&lt;NSThread: 0x60400006e700&gt;&#123;number = 1, name = main&#125;NSOperation(OC)[97406:5880178] 1---&lt;NSThread: 0x60400006e700&gt;&#123;number = 1, name = main&#125; åœ¨æ²¡æœ‰ä½¿ç”¨NSOperationQueueæ—¶ï¼ŒNSBlockOperationä¹Ÿä¼šåœ¨å½“å‰çº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹æˆ–å…¶ä»–çº¿ç¨‹ï¼‰å†…è¿è¡Œã€‚ å¦å¤–ï¼ŒNSBlockOperationè¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³• addExecutionBlock:ï¼Œç”¨æ¥æ·»åŠ é¢å¤–çš„æ“ä½œï¼š 1234567891011121314151617181920212223242526272829// 1.åˆ›å»º NSBlockOperation å¯¹è±¡NSBlockOperation *op = [NSBlockOperation blockOperationWithBlock:^&#123; NSLog(@&quot;1---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹&#125;];// 2.æ·»åŠ é¢å¤–çš„æ“ä½œ[op addExecutionBlock:^&#123; [NSThread sleepForTimeInterval:1]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;2---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125;];[op addExecutionBlock:^&#123; [NSThread sleepForTimeInterval:1]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;3---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125;];[op addExecutionBlock:^&#123; [NSThread sleepForTimeInterval:1]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;4---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125;];[op addExecutionBlock:^&#123; [NSThread sleepForTimeInterval:1]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;5---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125;];// 3.è°ƒç”¨ start æ–¹æ³•å¼€å§‹æ‰§è¡Œæ“ä½œ[op start]; æŸä¸€æ¬¡çš„è¿è¡Œç»“æœï¼š 12345NSOperation(OC)[97709:5888750] 1---&lt;NSThread: 0x600000469740&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[97709:5888750] 5---&lt;NSThread: 0x600000469740&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[97709:5888748] 3---&lt;NSThread: 0x600000469e40&gt;&#123;number = 4, name = (null)&#125;NSOperation(OC)[97709:5888498] 4---&lt;NSThread: 0x60400007a600&gt;&#123;number = 1, name = main&#125;NSOperation(OC)[97709:5888758] 2---&lt;NSThread: 0x604000463480&gt;&#123;number = 5, name = (null)&#125; addExecutionBlock:æ·»åŠ çš„æ“ä½œå’Œä¹‹å‰blockOperationWithBlockæ·»åŠ çš„æ“ä½œæ˜¯å¦åœ¨ä¸»çº¿ç¨‹æˆ–è€…æ˜¯å¦å¼€å¤šçº¿ç¨‹ï¼Œæ˜¯ç”±ç³»ç»Ÿå†³å®šï¼Œå®ƒä»¬çš„åœ°ä½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡æ‰§è¡Œçš„ç»“æœå¯èƒ½ä¸åŒã€‚ 5.5 NSOperationçš„è‡ªå®šä¹‰å­ç±»é™¤äº†ä¸Šé¢ä¸¤ä¸ªå­ç±»å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡é‡å†™mainæ–¹æ³•æ¥è‡ªå®šä¹‰å­ç±»ã€‚12345678910111213#import &quot;AROperation.h&quot;@implementation AROperation- (void)main &#123; if (!self.isCancelled) &#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; NSLog(@&quot;è‡ªå®šä¹‰Operation---%@&quot;, [NSThread currentThread]); &#125; &#125;&#125;@end ä½¿ç”¨ï¼š12AROperation *op = [[AROperation alloc] init];[op start]; 5.6 NSOperationQueueä¸Šé¢å‡ ç§æƒ…å†µéƒ½æ˜¯æ²¡æœ‰æ“ä½œé˜Ÿåˆ—ï¼Œä¸€èˆ¬åªåœ¨ä¸»çº¿ç¨‹è¿è¡Œã€‚è€Œä½¿ç”¨æ“ä½œé˜Ÿåˆ—å°±å¯ä»¥å®ç°å¤šçº¿ç¨‹äº†ã€‚æ“ä½œé˜Ÿåˆ—åˆ†ä¸¤ç§ï¼š ä¸»é˜Ÿåˆ— : å‡¡æ˜¯æ·»åŠ åˆ°ä¸»é˜Ÿåˆ—ä¸­çš„æ“ä½œï¼Œéƒ½ä¼šæ”¾åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ è‡ªå®šä¹‰é˜Ÿåˆ—: æ“ä½œè‡ªåŠ¨æ”¾åˆ°å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼ŒåŒæ—¶åŒ…å«äº†ï¼šä¸²è¡Œã€å¹¶å‘åŠŸèƒ½ã€‚ 5.6.1 åˆ›å»ºé˜Ÿåˆ—12345// ä¸»é˜Ÿåˆ—è·å–æ–¹æ³•NSOperationQueue *queue = [NSOperationQueue mainQueue];// è‡ªå®šä¹‰é˜Ÿåˆ—åˆ›å»ºæ–¹æ³•NSOperationQueue *queue = [[NSOperationQueue alloc] init]; 5.6.2 æ·»åŠ æ“ä½œåˆ°é˜Ÿåˆ—ä¸­ä¸¤ç§ä¸åŒçš„æ·»åŠ æ–¹æ³•ï¼š - (void)addOperation:(NSOperation *)op;1234567891011121314151617181920212223242526272829303132333435- (void)addOperationToQueue &#123; // 1.åˆ›å»ºé˜Ÿåˆ— NSOperationQueue *queue = [[NSOperationQueue alloc] init]; // 2.åˆ›å»ºæ“ä½œ // ä½¿ç”¨ NSInvocationOperation åˆ›å»ºæ“ä½œ1 NSInvocationOperation *op1 = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(task1) object:nil]; // ä½¿ç”¨ NSInvocationOperation åˆ›å»ºæ“ä½œ2 NSInvocationOperation *op2 = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(task2) object:nil]; // ä½¿ç”¨ NSBlockOperation åˆ›å»ºæ“ä½œ3 NSBlockOperation *op3 = [NSBlockOperation blockOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;3---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [op3 addExecutionBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;4---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; // 3.ä½¿ç”¨ addOperation: æ·»åŠ æ‰€æœ‰æ“ä½œåˆ°é˜Ÿåˆ—ä¸­ [queue addOperation:op1]; // [op1 start] [queue addOperation:op2]; // [op2 start] [queue addOperation:op3]; // [op3 start]&#125;- (void) task1 &#123; NSLog(@&quot;1---%@&quot;, [NSThread currentThread]);&#125;- (void) task2 &#123; NSLog(@&quot;2---%@&quot;, [NSThread currentThread]);&#125; æŸä¸€æ¬¡çš„è¿è¡Œç»“æœï¼š123456NSOperation(OC)[7557:6218702] 2---&lt;NSThread: 0x60400027f900&gt;&#123;number = 4, name = (null)&#125;NSOperation(OC)[7557:6218699] 1---&lt;NSThread: 0x600000461a00&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[7557:6218701] 4---&lt;NSThread: 0x6040004606c0&gt;&#123;number = 5, name = (null)&#125;NSOperation(OC)[7557:6218700] 3---&lt;NSThread: 0x604000460d40&gt;&#123;number = 6, name = (null)&#125;NSOperation(OC)[7557:6218700] 3---&lt;NSThread: 0x604000460d40&gt;&#123;number = 6, name = (null)&#125;NSOperation(OC)[7557:6218701] 4---&lt;NSThread: 0x6040004606c0&gt;&#123;number = 5, name = (null)&#125; å¹¶å‘è¿è¡Œï¼Œæ‰§è¡Œæ¬¡åºä¸ç¡®å®šã€‚ - (void)addOperationWithBlock:(void (^)(void))block; ä¸éœ€è¦å…ˆåˆ›å»ºæ“ä½œï¼Œç›´æ¥æ·»åŠ block123456789101112131415161718192021222324- (void)addOperationWithBlockToQueue &#123; // 1.åˆ›å»ºé˜Ÿåˆ— NSOperationQueue *queue = [[NSOperationQueue alloc] init]; // 2.ä½¿ç”¨ addOperationWithBlock: æ·»åŠ æ“ä½œåˆ°é˜Ÿåˆ—ä¸­ [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;1---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;2---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;3---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;];&#125; æŸä¸€æ¬¡çš„è¿è¡Œç»“æœï¼š123456NSOperation(OC)[7772:6229770] 2---&lt;NSThread: 0x600000277640&gt;&#123;number = 5, name = (null)&#125;NSOperation(OC)[7772:6229772] 1---&lt;NSThread: 0x60400026bfc0&gt;&#123;number = 4, name = (null)&#125;NSOperation(OC)[7772:6229780] 3---&lt;NSThread: 0x6040002686c0&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[7772:6229770] 2---&lt;NSThread: 0x600000277640&gt;&#123;number = 5, name = (null)&#125;NSOperation(OC)[7772:6229780] 3---&lt;NSThread: 0x6040002686c0&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[7772:6229772] 1---&lt;NSThread: 0x60400026bfc0&gt;&#123;number = 4, name = (null)&#125; 5.6.3 maxConcurrentOperationCountNSOperationQueue æä¾›ä¸€ä¸ªmaxConcurrentOperationCountï¼ˆæœ€å¤§å¹¶å‘æ“ä½œæ•°ï¼‰å±æ€§æ¥æ§åˆ¶ä¸²è¡Œè¿˜æ˜¯å¹¶å‘ã€‚maxConcurrentOperationCount æ§åˆ¶çš„ä¸æ˜¯å¹¶å‘çº¿ç¨‹çš„æ•°é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ä¸­åŒæ—¶èƒ½å¹¶å‘æ‰§è¡Œçš„æœ€å¤§æ“ä½œæ•°ã€‚è€Œä¸”ä¸€ä¸ªæ“ä½œä¹Ÿå¹¶éåªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œã€‚maxConcurrentOperationCounté»˜è®¤æƒ…å†µä¸‹ä¸º-1ï¼Œè¡¨ç¤ºä¸è¿›è¡Œé™åˆ¶ã€‚ 1234567891011121314151617181920212223242526272829303132333435- (void)setMaxConcurrentOperationCount &#123; // 1.åˆ›å»ºé˜Ÿåˆ— NSOperationQueue *queue = [[NSOperationQueue alloc] init]; // 2.è®¾ç½®æœ€å¤§å¹¶å‘æ“ä½œæ•° queue.maxConcurrentOperationCount = 1; // ä¸²è¡Œé˜Ÿåˆ— // queue.maxConcurrentOperationCount = 2; // å¹¶å‘é˜Ÿåˆ— // queue.maxConcurrentOperationCount = 8; // å¹¶å‘é˜Ÿåˆ— // 3.æ·»åŠ æ“ä½œ [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;1---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;2---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;3---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; [queue addOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;4---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;];&#125; å½“æœ€å¤§å¹¶å‘æ“ä½œæ•°ä¸º1æ—¶ï¼Œä¹Ÿå°±æ˜¯ä¸²è¡Œæ‰§è¡Œæ—¶ï¼Œæ§åˆ¶å°ä¸­è¿”å›çš„ç»“æœé¡ºåºæ˜¯å›ºå®šçš„ã€‚è€Œå¤§äº1æ—¶ï¼Œä¹Ÿå°±æ˜¯å¹¶å‘æ‰§è¡Œï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œçš„é¡ºåºå°±å¯èƒ½ä¸åŒï¼ˆæ§åˆ¶å°ä¸­è¿”å›çš„é¢ç»“æœé¡ºåºå¯èƒ½ä¸åŒï¼‰ã€‚å½“ç„¶å¼€å¯çš„çº¿ç¨‹æ•°é‡æ˜¯æœ‰ç³»ç»Ÿå†³å®šçš„ã€‚ 5.7 NSOperationä¹‹é—´çš„ä¾èµ–å¹¶è¡Œæ—¶ï¼Œå„ä¸ªçš„æ“ä½œçš„æ‰§è¡Œé¡ºåºæ˜¯æœ‰ç³»ç»Ÿå†³å®šï¼Œç¨‹åºå‘˜ä¸èƒ½ç›´æ¥æ§åˆ¶ã€‚ä½†æ˜¯NSOperationæé«˜äº†ä¾èµ–ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç›¸å…³æ–¹æ³•å’Œå±æ€§ï¼š - (void)addDependency:(NSOperation *)op; æ·»åŠ ä¾èµ–ï¼Œä½¿å½“å‰æ“ä½œä¾èµ–äºæ“ä½œ op çš„å®Œæˆã€‚ - (void)removeDependency:(NSOperation *)op; ç§»é™¤ä¾èµ–ï¼Œå–æ¶ˆå½“å‰æ“ä½œå¯¹æ“ä½œ op çš„ä¾èµ–ã€‚ @property (readonly, copy) NSArray&lt;NSOperation *&gt; *dependencies; åœ¨å½“å‰æ“ä½œå¼€å§‹æ‰§è¡Œä¹‹å‰å®Œæˆæ‰§è¡Œçš„æ‰€æœ‰æ“ä½œå¯¹è±¡æ•°ç»„ã€‚ 1234567891011121314151617181920212223- (void)addDependency &#123; // 1.åˆ›å»ºé˜Ÿåˆ— NSOperationQueue *queue = [[NSOperationQueue alloc] init]; // 2.åˆ›å»ºæ“ä½œ NSBlockOperation *op1 = [NSBlockOperation blockOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;1---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; NSBlockOperation *op2 = [NSBlockOperation blockOperationWithBlock:^&#123; for (int i = 0; i &lt; 2; i++) &#123; [NSThread sleepForTimeInterval:2]; // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ NSLog(@&quot;2---%@&quot;, [NSThread currentThread]); // æ‰“å°å½“å‰çº¿ç¨‹ &#125; &#125;]; // 3.æ·»åŠ ä¾èµ– [op2 addDependency:op1]; // è®©op2 ä¾èµ–äº op1ï¼Œåˆ™å…ˆæ‰§è¡Œop1ï¼Œå†æ‰§è¡Œop2 // 4.æ·»åŠ æ“ä½œåˆ°é˜Ÿåˆ—ä¸­ [queue addOperation:op1]; [queue addOperation:op2];&#125; è¿è¡Œç»“æœæ˜¯å›ºå®šçš„ï¼š1234NSOperation(OC)[8977:6302811] 1---&lt;NSThread: 0x604000277f80&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[8977:6302811] 1---&lt;NSThread: 0x604000277f80&gt;&#123;number = 3, name = (null)&#125;NSOperation(OC)[8977:6302810] 2---&lt;NSThread: 0x604000274240&gt;&#123;number = 4, name = (null)&#125;NSOperation(OC)[8977:6302810] 2---&lt;NSThread: 0x604000274240&gt;&#123;number = 4, name = (null)&#125; æ³¨æ„ï¼šä¸èƒ½æ·»åŠ ç›¸äº’ä¾èµ–ï¼Œä¼šæ­»é”ï¼Œæ¯”å¦‚ Aä¾èµ–Bï¼ŒBä¾èµ–Aã€‚å¯ä»¥ä½¿ç”¨ removeDependency æ¥è§£é™¤ä¾èµ–å…³ç³»ã€‚å¯ä»¥åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¹‹é—´ä¾èµ–ï¼Œåæ­£å°±æ˜¯è¿™ä¸ªä¾èµ–æ˜¯æ·»åŠ åˆ°ä»»åŠ¡èº«ä¸Šçš„ï¼Œå’Œé˜Ÿåˆ—æ²¡å…³ç³»ã€‚ 5.8 NSOperation å¸¸ç”¨å±æ€§å’Œæ–¹æ³• å–æ¶ˆæ“ä½œæ–¹æ³•- (void)cancel; å®è´¨æ˜¯æ ‡è®° isCancelled çŠ¶æ€ã€‚ åˆ¤æ–­æ“ä½œçŠ¶æ€æ–¹æ³• - (BOOL)isFinished; åˆ¤æ–­æ“ä½œæ˜¯å¦å·²ç»ç»“æŸã€‚ - (BOOL)isCancelled; åˆ¤æ–­æ“ä½œæ˜¯å¦å·²ç»æ ‡è®°ä¸ºå–æ¶ˆã€‚ - (BOOL)isExecuting; åˆ¤æ–­æ“ä½œæ˜¯å¦æ­£åœ¨åœ¨è¿è¡Œã€‚ - (BOOL)isReady; åˆ¤æ–­æ“ä½œæ˜¯å¦å¤„äºå‡†å¤‡å°±ç»ªçŠ¶æ€ï¼Œè¿™ä¸ªå€¼å’Œæ“ä½œçš„ä¾èµ–å…³ç³»ç›¸å…³ã€‚ æ“ä½œåŒæ­¥ - (void)waitUntilFinished; é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°è¯¥æ“ä½œç»“æŸã€‚å¯ç”¨äºçº¿ç¨‹æ‰§è¡Œé¡ºåºçš„åŒæ­¥ã€‚ - (void)setCompletionBlock:(void (^)(void))block; completionBlock ä¼šåœ¨å½“å‰æ“ä½œæ‰§è¡Œå®Œæ¯•æ—¶æ‰§è¡Œ completionBlockã€‚ - (void)addDependency:(NSOperation *)op; æ·»åŠ ä¾èµ–ï¼Œä½¿å½“å‰æ“ä½œä¾èµ–äºæ“ä½œ op çš„å®Œæˆã€‚ - (void)removeDependency:(NSOperation *)op; ç§»é™¤ä¾èµ–ï¼Œå–æ¶ˆå½“å‰æ“ä½œå¯¹æ“ä½œ op çš„ä¾èµ–ã€‚ @property (readonly, copy) NSArray&lt;NSOperation *&gt; *dependencies; åœ¨å½“å‰æ“ä½œå¼€å§‹æ‰§è¡Œä¹‹å‰å®Œæˆæ‰§è¡Œçš„æ‰€æœ‰æ“ä½œå¯¹è±¡æ•°ç»„ã€‚ 5.9 NSOperationQueue å¸¸ç”¨å±æ€§å’Œæ–¹æ³• å–æ¶ˆ/æš‚åœ/æ¢å¤æ“ä½œ - (void)cancelAllOperations; å¯ä»¥å–æ¶ˆé˜Ÿåˆ—çš„æ‰€æœ‰æ“ä½œã€‚ - (BOOL)isSuspended; åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å¤„äºæš‚åœçŠ¶æ€ã€‚ YES ä¸ºæš‚åœçŠ¶æ€ï¼ŒNO ä¸ºæ¢å¤çŠ¶æ€ã€‚ - (void)setSuspended:(BOOL)b; å¯è®¾ç½®æ“ä½œçš„æš‚åœå’Œæ¢å¤ï¼ŒYES ä»£è¡¨æš‚åœé˜Ÿåˆ—ï¼ŒNO ä»£è¡¨æ¢å¤é˜Ÿåˆ—ã€‚ æ“ä½œåŒæ­¥ - (void)waitUntilAllOperationsAreFinished; é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­çš„æ“ä½œå…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚ æ·»åŠ /è·å–æ“ä½œ - (void)addOperationWithBlock:(void (^)(void))block; å‘é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ª NSBlockOperation ç±»å‹æ“ä½œå¯¹è±¡ã€‚ - (void)addOperations:(NSArray *)ops waitUntilFinished:(BOOL)wait; å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ“ä½œæ•°ç»„ï¼Œwait æ ‡å¿—æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ°æ‰€æœ‰æ“ä½œç»“æŸ - (NSArray *)operations; å½“å‰åœ¨é˜Ÿåˆ—ä¸­çš„æ“ä½œæ•°ç»„ï¼ˆæŸä¸ªæ“ä½œæ‰§è¡Œç»“æŸåä¼šè‡ªåŠ¨ä»è¿™ä¸ªæ•°ç»„æ¸…é™¤ï¼‰ã€‚ - (NSUInteger)operationCount; å½“å‰é˜Ÿåˆ—ä¸­çš„æ“ä½œæ•°ã€‚ è·å–é˜Ÿåˆ— + (id)currentQueue; è·å–å½“å‰é˜Ÿåˆ—ï¼Œå¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯åœ¨ NSOperationQueue ä¸Šè¿è¡Œåˆ™è¿”å› nilã€‚ + (id)mainQueue; è·å–ä¸»é˜Ÿåˆ—ã€‚ 6 åè®°è™½ç„¶æ€»ç»“äº†å¾ˆå¤šï¼Œä½†è¿˜æœ‰å¾ˆå¤šå†…å®¹æ²¡æœ‰æ¶‰åŠå’Œæ·±å…¥ã€‚ç”±äºä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œæ—¶é—´ç´§å‡‘ï¼ˆå®é™…æˆ‘å·²ç»èŠ±äº†å¾ˆå¤šæ—¶é—´ğŸ˜’ğŸ¤¦â€â™€ï¸ğŸ¤¦â€â™€ï¸ï¼‰ï¼Œæ–‡ä¸­éš¾å…æœ‰é”™è¯¯ï¼Œå¸Œæœ›å°ä¼™ä¼´æ‰¹è¯„æŒ‡æ­£ã€‚ ç¤ºä¾‹ä»£ç ï¼šandyRon/iOS-Multithreading å‚è€ƒï¼šå…³äºiOSå¤šçº¿ç¨‹ï¼Œæˆ‘è¯´ï¼Œä½ å¬ï¼Œæ²¡å‡†ä½ å°±æ‡‚äº†ï¼è°ˆiOSå¤šçº¿ç¨‹(NSThreadã€NSOperationã€GCD)ç¼–ç¨‹iOSå¤šçº¿ç¨‹ï¼šã€GCDã€è¯¦å°½æ€»ç»“iOSå¤šçº¿ç¨‹ï¼šã€pthreadã€NSThreadã€è¯¦å°½æ€»ç»“iOSå¤šçº¿ç¨‹ï¼šã€NSOperationã€NSOperationQueueã€è¯¦å°½æ€»ç»“å…³äºiOSå¤šçº¿ç¨‹ï¼Œä½ çœ‹æˆ‘å°±å¤Ÿäº†Grand Central Dispatch (GCD) and Dispatch Queues in Swift 3WWDC-2017-Modernizing Grand Central Dispatch Usage]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Multithreading</tag>
        <tag>GCD</tag>
        <tag>NSThread</tag>
        <tag>NSOperation</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OCä¸­çš„é”®/å€¼ç¼–ç (KVC)]]></title>
    <url>%2F2018%2Fios-oc-kvc-begin.html</url>
    <content type="text"><![CDATA[1. KVC çš„å®šä¹‰é”®/å€¼ç¼–ç (Key-value codingï¼ŒKVC) å¯ä»¥å…è®¸å¼€å‘è€…é€šè¿‡Keyåè®¿é—®å¯¹è±¡çš„å±æ€§æˆ–ç»™å¯¹è±¡çš„å±æ€§èµ‹å€¼, è€Œä¸éœ€è¦è°ƒç”¨æ˜ç¡®çš„å­˜å–æ–¹æ³•ï¼Œå¹¶æœ‰ä¸€ç»„apiä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œåƒæ“ä½œå­—å…¸ä¸€æ ·æ“ä½œå¯¹è±¡å±æ€§/æˆå‘˜å˜é‡/å…³è”å¯¹è±¡ã€‚è¿™æ ·å°±å¯ä»¥åœ¨ è¿è¡Œæ—¶åŠ¨æ€åœ°è®¿é—®å’Œä¿®æ”¹ å¯¹è±¡çš„å±æ€§ã€‚è€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚è¿™ç§æœºåˆ¶ä¸å±äºObjective-Cè¯­è¨€çš„ç‰¹æ€§ï¼Œè€Œæ˜¯Cocoaæä¾›çš„ä¸€ç§ç‰¹æ€§ã€‚ é€šè¿‡å®šä¹‰ä¸€ä¸ªNSObjectçš„ç±»åˆ«NSKeyValueCodingæ¥å®ç°KVCåŠŸèƒ½ã€‚å› æ­¤æ‰€æœ‰ç»§æ‰¿äº†NSObjectçš„ç±»éƒ½æ”¯æŒKVCã€‚NSKeyValueCodingçš„å››ä¸ªé‡è¦æ–¹æ³•ï¼š1234- (nullable id)valueForKey:(NSString *)key; //ç›´æ¥é€šè¿‡Keyæ¥å–å€¼- (void)setValue:(nullable id)value forKey:(NSString *)key; //é€šè¿‡Keyæ¥è®¾å€¼- (nullable id)valueForKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPathæ¥å–å€¼- (void)setValue:(nullable id)value forKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPathæ¥è®¾å€¼ NSKeyValueCodingè¿˜æœ‰å…¶å®ƒè®¸å¤šæ–¹æ³•ï¼Œæˆ‘åˆ—ä¸¾ä¸€äº›ï¼Œè¯¦ç»†å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ NSKeyValueCodingï¼š1234567891011121314151617181920+ (BOOL)accessInstanceVariablesDirectly;//é»˜è®¤è¿”å›YESï¼Œè¡¨ç¤ºå¦‚æœæ²¡æœ‰æ‰¾åˆ°set&lt;Key&gt;æ–¹æ³•çš„è¯ï¼Œä¼šæŒ‰ç…§_&lt;key&gt;ï¼Œ_isKeyï¼Œkeyï¼ŒisKeyçš„é¡ºåºæœç´¢æˆå‘˜ï¼Œè®¾ç½®æˆNOå°±ä¸è¿™æ ·æœç´¢- (BOOL)validateValue:(inout id __nullable * __nonnull)ioValue forKey:(NSString *)inKey error:(out NSError **)outError;//KVCæä¾›å±æ€§å€¼æ­£ç¡®æ€§éªŒè¯çš„APIï¼Œå®ƒå¯ä»¥ç”¨æ¥æ£€æŸ¥setçš„å€¼æ˜¯å¦æ­£ç¡®ã€ä¸ºä¸æ­£ç¡®çš„å€¼åšä¸€ä¸ªæ›¿æ¢å€¼æˆ–è€…æ‹’ç»è®¾ç½®æ–°å€¼å¹¶è¿”å›é”™è¯¯åŸå› ã€‚- (NSMutableArray *)mutableArrayValueForKey:(NSString *)key;//è¿™æ˜¯é›†åˆæ“ä½œçš„APIï¼Œé‡Œé¢è¿˜æœ‰ä¸€ç³»åˆ—è¿™æ ·çš„APIï¼Œå¦‚æœå±æ€§æ˜¯ä¸€ä¸ªNSMutableArrayï¼Œé‚£ä¹ˆå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥è¿”å›ã€‚- (nullable id)valueForUndefinedKey:(NSString *)key;//åœ¨å–å€¼æ—¶ï¼Œå¦‚æœKeyä¸å­˜åœ¨ï¼Œä¸”KVCæ— æ³•æœç´¢åˆ°ä»»ä½•å’ŒKeyæœ‰å…³çš„å­—æ®µæˆ–è€…å±æ€§(æˆ–è€…+ (BOOL)accessInstanceVariablesDirectly;æ–¹æ³•è¿”å›NOæ—¶)ï¼Œåˆ™ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé»˜è®¤æ˜¯æŠ›å‡º NSUndefinedKeyExceptionå¼‚å¸¸ã€‚- (void)setValue:(nullable id)value forUndefinedKey:(NSString *)key;//å’Œä¸Šä¸€ä¸ªæ–¹æ³•ç›¸å¯¹åº”ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥è®¾å€¼ã€‚- (void)setNilValueForKey:(NSString *)key;//å¦‚æœä½ åœ¨SetValueæ–¹æ³•æ—¶é¢ç»™Valueä¼ nilï¼Œåˆ™ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•- (NSDictionary&lt;NSString *, id&gt; *)dictionaryWithValuesForKeys:(NSArray&lt;NSString *&gt; *)keys;//è¾“å…¥ä¸€ç»„key,è¿”å›è¯¥ç»„keyå¯¹åº”çš„Valueï¼Œå†è½¬æˆå­—å…¸è¿”å›ï¼Œç”¨äºå°†Modelè½¬åˆ°å­—å…¸ã€‚ 2 KVCæ˜¯å¦‚ä½•å¯»æ‰¾Key2.1 è®¾ç½®å€¼å½“è°ƒç”¨setValue:forKey:æ–¹æ³•æ¥è®¾ç½®å±æ€§å€¼æ—¶ï¼Œæ‰§è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š å…ˆè°ƒç”¨setteræ–¹æ³•set&lt;Key&gt;ï¼šå±æ€§å€¼ å¦‚æœæ²¡æœ‰æ‰¾åˆ°setteræ–¹æ³•ï¼ŒKVCå°±ä¼šæ£€æµ‹+ (BOOL)accessInstanceVariablesDirectlyçš„è¿”å›å€¼ï¼Œæ˜¯é»˜è®¤å€¼YES,å°±æŒ‰ç…§_&lt;key&gt;ï¼Œ_isKeyï¼Œkeyï¼ŒisKeyçš„é¡ºåºä¸€ä¸€æŸ¥æ‰¾ã€‚åªè¦å­˜åœ¨_&lt;key&gt;ï¼Œæ— è®ºè¯¥å˜é‡æ˜¯åœ¨ç±»æ¥å£å¤„å®šä¹‰ï¼Œè¿˜æ˜¯åœ¨ç±»å®ç°å¤„å®šä¹‰ï¼Œä¹Ÿä¸ç®¡æ˜¯ä»€ä¹ˆè®¿é—®ä¿®é¥°ç¬¦ï¼ŒKVCéƒ½å¯ä»¥å¯¹å…¶è®¿é—®ã€‚ å¦‚æœæ²¡æœ‰setteræ–¹æ³•ï¼Œä¹Ÿæ²¡æ‰¾åˆ°_&lt;key&gt;ï¼Œ_isKeyï¼Œkeyï¼ŒisKeyä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ŒKVCå°±ä¼šæ‰§è¡Œæ–¹æ³•- (void)setValue:(nullable id)value forUndefinedKey:(NSString *)key;ï¼Œé»˜è®¤æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚ ä»£ç ç¤ºä¾‹ï¼ˆandyRon/KVCDemo1ï¼‰ï¼š1234567891011121314151617181920212223242526272829303132@interface Dog : NSObject@end@implementation Dog&#123; NSString* toSetName; NSString* isName; NSString* name; NSString* _name; NSString* _isName;&#125;+(BOOL)accessInstanceVariablesDirectly&#123; return NO;&#125;-(id)valueForUndefinedKey:(NSString *)key&#123; NSLog(@&quot;å–å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼š%@çš„å˜é‡ä¸å­˜åœ¨&quot;,key); return nil;&#125;-(void)setValue:(id)value forUndefinedKey:(NSString *)key&#123; NSLog(@&quot;è®¾ç½®å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼š%@çš„å˜é‡ä¸å­˜åœ¨&quot;,key);&#125;@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; // insert code here... Dog* dog = [Dog new]; [dog setValue:@&quot;newNameValue&quot; forKey:@&quot;name&quot;]; NSString* toSetName = [dog valueForKey:@&quot;toSetName&quot;]; NSLog(@&quot;%@&quot;,toSetName); &#125; return 0;&#125; æ‰“å°ç»“æœï¼š123KVCDemo1[5107:12399654] è®¾ç½®å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼šnameçš„å˜é‡ä¸å­˜åœ¨KVCDemo1[5107:12399654] å–å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼štoSetNameçš„å˜é‡ä¸å­˜åœ¨KVCDemo1[5107:12399654] (null) é‡å†™+(BOOL)accessInstanceVariablesDirectlyæ–¹æ³•è®©å…¶è¿”å›NOå,KVCæœºåˆ¶å°±ä¸ä¼šå®ç°ï¼Œå°±ç›´æ¥è°ƒç”¨- (nullable id)valueForUndefinedKey:(NSString *)key;æˆ–- (void)setValue:(nullable id)value forUndefinedKey:(NSString *)key; ç¨å¾®ä¿®æ”¹ä»¥ä¸‹ä»£ç ï¼Œçœ‹ç¤ºä¾‹ï¼ˆandyRon/KVCDemo2ï¼‰ï¼š123456789101112131415161718192021222324252627282930313233343536@interface Dog : NSObject@end@implementation Dog&#123; NSString* toSetName; NSString* isName; NSString* _name; NSString* _isName;&#125; -(void)setName:(NSString*)name&#123; toSetName = name; &#125;-(NSString*)getName&#123; return toSetName;&#125;+(BOOL)accessInstanceVariablesDirectly&#123; return NO;&#125;-(id)valueForUndefinedKey:(NSString *)key&#123; NSLog(@&quot;å–å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼š%@çš„å˜é‡ä¸å­˜åœ¨&quot;,key); return nil;&#125;-(void)setValue:(id)value forUndefinedKey:(NSString *)key&#123; NSLog(@&quot;è®¾ç½®å€¼å‡ºç°å¼‚å¸¸ï¼Œkeyä¸ºï¼š%@çš„å˜é‡ä¸å­˜åœ¨&quot;,key);&#125;@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; Dog* dog = [Dog new]; [dog setValue:@&quot;newNameValue&quot; forKey:@&quot;name&quot;]; NSString* name = [dog valueForKey:@&quot;name&quot;]; NSLog(@&quot;%@&quot;,name); &#125; return 0;&#125; æ‰“å°ç»“æœï¼š1KVCDemo2[5323:12426199] newNameValue è™½ç„¶+(BOOL)accessInstanceVariablesDirectlyæ–¹æ³•ç»“æœè¿˜æ˜¯NOï¼Œä½†å› ä¸ºæœ‰äº†setterå’Œgetteræ–¹æ³•å°±ä¸ä¼šå‡ºç°å¼‚å¸¸äº†ã€‚å½“+(BOOL)accessInstanceVariablesDirectlyç»“æœä¸ºYESï¼Œçš„ğŸŒ°ä»£ç æˆ‘å°±ä¸åˆ—å‡ºäº†ï¼Œå¯æŸ¥çœ‹andyRon/KVCDemo3ã€‚ 2.2 KVCå–å€¼å¯¹äºå–å€¼æ–¹æ³•valueForKey:, KVCå¯¹keyçš„æŸ¥è¯¢æ–¹å¼ä¸åŒäºsetValue:forKey:,å¦‚ä¸‹ï¼š é¦–å…ˆæŒ‰get&lt;Key&gt;,&lt;key&gt;,is&lt;Key&gt;çš„é¡ºåºæ–¹æ³•æŸ¥æ‰¾getteræ–¹æ³•ï¼Œæ‰¾åˆ°çš„è¯ä¼šç›´æ¥è°ƒç”¨ã€‚å¦‚æœæ˜¯BOOLæˆ–è€…Intç­‰å€¼ç±»å‹ï¼Œ ä¼šå°†å…¶åŒ…è£…æˆä¸€ä¸ªNSNumberå¯¹è±¡ã€‚ å¦‚æœgetteræ²¡æœ‰æ‰¾åˆ°ï¼ŒKVCåˆ™ä¼šæŸ¥æ‰¾countOf&lt;Key&gt;,objectIn&lt;Key&gt;AtIndexæˆ–&lt;Key&gt;AtIndexesæ ¼å¼çš„æ–¹æ³•ã€‚å¦‚æœæœ‰ä¸€ä¸ªè¢«æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªå¯ä»¥å“åº”NSArrayæ‰€æœ‰æ–¹æ³•çš„ä»£ç†é›†åˆ(å®ƒæ˜¯NSKeyValueArrayï¼Œæ˜¯NSArrayçš„å­ç±»)ï¼Œè°ƒç”¨è¿™ä¸ªä»£ç†é›†åˆçš„æ–¹æ³•ï¼Œæˆ–è€…è¯´ç»™è¿™ä¸ªä»£ç†é›†åˆå‘é€å±äºNSArrayçš„æ–¹æ³•ï¼Œå°±ä¼šä»¥countOf&lt;Key&gt;,objectIn&lt;Key&gt;AtIndexæˆ–&lt;Key&gt;AtIndexesè¿™å‡ ä¸ªæ–¹æ³•ç»„åˆçš„å½¢å¼è°ƒç”¨ã€‚è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„get&lt;Key&gt;:range:æ–¹æ³•ã€‚æ‰€ä»¥ä½ æƒ³é‡æ–°å®šä¹‰KVCçš„ä¸€äº›åŠŸèƒ½ï¼Œä½ å¯ä»¥æ·»åŠ è¿™äº›æ–¹æ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä½ çš„æ–¹æ³•åè¦ç¬¦åˆKVCçš„æ ‡å‡†å‘½åæ–¹æ³•ï¼ŒåŒ…æ‹¬æ–¹æ³•ç­¾åã€‚ å¦‚æœä¸Šé¢çš„æ–¹æ³•æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆä¼šåŒæ—¶æŸ¥æ‰¾countOf&lt;Key&gt;ï¼ŒenumeratorOf&lt;Key&gt;,memberOf&lt;Key&gt;æ ¼å¼çš„æ–¹æ³•ã€‚å¦‚æœè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±è¿”å›ä¸€ä¸ªå¯ä»¥å“åº”NSSetæ‰€çš„æ–¹æ³•çš„ä»£ç†é›†åˆï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œç»™è¿™ä¸ªä»£ç†é›†åˆå‘NSSetçš„æ¶ˆæ¯ï¼Œå°±ä¼šä»¥countOf&lt;Key&gt;ï¼ŒenumeratorOf&lt;Key&gt;,memberOf&lt;Key&gt;ç»„åˆçš„å½¢å¼è°ƒç”¨ã€‚ åœ¨ç±»è‡ªå®šä¹‰äº†KVCçš„å®ç°ï¼Œå¹¶ä¸”å®ç°äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿”å›çš„å¯¹è±¡å½“æ•°ç»„(NSArray)ç”¨äº† å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œå†æ£€æŸ¥ç±»æ–¹æ³•+ (BOOL)accessInstanceVariablesDirectly,å¦‚æœè¿”å›YES(é»˜è®¤è¡Œä¸º)ï¼Œé‚£ä¹ˆå’Œå…ˆå‰çš„è®¾å€¼ä¸€æ ·ï¼Œä¼šæŒ‰_,_is,,isçš„é¡ºåºæœç´¢æˆå‘˜å˜é‡åï¼Œè¿™é‡Œä¸æ¨èè¿™ä¹ˆåšï¼Œå› ä¸ºè¿™æ ·ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ç ´åäº†å°è£…æ€§ï¼Œä½¿ä»£ç æ›´è„†å¼±ã€‚å¦‚æœé‡å†™äº†ç±»æ–¹æ³•+ (BOOL)accessInstanceVariablesDirectlyè¿”å›NOçš„è¯ï¼Œé‚£ä¹ˆä¼šç›´æ¥è°ƒç”¨valueForUndefinedKey: ç¤ºä¾‹ä»£ç ï¼ˆandyRon/KVCDemo4ï¼‰ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960@interface TwoTimesArray : NSObject-(void)incrementCount;-(NSUInteger)countOfNumbers;-(id)objectInNumbersAtIndex:(NSUInteger)index;@end@interface TwoTimesArray()@property (nonatomic,readwrite,assign) NSUInteger count;@property (nonatomic,copy) NSString* arrName;@end@implementation TwoTimesArray-(void)incrementCount&#123; self.count ++;&#125;-(NSUInteger)countOfNumbers&#123; return self.count;&#125;-(id)objectInNumbersAtIndex:(NSUInteger)index&#123; //å½“keyä½¿ç”¨numbersæ—¶ï¼ŒKVCä¼šæ‰¾åˆ°è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ return @(index * 2);&#125;-(NSInteger)getNum&#123; //ç¬¬ä¸€ä¸ª,è‡ªå·±ä¸€ä¸ªä¸€ä¸ªæ³¨é‡Šè¯• return 10;&#125;-(NSInteger)num&#123; //ç¬¬äºŒä¸ª return 11;&#125;-(NSInteger)isNum&#123; //ç¬¬ä¸‰ä¸ª return 12;&#125;@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; TwoTimesArray* arr = [TwoTimesArray new]; NSNumber* num = [arr valueForKey:@&quot;num&quot;]; NSLog(@&quot;%@&quot;,num); id ar = [arr valueForKey:@&quot;numbers&quot;]; NSLog(@&quot;%@&quot;,NSStringFromClass([ar class])); NSLog(@&quot;0:%@ 1:%@ 2:%@ 3:%@&quot;,ar[0],ar[1],ar[2],ar[3]); [arr incrementCount]; //countåŠ 1 NSLog(@&quot;%lu&quot;,(unsigned long)[ar count]); //æ‰“å°å‡º1 [arr incrementCount]; //countå†åŠ 1 NSLog(@&quot;%lu&quot;,(unsigned long)[ar count]); //æ‰“å°å‡º2 [arr setValue:@&quot;newName&quot; forKey:@&quot;arrName&quot;]; NSString* name = [arr valueForKey:@&quot;arrName&quot;]; NSLog(@&quot;%@&quot;,name); &#125; return 0;&#125; ç»“æœï¼š123456KVCDemo4[25723:3947658] 10KVCDemo4[25723:3947658] NSKeyValueArrayKVCDemo4[25723:3947658] 0:0 1:2 2:4 3:6KVCDemo4[25723:3947658] 1KVCDemo4[25723:3947658] 2KVCDemo4[25723:3947658] newName 3 KVCä¸­ä½¿ç”¨keyPathä¸€ä¸ªç±»çš„å±æ€§å¯èƒ½æ˜¯å¦å¤–ä¸€ä¸ªç±»ï¼Œå¯ä»¥é€šè¿‡keyPathæ–¹å¼è·å–æˆ–è®¾ç½®è¿™ç§å¤šå±‚ä¸­å±æ€§ï¼Œè¿™ç§è§£å†³æ–¹å¼ä¹Ÿæ˜¯é€šè¿‡NSKeyValueCodingä¸­çš„æ–¹æ³•æ¥å®ç°çš„ã€‚1234//é€šè¿‡KeyPathæ¥å–å€¼- (nullable id)valueForKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPathæ¥è®¾å€¼- (void)setValue:(nullable id)value forKeyPath:(NSString *)keyPath; æ¥çœ‹çœ‹å…·ä½“ä»£ç ä¾‹å­ï¼ˆKVCKeyPathDemoï¼‰ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445@interface Address : NSObject@end@interface Address()@property (nonatomic,copy)NSString* country;@end@implementation Address- (id)valueForUndefinedKey:(NSString *)key &#123; return key;&#125;@end@interface People : NSObject@end@interface People()@property (nonatomic,copy) NSString* name;@property (nonatomic,strong) Address* address;@property (nonatomic,assign) NSInteger age;@end@implementation People@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; People* people1 = [People new]; Address* add = [Address new]; add.country = @&quot;China&quot;; people1.address = add; NSString* country1 = people1.address.country; NSString * country2 = [people1 valueForKeyPath:@&quot;address.country&quot;]; NSLog(@&quot;country1:%@ country2:%@&quot;,country1,country2); [people1 setValue:@&quot;USA&quot; forKeyPath:@&quot;address.country&quot;]; country1 = people1.address.country; country2 = [people1 valueForKeyPath:@&quot;address.country&quot;]; NSString* city = [people1 valueForKeyPath:@&quot;address.city&quot;]; NSLog(@&quot;country1:%@ country2:%@ city:%@&quot;,country1, country2, city); &#125; return 0;&#125; æ‰“å°ç»“æœï¼š12KVCKeyPathDemo[6330:12568821] country1:China country2:ChinaKVCKeyPathDemo[6330:12568821] country1:USA country2:USA city:city keyPathä¸­ï¼Œkeyä¹‹é—´ç”¨.åˆ†éš”ï¼Œå½“keyPathå‡ºç°é”™è¯¯æ—¶ï¼Œå°±ä¼šè°ƒç”¨valueForUndefinedKey:keyæ–¹æ³•ã€‚ 4 KVCçš„å¼‚å¸¸å¤„ç†ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯keyæˆ–keyPathé”™è¯¯ï¼Œä¸Šé¢ä¹Ÿéƒ½æåˆ°è¿‡ï¼Œå°±æ˜¯è°ƒç”¨valueForUndefinedKey:keyæ–¹æ³•ã€‚ å¦ä¸€ç§æƒ…å†µæ˜¯åœ¨ä½¿ç”¨setValue:forKey:æ–¹æ³•æ—¶å€¼è®¾ç½®ä¸ºniläº†ï¼Œè¿™æ˜¯ä¸è¢«å…è®¸çš„ï¼Œä¼šè°ƒç”¨setNilValueForKey:æ–¹æ³•ã€‚1234567@implementation People-(void)setNilValueForKey:(NSString *)key&#123; NSLog(@&quot;ä¸èƒ½å°†%@è®¾æˆnil&quot;,key);&#125;@end 1[people setValue:nil forKey:@&quot;age&quot;]; 5 KVCå¤„ç†éå¯¹è±¡å’Œè‡ªå®šä¹‰å¯¹è±¡valueForKey:æ€»æ˜¯è¿”å›ä¸€ä¸ªidå¯¹è±¡ï¼Œå¦‚æœåŸæœ¬çš„å˜é‡ç±»å‹æ˜¯å€¼ç±»å‹æˆ–è€…ç»“æ„ä½“ï¼Œè¿”å›å€¼ä¼šå°è£…æˆNSNumberæˆ–è€…NSValueå¯¹è±¡ã€‚è¿™ä¸¤ä¸ªç±»ä¼šå¤„ç†ä»æ•°å­—ï¼Œå¸ƒå°”å€¼åˆ°æŒ‡é’ˆå’Œç»“æ„ä½“ä»»ä½•ç±»å‹ã€‚ç„¶åå¼€ä»¥è€…éœ€è¦æ‰‹åŠ¨è½¬æ¢æˆåŸæ¥çš„ç±»å‹ã€‚å°½ç®¡valueForKeyï¼šä¼šè‡ªåŠ¨å°†å€¼ç±»å‹å°è£…æˆå¯¹è±¡ï¼Œä½†æ˜¯setValue:forKey:å´ä¸è¡Œã€‚ä½ å¿…é¡»æ‰‹åŠ¨å°†å€¼ç±»å‹è½¬æ¢æˆNSNumberæˆ–è€…NSValueç±»å‹ï¼Œæ‰èƒ½ä¼ é€’è¿‡å»ã€‚ å¯¹äºè‡ªå®šä¹‰å¯¹è±¡ï¼ŒKVCä¹Ÿä¼šæ­£ç¡®åœ°è®¾å€¼å’Œå–å€¼ã€‚å› ä¸ºä¼ é€’è¿›å»å’Œå–å‡ºæ¥çš„éƒ½æ˜¯idç±»å‹ï¼Œæ‰€ä»¥éœ€è¦å¼€å‘è€…è‡ªå·±æ‹…ä¿ç±»å‹çš„æ­£ç¡®æ€§ï¼Œè¿è¡Œæ—¶Objective-Cåœ¨å‘é€æ¶ˆæ¯çš„ä¼šæ£€æŸ¥ç±»å‹ï¼Œå¦‚æœé”™è¯¯ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚ 6 KVCå’Œå®¹å™¨ç±»å¯¹è±¡çš„å±æ€§å¯ä»¥æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å¯¹å¤šçš„ã€‚ä¸€å¯¹å¤šçš„å±æ€§è¦ä¹ˆæ˜¯æœ‰åºçš„(æ•°ç»„)ï¼Œè¦ä¹ˆæ˜¯æ— åºçš„(é›†åˆ)ã€‚ ä¸å¯å˜çš„æœ‰åºå®¹å™¨å±æ€§(NSArray)å’Œæ— åºå®¹å™¨å±æ€§(NSSet)ä¸€èˆ¬å¯ä»¥ä½¿ç”¨valueForKey:æ¥è·å–ã€‚ä½†ä¹Ÿå¯ä»¥åˆ©ç”¨æ›´çµæ´»çš„æ–¹æ³•æ¥ç®¡ç†ï¼Œæ¯”å¦‚ï¼š- (NSMutableArray *)mutableArrayValueForKey:(NSString *)key;å®ä¾‹ä»£ç ï¼ˆKVCDemo6ï¼‰:12345678910111213141516171819202122232425262728293031323334353637383940@interface Demo : NSObject@property (nonatomic,strong) NSMutableArray* arr;@end@implementation Demo-(id)init&#123; if (self == [super init])&#123; _arr = [NSMutableArray new]; [self addObserver:self forKeyPath:@&quot;arr&quot; options:NSKeyValueObservingOptionNew|NSKeyValueObservingOptionOld context:nil]; &#125; return self;&#125;// Informs the observing object when the value at the specified key path relative to the observed object has changed.-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSString *,id&gt; *)change context:(void *)context&#123; NSLog(@&quot;%@&quot;, self.arr);&#125;-(void)dealloc&#123; [self removeObserver:self forKeyPath:@&quot;arr&quot;]; //ä¸€å®šè¦åœ¨deallocé‡Œé¢ç§»é™¤è§‚å¯Ÿ&#125;-(void)addItem&#123; [_arr addObject:@&quot;addItem&quot;];&#125;-(void)addItemObserver&#123; [[self mutableArrayValueForKey:@&quot;arr&quot;] addObject:@&quot;addItemObserver&quot;];&#125;-(void)removeItemObserver&#123; [[self mutableArrayValueForKey:@&quot;arr&quot;] removeLastObject];&#125;@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; Demo* d = [Demo new]; [d addItem]; [d addItemObserver]; [d removeItemObserver]; &#125; return 0;&#125; ç»“æœï¼š1234567KVCDemo6[11393:3534594] ( addItem, addItemObserver)KVCDemo6[11393:3534594] ( addItem) å½“åªæ˜¯æ™®é€šåœ°è°ƒç”¨[_arr addObject:@&quot;addItem&quot;];æ—¶ï¼ŒObserverå¹¶ä¸ä¼šå›è°ƒï¼Œåªæœ‰[[self mutableArrayValueForKey:@&quot;arr&quot;] addObject:@&quot;addItemObserver&quot;];è¿™æ ·å†™æ—¶æ‰èƒ½æ­£ç¡®åœ°è§¦å‘KVOã€‚ å¯¹äºæ— åºå®¹å™¨å±æ€§(NSSet)æœ‰å¯¹åº”çš„æ–¹æ³•ï¼š- (NSMutableSet *)mutableSetValueForKey:(NSString *)key; å¦å¤–è¿˜æœ‰å¯¹åº”çš„keyPathæ–¹æ³•ï¼š12- (NSMutableArray *)mutableArrayValueForKeyPath:(NSString *)keyPath;- (NSMutableSet *)mutableSetValueForKeyPath:(NSString *)keyPath; 7 KVCå’Œå­—å…¸KVCä¸å­—å…¸ç›¸å…³çš„æ–¹æ³•ï¼š12- (NSDictionary&lt;NSString *, id&gt; *)dictionaryWithValuesForKeys:(NSArray&lt;NSString *&gt; *)keys;- (void)setValuesForKeysWithDictionary:(NSDictionary&lt;NSString *, id&gt; *)keyedValues; ç¤ºä¾‹ä»£ç ï¼ˆKVCDemo7ï¼‰ï¼š123456789101112131415161718192021222324252627282930313233343536@interface Address : NSObject@end@interface Address()@property (nonatomic,copy)NSString* country;@property (nonatomic,copy)NSString* province;@property (nonatomic,copy)NSString* city;@property (nonatomic,copy)NSString* district;@end@implementation Address@endint main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; Address *address = [Address new]; address.country = @&quot;ä¸­å›½&quot;; address.province = @&quot;ä¸Šæµ·&quot;; address.city = @&quot;ä¸Šæµ·&quot;; address.district = @&quot;æµ¦ä¸œ&quot;; NSArray* arr = @[@&quot;country&quot;,@&quot;province&quot;,@&quot;district&quot;]; NSDictionary* dict = [address dictionaryWithValuesForKeys:arr]; //æŠŠå¯¹åº”keyæ‰€æœ‰çš„å±æ€§å…¨éƒ¨å–å‡ºæ¥ NSLog(@&quot;%@&quot;,dict); NSDictionary* modifyDict = @&#123;@&quot;country&quot;:@&quot;ç¾å›½&quot;,@&quot;province&quot;:@&quot;åŠ å·&quot;,@&quot;city&quot;:@&quot;æ—§é‡‘å±±&quot;&#125;; [address setValuesForKeysWithDictionary:modifyDict]; //ä¿®æ”¹çš„å±æ€§ NSLog(@&quot;country:%@ province:%@ city:%@&quot;,address.country, address.province, address.city); &#125; return 0;&#125; ç»“æœï¼š1234567KVCDemo7[14135:3606256] &#123; country = &quot;\U4e2d\U56fd&quot;; district = &quot;\U6d66\U4e1c&quot;; province = &quot;\U4e0a\U6d77&quot;;&#125;KVCDemo7[14135:3606256] country:ç¾å›½ province:åŠ å· city:æ—§é‡‘å±±Program ended with exit code: 0 8 KVCçš„åº”ç”¨åœºæ™¯ åŠ¨æ€å–å€¼å’Œè®¾å€¼ ç”¨KVCæ¥è®¿é—®å’Œä¿®æ”¹ç§æœ‰å˜é‡ Modelå’Œå­—å…¸è½¬æ¢ ä¿®æ”¹ä¸€äº›æ§ä»¶çš„å†…éƒ¨å±æ€§æœ‰çš„æ—¶å€™å¯ä»¥é€šè¿‡KVCä¿®æ”¹ä¸€äº›è‹¹æœå®˜æ–¹æ²¡æœ‰å…¬å¼€çš„å±æ€§ï¼Œæ¯”å¦‚UITextFieldä¸­çš„placeHolderTextã€‚è¿™ä¸ªæ—¶å€™ç”¨playgroundèƒ½å¾ˆæ–¹ä¾¿çš„æ¼”ç¤ºï¼ˆKVCDemo8ï¼‰ï¼š æ²¡æœ‰å…¬å¼€çš„å±æ€§å¯é€šè¿‡runtimeçš„æ–¹å¼è·å–(KVCDemo9):12345678910import UIKitvar count: UInt32 = 0let ivars = class_copyIvarList(UITextField.self, &amp;count)for i in 0 ..&lt; count &#123; let ivar = ivars![Int(i)] let name = ivar_getName(ivar) print(String(cString: name!))&#125;free(ivars) æ“ä½œé›†åˆ ç”¨KVCå®ç°é«˜é˜¶æ¶ˆæ¯ä¼ é€’ ç”¨KVCä¸­çš„å‡½æ•°æ“ä½œé›†åˆ æœ€åå‚ç…§å‰è¾ˆçš„æ–‡ç«  iOSå¼€å‘æŠ€å·§ç³»åˆ—â€”è¯¦è§£KVC(æˆ‘å‘Šè¯‰ä½ KVCçš„ä¸€åˆ‡)å­¦ä¹ KVCï¼ŒåŠ¨æ‰‹å†™äº†å„ç§ç®€å•çš„ç¤ºä¾‹åŠ æ·±ç†è§£ï¼Œç”±äºç›®å‰KVCå®é™…é¡¹ç›®ä¸­è¿ç”¨çš„è¿˜ä¸æ˜¯å¾ˆå¤šï¼Œæœ‰å¾ˆå¤šåœ°æ–¹ç†è§£çš„è¿˜ä¸å¤Ÿé€å½»ã€‚ ç¤ºä¾‹ä»£ç ï¼š andyRon/KVCDemo å‚è€ƒï¼šiOSå¼€å‘æŠ€å·§ç³»åˆ—â€”è¯¦è§£KVC(æˆ‘å‘Šè¯‰ä½ KVCçš„ä¸€åˆ‡)Key-Value Coding Programming Guide - Apple Developer]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>KVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSæ•°æ®æŒä¹…åŒ–å°ç»“]]></title>
    <url>%2F2018%2Fios-persistdata.html</url>
    <content type="text"><![CDATA[æŒä¹…åŒ–å°±æ˜¯æŠŠæ•°æ®ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šè€Œä¸æ˜¯å†…å­˜é‡Œï¼Œç¨‹åºé‡å¯åæ•°æ®ä¸ä¼šæ¶ˆå¤±ã€‚iOSä¸­æ•°æ®æŒä¹…åŒ–æ–¹æ³•æœ‰ï¼šplistæ–‡ä»¶ï¼ˆå±æ€§åˆ—è¡¨ï¼‰ã€UserDefaultsã€NSKeyedArchiverï¼ˆå½’æ¡£ï¼‰ã€SQLite3ã€CoreDataç­‰ï¼Œå¦å¤–è¿˜æœ‰FMDBï¼ˆç”¨OCå°è£…çš„SQLiteåº“ï¼‰ã€realmï¼ˆä»£æ›¿SQLite3å’ŒCoreDataæ–°çš„æ•°æ®åº“ï¼‰ã€‚ plistæŸäº›ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡XMLå½¢å¼å­˜å‚¨æˆplistæ–‡ä»¶ã€‚è¿™äº›æ•°æ®ç±»å‹éƒ½æœ‰write(ToFile:)æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š12345678910NSArray;NSMutableArray;NSDictionary;NSMutableDictionary;NSData;NSMutableData;NSString;NSMutableString;NSNumber;NSDate; ç¤ºä¾‹ä»£ç ï¼š1234567891011121314// è·å¾—è·¯å¾„let fileManager = FileManager.defaultlet path = fileManager.urls(for: .documentDirectory, in: .userDomainMask).firstlet fileName = path?.appendingPathComponent("test.plist")// å­˜å‚¨ã€‚ å…¶ä¸­atomicallyè¡¨ç¤ºæ˜¯å¦éœ€è¦å…ˆå†™å…¥ä¸€ä¸ªè¾…åŠ©æ–‡ä»¶ï¼Œå†æŠŠè¾…åŠ©æ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡æ–‡ä»¶åœ°å€ã€‚è¿™æ˜¯æ›´å®‰å…¨çš„å†™å…¥æ–‡ä»¶æ–¹æ³•ï¼Œä¸€èˆ¬éƒ½å†™trueã€‚let arr: NSArray = [123, 34]try? arr.write(toFile: (fileName?.path)!, atomically: true)// è¯»å–let res = NSArray(contentsOfFile: (fileName?.path)!)print((fileName?.path)!)print(res) UserDefaults123456789101112131415// è·å¾—UserDefaultsæ–‡ä»¶let userDefaults = UserDefaults.standard// å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹userDefaults.set("Andy", forKey: "name")userDefaults.set("male", forKey: "sex")userDefaults.set(100, forKey: "age")// ç«‹å³ä¿å­˜userDefaults.synchronize()// è¯»å–æ–‡ä»¶let name = userDefaults.object(forKey: "name")let sex = userDefaults.object(forKey: "sex")let age = userDefaults.object(forKey: "age")print(name, sex, age) å¦‚æœæ²¡æœ‰è°ƒç”¨synchronizeæ–¹æ³•ï¼Œç³»ç»Ÿä¼šæ ¹æ®I/Oæƒ…å†µä¸å®šæ—¶åˆ»åœ°ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚æ‰€ä»¥å¦‚æœéœ€è¦ç«‹å³å†™å…¥æ–‡ä»¶çš„å°±å¿…é¡»è°ƒç”¨synchronizeæ–¹æ³•. UserDefaultsé€‚åˆå­˜å‚¨å°‘é‡çš„æœ¬åœ°æ•°æ®ï¼Œæ¯”å¦‚è¦ä¿å­˜ä¸€ä¸ªç™»é™†ç•Œé¢çš„æ•°æ®ï¼Œç”¨æˆ·åã€å¯†ç ä¹‹ç±»çš„ã€‚ ç›¸å¯¹äºplistæ–‡ä»¶ï¼ŒUserDefaultsä¿å­˜æ•°æ®æ–¹ä¾¿ï¼Œä¸éœ€è¦åˆ›å»ºæ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶ã€‚ UserDefaultsä¿å­˜çš„æ•°æ®ä¹Ÿæ˜¯plistç±»å‹æ–‡ä»¶ï¼Œåœ¨ç›®å½•Library/Preferences/é‡Œã€‚ NSKeyedArchiverï¼ˆå½’æ¡£ï¼‰éµå¾ªäº†NSCodingåè®®çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡NSKeyedArchiverå®ç°åºåˆ—åŒ– å®ç°NSCodingåè®®çš„ä¸¤ä¸ªæ–¹æ³• 1234567891011121314151617//è§£æ¡£- (id)initWithCoder:(NSCoder *)aDecoder &#123; if ([super init]) &#123; self.name = [aDecoder decodeObjectForKey:@&quot;name&quot;]; self.sex = [aDecoder decodeObjectForKey:@&quot;sex&quot;]; self.age = [aDecoder decodeIntegerForKey:@&quot;age&quot;]; &#125; return self;&#125;//å½’æ¡£- (void)encodeWithCoder:(NSCoder *)aCoder &#123; [aCoder encodeObject:self.name forKey:@&quot;name&quot;]; [aCoder encodeObject:self.sex forKey:@&quot;sex&quot;]; [aCoder encodeInteger:self.age forKey:@&quot;age&quot;];&#125; å½’æ¡£åçš„å¯¹è±¡å­˜å‚¨å’Œè¯»å– 1234567891011121314151617181920- (void)save &#123; NSString *file = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).firstObject stringByAppendingPathComponent:@&quot;person.data&quot;]; Person *person = [[Person alloc] init]; person.sex = @&quot;male&quot;; person.name = @&quot;Andy&quot;; person.age = 100; [NSKeyedArchiver archiveRootObject:person toFile:file];&#125;- (void)get &#123; NSString *file = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).firstObject stringByAppendingPathComponent:@&quot;person.data&quot;]; Person *person = [NSKeyedUnarchiver unarchiveObjectWithFile:file]; if (person) &#123; NSLog(@&quot;name: %@, sex: %@, age: %ld&quot;, person.name, person.sex, (long)person.age); &#125;&#125; SQLite3 æ‰“å¼€æ•°æ®åº“å¹¶åˆ›å»ºä¸€ä¸ªè¡¨ 123456789101112131415161718192021222324252627/** * æ‰“å¼€æ•°æ®åº“å¹¶åˆ›å»ºä¸€ä¸ªè¡¨ */- (void)openDatabase &#123; //1.è®¾ç½®æ–‡ä»¶å NSString *filename = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).firstObject stringByAppendingPathComponent:@&quot;person.db&quot;]; //2.æ‰“å¼€æ•°æ®åº“æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ NSInteger result = sqlite3_open(filename.UTF8String, &amp;_sqlite3); if (result == SQLITE_OK) &#123; NSLog(@&quot;æ‰“å¼€æ•°æ®åº“æˆåŠŸï¼&quot;); //3.åˆ›å»ºä¸€ä¸ªæ•°æ®åº“è¡¨ char *errmsg = NULL; sqlite3_exec(_sqlite3, &quot;CREATE TABLE IF NOT EXISTS t_person(id integer primary key autoincrement, name text, age integer)&quot;, NULL, NULL, &amp;errmsg); if (errmsg) &#123; NSLog(@&quot;é”™è¯¯ï¼š%s&quot;, errmsg); &#125; else &#123; NSLog(@&quot;åˆ›è¡¨æˆåŠŸï¼&quot;); &#125; &#125; else &#123; NSLog(@&quot;æ‰“å¼€æ•°æ®åº“å¤±è´¥ï¼&quot;); &#125;&#125; æ’å…¥æ•°æ® 12345678910111213141516171819202122/** * å¾€è¡¨ä¸­æ’å…¥1000æ¡æ•°æ® */- (void)insertData &#123; NSString *nameStr; NSInteger age; for (NSInteger i = 0; i &lt; 1000; i++) &#123; nameStr = [NSString stringWithFormat:@&quot;andy-%d&quot;, arc4random_uniform(10000)]; age = arc4random_uniform(80) + 20; NSString *sql = [NSString stringWithFormat:@&quot;INSERT INTO t_person (name, age) VALUES(&apos;%@&apos;, &apos;%ld&apos;)&quot;, nameStr, age]; char *errmsg = NULL; sqlite3_exec(_sqlite3, sql.UTF8String, NULL, NULL, &amp;errmsg); if (errmsg) &#123; NSLog(@&quot;é”™è¯¯ï¼š%s&quot;, errmsg); &#125; &#125; NSLog(@&quot;æ’å…¥å®Œæ¯•ï¼&quot;);&#125; è¯»å–æ•°æ® 123456789101112131415161718192021/** * ä»è¡¨ä¸­è¯»å–æ•°æ® */- (void)readData &#123; NSMutableArray *mArray = [NSMutableArray arrayWithCapacity:1000]; char *sql = &quot;select name, age from t_person;&quot;; sqlite3_stmt *stmt; NSInteger result = sqlite3_prepare_v2(_sqlite3, sql, -1, &amp;stmt, NULL); if (result == SQLITE_OK) &#123; while (sqlite3_step(stmt) == SQLITE_ROW) &#123; char *name = (char *)sqlite3_column_text(stmt, 0); NSInteger age = sqlite3_column_int(stmt, 1); NSLog(@&quot;name: %s, age: %d&quot;, name, age); &#125; &#125; sqlite3_finalize(stmt);&#125; CoreDataä¹‹å‰çš„ç¬”è®°ï¼šå¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 17 ä½¿ç”¨Core Data ä»£ç ï¼šLearniOSByProject/115-PersistData å‚è€ƒï¼š æˆ‘è¦æ°¸è¿œåœ°è®°ä½ä½ ï¼ï¼ˆiOSä¸­å‡ ç§æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼‰]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>plist</tag>
        <tag>UserDefaults</tag>
        <tag>NSKeyedArchiver</tag>
        <tag>SQLite3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯†iOSäº‹æƒ…å¤„ç†æœºåˆ¶]]></title>
    <url>%2F2018%2Fios-event-begin.html</url>
    <content type="text"><![CDATA[äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼š äº‹ä»¶çš„äº§ç”Ÿå’Œä¼ é€’ï¼ˆäº‹ä»¶å¦‚ä½•ä»çˆ¶æ§ä»¶ä¼ é€’åˆ°å­æ§ä»¶å¹¶å¯»æ‰¾åˆ°æœ€åˆé€‚çš„viewã€å¯»æ‰¾æœ€åˆé€‚çš„viewçš„åº•å±‚å®ç°ã€æ‹¦æˆªäº‹ä»¶çš„å¤„ç†ï¼‰-&gt;æ‰¾åˆ°æœ€åˆé€‚çš„viewåäº‹ä»¶çš„å¤„ç†ï¼ˆtouchesæ–¹æ³•çš„é‡å†™ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶çš„å“åº”ï¼‰ iOSä¸­çš„äº‹ä»¶å¯ä»¥åˆ†ä¸º3å¤§ç±»å‹ï¼šè§¦æ‘¸äº‹ä»¶åŠ é€Ÿè®¡äº‹ä»¶è¿œç¨‹æ§åˆ¶äº‹ä»¶è¿™é‡Œåªè®¨è®ºiOSä¸­çš„è§¦æ‘¸äº‹ä»¶ã€‚ 1 å“åº”è€…å¯¹è±¡(UIResponder)åœ¨iOSä¸­ä¸æ˜¯ä»»ä½•å¯¹è±¡éƒ½èƒ½å¤„ç†äº‹ä»¶ï¼Œåªæœ‰ç»§æ‰¿äº†UIResponderçš„å¯¹è±¡æ‰èƒ½æ¥å—å¹¶å¤„ç†äº‹ä»¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå“åº”è€…å¯¹è±¡â€ã€‚UIApplicationUIViewController,UIViewéƒ½ç»§æ‰¿äº†UIResponderï¼Œæ‰€ä»¥éƒ½èƒ½æ¥æ”¶å¹¶å¤„ç†äº‹ä»¶ã€‚ UIResponderä¸­å¤„ç†äº‹ä»¶çš„ç›¸å…³æ–¹æ³•1234567891011121314151617// è§¦æ‘¸äº‹ä»¶open func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)open func touchesMoved(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)open func touchesEnded(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)open func touchesCancelled(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)// åŠ é€Ÿè®¡äº‹ä»¶@available(iOS 3.0, *)open func motionBegan(_ motion: UIEventSubtype, with event: UIEvent?)@available(iOS 3.0, *)open func motionEnded(_ motion: UIEventSubtype, with event: UIEvent?)@available(iOS 3.0, *)open func motionCancelled(_ motion: UIEventSubtype, with event: UIEvent?)// è¿œç¨‹æ§åˆ¶äº‹ä»¶@available(iOS 4.0, *)open func remoteControlReceived(with event: UIEvent?) 2 è§¦æ‘¸äº‹ä»¶çš„å¤„ç†ä»¥UIViewä¸ºä¾‹è¯´æ˜è§¦æ‘¸äº‹ä»¶çš„å¤„ç†12345678// ä¸€æ ¹æˆ–è€…å¤šæ ¹æ‰‹æŒ‡å¼€å§‹è§¦æ‘¸viewï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨open func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)// ä¸€æ ¹æˆ–è€…å¤šæ ¹æ‰‹æŒ‡åœ¨viewä¸Šç§»åŠ¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ï¼ˆéšç€æ‰‹æŒ‡çš„ç§»åŠ¨ï¼Œä¼šæŒç»­è°ƒç”¨è¯¥æ–¹æ³•ï¼‰open func touchesMoved(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)// ä¸€æ ¹æˆ–è€…å¤šæ ¹æ‰‹æŒ‡ç¦»å¼€viewï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨open func touchesEnded(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)// è§¦æ‘¸ç»“æŸå‰ï¼ŒæŸä¸ªç³»ç»Ÿäº‹ä»¶(ä¾‹å¦‚ç”µè¯å‘¼å…¥)ä¼šæ‰“æ–­è§¦æ‘¸è¿‡ç¨‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨open func touchesCancelled(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) touchesä¸­å­˜æ”¾çš„éƒ½æ˜¯UITouchå¯¹è±¡ å¦‚æœä¸¤æ ¹æ‰‹æŒ‡åŒæ—¶è§¦æ‘¸ä¸€ä¸ªviewï¼Œé‚£ä¹ˆviewåªä¼šè°ƒç”¨ä¸€æ¬¡touchesBegan(_:with:)æ–¹æ³•ï¼Œtoucheså‚æ•°ä¸­è£…ç€2ä¸ªUITouchå¯¹è±¡ å¦‚æœè¿™ä¸¤æ ¹æ‰‹æŒ‡ä¸€å‰ä¸€ååˆ†å¼€è§¦æ‘¸åŒä¸€ä¸ªviewï¼Œé‚£ä¹ˆviewä¼šåˆ†åˆ«è°ƒç”¨2æ¬¡touchesBegan(_:with:)æ–¹æ³•ï¼Œå¹¶ä¸”æ¯æ¬¡è°ƒç”¨æ—¶çš„toucheså‚æ•°ä¸­åªåŒ…å«ä¸€ä¸ªUITouchå¯¹è±¡ æƒ³å¤„ç†UIViewçš„è§¦æ‘¸äº‹ä»¶ï¼Œå¿…é¡»è‡ªå®šä¹‰UIViewå­ç±»ç»§æ‰¿è‡ªUIView 3 UITouchå¯¹è±¡3.1 UITouchçš„å±æ€§å’Œæ–¹æ³•12345678910111213141516// è§¦æ‘¸äº§ç”Ÿæ—¶æ‰€å¤„çš„çª—å£open var window: UIWindow? &#123; get &#125;// è§¦æ‘¸äº§ç”Ÿæ—¶æ‰€å¤„çš„è§†å›¾open var view: UIView? &#123; get &#125;// è®°å½•äº†è§¦æ‘¸äº‹ä»¶äº§ç”Ÿæˆ–å˜åŒ–æ—¶çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’open var timestamp: TimeInterval &#123; get &#125;// å½“å‰è§¦æ‘¸äº‹ä»¶æ‰€å¤„çš„çŠ¶æ€open var phase: UITouchPhase &#123; get &#125;// çŸ­æ—¶é—´å†…ç‚¹æŒ‰å±å¹•çš„æ¬¡æ•°ï¼Œå¯ä»¥æ ¹æ®tapCountåˆ¤æ–­å•å‡»ã€åŒå‡»æˆ–æ›´å¤šçš„ç‚¹å‡»open var tapCount: Int &#123; get &#125;// è¿”å›å€¼è¡¨ç¤ºè§¦æ‘¸åœ¨viewä¸Šçš„ä½ç½®// è¿™é‡Œè¿”å›çš„ä½ç½®æ˜¯é’ˆå¯¹viewçš„åæ ‡ç³»çš„ï¼ˆä»¥viewçš„å·¦ä¸Šè§’ä¸ºåŸç‚¹(0, 0)ï¼‰open func location(in view: UIView?) -&gt; CGPoint// å‰ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„ä½ç½®open func previousLocation(in view: UIView?) -&gt; CGPoint 3.2 UITouchçš„ä½œç”¨ ä¿å­˜ç€è·Ÿæ‰‹æŒ‡ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è§¦æ‘¸çš„ä½ç½®ã€æ—¶é—´ã€é˜¶æ®µ å½“æ‰‹æŒ‡ç§»åŠ¨æ—¶ï¼Œç³»ç»Ÿä¼šæ›´æ–°åŒä¸€ä¸ªUITouchå¯¹è±¡ï¼Œä½¿ä¹‹èƒ½å¤Ÿä¸€ç›´ä¿å­˜è¯¥æ‰‹æŒ‡åœ¨çš„è§¦æ‘¸ä½ç½® å½“æ‰‹æŒ‡ç¦»å¼€å±å¹•æ—¶ï¼Œç³»ç»Ÿä¼šé”€æ¯ç›¸åº”çš„UITouchå¯¹è±¡ 4 iOSäº‹ä»¶çš„äº§ç”Ÿ å‘ç”Ÿè§¦æ‘¸äº‹ä»¶åï¼Œç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„äº‹ä»¶é˜Ÿåˆ—ä¸­,å³å…ˆè¿›å…ˆå‡ºï¼Œå…ˆäº§ç”Ÿçš„äº‹ä»¶å…ˆå¤„ç†æ‰ç¬¦åˆå¸¸ç†ã€‚ UIApplicationä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶ï¼Œå¹¶å°†äº‹ä»¶åˆ†å‘ä¸‹å»ä»¥ä¾¿å¤„ç†ï¼Œé€šå¸¸ï¼Œå…ˆå‘é€äº‹ä»¶ç»™åº”ç”¨ç¨‹åºçš„ä¸»çª—å£ï¼ˆkeyWindowï¼‰ã€‚ ä¸»çª—å£ä¼šåœ¨è§†å›¾å±‚æ¬¡ç»“æ„ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€åˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æ•´ä¸ªäº‹ä»¶å¤„ç†è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚æ‰¾åˆ°åˆé€‚çš„è§†å›¾æ§ä»¶åï¼Œå°±ä¼šè°ƒç”¨è§†å›¾æ§ä»¶çš„touchesæ–¹æ³•æ¥ä½œå…·ä½“çš„äº‹ä»¶å¤„ç†ã€‚ 5 iOSäº‹ä»¶çš„ä¼ é€’ è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’æ˜¯ä»çˆ¶æ§ä»¶ä¼ é€’åˆ°å­æ§ä»¶ï¼Œä¹Ÿå°±æ˜¯UIApplication-&gt;window-&gt;å¯»æ‰¾å¤„ç†äº‹ä»¶æœ€åˆé€‚çš„view å¦‚æœçˆ¶æ§ä»¶ä¸èƒ½æ¥å—è§¦æ‘¸äº‹ä»¶ï¼Œé‚£ä¹ˆå­æ§ä»¶å°±ä¸å¯èƒ½æ¥æ”¶åˆ°è§¦æ‘¸äº‹ä»¶ ç‚¹å‡»ä¸€ä¸ªUIViewæˆ–äº§ç”Ÿä¸€ä¸ªè§¦æ‘¸äº‹ä»¶Aï¼Œè¿™ä¸ªè§¦æ‘¸äº‹ä»¶Aä¼šè¢«æ·»åŠ åˆ°ç”±UIApplicationç®¡ç†çš„äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼ˆå³ï¼Œé¦–å…ˆæ¥æ”¶åˆ°äº‹ä»¶çš„æ˜¯UIApplicationï¼‰ã€‚ UIApplicationä¼šä»äº‹ä»¶å¯¹åˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶ï¼ˆæ­¤å¤„å‡è®¾ä¸ºè§¦æ‘¸äº‹ä»¶Aï¼‰ï¼ŒæŠŠäº‹ä»¶Aä¼ é€’ç»™åº”ç”¨ç¨‹åºçš„ä¸»çª—å£ï¼ˆkeyWindowï¼‰ã€‚ 5.1 åº”ç”¨å¦‚ä½•æ‰¾åˆ°æœ€åˆé€‚çš„æ§ä»¶æ¥å¤„ç†äº‹ä»¶ï¼Ÿ é¦–å…ˆåˆ¤æ–­ä¸»çª—å£ï¼ˆkeyWindowï¼‰è‡ªå·±æ˜¯å¦èƒ½æ¥å—è§¦æ‘¸äº‹ä»¶ åˆ¤æ–­è§¦æ‘¸ç‚¹æ˜¯å¦åœ¨è‡ªå·±èº«ä¸Š å­æ§ä»¶æ•°ç»„ä¸­ä»åå¾€å‰éå†å­æ§ä»¶ï¼Œé‡å¤å‰é¢çš„ä¸¤ä¸ªæ­¥éª¤ï¼ˆæ‰€è°“ä»åå¾€å‰éå†å­æ§ä»¶ï¼Œå°±æ˜¯é¦–å…ˆæŸ¥æ‰¾å­æ§ä»¶æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ‰§è¡Œ1ã€2æ­¥éª¤ï¼‰ viewï¼Œæ¯”å¦‚å«åšfitViewï¼Œé‚£ä¹ˆä¼šæŠŠè¿™ä¸ªäº‹ä»¶äº¤ç»™è¿™ä¸ªfitViewï¼Œå†éå†è¿™ä¸ªfitViewçš„å­æ§ä»¶ï¼Œç›´è‡³æ²¡æœ‰æ›´åˆé€‚çš„viewä¸ºæ­¢ã€‚ å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æ§ä»¶ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºè‡ªå·±æœ€åˆé€‚å¤„ç†è¿™ä¸ªäº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è‡ªå·±æ˜¯æœ€åˆé€‚çš„viewã€‚ 5.2 UIViewä¸èƒ½æ¥æ”¶è§¦æ‘¸äº‹ä»¶çš„ä¸‰ç§æƒ…å†µï¼š ä¸å…è®¸äº¤äº’ï¼šuserInteractionEnabled = false éšè—ï¼šå¦‚æœæŠŠçˆ¶æ§ä»¶éšè—ï¼Œé‚£ä¹ˆå­æ§ä»¶ä¹Ÿä¼šéšè—ï¼Œéšè—çš„æ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶ é€æ˜åº¦ï¼šå¦‚æœè®¾ç½®ä¸€ä¸ªæ§ä»¶çš„é€æ˜åº¦&lt;0.01ï¼Œä¼šç›´æ¥å½±å“å­æ§ä»¶çš„é€æ˜åº¦ã€‚alphaï¼š0.0~0.01ä¸ºé€æ˜ã€‚ é»˜è®¤UIImageViewä¸èƒ½æ¥å—è§¦æ‘¸äº‹ä»¶ï¼Œå› ä¸ºä¸å…è®¸äº¤äº’ï¼Œå³userInteractionEnabled = NOã€‚æ‰€ä»¥å¦‚æœå¸Œæœ›UIImageViewå¯ä»¥äº¤äº’ï¼Œéœ€è¦è®¾ç½®UIImageViewçš„userInteractionEnabled = YESã€‚ 5.3 äº‹ä»¶ä¼ é€’ç¤ºä¾‹ ä¸ç®¡è§†å›¾èƒ½ä¸èƒ½å¤„ç†äº‹ä»¶ï¼Œåªè¦ç‚¹å‡»äº†è§†å›¾å°±éƒ½ä¼šäº§ç”Ÿäº‹ä»¶ï¼Œå…³é”®åœ¨äºè¯¥äº‹ä»¶æœ€ç»ˆæ˜¯ç”±è°æ¥å¤„ç†ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè“è‰²è§†å›¾ä¸èƒ½å¤„ç†äº‹ä»¶ï¼Œç‚¹å‡»è“è‰²è§†å›¾äº§ç”Ÿçš„è§¦æ‘¸äº‹ä»¶ä¸ä¼šç”±è¢«ç‚¹å‡»çš„è§†å›¾ï¼ˆè“è‰²è§†å›¾ï¼‰å¤„ç†ï¼ å¦‚æœè®¾ç½®çˆ¶æ§ä»¶çš„é€æ˜åº¦æˆ–è€…hiddenï¼Œä¼šç›´æ¥å½±å“åˆ°å­æ§ä»¶çš„é€æ˜åº¦å’Œhiddenã€‚å¦‚æœçˆ¶æ§ä»¶çš„é€æ˜åº¦ä¸º0æˆ–è€…hidden = YESï¼Œé‚£ä¹ˆå­æ§ä»¶ä¹Ÿæ˜¯ä¸å¯è§çš„ï¼ 6 å¦‚ä½•å¯»æ‰¾æœ€åˆé€‚çš„view ä¸»çª—å£æ¥æ”¶åˆ°åº”ç”¨ç¨‹åºä¼ é€’è¿‡æ¥çš„äº‹ä»¶åï¼Œé¦–å…ˆåˆ¤æ–­è‡ªå·±èƒ½å¦æ¥æ‰‹è§¦æ‘¸äº‹ä»¶ã€‚å¦‚æœèƒ½ï¼Œé‚£ä¹ˆåœ¨åˆ¤æ–­è§¦æ‘¸ç‚¹åœ¨ä¸åœ¨çª—å£è‡ªå·±èº«ä¸Š å¦‚æœè§¦æ‘¸ç‚¹ä¹Ÿåœ¨çª—å£èº«ä¸Šï¼Œé‚£ä¹ˆçª—å£ä¼šä»åå¾€å‰éå†è‡ªå·±çš„å­æ§ä»¶ï¼ˆéå†è‡ªå·±çš„å­æ§ä»¶åªæ˜¯ä¸ºäº†å¯»æ‰¾å‡ºæ¥æœ€åˆé€‚çš„viewï¼‰ éå†åˆ°æ¯ä¸€ä¸ªå­æ§ä»¶åï¼Œåˆä¼šé‡å¤ä¸Šé¢çš„ä¸¤ä¸ªæ­¥éª¤ï¼ˆä¼ é€’äº‹ä»¶ç»™å­æ§ä»¶ï¼Œ1.åˆ¤æ–­å­æ§ä»¶èƒ½å¦æ¥å—äº‹ä»¶ï¼Œ2.ç‚¹åœ¨ä¸åœ¨å­æ§ä»¶ä¸Šï¼‰ å¦‚æ­¤å¾ªç¯éå†å­æ§ä»¶ï¼Œç›´åˆ°æ‰¾åˆ°æœ€åˆé€‚çš„viewï¼Œå¦‚æœæ²¡æœ‰æ›´åˆé€‚çš„å­æ§ä»¶ï¼Œé‚£ä¹ˆè‡ªå·±å°±æˆä¸ºæœ€åˆé€‚çš„viewã€‚ 6.1 å¯»æ‰¾çš„æ–¹æ³• 6.1.1 hitTest(_:with:)æ–¹æ³•ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿåªè¦äº‹ä»¶ä¸€ä¼ é€’ç»™ä¸€ä¸ªæ§ä»¶,è¿™ä¸ªæ§ä»¶å°±ä¼šè°ƒç”¨å®ƒè‡ªå·±çš„hitTest(_:with:)æ–¹æ³•ï¼ˆä¸ç®¡è¿™ä¸ªæ§ä»¶èƒ½ä¸èƒ½å¤„ç†äº‹ä»¶ï¼‰ ä½œç”¨å¯»æ‰¾å¹¶è¿”å›æœ€åˆé€‚çš„view(èƒ½å¤Ÿå“åº”äº‹ä»¶çš„é‚£ä¸ªæœ€åˆé€‚çš„view) æ‹¦æˆªäº‹ä»¶çš„å¤„ç† é€šè¿‡é‡å†™hitTest(_:with:)æ–¹æ³•ï¼Œè¿”å›æŒ‡å®šçš„viewä½œä¸ºæœ€åˆé€‚çš„viewã€‚ ä¸ç®¡ç‚¹å‡»å“ªé‡Œï¼Œæœ€åˆé€‚çš„viewéƒ½æ˜¯hitTest(_:with:)æ–¹æ³•ä¸­è¿”å›çš„é‚£ä¸ªviewã€‚ é€šè¿‡é‡å†™hitTest(_:with:)ï¼Œå°±å¯ä»¥æ‹¦æˆªäº‹ä»¶çš„ä¼ é€’è¿‡ç¨‹ï¼Œæƒ³è®©è°å¤„ç†äº‹ä»¶è°å°±å¤„ç†äº‹ä»¶ã€‚ äº‹ä»¶çš„ä¼ é€’é¡ºåº æ˜¯ï¼šäº§ç”Ÿè§¦æ‘¸äº‹ä»¶ -&gt; UIApplicationäº‹ä»¶é˜Ÿåˆ— -&gt; UIWindow.hitTest(_:with:) -&gt;è¿”å›æ›´åˆé€‚çš„view -&gt; å­æ§ä»¶.hitTest(_:with:) -&gt; è¿”å›æœ€åˆé€‚çš„view 6.1.2 point(inside:with:) æ–¹æ³•æ¬¡æ–¹æ³•åˆ¤æ–­ç‚¹åœ¨ä¸åœ¨å½“å‰viewä¸Šï¼ˆæ–¹æ³•è°ƒç”¨è€…çš„åæ ‡ç³»ä¸Šï¼‰å¦‚æœè¿”å›trueï¼Œä»£è¡¨ç‚¹åœ¨æ–¹æ³•è°ƒç”¨è€…çš„åæ ‡ç³»ä¸Š;è¿”å›falseä»£è¡¨ç‚¹ä¸åœ¨æ–¹æ³•è°ƒç”¨è€…çš„åæ ‡ç³»ä¸Šï¼Œé‚£ä¹ˆæ–¹æ³•è°ƒç”¨è€…ä¹Ÿå°±ä¸èƒ½å¤„ç†äº‹ä»¶ã€‚ 7 äº‹ä»¶çš„å“åº”äº‹ä»¶çš„ä¼ é€’å’Œå“åº”çš„åŒºåˆ«ï¼š äº‹ä»¶çš„ä¼ é€’æ˜¯ä»ä¸Šåˆ°ä¸‹ï¼ˆçˆ¶æ§ä»¶åˆ°å­æ§ä»¶ï¼‰ï¼Œäº‹ä»¶çš„å“åº”æ˜¯ä»ä¸‹åˆ°ä¸Šï¼ˆé¡ºç€å“åº”è€…é“¾æ¡å‘ä¸Šä¼ é€’ï¼šå­æ§ä»¶åˆ°çˆ¶æ§ä»¶ã€‚ å‚è€ƒï¼šå²ä¸Šæœ€è¯¦ç»†çš„iOSä¹‹äº‹ä»¶çš„ä¼ é€’å’Œå“åº”æœºåˆ¶-åŸç†ç¯‡iOSè§¦æ‘¸äº‹ä»¶å…¨å®¶æ¡¶å²ä¸Šæœ€è¯¦ç»†çš„iOSä¹‹äº‹ä»¶çš„ä¼ é€’å’Œå“åº”æœºåˆ¶-å®è·µç¯‡]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>äº‹ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 15ï¼šå®ç°è®¡ç®—å™¨ç•Œé¢å¸ƒå±€--Masonryå’ŒSnapKitçš„å­¦ä¹ ]]></title>
    <url>%2F2018%2Fios-tutorial-15.html</url>
    <content type="text"><![CDATA[Masonryå’ŒSnapKitåˆ†åˆ«æ˜¯OCã€Swiftçš„ç•Œé¢å¸ƒå±€æ¡†æ¶ï¼Œè€Œä¸”å¼€å‘è€…ç›¸åŒã€‚åˆ†åˆ«ç”¨è¿™ä¸¤ä¸ªæ¡†æ¶å®ç°ä¸€ä¸ªç®€å•è®¡ç®—å™¨ç•Œé¢ï¼š å®Œå…¨ä»£ç ï¼šLearniOSByProject/101-MasonryDemo å’Œ LearniOSByProject/114-SnapKitDemo æ˜¾ç¤ºåŒºåŸŸå’Œé”®ç›˜åŒºåŸŸï¼š 12345678910111213141516171819202122232425262728293031323334//ç”³æ˜åŒºåŸŸï¼ŒdisplayViewæ˜¯æ˜¾ç¤ºåŒºåŸŸï¼ŒkeyboardViewæ˜¯é”®ç›˜åŒºåŸŸ UIView *displayView = [UIView new]; [displayView setBackgroundColor:[UIColor blackColor]]; [self.view addSubview:displayView]; UIView *keyboardView = [UIView new]; [self.view addSubview:keyboardView]; //displViewï¼ˆæ˜¾ç¤ºç»“æœåŒºåŸŸï¼‰å’Œ keyboardViewï¼ˆé”®ç›˜åŒºåŸŸï¼‰ [displayView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.top.equalTo(self.view.mas_top); make.left.and.right.equalTo(self.view); // displViewæ˜¯keyboardViewçš„0.3å€ï¼Œä¹Ÿå°±æ˜¯å‰è€…æ˜¯3ä»½ï¼Œåè€…æ˜¯10ä»½ã€‚æ•´ä¸ªå±å¹•çš„å æ¯”æ˜¯å‰è€…3/13,åè€…10/13 make.height.equalTo(keyboardView).multipliedBy(0.3f); &#125;]; [keyboardView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.top.equalTo(displayView.mas_bottom); make.bottom.equalTo(self.view.mas_bottom); make.left.and.right.equalTo(self.view); &#125;]; //è®¾ç½®æ˜¾ç¤ºä½ç½®çš„æ•°å­—ä¸º0 UILabel *displayNum = [[UILabel alloc]init]; [displayView addSubview:displayNum]; displayNum.text = @&quot;0&quot;; displayNum.font = [UIFont fontWithName:@&quot;HeiTi SC&quot; size:70]; displayNum.textColor = [UIColor whiteColor]; displayNum.textAlignment = NSTextAlignmentRight; [displayNum mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.left.and.right.equalTo(displayView).with.offset(-10); make.bottom.equalTo(displayView).with.offset(-10); &#125;]; é”®ç›˜åŒºåŸŸå’Œçº¦æŸ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109//å®šä¹‰é”®ç›˜é”®åç§°ï¼Œï¼Ÿå·ä»£è¡¨åˆå¹¶çš„å•å…ƒæ ¼ NSArray *keys = @[@&quot;AC&quot;,@&quot;+/-&quot;,@&quot;%&quot;,@&quot;Ã·&quot; ,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;x&quot; ,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;-&quot; ,@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;+&quot; ,@&quot;0&quot;,@&quot;?&quot;,@&quot;.&quot;,@&quot;=&quot;]; int indexOfKeys = 0; for (NSString *key in keys)&#123; //å¾ªç¯æ‰€æœ‰é”® indexOfKeys++; int rowNum = (indexOfKeys % 4 == 0) ? indexOfKeys/4 : (indexOfKeys/4 + 1); int colNum = (indexOfKeys % 4 == 0) ? 4 : indexOfKeys % 4; NSLog(@&quot;index is:%d and row:%d,col:%d&quot;,indexOfKeys,rowNum,colNum); //é”®æ ·å¼ UIButton *keyView = [UIButton buttonWithType:UIButtonTypeCustom]; [keyboardView addSubview:keyView]; [keyView setTitleColor:[UIColor blackColor] forState:UIControlStateNormal]; [keyView setTitle:key forState:UIControlStateNormal]; [keyView.layer setBorderWidth:1]; [keyView.layer setBorderColor:[[UIColor blackColor]CGColor]]; [keyView.titleLabel setFont:[UIFont fontWithName:@&quot;Arial-BoldItalicMT&quot; size:30]]; //é”®çº¦æŸ [keyView mas_makeConstraints:^(MASConstraintMaker *make) &#123; //å¤„ç† 0 åˆå¹¶å•å…ƒæ ¼ if([key isEqualToString:@&quot;0&quot;] || [key isEqualToString:@&quot;?&quot;] )&#123; if([key isEqualToString:@&quot;0&quot;])&#123; [keyView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.height.equalTo(keyboardView.mas_height).with.multipliedBy(.2f); make.width.equalTo(keyboardView.mas_width).multipliedBy(.5); make.left.equalTo(keyboardView.mas_left); make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.92f); &#125;]; &#125;if([key isEqualToString:@&quot;?&quot;])&#123; [keyView removeFromSuperview]; &#125; &#125; //æ­£å¸¸çš„å•å…ƒæ ¼ else&#123; make.width.equalTo(keyboardView.mas_width).with.multipliedBy(.25f); make.height.equalTo(keyboardView.mas_height).with.multipliedBy(.2f); //æŒ‰ç…§è¡Œå’Œåˆ—æ·»åŠ çº¦æŸï¼Œè¿™é‡Œæ·»åŠ è¡Œçº¦æŸ switch (rowNum) &#123; case 1: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.12f); &#125; break; case 2: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.32f); &#125; break; case 3: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.52f); &#125; break; case 4: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.72f); &#125; break; case 5: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.92f); &#125; break; default: break; &#125; //æŒ‰ç…§è¡Œå’Œåˆ—æ·»åŠ çº¦æŸï¼Œè¿™é‡Œæ·»åŠ åˆ—çº¦æŸ switch (colNum) &#123; case 1: &#123; make.left.equalTo(keyboardView.mas_left); &#125; break; case 2: &#123; make.right.equalTo(keyboardView.mas_centerX); &#125; break; case 3: &#123; make.left.equalTo(keyboardView.mas_centerX); &#125; break; case 4: &#123; make.right.equalTo(keyboardView.mas_right); &#125; break; default: break; &#125; &#125; &#125;]; &#125; å‚è€ƒï¼šå¿˜è®°è®°å½•äº†ğŸ˜]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 14ï¼šç®€å•çš„ä¸‹æ‹‰èœå• -- dropDownMenu]]></title>
    <url>%2F2018%2Fios-tutorial-14.html</url>
    <content type="text"><![CDATA[è¯¦ç»†ä»£ç ï¼š dropDownMenu æŒ‰é’®dropDownBtn: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687class dropDownBtn: UIButton, dropDownProtocol &#123; func dropDownPressed(string: String) &#123; self.setTitle(string, for: .normal) self.dismissDropDown() &#125; var dropView = dropDownView() var height = NSLayoutConstraint() override init(frame: CGRect) &#123; super.init(frame: frame) self.backgroundColor = UIColor.darkGray dropView = dropDownView.init(frame: CGRect.init(x: 0, y: 0, width: 0, height: 0)) dropView.translatesAutoresizingMaskIntoConstraints = false dropView.delegate = self &#125; // æœ¬è§†å›¾è¢«æ·»åŠ åˆ°çˆ¶è§†å›¾ä¸Šæ—¶è°ƒç”¨ override func didMoveToSuperview() &#123; self.superview?.addSubview(dropView) self.superview?.bringSubview(toFront: dropView) dropView.topAnchor.constraint(equalTo: self.bottomAnchor).isActive = true dropView.centerXAnchor.constraint(equalTo: self.centerXAnchor).isActive = true dropView.widthAnchor.constraint(equalTo: self.widthAnchor).isActive = true height = dropView.heightAnchor.constraint(equalToConstant: 0) &#125; var isOpen = false // åˆšè§¦æ‘¸æ—¶è°ƒç”¨ override func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) &#123; if isOpen == false &#123; isOpen = true NSLayoutConstraint.deactivate([self.height]) if self.dropView.tableView.contentSize.height &gt; 150 &#123; self.height.constant = 150 &#125; else &#123; self.height.constant = self.dropView.tableView.contentSize.height &#125; NSLayoutConstraint.activate([self.height]) UIView.animate(withDuration: 0.5, delay: 0, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.5, options: .curveEaseInOut, animations: &#123; self.dropView.layoutIfNeeded() print(self.center, self.dropView.center, self.dropView.frame.height, self.dropView.frame.width) self.dropView.center.y += self.dropView.frame.height / 2 &#125;, completion: nil) &#125; else &#123; isOpen = false NSLayoutConstraint.deactivate([self.height]) self.height.constant = 0 NSLayoutConstraint.activate([self.height]) UIView.animate(withDuration: 0.5, delay: 0, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.5, options: .curveEaseInOut, animations: &#123; self.dropView.center.y -= self.dropView.frame.height / 2 self.dropView.layoutIfNeeded() &#125;, completion: nil) &#125; &#125; func dismissDropDown() &#123; isOpen = false NSLayoutConstraint.deactivate([self.height]) self.height.constant = 0 NSLayoutConstraint.activate([self.height]) UIView.animate(withDuration: 0.5, delay: 0, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.5, options: .curveEaseInOut, animations: &#123; self.dropView.center.y -= self.dropView.frame.height / 2 self.dropView.layoutIfNeeded() &#125;, completion: nil) &#125; required init?(coder aDecoder: NSCoder) &#123; fatalError(&quot;init(coder:) has not been implemented&quot;) &#125;&#125; ä¸‹æ‹‰è§†å›¾dropDownView 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354class dropDownView: UIView, UITableViewDelegate, UITableViewDataSource &#123; var dropDownOptions = [String]() var tableView = UITableView() var delegate: dropDownProtocol! override init(frame: CGRect) &#123; super.init(frame: frame) tableView.backgroundColor = UIColor.darkGray self.backgroundColor = UIColor.darkGray tableView.delegate = self tableView.dataSource = self tableView.translatesAutoresizingMaskIntoConstraints = false self.addSubview(tableView) tableView.leftAnchor.constraint(equalTo: self.leftAnchor).isActive = true tableView.rightAnchor.constraint(equalTo: self.rightAnchor).isActive = true tableView.topAnchor.constraint(equalTo: self.topAnchor).isActive = true tableView.bottomAnchor.constraint(equalTo: self.bottomAnchor).isActive = true &#125; required init?(coder aDecoder: NSCoder) &#123; fatalError(&quot;init(coder:) has not been implemented&quot;) &#125; func numberOfSections(in tableView: UITableView) -&gt; Int &#123; return 1 &#125; func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return dropDownOptions.count &#125; func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = UITableViewCell() cell.textLabel?.text = dropDownOptions[indexPath.row] cell.backgroundColor = UIColor.darkGray return cell &#125; func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; self.delegate.dropDownPressed(string: dropDownOptions[indexPath.row]) self.tableView.deselectRow(at: indexPath, animated: true) &#125; &#125; å‚è€ƒï¼šhttps://www.youtube.com/watch?v=22zu-OTS-3M]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ•´ç†ä¹‹å‰å­¦çš„iOSå°é¡¹ç›®åˆé›†â€”â€”LearniOSByProject]]></title>
    <url>%2F2018%2Flearniosbyproject.html</url>
    <content type="text"><![CDATA[ä»‹ç»LearniOSByProjectæœ¬æ¥æ˜¯è‡ªå·±å­¦ä¹ iOSæ—¶çš„ä¸€äº›éå¸¸ç®€å•å°ä¾‹å­ï¼Œå°é¡¹ç›®ï¼Œæˆ–è€…æˆ‘ä¸ªäººåšå®¢AndyRonâ€™s Blogæ–‡ç« çš„ä»£ç é›†åˆã€‚æ²¡æœ‰æŒ‰ç…§ä»€ä¹ˆè·¯çº¿å­¦ä¹ ï¼Œå°±æ˜¯å­¦åˆ°ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆäº†ï¼Œçœ‹ä¸Šå»ç‰¹åˆ«ä¹±ï¼Œæˆ‘è‡ªå·±æœ‰æ—¶å€™ä¹Ÿéå¸¸æ‡µé€¼ï¼Œç„¶åçœ‹åˆ°é“é•¿å‰è¾ˆçš„é¡¹ç›®Swift-30-Projectsï¼Œå°±æ•´ç†ã€ç­›é€‰ä¸€ä¸‹ï¼Œè¿™æ ·çœ‹ç€æ¸…æ™°ä¸€ç‚¹ï¼Œæ‰¾èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚ è¯­è¨€æ–¹é¢å¤§éƒ¨åˆ†æ˜¯Swiftï¼Œä¸ªåˆ«é¡¹ç›®æ˜¯OCã€‚ ä»¥æ•°å­—ä¸ºç›®å½•åªæ˜¯ä¸ºäº†è®°å½•é¡¹ç›®æ•°å’Œæ’åºï¼Œæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰ã€‚ ä¸‹è½½å•ä¸ªé¡¹ç›®å¯ä»¥å‚è€ƒ DownGitï¼šæ€ä¹ˆä¸‹è½½githubä¸­æŸä¸ªæ–‡ä»¶å¤¹ï¼Ÿ æ€»è§ˆå›¾ ä¸€äº›é¡¹ç›®çš„é¢„è§ˆå›¾]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘å…³äºæ²™ç›’]]></title>
    <url>%2F2018%2Fios-sandbox.html</url>
    <content type="text"><![CDATA[æ¯ä¸ªiOSç¨‹åºéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆå­˜å‚¨ç©ºé—´ï¼‰ï¼Œè€Œä¸”åªèƒ½åœ¨å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿä¸­è¿›è¡Œæ“ä½œï¼Œæ­¤åŒºåŸŸè¢«ç§°ä¸ºæ²™ç›’ã€‚åº”ç”¨å¿…é¡»å¾…åœ¨è‡ªå·±çš„æ²™ç›’é‡Œï¼Œå…¶ä»–åº”ç”¨ä¸èƒ½è®¿é—®è¯¥æ²™ç›’ã€‚æ‰€æœ‰çš„éä»£ç æ–‡ä»¶éƒ½è¦ä¿å­˜åœ¨æ­¤ï¼Œä¾‹å¦‚å±æ€§æ–‡ä»¶plistã€æ–‡æœ¬æ–‡ä»¶ã€å›¾åƒã€å›¾æ ‡ã€åª’ä½“èµ„æºç­‰ã€‚ æ²™ç›’ä¸­ç›¸å…³è·¯å¾„ AppName.app åº”ç”¨ç¨‹åºçš„ç¨‹åºåŒ…ç›®å½•ï¼ŒåŒ…å«åº”ç”¨ç¨‹åºçš„æœ¬èº«ã€‚ç”±äºåº”ç”¨ç¨‹åºå¿…é¡»ç»è¿‡ç­¾åï¼Œæ‰€ä»¥ä¸èƒ½åœ¨è¿è¡Œæ—¶å¯¹è¿™ä¸ªç›®å½•ä¸­çš„å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ã€‚ Documents/ ä¿å­˜åº”ç”¨ç¨‹åºçš„é‡è¦æ•°æ®æ–‡ä»¶å’Œç”¨æˆ·æ•°æ®æ–‡ä»¶ç­‰ã€‚ç”¨æˆ·æ•°æ®åŸºæœ¬ä¸Šéƒ½æ”¾åœ¨è¿™ä¸ªä½ç½®(ä¾‹å¦‚ä»ç½‘ä¸Šä¸‹è½½çš„å›¾ç‰‡æˆ–éŸ³ä¹æ–‡ä»¶)ï¼Œè¯¥æ–‡ä»¶å¤¹åœ¨åº”ç”¨ç¨‹åºæ›´æ–°æ—¶ä¼šè‡ªåŠ¨å¤‡ä»½ï¼Œåœ¨è¿æ¥iTunesæ—¶ä¹Ÿå¯ä»¥è‡ªåŠ¨åŒæ­¥å¤‡ä»½å…¶ä¸­çš„æ•°æ®ã€‚ Libraryï¼šè¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸¤ä¸ªå­ç›®å½•,å¯åˆ›å»ºå­æ–‡ä»¶å¤¹ã€‚å¯ä»¥ç”¨æ¥æ”¾ç½®æ‚¨å¸Œæœ›è¢«å¤‡ä»½ä½†ä¸å¸Œæœ›è¢«ç”¨æˆ·çœ‹åˆ°çš„æ•°æ®ã€‚è¯¥è·¯å¾„ä¸‹çš„æ–‡ä»¶å¤¹ï¼Œé™¤Cachesä»¥å¤–ï¼Œéƒ½ä¼šè¢«iTuneså¤‡ä»½. Library/Caches: ä¿å­˜åº”ç”¨ç¨‹åºä½¿ç”¨æ—¶äº§ç”Ÿçš„æ”¯æŒæ–‡ä»¶å’Œç¼“å­˜æ–‡ä»¶(ä¿å­˜åº”ç”¨ç¨‹åºå†æ¬¡å¯åŠ¨è¿‡ç¨‹ä¸­éœ€è¦çš„ä¿¡æ¯)ï¼Œè¿˜æœ‰æ—¥å¿—æ–‡ä»¶æœ€å¥½ä¹Ÿæ”¾åœ¨è¿™ä¸ªç›®å½•ã€‚iTunes åŒæ­¥æ—¶ä¸ä¼šå¤‡ä»½è¯¥ç›®å½•å¹¶ä¸”å¯èƒ½è¢«å…¶ä»–å·¥å…·æ¸…ç†æ‰å…¶ä¸­çš„æ•°æ®ã€‚ Library/Preferences: ä¿å­˜åº”ç”¨ç¨‹åºçš„åå¥½è®¾ç½®æ–‡ä»¶ã€‚NSUserDefaultsç±»åˆ›å»ºçš„æ•°æ®å’Œplistæ–‡ä»¶éƒ½æ”¾åœ¨è¿™é‡Œã€‚ä¼šè¢«iTuneså¤‡ä»½ã€‚ tmp/: ä¿å­˜åº”ç”¨è¿è¡Œæ—¶æ‰€éœ€è¦çš„ä¸´æ—¶æ•°æ®ã€‚ä¸ä¼šè¢«iTuneså¤‡ä»½ã€‚iPhoneé‡å¯æ—¶ï¼Œä¼šè¢«æ¸…ç©ºã€‚ 12345678910111213141516171819// è·å–æ²™ç›’æ ¹ç›®å½•è·¯å¾„ NSString *homeDir = NSHomeDirectory(); // è·å–Documentsç›®å½•è·¯å¾„ NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES) firstObject]; //è·å–Libraryçš„ç›®å½•è·¯å¾„ NSString *libDir = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory,NSUserDomainMask,YES) lastObject]; // è·å–cacheç›®å½•è·¯å¾„ NSString *cachesDir = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory,NSUserDomainMask,YES) firstObject]; // è·å–tmpç›®å½•è·¯å¾„ NSString *tmpDir =NSTemporaryDirectory(); // è·å–åº”ç”¨ç¨‹åºç¨‹åºåŒ…ä¸­èµ„æºæ–‡ä»¶è·¯å¾„çš„æ–¹æ³•ï¼š NSString *bundle = [[NSBundle mainBundle] bundlePath]; NSLog(@&quot;homeDir=%@ \n docDir=%@ \n libDir=%@ \n cachesDir=%@ \n tmpDir=%@ \n bundle=%@&quot;, homeDir,docDir, libDir, cachesDir, tmpDir, bundle); ç»“æœä¸ºï¼š123456homeDir=/var/mobile/Containers/Data/Application/FBE41071-F5DD-4F02-9DFC-E9E473D3C917 docDir=/var/mobile/Containers/Data/Application/FBE41071-F5DD-4F02-9DFC-E9E473D3C917/Documents libDir=/var/mobile/Containers/Data/Application/FBE41071-F5DD-4F02-9DFC-E9E473D3C917/Library cachesDir=/var/mobile/Containers/Data/Application/FBE41071-F5DD-4F02-9DFC-E9E473D3C917/Library/Caches tmpDir=/private/var/mobile/Containers/Data/Application/FBE41071-F5DD-4F02-9DFC-E9E473D3C917/tmp/ bundle=/var/containers/Bundle/Application/4A42EF08-30BA-4C19-B0C9-62903300C2BC/SandboxDemo.app å…³äºNSSearchPathForDirectoriesInDomainså‡½æ•°FOUNDATION_EXPORT NSArray&lt;NSString *&gt; *NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory directory, NSSearchPathDomainMask domainMask, BOOL expandTilde); ç”¨äºæŸ¥æ‰¾ç›®å½•ï¼Œè¿”å›æŒ‡å®šèŒƒå›´å†…çš„æŒ‡å®šåç§°çš„ç›®å½•çš„è·¯å¾„é›†åˆã€‚æœ‰ä¸‰ä¸ªå‚æ•°ï¼š NSSearchPathDirectory directory æƒ³è¦æŸ¥æ‰¾çš„ç›®å½•ï¼Œæ˜¯ä¸ªæšä¸¾å€¼ï¼Œæœ‰å¾ˆå¤šå€¼ï¼Œæœ‰å…³äºiOSçš„ï¼Œæœ‰å…³äºmacOSï¼Œä¹Ÿæœ‰å…³äºwatchOSçš„ã€‚ 123456789101112131415161718192021222324252627282930typedef NS_ENUM(NSUInteger, NSSearchPathDirectory) &#123; NSApplicationDirectory = 1, // supported applications (Applications) NSDemoApplicationDirectory, // unsupported applications, demonstration versions (Demos) NSDeveloperApplicationDirectory, // developer applications (Developer/Applications). DEPRECATED - there is no one single Developer directory. NSAdminApplicationDirectory, // system and network administration applications (Administration) NSLibraryDirectory, // various documentation, support, and configuration files, resources (Library) NSDeveloperDirectory, // developer resources (Developer) DEPRECATED - there is no one single Developer directory. NSUserDirectory, // user home directories (Users) NSDocumentationDirectory, // documentation (Documentation) NSDocumentDirectory, // documents (Documents) NSCoreServiceDirectory, // location of CoreServices directory (System/Library/CoreServices) NSAutosavedInformationDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 11, // location of autosaved documents (Documents/Autosaved) NSDesktopDirectory = 12, // location of user&apos;s desktop NSCachesDirectory = 13, // location of discardable cache files (Library/Caches) NSApplicationSupportDirectory = 14, // location of application support files (plug-ins, etc) (Library/Application Support) NSDownloadsDirectory API_AVAILABLE(macos(10.5), ios(2.0), watchos(2.0), tvos(9.0)) = 15, // location of the user&apos;s &quot;Downloads&quot; directory NSInputMethodsDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 16, // input methods (Library/Input Methods) NSMoviesDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 17, // location of user&apos;s Movies directory (~/Movies) NSMusicDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 18, // location of user&apos;s Music directory (~/Music) NSPicturesDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 19, // location of user&apos;s Pictures directory (~/Pictures) NSPrinterDescriptionDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 20, // location of system&apos;s PPDs directory (Library/Printers/PPDs) NSSharedPublicDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 21, // location of user&apos;s Public sharing directory (~/Public) NSPreferencePanesDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 22, // location of the PreferencePanes directory for use with System Preferences (Library/PreferencePanes) NSApplicationScriptsDirectory NS_ENUM_AVAILABLE(10_8, NA) = 23, // location of the user scripts folder for the calling application (~/Library/Application Scripts/code-signing-id) NSItemReplacementDirectory API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0)) = 99, // For use with NSFileManager&apos;s URLForDirectory:inDomain:appropriateForURL:create:error: NSAllApplicationsDirectory = 100, // all directories where applications can occur NSAllLibrariesDirectory = 101, // all directories where resources can occur NSTrashDirectory API_AVAILABLE(macos(10.8), ios(11.0)) API_UNAVAILABLE(watchos, tvos) = 102 // location of Trash directory&#125;; NSSearchPathDomainMask domainMask è¡¨ç¤ºâ€œæƒ³è¦ä»å“ªä¸ªè·¯å¾„åŒºåŸŸä¿æŠ¤åŒºæŸ¥æ‰¾â€ã€‚ 1234567typedef NS_OPTIONS(NSUInteger, NSSearchPathDomainMask) &#123; NSUserDomainMask =1, // ç”¨æˆ·çš„ä¸»ç›®å½• NSLocalDomainMask =2, // å½“å‰æœºå™¨çš„æœ¬åœ°ç›®å½• NSNetworkDomainMask =4, //åœ¨ç½‘ç»œä¸­å…¬å¼€å¯ç”¨çš„ä½ç½® NSSystemDomainMask =8, // è¢«è‹¹æœç³»ç»Ÿæä¾›çš„ï¼Œä¸å¯æ›´æ”¹çš„ä½ç½® (/System) NSAllDomainsMask = 0x0ffff // ä¸Šè¿°æ‰€æœ‰åŠæœªæ¥çš„ä½ç½®&#125;; BOOL expandTilde è¡¨ç¤ºæ˜¯å¦ç”¨æ³¢æµªçº¿æ˜¾ç¤ºéƒ¨åˆ†ç›®å½•è·¯å¾„ã€‚~åœ¨ Linuxæˆ–Unix ç³»ç»Ÿè¡¨ç¤ºå½“å‰ç”¨æˆ·çš„Homeç›®å½•ã€‚åˆ—å¦‚ä¸Šé¢è·å–cacheç›®å½•è·¯å¾„å¦‚æœä½¿ç”¨NOï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯cachesDir=~/Library/Caches å‚è€ƒï¼šæ²™ç›’å’ŒNSBundleNSSearchPathForDirectoriesInDomainsæ–¹æ³•ä½¿ç”¨æ²™ç›’å’ŒNSBundleæ–‡ä»¶ç³»ç»Ÿå®˜æ–¹æ‰‹å†Œ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>sandbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘ï¼šå­¦ä¹ Runtime]]></title>
    <url>%2F2018%2Fios-runtime-begin.html</url>
    <content type="text"><![CDATA[å­¦ä¹ iOSå¼€å‘ï¼Œruntimeè¿™ä¸ªçŸ¥è¯†ç‚¹æ˜¯ç»•ä¸è¿‡å»çš„ï¼Œä½†å¯¹äºæˆ‘è¿™ç§å­¦ä¹ OCä¸æ˜¯å¤ªä¹…ï¼Œå†™OCçš„é‡ä¸å¤Ÿå¤šçš„äººæ¥è¯´ï¼ŒæŠ½è±¡ç†è§£runtimeçš„æ¦‚å¿µæˆ–è€…æ˜¯çœ‹æºä»£ç æœ‰ç‚¹æ¯ç‡¥ï¼Œæ•ˆæœä¹Ÿä¸å¥½ï¼Œä»¥ä¾‹å­çš„æ–¹æ³•å­¦ä¹ å¯èƒ½ä¼šæ›´å¥½ï¼Œéšç€ä»£ç é‡çš„ä¸Šå‡ï¼Œå¯¹runtimeçš„ç†è§£ä¼šè¶Šæ¥è¶Šæ·±å…¥ã€‚è¯¦ç»†ä»£ç ARRuntimeDemo,å¼€å‘ç¯å¢ƒXcode9.4 Person.hä¸ºï¼š123456789101112131415#import &lt;Foundation/Foundation.h&gt;@interface Person : NSObject&#123; NSString * firstName;&#125;@property (nonatomic, assign) int age;+(void)run;+(void)study;-(void)f1;-(void)f2;@end Person.mä¸ºï¼š12345678910111213141516171819202122232425262728293031323334#import &quot;Person.h&quot;@implementation Person&#123; NSString *lastname; float weight;&#125;-(instancetype)init &#123; self = [super init]; if (self) &#123; firstName = @&quot;Andy&quot;; &#125; return self;&#125;-(void)f1 &#123; NSLog(@&quot;æ‰§è¡Œf1&quot;);&#125;-(void)f2 &#123; NSLog(@&quot;æ‰§è¡Œf2&quot;);&#125;+ (void)run &#123; NSLog(@&quot;è·‘&quot;);&#125;+ (void)study &#123; NSLog(@&quot;å­¦ä¹ &quot;);&#125;@end 1 è·å–ç±»çš„æ‰€æœ‰å˜é‡(åŒ…æ‹¬æˆå‘˜å˜é‡å’Œå±æ€§å˜é‡)12345678910111213// 1. è·å–æ‰€æœ‰å˜é‡ï¼ŒåŒ…æ‹¬æˆå‘˜å˜é‡å’Œå±æ€§å˜é‡- (IBAction)getAllVar:(UIButton *)sender &#123; unsigned int count = 0; Ivar *allVariables = class_copyIvarList([Person class], &amp;count); for (int i=0; i&lt;count; i++) &#123; Ivar ivar = allVariables[i]; const char *Variablename = ivar_getName(ivar); const char *VariableType = ivar_getTypeEncoding(ivar); NSLog(@&quot;Name: %s Type: %s&quot;, Variablename, VariableType); &#125;&#125; ç»“æœè¾“å‡º(å…¶ä¸­firstNameã€lastnameã€weightä¸ºæˆå‘˜å˜é‡ï¼Œ_ageä¸ºå±æ€§å˜é‡)ï¼š12342018-06-01 17:04:56.275194+0800 ARRuntimeDemo[60670:5448260] Name: firstName Type: @&quot;NSString&quot;2018-06-01 17:04:56.276120+0800 ARRuntimeDemo[60670:5448260] Name: lastname Type: @&quot;NSString&quot;2018-06-01 17:04:56.276503+0800 ARRuntimeDemo[60670:5448260] Name: weight Type: f2018-06-01 17:04:56.276614+0800 ARRuntimeDemo[60670:5448260] Name: _age Type: i è§£é‡Šï¼š Ivaï¼Œä¸€ä¸ªæŒ‡å‘objc_ivarç»“æ„ä½“æŒ‡é’ˆ,åŒ…å«äº†å˜é‡åã€å˜é‡ç±»å‹ç­‰ä¿¡æ¯ åƒlastnameã€weightè¿™ç§å®šä¹‰åœ¨@implementationæ‰€è°“çš„ç§æœ‰å˜é‡ä¹Ÿå¯è·å– å¯¹åº”class_copyIvarListè¿˜æœ‰ä¸€ä¸ªclass_copyPropertyListåªèƒ½è·å¾—å±æ€§å˜é‡çš„æ–¹æ³• 2 è·å–æ‰€æœ‰æ–¹æ³•ï¼ˆä¸åŒ…æ‹¬ç±»æ–¹æ³•ï¼‰12345678910111213141516// 2. è·å–æ‰€æœ‰æ–¹æ³•ï¼Œä¸åŒ…æ‹¬ç±»æ–¹æ³•- (IBAction)getAllMethod:(UIButton *)sender &#123; unsigned int count; //è·å–æ–¹æ³•åˆ—è¡¨ï¼Œæ‰€æœ‰åœ¨.mæ–‡ä»¶æ˜¾å¼å®ç°çš„æ–¹æ³•éƒ½ä¼šè¢«æ‰¾åˆ°ï¼ŒåŒ…æ‹¬setter+getteræ–¹æ³•ï¼› Method *allMethods = class_copyMethodList([Person class], &amp;count); for(int i =0;i&lt;count;i++) &#123; //Methodï¼Œä¸ºruntimeå£°æ˜çš„ä¸€ä¸ªå®ï¼Œè¡¨ç¤ºå¯¹ä¸€ä¸ªæ–¹æ³•çš„æè¿° Method md = allMethods[i]; //è·å–SELï¼šSELç±»å‹,å³è·å–æ–¹æ³•é€‰æ‹©å™¨@selector() SEL sel = method_getName(md); //å¾—åˆ°selçš„æ–¹æ³•åï¼šä»¥å­—ç¬¦ä¸²æ ¼å¼è·å–selçš„nameï¼Œä¹Ÿå³@selector()ä¸­çš„æ–¹æ³•åç§° const char *methodname = sel_getName(sel); NSLog(@&quot;(Method:%s)&quot;,methodname); &#125;&#125; ç»“æœè¾“å‡º:123456782018-06-01 16:54:50.433232+0800 ARRuntimeDemo[60482:5418318] (Method:f1)2018-06-01 16:54:50.433465+0800 ARRuntimeDemo[60482:5418318] (Method:f2)2018-06-01 16:54:50.433930+0800 ARRuntimeDemo[60482:5418318] (Method:.cxx_destruct)2018-06-01 16:54:50.434335+0800 ARRuntimeDemo[60482:5418318] (Method:init)2018-06-01 16:54:50.435163+0800 ARRuntimeDemo[60482:5418318] (Method:height)2018-06-01 16:54:50.435788+0800 ARRuntimeDemo[60482:5418318] (Method:setHeight:)2018-06-01 16:54:50.435990+0800 ARRuntimeDemo[60482:5418318] (Method:setAge:)2018-06-01 16:54:50.436482+0800 ARRuntimeDemo[60482:5418318] (Method:age) è§£é‡Šï¼š è·å¾—äº†åƒheight,setHeightè¿™ç§éšè—çš„setterã€getteræ–¹æ³• Methodæ˜¯ä¸€ä¸ªæŒ‡å‘objc_methodç»“æ„ä½“æŒ‡é’ˆï¼Œè¡¨ç¤ºå¯¹ç±»ä¸­çš„æŸä¸ªæ–¹æ³•çš„æè¿°ã€‚ .cxx_destructæ˜¯å…³äºç³»ç»Ÿè‡ªåŠ¨å†…å­˜é‡Šæ”¾çš„éšè—æ–¹æ³• 3 ä¸ºç±»æ·»åŠ æ–°å±æ€§categoryåªèƒ½ä¸ºç±»æ·»åŠ æ–°æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ æ–°å±æ€§ï¼Œä½†é€šè¿‡runtimeé…åˆcategoryå°±å¯ä»¥è¾¾åˆ°æ·»åŠ å±æ€§æ•ˆæœã€‚é¦–å…ˆæ–°å»ºä¸€ä¸ªç±»Personçš„categoryï¼š.hæ–‡ä»¶123456789// Person+Category.h#import &quot;Person.h&quot;@interface Person (Category)@property (nonatomic, assign)float height;@end .mæ–‡ä»¶1234567891011121314151617181920212223242526// Person+Category.m#import &quot;Person+Category.h&quot;#import &lt;objc/runtime.h&gt;const char *key = &quot;myKey&quot;;@implementation Person (Category)-(void)setHeight:(float)height &#123; NSNumber *num = [NSNumber numberWithFloat:height]; /* objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦æ·»åŠ å±æ€§çš„å¯¹è±¡ï¼› ç¬¬äºŒä¸ªå‚æ•°æ˜¯å±æ€§çš„keyï¼Œæ˜¯Cå­—ç¬¦ä¸²å°±å¯ä»¥; ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å±æ€§çš„å€¼,ç±»å‹å¿…é¡»ä¸ºidï¼Œæ‰€ä»¥æ­¤å¤„heightå…ˆè½¬ä¸ºNSNumberç±»å‹ï¼› ç¬¬å››ä¸ªå‚æ•°æ˜¯ä½¿ç”¨ç­–ç•¥ï¼Œæ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œç±»ä¼¼@propertyå±æ€§åˆ›å»ºæ—¶è®¾ç½®å±æ€§ä¿®é¥°ç¬¦ï¼Œå¯ä»å‘½åçœ‹å‡ºå„æšä¸¾çš„æ„ä¹‰ï¼› */ objc_setAssociatedObject(self, key, num, OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;-(float)height &#123; NSNumber *number = objc_getAssociatedObject(self, key); return [number floatValue];&#125;@end ç„¶åå°±èƒ½è®¿é—®æ–°å±æ€§heightäº†ï¼š123456- (IBAction)addVar:(UIButton *)sender &#123; per = [[Person alloc] init]; per.height = 123; NSLog(@&quot;%f&quot;, [per height]);&#125; æ­¤æ—¶è™½ç„¶é€šè¿‡ä¸Šé¢çš„è·å–æ‰€æœ‰å˜é‡æ–¹æ³•ä¸èƒ½è·å–height,ä½†é€šè¿‡ä¸Šé¢çš„é¢è·å–æ‰€æœ‰æ–¹æ³•å¯ä»¥è·å–heightå’ŒsetHeightæ–¹æ³•äº†:123456789101112132018-06-01 17:14:36.945742+0800 ARRuntimeDemo[60892:5482950] Name: firstName Type: @&quot;NSString&quot;2018-06-01 17:14:36.948330+0800 ARRuntimeDemo[60892:5482950] Name: lastname Type: @&quot;NSString&quot;2018-06-01 17:14:36.948771+0800 ARRuntimeDemo[60892:5482950] Name: weight Type: f2018-06-01 17:14:36.949166+0800 ARRuntimeDemo[60892:5482950] Name: _age Type: i2018-06-01 17:15:02.198444+0800 ARRuntimeDemo[60892:5482950] (Method:f1)2018-06-01 17:15:02.198620+0800 ARRuntimeDemo[60892:5482950] (Method:f2)2018-06-01 17:15:02.198800+0800 ARRuntimeDemo[60892:5482950] (Method:.cxx_destruct)2018-06-01 17:15:02.198917+0800 ARRuntimeDemo[60892:5482950] (Method:init)2018-06-01 17:15:02.199048+0800 ARRuntimeDemo[60892:5482950] (Method:height)2018-06-01 17:15:02.199150+0800 ARRuntimeDemo[60892:5482950] (Method:setHeight:)2018-06-01 17:15:02.199239+0800 ARRuntimeDemo[60892:5482950] (Method:setAge:)2018-06-01 17:15:02.199356+0800 ARRuntimeDemo[60892:5482950] (Method:age) 4 æ·»åŠ æ–°æ–¹æ³•1234567891011121314151617// 4. æ·»åŠ æ–°æ–¹æ³•- (IBAction)addMethod:(UIButton *)sender &#123; /* åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼š ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºClass cls ç±»å‹ï¼› ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå¾…è°ƒç”¨çš„æ–¹æ³•åç§°ï¼› ç¬¬ä¸‰ä¸ªå‚æ•°(IMP)myAddingFunctionï¼ŒIMPä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œè¿™é‡Œè¡¨ç¤ºæŒ‡å®šå…·ä½“å®ç°æ–¹æ³•myAddingFunctionï¼› ç¬¬å››ä¸ªå‚æ•°è¡¨æ–¹æ³•çš„å‚æ•°ï¼Œ0ä»£è¡¨æ²¡æœ‰å‚æ•°ï¼› */ class_addMethod([per class], @selector(NewMethod), (IMP)myAddingFunction, 0); //è°ƒç”¨æ–¹æ³• ã€å¦‚æœä½¿ç”¨[per NewMethod]è°ƒç”¨æ–¹æ³•ï¼Œåœ¨ARCä¸‹ä¼šæŠ¥â€œno visible @interface&quot;é”™è¯¯ã€‘ [per performSelector:@selector(NewMethod)];&#125;//å…·ä½“çš„å®ç°ï¼ˆæ–¹æ³•çš„å†…éƒ¨éƒ½é»˜è®¤åŒ…å«ä¸¤ä¸ªå‚æ•°Classç±»å’ŒSELæ–¹æ³•ï¼Œè¢«ç§°ä¸ºéšå¼å‚æ•°ã€‚ï¼‰int myAddingFunction(id self, SEL _cmd)&#123; NSLog(@&quot;å·²æ–°å¢æ–¹æ³•:NewMethod&quot;); return 1;&#125; è¾“å‡ºï¼š12018-06-01 17:31:56.113168+0800 ARRuntimeDemo[61295:5543319] å·²æ–°å¢æ–¹æ³•:NewMethod 5 äº¤æ¢ä¸¤ä¸ªæ–¹æ³•12345678910111213// 5. äº¤æ¢ä¸¤ä¸ªæ–¹æ³•- (IBAction)swapMethod:(UIButton *)sender &#123; [Person run]; [Person study]; Method m1 = class_getClassMethod([Person class], @selector(run)); Method m2 = class_getClassMethod([Person class], @selector(study)); method_exchangeImplementations(m1, m2); [Person run]; [Person study];&#125; è¾“å‡ºï¼š12342018-06-01 17:39:00.497375+0800 ARRuntimeDemo[61448:5566239] è·‘2018-06-01 17:39:00.497841+0800 ARRuntimeDemo[61448:5566239] å­¦ä¹ 2018-06-01 17:39:00.499255+0800 ARRuntimeDemo[61448:5566239] å­¦ä¹ 2018-06-01 17:39:00.499449+0800 ARRuntimeDemo[61448:5566239] è·‘ è¿™ç¯‡æ–‡ç« æˆ‘åªæ˜¯åšäº†runtimeä¸€äº›ç®€å•ä½¿ç”¨ï¼Œå¹¶æ²¡æœ‰ç›¸å…³çš„ä½¿ç”¨åœºæ™¯ï¼Œç®—æ˜¯å…¥é—¨äº†ï¼Œæ–‡æœ«å‚è€ƒæåˆ°çš„æ–‡ç« éƒ½æ˜¯ä¸é”™ï¼Œå€¼å¾—ä»¥åæ·±å…¥ã€‚ å‚è€ƒï¼šiOSå¼€å‘ â€“ Runtime çš„å‡ ä¸ªå°ä¾‹å­OCæœ€å®ç”¨çš„runtimeæ€»ç»“ï¼Œé¢è¯•ã€å·¥ä½œä½ çœ‹æˆ‘å°±è¶³å¤Ÿäº†ï¼iOS-RunTimeï¼Œä¸å†åªæ˜¯å¬è¯´Runtimeå…¨æ–¹ä½è£…é€¼æŒ‡å— Objective-C Runtime]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSæ ¸å¿ƒåŠ¨ç”»å°ç»“(swift)]]></title>
    <url>%2F2018%2Fios-coreanimation-swift.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç éƒ½æ˜¯Swift4ï¼Œå‚çœ‹æ–‡æœ«é“¾æ¥ Core Animationæ˜¯IOSå’ŒOS Xå¹³å°ä¸Šè´Ÿè´£å›¾å½¢æ¸²æŸ“ä¸åŠ¨ç”»çš„åŸºç¡€æ¡†æ¶ã€‚Core Animationå¯ä»¥ä½œç”¨ä¸åŠ¨ç”»è§†å›¾æˆ–è€…å…¶ä»–å¯è§†å…ƒç´ ï¼Œä¸ºä½ å®Œæˆäº†åŠ¨ç”»æ‰€éœ€çš„å¤§éƒ¨åˆ†ç»˜ç”»å·¥ä½œã€‚ä½ åªéœ€è¦é…ç½®å°‘é‡çš„åŠ¨ç”»å‚æ•°ï¼ˆå¦‚å¼€å§‹ç‚¹çš„ä½ç½®å’Œç»“æŸç‚¹çš„ä½ç½®ï¼‰å³å¯ä½¿ç”¨Core Animationçš„åŠ¨ç”»æ•ˆæœã€‚Core Animationå°†å¤§éƒ¨åˆ†å®é™…çš„ç»˜å›¾ä»»åŠ¡äº¤ç»™äº†å›¾å½¢ç¡¬ä»¶æ¥å¤„ç†ï¼Œå›¾å½¢ç¡¬ä»¶ä¼šåŠ é€Ÿå›¾å½¢æ¸²æŸ“çš„é€Ÿåº¦ã€‚è¿™ç§è‡ªåŠ¨åŒ–çš„å›¾å½¢åŠ é€ŸæŠ€æœ¯è®©åŠ¨ç”»æ‹¥æœ‰æ›´é«˜çš„å¸§ç‡å¹¶ä¸”æ˜¾ç¤ºæ•ˆæœæ›´åŠ å¹³æ»‘ï¼Œä¸ä¼šåŠ é‡CPUçš„è´Ÿæ‹…è€Œå½±å“ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚ ä¸Šå›¾å°‘äº†iOS9æ‰å¼•å…¥çš„CASpringAnimation, å®ƒç»§æ‰¿è‡³CABasicAnimation ä¸€ã€å¸¸ç”¨å±æ€§è¿™äº›å±æ€§ä¸€èˆ¬æ˜¯åœ¨åŸºç±»CAAnimationå’Œåè®®CAMediaTimingä¸­ï¼Œæ˜¯å‡ ç§åŠ¨ç”»ç±»å…±ç”¨çš„å±æ€§ã€‚ duration : åŠ¨ç”»çš„æŒç»­æ—¶é—´ beginTime : åŠ¨ç”»çš„å¼€å§‹æ—¶é—´ repeatCount : åŠ¨ç”»çš„é‡å¤æ¬¡æ•° autoreverses :åŠ¨ç”»ç»“æŸæ—¶æ˜¯å¦æ‰§è¡Œé€†åŠ¨ç”» timingFunction : æ§åˆ¶åŠ¨ç”»çš„æ˜¾ç¤ºèŠ‚å¥ç³»ç»Ÿæä¾›äº”ç§å€¼é€‰æ‹©ï¼Œåˆ†åˆ«æ˜¯ï¼š kCAMediaTimingFunctionLinear çº¿æ€§åŠ¨ç”» kCAMediaTimingFunctionEaseIn å…ˆæ…¢åå¿«ï¼ˆæ…¢è¿›å¿«å‡ºï¼‰ kCAMediaTimingFunctionEaseOut å…ˆå—åæ…¢ï¼ˆå¿«è¿›æ…¢å‡ºï¼‰ kCAMediaTimingFunctionEaseInEaseOut å…ˆæ…¢åå¿«å†æ…¢ kCAMediaTimingFunctionDefault é»˜è®¤ï¼Œä¹Ÿå±äºä¸­é—´æ¯”è¾ƒå¿« delegate ï¼š åŠ¨ç”»ä»£ç†ã€‚èƒ½å¤Ÿæ£€æµ‹åŠ¨ç”»çš„æ‰§è¡Œå’Œç»“æŸï¼Œåœ¨åŠ¨ç”»æ‰§è¡Œå’Œç»“æŸåšä¸€äº›å¤„ç†ã€‚ 1234567public protocol CAAnimationDelegate : NSObjectProtocol &#123; @available(iOS 2.0, *) optional public func animationDidStart(_ anim: CAAnimation) @available(iOS 2.0, *) optional public func animationDidStop(_ anim: CAAnimation, finished flag: Bool)&#125; fillMode åŠ¨ç”»åœ¨å¼€å§‹å’Œç»“æŸæ—¶çš„åŠ¨ä½œã€‚ kCAFillModeRemoved è¿™ä¸ªæ˜¯é»˜è®¤å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å½“åŠ¨ç”»å¼€å§‹å‰å’ŒåŠ¨ç”»ç»“æŸåï¼ŒåŠ¨ç”»å¯¹layeréƒ½æ²¡æœ‰å½±å“ï¼ŒåŠ¨ç”»ç»“æŸåï¼Œlayerä¼šæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ kCAFillModeForwards å½“åŠ¨ç”»ç»“æŸåï¼Œlayerä¼šä¸€ç›´ä¿æŒç€åŠ¨ç”»æœ€åçš„çŠ¶æ€ kCAFillModeBackwards åœ¨åŠ¨ç”»å¼€å§‹å‰ï¼Œåªéœ€è¦å°†åŠ¨ç”»åŠ å…¥äº†ä¸€ä¸ªlayerï¼Œlayerä¾¿ç«‹å³è¿›å…¥åŠ¨ç”»çš„åˆå§‹çŠ¶æ€å¹¶ç­‰å¾…åŠ¨ç”»å¼€å§‹ã€‚ kCAFillModeBoth è¿™ä¸ªå…¶å®å°±æ˜¯ä¸Šé¢ä¸¤ä¸ªçš„åˆæˆ.åŠ¨ç”»åŠ å…¥åå¼€å§‹ä¹‹å‰ï¼Œlayerä¾¿å¤„äºåŠ¨ç”»åˆå§‹çŠ¶æ€ï¼ŒåŠ¨ç”»ç»“æŸålayerä¿æŒåŠ¨ç”»æœ€åçš„çŠ¶æ€ äºŒã€åŸºç¡€åŠ¨ç”»ï¼ˆCABasicAnimationï¼‰åŸºç¡€åŠ¨ç”»å°±æ˜¯ä»ä¸€ä¸ªçŠ¶æ€å€¼ï¼ˆfromValueï¼‰å˜æ¢æˆå¦ä¸€ä¸ªçŠ¶æ€å€¼ï¼ˆtoValueï¼‰ï¼Œç‰¹æœ‰çš„å±æ€§ï¼š fromValue æ‰€æ”¹å˜å±æ€§çš„èµ·å§‹å€¼ toValue æ‰€æ”¹å˜å±æ€§çš„ç»“æŸæ—¶çš„å€¼ byValue æ‰€æ”¹å˜å±æ€§ç›¸åŒèµ·å§‹å€¼çš„æ”¹å˜é‡ä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªç®€å•ä½ç½®ç§»åŠ¨åŠ¨ç”»ï¼š12345678910111213let moveView = UIView(frame: CGRect(x: 20, y: 240, width: 70, height: 70))moveView.center = CGPoint(x: 40, y: 200)moveView.backgroundColor = UIColor.redview.addSubview(moveView)let moveAnim = CABasicAnimation(keyPath: &quot;position&quot;)moveAnim.fromValue = NSValue(cgPoint: CGPoint(x: 40, y: 240))moveAnim.toValue = NSValue(cgPoint: CGPoint(x: 300, y: 240))moveAnim.duration = 2moveAnim.repeatCount = Float.infinitymoveAnim.autoreverses = truemoveView.layer.add(moveAnim, forKey: &quot;moveAnim&quot;) å¦å¤–CABasicAnimationè¿˜å¯ä»¥åšæ—‹è½¬ã€æ¯”ä¾‹ç¼©æ”¾ã€èƒŒæ™¯é¢œè‰²å˜åŒ–ã€å†…å®¹ï¼ˆå›¾ç‰‡ï¼‰å˜åŒ–ã€é€æ˜åº¦å˜åŒ–ã€åœ†è§’å˜åŒ–ã€æŒ‡å®šå¤§å°å˜åŒ–ç­‰åŠ¨ç”»ã€‚ï¼ˆè¿™äº›æˆ‘éƒ½å†™äº†ä¸€äº›ç¤ºä¾‹ä»£ç ï¼Œé“¾æ¥åœ¨æ–‡æœ«ï¼‰è¿™äº›åŠ¨ç”»çš„ä»£ç å½¢å¼åŸºæœ¬éƒ½å·®ä¸å¤šï¼Œå…ˆå»ºç«‹è§†å›¾ï¼Œç„¶ååˆ›å»ºCABasicAnimationç±»å‹åŠ¨ç”»å¯¹è±¡ï¼Œå¹¶æŒ‡å®šä¸åŒçš„fromValueã€toValueç­‰å±æ€§ï¼Œæœ€åæŠŠåŠ¨ç”»å¯¹è±¡åŠ å…¥åˆ°è§†å›¾çš„CALayerå±‚ã€‚ ä¸‰ã€å…³é”®å¸§åŠ¨ç”»ï¼ˆCAKeyframeAnimationï¼‰æŒ‰ç…§æŒ‡å®šçš„ä¸€ä¸²å€¼è¿›è¡ŒåŠ¨ç”»,å¥½åƒæ‹ç”µå½±ä¸€æ ·çš„ä¸€å¸§ä¸€å¸§çš„æ•ˆæœã€‚ valuesï¼š åŠ¨ç”»å¯¹è±¡ä¼šåœ¨æŒ‡å®šçš„æ—¶é—´(duration)å†…ï¼Œä¾æ¬¡æ˜¾ç¤ºvaluesæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…³é”®å¸§ path ï¼š å¯ä»¥è®¾ç½®ä¸€ä¸ªCGPathRef\CGMutablePathRef,è®©å±‚è·Ÿç€è·¯å¾„ç§»åŠ¨ã€‚pathåªå¯¹CALayerçš„anchorPointå’Œpositionèµ·ä½œç”¨ã€‚è®¾ç½®äº†pathï¼Œé‚£ä¹ˆvalueså°†è¢«å¿½ç•¥ã€‚ keyTimes ï¼š å¯ä»¥ä¸ºå¯¹åº”çš„å…³é”®å¸§æŒ‡å®šå¯¹åº”çš„æ—¶é—´ç‚¹,å…¶å–å€¼èŒƒå›´ä¸º0åˆ°1.0,keyTimesä¸­çš„æ¯ä¸€ä¸ªæ—¶é—´å€¼éƒ½å¯¹åº”valuesä¸­çš„æ¯ä¸€å¸§ã€‚å½“keyTimesæ²¡æœ‰è®¾ç½®çš„æ—¶å€™,å„ä¸ªå…³é”®å¸§çš„æ—¶é—´æ˜¯å¹³åˆ†çš„ã€‚ rotationMode : æ—‹è½¬æ ·å¼ CABasicAnimationå¯çœ‹åšæ˜¯æœ€å¤šåªæœ‰2ä¸ªå…³é”®å¸§ï¼ˆå¼€å§‹å’Œç»“æŸï¼‰çš„CAKeyframeAnimation ä¸‹é¢çš„ä»£ç é€šè¿‡valuesåšæˆæŠ–åŠ¨çš„åŠ¨ç”»ï¼š1234let anima = CAKeyframeAnimation(keyPath: &quot;transform.rotation&quot;)anima.values = [-Double.pi/180*4,Double.pi/180*4, -Double.pi/180*4]anima.repeatCount = Float.infinityanimView.layer.add(anima, forKey: &quot;shake&quot;) ä½¿ç”¨pathé…åˆè´å¡å°”æ›²çº¿å°±å¯ä»¥åšæˆå¦‚ä¸‹æ•ˆæœï¼š ä»£ç 12345678910111213141516171819let tempView = UIView(frame: CGRect(x: 50, y: 100, width: 250, height: 500))let bezierPath = UIBezierPath(ovalIn: tempView.frame)let orbitAnim = CAKeyframeAnimation(keyPath: &quot;position&quot;)orbitAnim.duration = 5orbitAnim.path = bezierPath.cgPathorbitAnim.calculationMode = kCAAnimationPacedorbitAnim.fillMode = kCAFillModeForwardsorbitAnim.repeatCount = Float.infinityorbitAnim.rotationMode = kCAAnimationRotateAutoReverseanimView.layer.add(orbitAnim, forKey: &quot;orbitAnim&quot;)let shapeLayer = CAShapeLayer()shapeLayer.strokeColor = UIColor.purple.cgColorshapeLayer.fillColor = UIColor.clear.cgColorshapeLayer.lineWidth = 0.5shapeLayer.lineJoin = kCALineJoinRoundshapeLayer.lineCap = kCALineCapRoundshapeLayer.path = bezierPath.cgPathview.layer.addSublayer(shapeLayer) å››ã€ç»„åŠ¨ç”»ï¼ˆCAAnimationGroupï¼‰ç»„åŠ¨ç”»é¡¾åæ€ä¹‰å°±æ˜¯æŠŠä¸åŒçš„åŠ¨ç”»ç»„åˆèµ·æ¥ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š1234567891011121314151617// ä½ç§»let anima1 = CABasicAnimation(keyPath: &quot;position&quot;)anima1.fromValue = NSValue(cgPoint: CGPoint(x: 40, y: 240))anima1.toValue = NSValue(cgPoint: CGPoint(x: 300, y: 240))// ç¼©æ”¾let anima2 = CABasicAnimation(keyPath: &quot;transform.scale&quot;)anima2.fromValue = NSNumber.init(value: 0.8)anima2.toValue = NSNumber.init(value: 2.0)// æ—‹è½¬let anima3 = CABasicAnimation(keyPath: &quot;transform.rotation&quot;)anima3.toValue = Double.pi*4// ç»„åˆlet groupAnimation = CAAnimationGroup()groupAnimation.animations = [anima1, anima2, anima3]groupAnimation.duration = 3.0animView.layer.add(groupAnimation, forKey: nil) ç»„åˆåçš„åŠ¨ç”»æ•ˆæœå°±æ˜¯åœ¨ç§»åŠ¨çš„åŒæ—¶ï¼Œä¹Ÿåœ¨ç¼©æ”¾å’Œæ—‹è½¬ã€‚ äº”ã€è¿‡æ¸¡åŠ¨ç”»ï¼ˆCATransitionï¼‰CATransitionç”¨äºåšè¿‡æ¸¡åŠ¨ç”»æˆ–è€…è½¬åœºåŠ¨ç”»ï¼Œèƒ½å¤Ÿä¸ºå±‚æä¾›ç§»å‡ºå±å¹•å’Œç§»å…¥å±å¹•çš„åŠ¨ç”»æ•ˆæœã€‚ typeï¼šåŠ¨ç”»è¿‡æ¸¡ç±»å‹å››ä¸ªç³»ç»Ÿå…¬å¼€çš„ ç³»ç»Ÿå…¬å¼€API æ•ˆæœè¯´æ˜ æ˜¯å¦æ”¯æŒæ–¹å‘ kCATransitionFade æ·¡å‡ºæ•ˆæœ æ˜¯ kCATransitionMoveIn æ–°è§†å›¾ç§»åŠ¨åˆ°æ—§è§†å›¾ä¸Š æ˜¯ kCATransitionPush æ–°è§†å›¾æ¨å‡ºæ—§è§†å›¾ æ˜¯ kCATransitionReveal ç§»å¼€æ—§è§†å›¾æ˜¾ç¤ºæ–°è§†å›¾ æ˜¯ å…¶ä»–è¿˜æœ‰ä¸€äº›éç³»ç»Ÿå…¬å¼€çš„è¿‡æ¸¡ç±»å‹ï¼š1[&quot;cube&quot;, &quot;suckEffect&quot;, &quot;rippleEffect&quot;, &quot;pageCurl&quot;, &quot;pageUnCurl&quot;, &quot;oglFlip&quot;] subtype : è¿‡æ¸¡åŠ¨ç”»çš„åŠ¨ç”»æ–¹å‘ 1234kCATransitionFromRight ä»å³ä¾§è¿›å…¥kCATransitionFromLeft ä»å·¦ä¾§è¿›å…¥kCATransitionFromTop ä»é¡¶éƒ¨è¿›å…¥kCATransitionFromBottom ä»åº•éƒ¨è¿›å…¥ startProgressï¼šåŠ¨ç”»èµ·ç‚¹(åœ¨æ•´ä½“åŠ¨ç”»çš„ç™¾åˆ†æ¯”) endProgressï¼šåŠ¨ç”»ç»ˆç‚¹(åœ¨æ•´ä½“åŠ¨ç”»çš„ç™¾åˆ†æ¯”) å…­ã€å¼¹ç°§åŠ¨ç”» CASpringAnimationå¸¸ç”¨å±æ€§ massï¼š æ¨¡æ‹Ÿçš„æ˜¯è´¨é‡ï¼Œå½±å“å›¾å±‚è¿åŠ¨æ—¶çš„å¼¹ç°§æƒ¯æ€§ï¼Œè´¨é‡è¶Šå¤§ï¼Œå¼¹ç°§æ‹‰ä¼¸å’Œå‹ç¼©çš„å¹…åº¦è¶Šå¤§ é»˜è®¤å€¼ï¼š1 ; stiffnessï¼šåˆšåº¦ç³»æ•°(åŠ²åº¦ç³»æ•°/å¼¹æ€§ç³»æ•°)ï¼Œåˆšåº¦ç³»æ•°è¶Šå¤§ï¼Œå½¢å˜äº§ç”Ÿçš„åŠ›å°±è¶Šå¤§ï¼Œè¿åŠ¨è¶Šå¿«ã€‚é»˜è®¤å€¼ï¼š 100 ï¼› dampingï¼šé˜»å°¼ç³»æ•°ï¼Œé˜»æ­¢å¼¹ç°§ä¼¸ç¼©çš„ç³»æ•°ï¼Œé˜»å°¼ç³»æ•°è¶Šå¤§ï¼Œåœæ­¢è¶Šå¿«ã€‚é»˜è®¤å€¼ï¼š10ï¼› initialVelocityï¼šåˆå§‹é€Ÿç‡ï¼ŒåŠ¨ç”»è§†å›¾çš„åˆå§‹é€Ÿåº¦å¤§å°ã€‚é»˜è®¤å€¼ï¼š0 ï¼›é€Ÿç‡ä¸ºæ­£æ•°æ—¶ï¼Œé€Ÿåº¦æ–¹å‘ä¸è¿åŠ¨æ–¹å‘ä¸€è‡´ï¼Œé€Ÿç‡ä¸ºè´Ÿæ•°æ—¶ï¼Œé€Ÿåº¦æ–¹å‘ä¸è¿åŠ¨æ–¹å‘ç›¸åï¼› settlingDurationï¼šä¼°ç®—æ—¶é—´ è¿”å›å¼¹ç°§åŠ¨ç”»åˆ°åœæ­¢æ—¶çš„ä¼°ç®—æ—¶é—´ï¼Œæ ¹æ®å½“å‰çš„åŠ¨ç”»å‚æ•°ä¼°ç®—ï¼›å®ä¾‹ï¼š1234567891011121314151617181920212223242526272829// ä¸åŒçš„keypathï¼Œä¸åŒçš„æ•ˆæœlet springAnimation = CASpringAnimation(keyPath: "position.y")if springAnimation.keyPath == "position" &#123; springAnimation.fromValue = NSValue.init(cgPoint: self.jellyView.layer.position) springAnimation.toValue = NSValue.init(cgPoint: point)&#125; else if springAnimation.keyPath == "position.x" &#123; springAnimation.fromValue = self.jellyView.layer.position.x springAnimation.toValue = point.x&#125; else if springAnimation.keyPath == "position.y" &#123; springAnimation.fromValue = self.jellyView.layer.position.y springAnimation.toValue = point.y&#125; else if springAnimation.keyPath == "bounds" &#123; springAnimation.fromValue = NSValue.init(cgRect: CGRect(x: point.x, y: point.y, width: 60, height: 60)) springAnimation.toValue = NSValue.init(cgRect: self.jellyView.frame)&#125;springAnimation.mass = 5springAnimation.stiffness = 100springAnimation.damping = 10springAnimation.initialVelocity = 10springAnimation.duration = springAnimation.settlingDurationspringAnimation.isRemovedOnCompletion = falseself.jellyView.layer.add(springAnimation, forKey: "springAnimation") keyPathä¸åŒæ—¶æ•ˆæœä¸åŒï¼š ä»£ç ï¼šæœ¬æ–‡æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç éƒ½åœ¨https://github.com/andyRon/iOS-Animation å‚è€ƒï¼šIOSAnimationDemoiOSåŠ¨ç”»è¯¦è§£(å­¦ä¹ åŠ¨ç”»çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†)ä¸€ç¯‡æ–‡ç« æå®š CASpringAnimation å¼¹ç°§åŠ¨ç”»Core Animation å®˜æ–¹æ‰‹å†Œ]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSæ ¸å¿ƒåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Masonryå­¦ä¹ ]]></title>
    <url>%2F2018%2Fmasonry-begin.html</url>
    <content type="text"><![CDATA[Masonryæ˜¯ä¸€ä¸ªè½»é‡çº§çš„OCå¸ƒå±€æ¡†æ¶ï¼Œ æ‹¥æœ‰è‡ªå·±çš„æè¿°è¯­æ³•ï¼Œé‡‡ç”¨æ›´ä¼˜é›…çš„é“¾å¼è¯­æ³•å°è£…è‡ªåŠ¨å¸ƒå±€ï¼Œç®€æ´æ˜äº†ï¼Œå¹¶å…·æœ‰é«˜å¯è¯»æ€§ï¼Œè€Œä¸”åŒæ—¶æ”¯æŒ iOS å’Œ Max OS Xã€‚ Masonryæ”¯æŒçš„å±æ€§ä¸NSLayoutAttrubuteçš„å¯¹ç…§ï¼š MASConstraint (Masonry) NSAutoLayout è¯´æ˜ left NSLayoutAttributeLeft å·¦ä¾§ top NSLayoutAttributeTop ä¸Šä¾§ right NSLayoutAttributeRight å³ä¾§ bottom NSLayoutAttributeBottom ä¸‹ä¾§ leading NSLayoutAttributeLeading é¦–éƒ¨ trailing NSLayoutAttributeTrailing å°¾éƒ¨ width NSLayoutAttributeWidth å®½ height NSLayoutAttributeHeight é«˜ centerX NSLayoutAttributeCenterX æ¨ªå‘ä¸­ç‚¹ centerY NSLayoutAttributeCenterY çºµå‘ä¸­ç‚¹ baseline NSLayoutAttributeBaseline æ–‡æœ¬åŸºçº¿ å…¶ä¸­leadingä¸left, trailingä¸right åœ¨æ­£å¸¸æƒ…å†µä¸‹æ˜¯ç­‰ä»·çš„ã€‚ä½†æ˜¯å½“ä¸€äº›å¸ƒå±€æ˜¯ä»å³è‡³å·¦æ—¶(æ¯”å¦‚é˜¿æ‹‰ä¼¯æ–‡) åˆ™ä¼šå¯¹è°ƒï¼Œ æ¢å¥è¯è¯´å°±æ˜¯åŸºæœ¬å¯ä»¥ ç”¨leftå’Œrightå°±å¥½äº†ã€‚ åœ¨Masonryä¸­èƒ½å¤Ÿæ·»åŠ AutoLayoutçº¦æŸæœ‰ä¸‰ä¸ªå‡½æ•°: 12345678/*mas_makeConstraints åªè´Ÿè´£æ–°å¢çº¦æŸ Autolayoutä¸èƒ½åŒæ—¶å­˜åœ¨ä¸¤æ¡é’ˆå¯¹äºåŒä¸€å¯¹è±¡çš„çº¦æŸ å¦åˆ™ä¼šæŠ¥é”™ mas_updateConstraints é’ˆå¯¹ä¸Šé¢çš„æƒ…å†µ ä¼šæ›´æ–°åœ¨blockä¸­å‡ºç°çš„çº¦æŸ ä¸ä¼šå¯¼è‡´å‡ºç°ä¸¤ä¸ªç›¸åŒçº¦æŸçš„æƒ…å†µmas_remakeConstraints åˆ™ä¼šæ¸…é™¤ä¹‹å‰çš„æ‰€æœ‰çº¦æŸ ä»…ä¿ç•™æœ€æ–°çš„çº¦æŸ*/- (NSArray *)mas_makeConstraints:(void(^)(MASConstraintMaker *make))block;- (NSArray *)mas_updateConstraints:(void(^)(MASConstraintMaker *make))block;- (NSArray *)mas_remakeConstraints:(void(^)(MASConstraintMaker *make))block; equalTo å’Œ mas_equalToçš„åŒºåˆ«? mas_equalToæ˜¯å®ï¼Œåœ¨MASConstraint.hæ–‡ä»¶ä¸­å®šä¹‰ï¼š 1#define mas_equalTo(...) equalTo(MASBoxValue((__VA_ARGS__))) mas_equalTo æ¯”equalToå¤šäº†ç±»å‹è½¬æ¢æ“ä½œ, å¤§å¤šæ•°æ—¶å€™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯ é€šç”¨çš„ï¼Œä½†æ˜¯å¯¹äºæ•°å€¼å…ƒç´ ä½¿ç”¨mas_equalToã€‚å¯¹äºå¯¹è±¡æˆ–æ˜¯å¤šä¸ªå±æ€§çš„å¤„ç†ï¼Œä½¿ç”¨equalToã€‚ ä»¥å‡ ä¸ªğŸŒ°å­¦ä¹ Masonryï¼š 1 ä¸­å¿ƒç‚¹ä¸self.viewç›¸åŒï¼Œå®½åº¦ä¸º300*30012345678910// exp1: ä¸­å¿ƒç‚¹ä¸self.viewç›¸åŒï¼Œå®½åº¦ä¸º300*300-(void)exp1 &#123; UIView *view = [UIView new]; [view setBackgroundColor:[UIColor redColor]]; [self.view addSubview:view]; [view mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.center.equalTo(self.view); make.size.mas_equalTo(CGSizeMake(300, 300)); &#125;];&#125; 2 ä¸Šä¸‹å·¦å³è¾¹è·éƒ½ä¸º1012345678910111213141516171819202122-(void)exp2 &#123; UIView *view = [UIView new]; [view setBackgroundColor:[UIColor redColor]]; [self.view addSubview:view]; [view mas_makeConstraints:^(MASConstraintMaker *make) &#123; // å†™æ³•1 make.edges.equalTo(self.view).with.insets(UIEdgeInsetsMake(10, 10, 10, 10)); /* // å†™æ³•2 make.top.equalTo(self.view).with.offset(10); make.left.equalTo(self.view).with.offset(10); make.bottom.equalTo(self.view).with.offset(-10); make.right.equalTo(self.view).with.offset(-10); */ /* // å†™æ³•3 make.top.left.bottom.and.right.equalTo(self.view).with.insets(UIEdgeInsetsMake(10, 10, 10, 10)); */ &#125;];&#125; edges å°±æ˜¯top,left,bottom,rightç®€åŒ–å†™æ³• å†™æ³•2ä¸­ bottomå’Œrightçš„offsetæ˜¯è´Ÿæ•°ï¼Œå› ä¸ºè®¡ç®—çš„æ˜¯ç»å¯¹çš„æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯viewçš„bottomçš„yå€¼å‡å»self.viewçš„bottomçš„yå€¼æ˜¯-10ï¼Œviewçš„rightçš„xå€¼å‡å»self.viewçš„rightçš„xå€¼æ˜¯-10ã€‚ andå’Œwithä»€ä¹ˆäº‹ä»¶éƒ½æ²¡åšï¼Œåªæ˜¯ä»åº”ç”¨è¯­æ³•çœ‹ä¸Šå»å¾ˆé¡ºã€‚ 3 è®©ä¸¤ä¸ªé«˜åº¦ä¸º150çš„viewå‚ç›´å±…ä¸­ä¸”ç­‰å®½ä¸”ç­‰é—´éš”æ’åˆ— é—´éš”ä¸º10(è‡ªåŠ¨è®¡ç®—å™¨é«˜åº¦)123456789101112131415161718192021222324252627282930-(void)exp3&#123; UIView *view1 = [UIView new]; [view1 setBackgroundColor:[UIColor redColor]]; [self.view addSubview:view1]; UIView *view2 = [UIView new]; [view2 setBackgroundColor:[UIColor redColor]]; [self.view addSubview:view2]; [view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.centerY.mas_equalTo(self.view.mas_centerY); make.height.mas_equalTo(150); make.width.mas_equalTo(view2.mas_width); make.left.mas_equalTo(self.view.mas_left).with.offset(10); make.right.mas_equalTo(view2.mas_left).offset(-10); &#125;]; [view2 mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.centerY.mas_equalTo(self.view.mas_centerY); make.height.mas_equalTo(150); make.width.mas_equalTo(view1.mas_width); make.left.mas_equalTo(view1.mas_right).with.offset(10); make.right.equalTo(self.view.mas_right).offset(-10); &#125;]; &#125; 4 iOSè‡ªå¸¦è®¡ç®—å™¨å¸ƒå±€123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150-(void)exp4&#123; //ç”³æ˜åŒºåŸŸï¼ŒdisplayViewæ˜¯æ˜¾ç¤ºåŒºåŸŸï¼ŒkeyboardViewæ˜¯é”®ç›˜åŒºåŸŸ UIView *displayView = [UIView new]; [displayView setBackgroundColor:[UIColor blackColor]]; [self.view addSubview:displayView]; UIView *keyboardView = [UIView new]; [self.view addSubview:keyboardView]; //å…ˆæŒ‰1ï¼š3åˆ†å‰² displViewï¼ˆæ˜¾ç¤ºç»“æœåŒºåŸŸï¼‰å’Œ keyboardViewï¼ˆé”®ç›˜åŒºåŸŸï¼‰ [displayView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.top.equalTo(self.view.mas_top); make.left.and.right.equalTo(self.view); make.height.equalTo(keyboardView).multipliedBy(0.3f); &#125;]; [keyboardView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.top.equalTo(displayView.mas_bottom); make.bottom.equalTo(self.view.mas_bottom); make.left.and.right.equalTo(self.view); &#125;]; //è®¾ç½®æ˜¾ç¤ºä½ç½®çš„æ•°å­—ä¸º0 UILabel *displayNum = [[UILabel alloc]init]; [displayView addSubview:displayNum]; displayNum.text = @&quot;0&quot;; displayNum.font = [UIFont fontWithName:@&quot;HeiTi SC&quot; size:70]; displayNum.textColor = [UIColor whiteColor]; displayNum.textAlignment = NSTextAlignmentRight; [displayNum mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.left.and.right.equalTo(displayView).with.offset(-10); make.bottom.equalTo(displayView).with.offset(-10); &#125;]; //å®šä¹‰é”®ç›˜é”®åç§°ï¼Œï¼Ÿå·ä»£è¡¨åˆå¹¶çš„å•å…ƒæ ¼ NSArray *keys = @[@&quot;AC&quot;,@&quot;+/-&quot;,@&quot;%&quot;,@&quot;Ã·&quot; ,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;x&quot; ,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;-&quot; ,@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;+&quot; ,@&quot;0&quot;,@&quot;?&quot;,@&quot;.&quot;,@&quot;=&quot;]; int indexOfKeys = 0; for (NSString *key in keys)&#123; //å¾ªç¯æ‰€æœ‰é”® indexOfKeys++; int rowNum = indexOfKeys %4 ==0? indexOfKeys/4:indexOfKeys/4 +1; int colNum = indexOfKeys %4 ==0? 4 :indexOfKeys %4; NSLog(@&quot;index is:%d and row:%d,col:%d&quot;,indexOfKeys,rowNum,colNum); //é”®æ ·å¼ UIButton *keyView = [UIButton buttonWithType:UIButtonTypeCustom]; [keyboardView addSubview:keyView]; [keyView setTitleColor:[UIColor blackColor] forState:UIControlStateNormal]; [keyView setTitle:key forState:UIControlStateNormal]; [keyView.layer setBorderWidth:1]; [keyView.layer setBorderColor:[[UIColor blackColor]CGColor]]; [keyView.titleLabel setFont:[UIFont fontWithName:@&quot;Arial-BoldItalicMT&quot; size:30]]; //é”®çº¦æŸ [keyView mas_makeConstraints:^(MASConstraintMaker *make) &#123; //å¤„ç† 0 åˆå¹¶å•å…ƒæ ¼ if([key isEqualToString:@&quot;0&quot;] || [key isEqualToString:@&quot;?&quot;] )&#123; if([key isEqualToString:@&quot;0&quot;])&#123; [keyView mas_makeConstraints:^(MASConstraintMaker *make) &#123; make.height.equalTo(keyboardView.mas_height).with.multipliedBy(.2f); make.width.equalTo(keyboardView.mas_width).multipliedBy(.5); make.left.equalTo(keyboardView.mas_left); make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.9f); &#125;]; &#125;if([key isEqualToString:@&quot;?&quot;])&#123; [keyView removeFromSuperview]; &#125; &#125; //æ­£å¸¸çš„å•å…ƒæ ¼ else&#123; make.width.equalTo(keyboardView.mas_width).with.multipliedBy(.25f); make.height.equalTo(keyboardView.mas_height).with.multipliedBy(.2f); //æŒ‰ç…§è¡Œå’Œåˆ—æ·»åŠ çº¦æŸï¼Œè¿™é‡Œæ·»åŠ è¡Œçº¦æŸ switch (rowNum) &#123; case 1: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.1f); keyView.backgroundColor = [UIColor colorWithRed:205 green:205 blue:205 alpha:1]; &#125; break; case 2: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.3f); &#125; break; case 3: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.5f); &#125; break; case 4: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.7f); &#125; break; case 5: &#123; make.baseline.equalTo(keyboardView.mas_baseline).with.multipliedBy(.9f); &#125; break; default: break; &#125; //æŒ‰ç…§è¡Œå’Œåˆ—æ·»åŠ çº¦æŸï¼Œè¿™é‡Œæ·»åŠ åˆ—çº¦æŸ switch (colNum) &#123; case 1: &#123; make.left.equalTo(keyboardView.mas_left); &#125; break; case 2: &#123; make.right.equalTo(keyboardView.mas_centerX); &#125; break; case 3: &#123; make.left.equalTo(keyboardView.mas_centerX); &#125; break; case 4: &#123; make.right.equalTo(keyboardView.mas_right); [keyView setBackgroundColor:[UIColor colorWithRed:243 green:127 blue:38 alpha:1]]; &#125; break; default: break; &#125; &#125; &#125;]; &#125; &#125; ä»£ç : MasonryDemo å‚è€ƒ:Masonryä»‹ç»ä¸ä½¿ç”¨å®è·µ(å¿«é€Ÿä¸Šæ‰‹Autolayout)Masonryçš„ä½¿ç”¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Masonry</tag>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swiftä¸­whereçš„ç”¨æ³•æ€»ç»“]]></title>
    <url>%2F2017%2Fswift-where.html</url>
    <content type="text"><![CDATA[ä¸åŒçš„ç‰ˆæœ¬çš„Swiftä¸­whereç”¨æ³•æœ‰äº›ä¸åŒï¼Œä»¥æœ€æ–°çš„Swift4ä¸ºå‡†ï¼Œ 1 if, guard, whileä¸‰ä¸ªè¯­å¥ä¸­whereè¢«å»æ‰äº†ï¼Œç›´æ¥ä½¿ç”¨,ç›¸éš”å°±è¡Œäº†12345678910111213141516if let oldMan: Int = 50, let youngerMan: Int = 18, oldMan &gt; youngerMan &#123; print("odlMan &gt; youngerMan")&#125; else &#123; print("é”™è¯¯åˆ¤æ–­")&#125;var arrayTwo:[Int]? = []while let arr = arrayTwo, arr.count &lt; 5 &#123; arrayTwo?.append(1)&#125;let string:String? = "å°åˆš"guard let str = string, str != "å°æ˜" else &#123; fatalError("çœ‹é”™äººäº†") //&#125;print("ç¡®å®æ˜¯å°æ˜") 2 do catch1234567891011enum ExceptionError:Error&#123; case httpCode(Int)&#125;func throwError() throws &#123; throw ExceptionError.httpCode(500)&#125;do&#123; try throwError()&#125;catch ExceptionError.httpCode(let httpCode) where httpCode &gt;= 500&#123; print("server error")&#125; 3 switch1234567var value:(Int,String) = (1,"å°æ˜")switch value &#123;case let (x,_) where x &lt; 60: print("ä¸åŠæ ¼")default: print("åŠæ ¼")&#125; 4 for in12345let arrayOne = [1,2,3,4,5]let dictionary = [1:"hehe1",2:"hehe2"]for i in arrayOne where dictionary[i] != nil &#123; print(i)&#125; 5 æ³›å‹1234567func genericFunction&lt;S&gt;(str:S) where S:ExpressibleByStringLiteral&#123; print(str)&#125;// ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨whereè¯­å¥ï¼Œç›´æ¥åœ¨å°–æ‹¬å·ä¸­å®šä¹‰æ—¶åšé™åˆ¶func genericFunction2&lt;S:ExpressibleByStringLiteral&gt;(str:S)&#123; print(str)&#125; 6 åè®®1234567protocol aProtocol&#123;&#125;extension aProtocol where Self:UIView&#123; //åªç»™éµå®ˆmyProtocolåè®®çš„UIViewæ·»åŠ äº†æ‰©å±• func getString() -&gt; String&#123; return "string" &#125;&#125; playgroundæ–‡ä»¶ï¼šandyRon/LearnSwift/Where.playground å‚è€ƒï¼šSwift where å…³é”®å­—]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>where</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘CocoaPodså‘å¸ƒä»£ç ]]></title>
    <url>%2F2017%2Fios-cocoapods-push.html</url>
    <content type="text"><![CDATA[Cocoapodsæ˜¯éå¸¸å¥½ç”¨çš„ä¸€ä¸ªiOSä¾èµ–ç®¡ç†å·¥å…·ï¼Œç”¨å®ƒæ¥ç®¡ç†å’Œæ›´æ–°é¡¹ç›®ä¸­çš„ç¬¬ä¸‰åº“ä½¿iOSå¼€å‘æ›´åŠ æ–¹ä¾¿ã€‚ä½¿ç”¨åˆ«äººä¼˜ç§€çš„ä»£ç åœ¨ç¨‹åºå‘˜å¼€å‘è¿‡ç¨‹ä¸­æ˜¯éå¸¸å¸¸è§çš„äº‹ï¼Œä¸ºåˆ«äººè´¡çŒ®ä»£ç ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„äº‹ã€‚ è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘æ€»ç»“å‘Cocoapodsè´¡çŒ®ä»£ç çš„è¿‡ç¨‹ã€‚æˆ‘ä»¥è‡ªå·±ä¸€ä¸ªéå¸¸éå¸¸ç®€å•çš„é¡¹ç›®ARFPSStatusæ¥è®°å½•è¿™ä¸ªè¿‡ç¨‹ã€‚ARFPSStatuséå¸¸ç®€å•ï¼Œæ˜¯Swiftå†™çš„åœ¨çŠ¶æ€æ æ˜¾ç¤ºå±å¹•çš„FPSï¼Œæºç åªæœ‰ä¸€ä¸ªSwiftæ–‡ä»¶ã€‚ æ¥å§ï¼ğŸ‰æˆ‘è¯•ç€ä¸ºiOSå¼€å‘è´¡çŒ®ä¸€ç‚¹ç»µè–„ä¹‹åŠ›å§ã€‚ğŸ‰ ä¸€ã€å®‰è£…cocoapods1sudo gem install cocoapods --pre äºŒã€åˆ›å»ºä»£ç å¹¶ä¸Šä¼ ä»£ç åˆ°Githubå°±æ˜¯è¦å‘å¸ƒçš„ä»£ç äº†ï¼Œå…·ä½“æ€ä¹ˆä¸Šä¼ ä»£ç åˆ°Githubä¸Šæˆ‘å°±ä¸é‡å¤äº†ã€‚ ä¸‰ã€åœ¨githubä¸Šå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬ç‚¹å‡»è¿™è¾¹çš„release:å‘å¸ƒä¸€ä¸ªç‰ˆæœ¬ï¼Œå‡è®¾æ˜¯0.1.0: åˆ›å»ºpodspecæ–‡ä»¶å¸¸è§ä¸€ä¸ª&lt;é¡¹ç›®åç§°&gt;.podspecæ–‡ä»¶ï¼Œæˆ‘è¿™è¾¹å°±æ˜¯ARFPSStatus.podspecæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š1234567891011121314Pod::Spec.new do |s| s.name = &quot;ARFPSStatus&quot; s.version = &quot;0.1.0&quot; s.summary = &quot;ARFPSStatus - Show FPS Status on StatusBar in Swift&quot; s.homepage = &quot;https://github.com/andyRon/ARFPSStatus&quot; s.license = &quot;MIT&quot; s.authors = &#123; &quot;andyron&quot; =&gt; &quot;rongming.2008@163.com&quot; &#125; s.source = &#123; :git =&gt; &quot;https://github.com/andyRon/ARFPSStatus.git&quot;, :tag =&gt; &quot;0.1.0&quot; &#125; s.frameworks = &apos;Foundation&apos;, &apos;UIKit&apos; s.platform = :ios, &apos;9.0&apos; s.source_files = &apos;ARFPSStatus/*&apos; s.requires_arc = true end s.name â€“ é¡¹ç›®åç§°ï¼Œä¹Ÿå°±æ˜¯åˆ«äººä½¿ç”¨Podæ—¶ä½¿ç”¨çš„åå­—ï¼Œéœ€è¦å”¯ä¸€ï¼Œå¯äº‹å…ˆåœ¨Cocoapodsä¸ŠæŸ¥è¯¢ä¸€ä¸‹ã€‚ s.version â€“ è¿™æ˜¯ä½  Pod çš„ç‰ˆæœ¬ã€‚åŠ¡å¿…æ³¨æ„ï¼Œå®ƒå¾—å’Œ Github release çš„ç‰ˆæœ¬å·ç›¸åŒï¼Œå°±æ˜¯åˆšæ‰å‘å¸ƒçš„ç‰ˆæœ¬0.1.0ã€‚å¦‚æœä¸¤è€…ä¸åŒ¹é…ï¼Œå°±ä¼šæŠ¥é”™ã€‚ s.summary å’Œ s.description â€“ è¿™ä¸¤ä¸ªå˜é‡æœ€ç»ˆä¼šæ˜¾ç¤ºåœ¨ Cocoapods é¡µé¢ä¸Šã€‚è¯·ç¡®ä¿ description æ¯” summary æ›´é•¿ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚descriptionä¸æ˜¯å¿…é¡»çš„ã€‚ s.homepage â€“ è¿™æ˜¯ Pod æºä»£ç çš„ URLã€‚ s.author â€“ å¼€å‘è€…ä¿¡æ¯ï¼Œå¼€å‘è€…åå­—å’Œé‚®ç®±ã€‚ s.source_files â€“ è¿™æ˜¯æœ€é‡è¦çš„å‚æ•°ã€‚ä¸æ˜¯æ‰€æœ‰Githubé¡¹ç›®ä¸­æ‰€æœ‰æ–‡ä»¶éƒ½éœ€è¦æäº¤åˆ°CocoaPodsé‡Œï¼Œé¡¹ç›®ä¸­å¯èƒ½æœ‰ä¸€äº›Demoã€å›¾ç‰‡å•Šç­‰ï¼Œæäº¤åˆ°CocoaPodsçš„åªéœ€è¦æºç ï¼Œå°±æ˜¯åˆ«äººä½¿ç”¨æ—¶æœ€å°‘æ‰€éœ€çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œæˆ‘éœ€è¦æäº¤çš„æ˜¯ARFPSStatus/ARFPSStatus.swiftæ–‡ä»¶ï¼Œs.source_fileså°±æ˜¯ARFPSStatus/ARFPSStatus.swiftï¼Œæˆ–è€…ä¹‹åå¦‚æœå†åœ¨ARFPSStatus/ç›®å½•ä¸­æ·»åŠ å…¶ä»–æ–‡ä»¶ï¼Œs.source_fileså°±å¯ä»¥æ˜¯ARFPSStatus/*ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥æ˜¯å…¶å®ƒä¸€äº›å½¢å¼ã€‚ARFPSStatus/*.swiftARFPSStatus/*.{swift,plist} Podspecæ–‡ä»¶çš„è¯¦ç»†è¯­æ³•è§„åˆ™å¯æŸ¥çœ‹å®˜ç½‘çš„Podspec Syntax Reference éªŒè¯é¡¹ç›®CocoaPods éœ€è¦éªŒè¯é¡¹ç›®æœ‰æ²¡æœ‰é”™è¯¯ pod lib lint12345678$ pod lib lint -&gt; ARFPSStatus (0.1.0) - WARN | [iOS] license: Unable to find a license file - WARN | xcodebuild: /Users/andyron/myfield/github/ARFPSStatus/ARFPSStatus/ARFPSStatus.swift:91:17: warning: variable &apos;label&apos; was never mutated; consider changing to &apos;let&apos; constant[!] ARFPSStatus did not pass validation, due to 2 warnings (but you can use `--allow-warnings` to ignore them).You can use the `--no-clean` option to inspect any issue. å¦‚æœæƒ³å¿½ç•¥è­¦å‘Šï¼Œå¯ä½¿ç”¨--allow-warningsã€‚ $ pod lib lint --allow-warnings å‘å¸ƒ åˆ›å»º Trunk è´¦å·å…³äºTrunkå¯ä»¥æŸ¥çœ‹ä¸ºä»€ä¹ˆåš Trunkè¿™ç¯‡æ–‡ç« åˆ›å»º Trunk è´¦å·å¾ˆç®€å•ï¼Œåªè¦ä¸€ä¸ªé‚®ç®±ã€‚pod trunk register rongming.2008@163.comé‚®ç®±ä¼šæ”¶åˆ°ä¸€å°ç¡®è®¤é‚®ä»¶ï¼Œç¡®è®¤æˆåŠŸï¼š æ¨é€ä»£ç åˆ°Podpod trunk push ARFPSStatus.podspecå½“ç„¶ä¹Ÿå¯ä½¿ç”¨pod trunk push ARFPSStatus.podspec --allow-warningsæ¥å¿½ç•¥ä¸€äº›ä¸å¿…è¦çš„è­¦å‘Šã€‚æˆåŠŸåï¼š1234567891011$ pod trunk push ARFPSStatus.podspec Updating spec repo `master`-------------------------------------------------------------------------------- ğŸ‰ Congrats ğŸš€ ARFPSStatus (0.1.0) successfully published ğŸ“… September 28th, 11:33 ğŸŒ https://cocoapods.org/pods/ARFPSStatus ğŸ‘ Tell your friends!-------------------------------------------------------------------------------- ä½¿ç”¨æ–°å‘å¸ƒçš„ä»£ç å‘å¸ƒæˆåŠŸå’Œå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ä½¿ç”¨ï¼Œå¯ä»¥åˆ°Cocoapodsä¸ŠæŸ¥è¯¢ã€‚ é¡¹ç›®çš„Podfileæ–‡ä»¶ä¸­æ·»åŠ ARFPSStatus,å¹¶å®‰è£…ã€‚ 123456target &apos;FPSDemo&apos; douse dynamic frameworks use_frameworks! pod &quot;ARFPSStatus&quot; end Podsé¡¹ç›®ä¼šå¤šå‡ºARFPSStatusç›®å½•ï¼Œé‡Œé¢çš„Support Filesç›®å½•ä¸æ˜¯æˆ‘æ·»åŠ çš„ï¼Œæ˜¯Cocoapodsè‡ªåŠ¨æ·»åŠ çš„ä¸€äº›ç›¸å…³æ–‡ä»¶ã€‚ å‚è€ƒï¼šåŸºäº Swift åˆ›å»º CocoaPods å®Œå…¨æŒ‡å—Podspec Syntax Reference]]></content>
      <categories>
        <category>iOS</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>CocoaPods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºiOSå¼€å‘ä¸­çš„pchæ–‡ä»¶]]></title>
    <url>%2F2017%2Fios-pch.html</url>
    <content type="text"><![CDATA[.pchæ–‡ä»¶ä¹Ÿæ˜¯ä¸€ç§å¤´æ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹èƒ½è¢«é¡¹ç›®ä¸­çš„å…¶ä»–æ‰€æœ‰æºæ–‡ä»¶å…±äº«å’Œè®¿é—®ã€‚æ˜¯ä¸€ä¸ªé¢„ç¼–è¯‘æ–‡ä»¶ã€‚ pchæ–‡ä»¶çš„ä½œç”¨ï¼š1.å­˜æ”¾ä¸€äº›å…¨å±€çš„å®(æ•´ä¸ªé¡¹ç›®ä¸­éƒ½ç”¨å¾—ä¸Šçš„å®) 2.ç”¨æ¥åŒ…å«ä¸€äº›å¤´æ–‡ä»¶(æ•´ä¸ªé¡¹ç›®ä¸­éƒ½ç”¨å¾—ä¸Šçš„å¤´æ–‡ä»¶) 3.èƒ½è‡ªåŠ¨æ‰“å¼€æˆ–è€…å…³é—­æ—¥å¿—è¾“å‡ºåŠŸèƒ½ Xcodeæ–°å»ºpchæ–‡ä»¶ Xcodeé…ç½®pchæ–‡ä»¶ pchæ–‡ä»¶çš„ç®€å•ä¾‹å­ä¸€ä¸ªå°é¡¹ç›®çš„pchæ–‡ä»¶ï¼š 1234567891011121314151617181920212223242526272829303132#ifndef PrefixHeader_pch#define PrefixHeader_pch// Include any system framework and library headers here that should be included in all compilation units.// You will also need to set the Prefix Header build setting of one or more of your targets to reference this file.#import &quot;ARSearchBar.h&quot;#import &lt;FMDB.h&gt;#import &quot;ARSqliteTool.h&quot;#import &lt;AFNetworking.h&gt;#import &lt;SSZipArchive.h&gt;#import &lt;MobileCoreServices/MobileCoreServices.h&gt;#import &lt;SystemConfiguration/SystemConfiguration.h&gt;#define ARUserDefaults [NSUserDefaults standardUserDefaults]#define ARScreenBounds [UIScreen mainScreen].bounds#define ARScreenWidth [UIScreen mainScreen].bounds.size.width#define ARScreenHeight [UIScreen mainScreen].bounds.size.height#define WeakSelf __weak typeof(self) weakSelf = self;/** * 1.è¿”å›ä¸€ä¸ªRGBAæ ¼å¼çš„UIColorå¯¹è±¡ */#define RGBA(r, g, b, a) [UIColor colorWithRed:r/255.0f green:g/255.0f blue:b/255.0f alpha:a]/** * 2.è¿”å›ä¸€ä¸ªRGBæ ¼å¼çš„UIColorå¯¹è±¡ */#define RGB(r, g, b) RGBA(r, g, b, 1.0f)#endif /* PrefixHeader_pch */ å‚è€ƒï¼šhttp://www.cnblogs.com/manmq/p/6377882.html]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>pch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSæ²™ç›’å’Œæ–‡ä»¶ç®¡ç†]]></title>
    <url>%2F2017%2Fios-sandbox-file.html</url>
    <content type="text"><![CDATA[æ²™ç›’ï¼ˆsandboxï¼‰ï¼šiOSç³»ç»Ÿä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºåˆ›å»ºè‡ªå·±çš„ç›®å½•ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºåªèƒ½è®¿é—®è‡ªå·±çš„ç›®å½•ã€‚æ‰€æœ‰çš„éä»£ç æ–‡ä»¶éƒ½è¦ä¿å­˜åœ¨æ­¤ï¼Œä¾‹å¦‚å›¾åƒï¼Œå›¾æ ‡ï¼Œå£°éŸ³ï¼Œæ˜ åƒï¼Œå±æ€§åˆ—è¡¨ï¼Œæ–‡æœ¬æ–‡ä»¶ç­‰ã€‚ åœ¨Macçš„Finderä¸Šæ‰“å¼€ä¸€ä¸ªç›®å½•ç”±äºæœ‰äº›ç›®å½•æ¯”è¾ƒé•¿ï¼Œä¸é€‚åˆç›´æ¥Finderé‡Œç‚¹å‡»é€‰å–ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ç”¨ï¼š åœ¨Finderçš„èœå•ä¸­é€‰æ‹© å‰å¾€ &gt; å‰å¾€æ–‡ä»¶å¤¹ åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨openå‘½ä»¤ï¼š open /Users/andyron/Library/Developer/CoreSimulator/Devices/F03C84B3-2A5E-44A7-AA51-2142A6397CA7/data/Containers/Data/Application/E83106A7-FCF3-45A6-888E-330BC52B279B/ åº”ç”¨æ²™ç›’çš„å®Œæ•´ç›®å½• Xcodeçš„æ¨¡æ‹Ÿå™¨çš„ç›®å½•ç±»ä¼¼ï¼š1/Users/andyron/Library/Developer/CoreSimulator/Devices/F03C84B3-2A5E-44A7-AA51-2142A6397CA7/data/Containers/Data/Application/E83106A7-FCF3-45A6-888E-330BC52B279B/ Devices/F03C84B3-2A5E-44A7-AA51-2142A6397CA7æ˜¯Xcodeä¸­ä¸åŒæ¨¡æ‹Ÿå™¨çš„åŒºåˆ«å­—ç¬¦ çœŸæœºä¸­ç±»ä¼¼ï¼š1/var/mobile/Containers/Data/Application/9AC577C1-08B2-4BAE-9CE2-1211E4994F9E/ ç±»ä¼¼Application/9AC577C1-08B2-4BAE-9CE2-1211E4994F9E/è¿™ä¸ªç›®å½•å°±æ˜¯æ¯ä¸ªåº”ç”¨æ²™ç›’çš„æ ¹ç›®å½•ã€‚ æ²™ç›’ä¸­ç›®å½•ç»“æ„ç±»ä¼¼å¦‚ä¸‹ï¼š12345678910â”œâ”€â”€ Documentsâ”œâ”€â”€ Libraryâ”‚ â”œâ”€â”€ Cachesâ”‚ â”‚ â””â”€â”€ Snapshotsâ”‚ â”‚ â””â”€â”€ com.andyron.Sandboxâ”‚ â”‚ â”œâ”€â”€ 9EEA412B-07C1-44EC-995B-0C12AD87BAF9@2x.ktxâ”‚ â”‚ â””â”€â”€ D3F89052-27FD-42A1-B246-B416E1772FBB@2x.ktxâ”‚ â””â”€â”€ Preferencesâ”œâ”€â”€ SystemDataâ””â”€â”€ tmp é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ²™ç›’å«æœ‰3ä¸ªæ–‡ä»¶å¤¹ï¼šDocuments, Library å’Œ tmpã€‚å› ä¸ºåº”ç”¨çš„æ²™ç›’æœºåˆ¶ï¼Œåº”ç”¨åªèƒ½åœ¨å‡ ä¸ªç›®å½•ä¸‹è¯»å†™æ–‡ä»¶ Documentsï¼šè‹¹æœå»ºè®®å°†ç¨‹åºä¸­å»ºç«‹çš„æˆ–åœ¨ç¨‹åºä¸­æµè§ˆåˆ°çš„æ–‡ä»¶æ•°æ®ä¿å­˜åœ¨è¯¥ç›®å½•ä¸‹ï¼ŒiTuneså¤‡ä»½å’Œæ¢å¤çš„æ—¶å€™ä¼šåŒ…æ‹¬æ­¤ç›®å½• Libraryï¼šå­˜å‚¨ç¨‹åºçš„é»˜è®¤è®¾ç½®æˆ–å…¶å®ƒçŠ¶æ€ä¿¡æ¯ï¼› Library/Cachesï¼šå­˜æ”¾ç¼“å­˜æ–‡ä»¶ï¼ŒiTunesä¸ä¼šå¤‡ä»½æ­¤ç›®å½•ï¼Œæ­¤ç›®å½•ä¸‹æ–‡ä»¶ä¸ä¼šåœ¨åº”ç”¨é€€å‡ºåˆ é™¤ tmpï¼šæä¾›ä¸€ä¸ªå³æ—¶åˆ›å»ºä¸´æ—¶æ–‡ä»¶çš„åœ°æ–¹ã€‚ iTunesåœ¨ä¸iPhoneåŒæ­¥æ—¶ï¼Œå¤‡ä»½æ‰€æœ‰çš„Documentså’ŒLibraryæ–‡ä»¶ã€‚ iPhoneåœ¨é‡å¯æ—¶ï¼Œä¼šä¸¢å¼ƒæ‰€æœ‰çš„tmpæ–‡ä»¶ã€‚ è·å–ä¸åŒç›®å½•12345678910111213141516171819202122// 1ã€è·å–ç¨‹åºçš„Homeç›®å½• NSString *homeDirectory = NSHomeDirectory(); NSLog(@&quot;home path:%@&quot;, homeDirectory); // 2ã€è·å–documentç›®å½• NSArray *Documentspaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); NSString *Documentspath = [Documentspaths objectAtIndex:0]; NSLog(@&quot;Documents path:%@&quot;, Documentspath); // 3ã€è·å–Cacheç›®å½• Library/Caches NSArray *Cachepaths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES); NSString *Cachepath = [Cachepaths objectAtIndex:0]; NSLog(@&quot;Cache path:%@&quot;, Cachepath);// 4ã€è·å–Libraryç›®å½• NSArray *Librarypaths = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES); NSString *Librarypath = [Librarypaths objectAtIndex:0]; NSLog(@&quot;Library path:%@&quot;, Librarypath);// 5ã€è·å–Tmpç›®å½• NSString *tmpDir = NSTemporaryDirectory(); NSLog(@&quot;tmpDir:%@&quot;, tmpDir); æ–‡ä»¶çš„å†™å…¥å’Œè¯»å–1234567891011121314151617181920- (void)file_w &#123;// 6ã€å†™å…¥æ–‡ä»¶ NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); NSString *docDir = [paths objectAtIndex:0]; if (!docDir) &#123; NSLog(@&quot;Documents ç›®å½•æœªæ‰¾åˆ°&quot;); &#125; NSArray *array = [[NSArray alloc] initWithObjects:@&quot;å†…å®¹&quot;,@&quot;content&quot;,nil]; NSString *filePath = [docDir stringByAppendingPathComponent:@&quot;testFile.txt&quot;]; [array writeToFile:filePath atomically:YES];&#125;- (void)file_r &#123;// 7, è¯»å–æ–‡ä»¶ NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); NSString *docDir = [paths objectAtIndex:0]; NSString *filePath = [docDir stringByAppendingPathComponent:@&quot;testFile.txt&quot;]; NSArray *array = [[NSArray alloc]initWithContentsOfFile:filePath]; NSLog(@&quot;%@&quot;, array);&#125; æ–‡ä»¶ç®¡ç†æ–‡ä»¶ç®¡ç†å™¨NSFileManageræœ‰åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€åˆ›å»ºç›®å½•å’Œæ–‡ä»¶ã€è·å–æ–‡ä»¶åã€åˆ é™¤æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚ åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ 12345678910// åˆ›å»ºæ–‡ä»¶ç®¡ç†å™¨NSFileManager * fileManager = [NSFileManager defaultManager];NSString * documents = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];NSString * filePath = [documents stringByAppendingPathComponent:@&quot;testFile.txt&quot;];// åˆ¤æ–­ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨,ä¼ å…¥å…¨è·¯å¾„if ([fileManager fileExistsAtPath:filePath]) &#123; NSLog(@&quot;it is exit&quot;);&#125; åˆ›å»ºç›®å½•å’Œæ–‡ä»¶ 123456789101112131415161718// åœ¨Documentsé‡Œåˆ›å»ºç›®å½•NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);NSString *documentsDirectory = [paths objectAtIndex:0];NSLog(@&quot;documentsDirectory: %@&quot;,documentsDirectory);NSFileManager *fileManager = [NSFileManager defaultManager];NSString *testDirectory = [documentsDirectory stringByAppendingPathComponent:@&quot;test&quot;];// åˆ›å»ºç›®å½•[fileManager createDirectoryAtPath:testDirectory withIntermediateDirectories:YES attributes:nil error:nil];// åœ¨ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶NSString *testPath = [testDirectory stringByAppendingPathComponent:@&quot;test00.txt&quot;];NSString *testPath2 = [testDirectory stringByAppendingPathComponent:@&quot;test22.txt&quot;];NSString *testPath3 = [testDirectory stringByAppendingPathComponent:@&quot;test33.txt&quot;];NSString *string = @&quot;å†™å…¥å†…å®¹ï¼Œwrite String&quot;;[fileManager createFileAtPath:testPath contents:[string dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];[fileManager createFileAtPath:testPath2 contents:[string dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];[fileManager createFileAtPath:testPath3 contents:[string dataUsingEncoding:NSUTF8StringEncoding] attributes:nil]; è·å–ç›®å½•åˆ—é‡Œæ‰€æœ‰æ–‡ä»¶åsubpathsOfDirectoryAtPath å’Œ subpathsAtPath ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥ã€‚ 12345678910NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);NSString *documentsDirectory = [paths objectAtIndex:0];NSLog(@&quot;documentsDirectory: %@&quot;,documentsDirectory);NSFileManager *fileManage = [NSFileManager defaultManager];NSString *myDirectory = [documentsDirectory stringByAppendingPathComponent:@&quot;test&quot;];NSArray *file = [fileManage subpathsOfDirectoryAtPath: myDirectory error:nil];NSLog(@&quot;%@&quot;,file);NSArray *file2 = [fileManage subpathsAtPath: myDirectory ];NSLog(@&quot;%@&quot;,file2); æ›´æ”¹åˆ°æŒ‡å®šç›®å½•ä¸‹æ“ä½œchangeCurrentDirectoryPathæ–¹æ³•ã€‚ 12345678910//åˆ›å»ºæ–‡ä»¶ç®¡ç†å™¨NSFileManager *fileManager = [NSFileManager defaultManager];NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);NSString *documentsDirectory = [paths objectAtIndex:0];//æ›´æ”¹åˆ°å¾…æ“ä½œçš„ç›®å½•ä¸‹[fileManager changeCurrentDirectoryPath:[documentsDirectory stringByExpandingTildeInPath]];//åˆ›å»ºæ–‡ä»¶fileNameæ–‡ä»¶åç§°ï¼Œcontentsæ–‡ä»¶çš„å†…å®¹ï¼Œå¦‚æœå¼€å§‹æ²¡æœ‰å†…å®¹å¯ä»¥è®¾ç½®ä¸ºnilï¼Œattributesæ–‡ä»¶çš„å±æ€§ï¼Œåˆå§‹ä¸ºnilNSString * fileName = @&quot;testFileNSFileManager.txt&quot;;NSArray *array = [[NSArray alloc] initWithObjects:@&quot;hello world&quot;,@&quot;hello world1&quot;, @&quot;hello world2&quot;,nil];[fileManager createFileAtPath:fileName contents:[NSKeyedArchiver archivedDataWithRootObject:array] attributes:nil]; åˆ é™¤æ–‡ä»¶ 1[fileManager removeItemAtPath:fileName error:nil]; ä»£ç ï¼š Sandbox å‚è€ƒï¼šæ²™ç›’æœºåˆ¶ä¸æ–‡ä»¶(ä¸€)æ²™ç›’æœºåˆ¶ä¸æ–‡ä»¶(äºŒ)æ²™ç›’æœºåˆ¶ä¸æ–‡ä»¶(ä¸‰)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>sandbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(å…­)ï¼šSDWebImageçš„ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2Fios-network-6.html</url>
    <content type="text"><![CDATA[SDWebImageä¸€äº›çŸ¥è¯†ï¼š å¯¹è¿œç¨‹å›¾ç‰‡è¿›è¡Œç¼“å­˜ç®¡ç†ï¼ˆç£ç›˜+å†…å­˜ï¼‰ å¼‚æ­¥åŠ è½½ åŒä¸€ä¸ªURLå›¾ç‰‡ä¸ä¼šé‡å¤ä¸‹è½½ å¤±æ•ˆçš„URLä¸ä¼šè¢«æ— é™é‡è¯• å›¾ç‰‡åŠ è½½ä¸€èˆ¬ä½¿ç”¨ SDWebImageé€šè¿‡ä¸ºUIImageViewæ·»åŠ ç±»åˆ«ï¼Œæ‰©å±•äº†ä¸€äº›ç±»ä¼¼çš„æ–¹æ³•ï¼Œåªæ˜¯å‚æ•°çš„å¤šå°‘æ•°ç›®ä¸åŒï¼Œæœ€å…¨çš„å‚æ•°çš„æ–¹æ³•æ˜¯ï¼š 1-sd_setImageWithURL:placeholderImage:options:progress:completed: sd_setImageWithURL: URLçš„å›¾ç‰‡çš„URL placeholderImage: è¿œç¨‹å›¾ç‰‡æ²¡æœ‰åŠ è½½å®Œæˆçš„å ä½å›¾ç‰‡ options: ä¸€ä¸ªä½ç§»æšä¸¾(SDWebImageOptions)ï¼Œå¯ä»¥é€šè¿‡æŒ‰ä½æˆ– | æ¥å¹¶åˆ—æ·»åŠ å‚æ•°ã€‚SDWebImageOptionsçš„æ‰€æœ‰é€‰é¡¹å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132//å¤±è´¥åé‡è¯•SDWebImageRetryFailed = 1 &lt;&lt; 0, //UIäº¤äº’æœŸé—´å¼€å§‹ä¸‹è½½ï¼Œå¯¼è‡´å»¶è¿Ÿä¸‹è½½æ¯”å¦‚UIScrollViewå‡é€Ÿã€‚SDWebImageLowPriority = 1 &lt;&lt; 1, //åªè¿›è¡Œå†…å­˜ç¼“å­˜SDWebImageCacheMemoryOnly = 1 &lt;&lt; 2, //è¿™ä¸ªæ ‡å¿—å¯ä»¥æ¸è¿›å¼ä¸‹è½½,æ˜¾ç¤ºçš„å›¾åƒæ˜¯é€æ­¥åœ¨ä¸‹è½½SDWebImageProgressiveDownload = 1 &lt;&lt; 3, //åˆ·æ–°ç¼“å­˜SDWebImageRefreshCached = 1 &lt;&lt; 4, //åå°ä¸‹è½½SDWebImageContinueInBackground = 1 &lt;&lt; 5, //NSMutableURLRequest.HTTPShouldHandleCookies = YES;SDWebImageHandleCookies = 1 &lt;&lt; 6, //å…è®¸ä½¿ç”¨æ— æ•ˆçš„SSLè¯ä¹¦//SDWebImageAllowInvalidSSLCertificates = 1 &lt;&lt; 7, //ä¼˜å…ˆä¸‹è½½SDWebImageHighPriority = 1 &lt;&lt; 8, //å»¶è¿Ÿå ä½ç¬¦SDWebImageDelayPlaceholder = 1 &lt;&lt; 9, //æ”¹å˜åŠ¨ç”»å½¢è±¡SDWebImageTransformAnimatedImage = 1 &lt;&lt; 10, progress: Block è·å–å½“å‰å›¾ç‰‡æ•°æ®çš„ä¸‹è½½è¿›åº¦ receivedSizeï¼šå·²ç»ä¸‹è½½å®Œæˆçš„æ•°æ®å¤§å° expectedSizeï¼šè¯¥æ–‡ä»¶çš„æ•°æ®æ€»å¤§å° completed: BlockåŠ è½½å®Œ image:ä¸‹è½½å¾—åˆ°çš„å›¾ç‰‡æ•°æ® error:ä¸‹è½½å‡ºç°çš„é”™è¯¯ä¿¡æ¯ SDImageCacheTypeï¼šå›¾ç‰‡çš„ç¼“å­˜ç­–ç•¥ imageURLï¼šä¸‹è½½çš„å›¾ç‰‡çš„urlåœ°å€ å¼•å…¥UIImageView+WebCacheç±»åˆ«å°±å¯ä»¥ä½¿ç”¨SDWebImageåŠ è½½å›¾ç‰‡ 1#import &quot;UIImageView+WebCache.h&quot; ä¸åŒå‚æ•°æ–¹æ³•ä½¿ç”¨ğŸŒ° 12345678910111213141516171819[self.imageView sd_setImageWithURL: url];[self.imageView sd_setImageWithURL: url completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) &#123; NSLog(@&quot;å›¾ç‰‡åŠ è½½å®Œ&quot;);&#125;];[self.imageView sd_setImageWithURL:url placeholderImage:[UIImage imageNamed:@&quot;apple&quot;]];[self.imageView sd_setImageWithURL:url placeholderImage:[UIImage imageNamed:@&quot;apple&quot;] completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) &#123; NSLog(@&quot;å›¾ç‰‡åŠ è½½å®Œ&quot;);&#125;];[self.imageView sd_setImageWithURL:url placeholderImage:[UIImage imageNamed:@&quot;apple&quot;] options: SDWebImageCacheMemoryOnly];[self.imageView sd_setImageWithURL:url placeholderImage:nil options:0 progress:^(NSInteger receivedSize, NSInteger expectedSize, NSURL * _Nullable targetURL) &#123; //è®¡ç®—å½“å‰å›¾ç‰‡çš„ä¸‹è½½è¿›åº¦ NSLog(@&quot;ä¸‹è½½è¿›åº¦:%.2f&quot;,1.0 *receivedSize / expectedSize);&#125; completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) &#123;&#125;]; å›¾ç‰‡åŠ è½½è¿‡ç¨‹ ç¼“å­˜å¤§å°12NSInteger *cacheSize = [[SDImageCache sharedImageCache] getSize];NSLog(@&quot;ç¼“å­˜å¤§å°ï¼š%d&quot;, cacheSize); æ¸…ç†ç¼“å­˜12345// æ¸…ç†å†…å­˜ç¼“å­˜[[SDImageCache sharedImageCache] clearMemory];// æ¸…ç†ç£ç›˜ç¼“å­˜[[SDImageCache sharedImageCache] clearDisk]; æŸ¥çœ‹ç¼“å­˜å®Œæ•´ç›®å½•1NSLog(@&quot;%s__%d__|%@&quot;,__FUNCTION__,__LINE__,[[SDImageCache sharedImageCache] defaultCachePathForKey:@&quot;http://img4.duitang.com/uploads/blog/201310/18/20131018213446_smUw4.thumb.600_0.jpeg&quot;]); ä»£ç ï¼šSDWebImageDemo å‚è€ƒï¼šiOSå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼SDWebImageè§£è¯»SDWebImage çš„ç®€å•ä½¿ç”¨æ–¹æ³•iOSå¼€å‘SDWebImageçš„åŸºæœ¬ä½¿ç”¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>SDWebImage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(äº”)ï¼šCookieçš„ä½¿ç”¨]]></title>
    <url>%2F2017%2Fios-network-5.html</url>
    <content type="text"><![CDATA[Cookieåœ¨Webå¼€å‘æ—¶æ˜¯éå¸¸å¸¸ç”¨çš„å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¿å­˜å°‘é‡ä¿¡æ¯ä¸€ç§æ–¹æ³•ã€‚Cookieæ˜¯ç½‘ç«™ä¸ºäº†ä¾¿æ˜¯ç»ˆç«¯èº«ä»½ï¼Œä¿å­˜åœ¨ç»ˆç«¯æœ¬åœ°çš„ç”¨æˆ·å‡­è¯ä¿¡æ¯ã€‚Cookieä¸­çš„å­—æ®µä¸æ„ä¹‰ç”±æœåŠ¡ç«¯è¿›è¡Œå®šä¹‰ã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·åœ¨æŸä¸ªç½‘ç«™è¿›è¡Œäº†ç™»å½•æ“ä½œåï¼ŒæœåŠ¡ç«¯ä¼šå°†Cookieä¿¡æ¯è¿”å›ç»™ç»ˆç«¯ï¼Œç»ˆç«¯ä¼šå°†è¿™äº›ä¿¡æ¯è¿›è¡Œä¿å­˜ï¼Œåœ¨ä¸‹ä¸€æ¬¡å†æ¬¡è®¿é—®è¿™ä¸ªç½‘ç«™æ—¶ï¼Œç»ˆç«¯ä¼šå°†ä¿å­˜çš„Cookieä¿¡æ¯ä¸€å¹¶å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ®Cookieä¿¡æ¯æ˜¯å¦æœ‰æ•ˆæ¥åˆ¤æ–­æ­¤ç”¨æˆ·æ˜¯å¦å¯ä»¥è‡ªåŠ¨ç™»å½•ã€‚ åœ¨iOSåŒæ ·ä¹Ÿæœ‰Cookieï¼ŒCookieç®¡ç†çš„æœ‰ä¸¤ä¸ªç±»ï¼šNSHTTPCookieStorage å’Œ NSHTTPCookieã€‚ è·å–Cookieåœ¨è¯·æ±‚åè·å–Cookie 1234NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage];for (NSHTTPCookie *cookie in [cookieJar cookies]) &#123; NSLog(@&quot;%@&quot;, cookie);&#125; ä¾‹å¦‚è¯·æ±‚ç™¾åº¦åï¼Œå°±ä¼šè¿”å›å‡ ä¸ªå¦‚ä¸‹Cookieå¯¹è±¡(NSHTTPCookie): 123456789101112&lt;NSHTTPCookie version:0 name:BD_NOT_HTTPS value:1 expiresDate:&apos;2017-09-23 14:14:22 +0000&apos; created:&apos;2017-09-23 14:09:22 +0000&apos; sessionOnly:FALSE domain:www.baidu.com partition:none path:/ isSecure:FALSE path:&quot;/&quot; isSecure:FALSE&gt; è®¾ç½®Cookieåœ¨è¯·æ±‚å‰è®¾ç½®ä¸€ä¸ªå¦‚ä¸‹Cookieï¼š 12345678910// è¯·æ±‚å‰ è®¾ç½®CookieNSMutableDictionary *cookieProperties = [NSMutableDictionary dictionary];[cookieProperties setObject:@&quot;andyron&quot; forKey:NSHTTPCookieName];[cookieProperties setObject:@&quot;1587&quot; forKey:NSHTTPCookieValue];[cookieProperties setObject:@&quot;andyron.com&quot; forKey:NSHTTPCookieDomain];[cookieProperties setObject:@&quot;andyron.com&quot; forKey:NSHTTPCookieOriginURL];[cookieProperties setObject:@&quot;/&quot; forKey:NSHTTPCookiePath];[cookieProperties setObject:@&quot;0&quot; forKey:NSHTTPCookieVersion];NSHTTPCookie *cookie = [NSHTTPCookie cookieWithProperties:cookieProperties];[[NSHTTPCookieStorage sharedHTTPCookieStorage] setCookie:cookie]; åœ¨è¯·æ±‚åè·å–çš„å‡ ä¸ªCookieå¯¹è±¡ï¼ˆæœåŠ¡å™¨æœ¬èº«è®¾ç½®çš„å’ŒæœåŠ¡å™¨ä»å®¢æˆ·ç«¯åå»çš„ï¼‰ä¸­å°±æœ‰å¦‚ä¸‹ä¸€ä¸ªï¼š 123456789101112&lt;NSHTTPCookie version:0 name:andyron value:1587 expiresDate:&apos;(null)&apos; created:&apos;2017-09-23 14:43:52 +0000&apos; sessionOnly:TRUE domain:andyron.com partition:none path:/ isSecure:FALSE path:&quot;/&quot; isSecure:FALSE&gt; NSHTTPCookieStorageæ–¹æ³•å’Œå±æ€§ä»‹ç»12345678910111213141516171819202122232425262728293031323334//è·å–å•ä¾‹å¯¹è±¡+ (NSHTTPCookieStorage *)sharedHTTPCookieStorage;//æ‰€æœ‰Cookieæ•°æ®æ•°ç»„ å…¶ä¸­å­˜æ”¾NSHTTPCookieå¯¹è±¡@property (nullable , readonly, copy) NSArray&lt;NSHTTPCookie *&gt; *cookies;//æ‰‹åŠ¨è®¾ç½®ä¸€æ¡Cookieæ•°æ®- (void)setCookie:(NSHTTPCookie *)cookie;//åˆ é™¤æŸæ¡Cookieä¿¡æ¯- (void)deleteCookie:(NSHTTPCookie *)cookie;//åˆ é™¤æŸä¸ªæ—¶é—´åçš„æ‰€æœ‰Cookieä¿¡æ¯ iOS8åå¯ç”¨- (nullable NSArray&lt;NSHTTPCookie *&gt; *)cookiesForURL:(NSURL *)URL;//è·å–æŸä¸ªç‰¹å®šURLçš„æ‰€æœ‰Cookieæ•°æ®- (void)removeCookiesSinceDate:(NSDate *)date NS_AVAILABLE(10_10, 8_0);//ä¸ºæŸä¸ªç‰¹å®šçš„URLè®¾ç½®Cookie- (void)setCookies:(NSArray&lt;NSHTTPCookie *&gt; *)cookies forURL:(nullable NSURL *)URL mainDocumentURL:(nullable NSURL *)mainDocumentURL;//Cookieæ•°æ®çš„æ¥æ”¶åè®®/*æšä¸¾å¦‚ä¸‹ï¼štypedef NS_ENUM(NSUInteger, NSHTTPCookieAcceptPolicy) &#123; NSHTTPCookieAcceptPolicyAlways,//æ¥æ”¶æ‰€æœ‰Cookieä¿¡æ¯ NSHTTPCookieAcceptPolicyNever,//ä¸æ¥æ”¶æ‰€æœ‰Cookieä¿¡æ¯ NSHTTPCookieAcceptPolicyOnlyFromMainDocumentDomain//åªæ¥æ”¶ä¸»æ–‡æ¡£åŸŸçš„Cookieä¿¡æ¯&#125;;*/@property NSHTTPCookieAcceptPolicy cookieAcceptPolicy; ä¸Cookieç›¸å…³çš„é€šçŸ¥ï¼š 12345//Cookieæ•°æ®çš„æ¥æ”¶åè®®æ”¹å˜æ—¶å‘é€çš„é€šçŸ¥FOUNDATION_EXPORT NSString * const NSHTTPCookieManagerAcceptPolicyChangedNotification;//ç®¡ç†çš„Cookieæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶å‘é€çš„é€šçŸ¥FOUNDATION_EXPORT NSString * const NSHTTPCookieManagerCookiesChangedNotification; NSHTTPCookieçš„æ–¹æ³•å’Œå±æ€§ä»‹ç»NSHTTPCookieå°±æ˜¯Cookieå¯¹è±¡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445//ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆ›å»ºå’Œåˆå§‹åŒ– éƒ½æ˜¯é€šè¿‡å­—å…¸è¿›è¡Œé”®å€¼è®¾ç½®- (nullable instancetype)initWithProperties:(NSDictionary&lt;NSString *, id&gt; *)properties;+ (nullable NSHTTPCookie *)cookieWithProperties:(NSDictionary&lt;NSString *, id&gt; *)properties;//è¿”å›Cookieæ•°æ®ä¸­å¯ç”¨äºæ·»åŠ HTTPå¤´å­—æ®µçš„å­—å…¸+ (NSDictionary&lt;NSString *, NSString *&gt; *)requestHeaderFieldsWithCookies:(NSArray&lt;NSHTTPCookie *&gt; *)cookies;//ä»æŒ‡å®šçš„å“åº”å¤´å’ŒURLåœ°å€ä¸­è§£æå‡ºCookieæ•°æ®+ (NSArray&lt;NSHTTPCookie *&gt; *)cookiesWithResponseHeaderFields:(NSDictionary&lt;NSString *, NSString *&gt; *)headerFields forURL:(NSURL *)URL;//Cookieæ•°æ®ä¸­çš„å±æ€§å­—å…¸@property (nullable, readonly, copy) NSDictionary&lt;NSString *, id&gt; *properties;//è¯·æ±‚å“åº”çš„ç‰ˆæœ¬@property (readonly) NSUInteger version;//è¯·æ±‚ç›¸åº”çš„åç§°@property (readonly, copy) NSString *name;//è¯·æ±‚ç›¸åº”çš„å€¼@property (readonly, copy) NSString *value;//è¿‡æœŸæ—¶é—´@property (nullable, readonly, copy) NSDate *expiresDate;//è¯·æ±‚çš„åŸŸå@property (readonly, copy) NSString *domain;//è¯·æ±‚çš„è·¯å¾„@property (readonly, copy) NSString *path;//æ˜¯å¦æ˜¯å®‰å…¨ä¼ è¾“@property (readonly, getter=isSecure) BOOL secure;//æ˜¯å¦åªå‘é€HTTPçš„æœåŠ¡@property (readonly, getter=isHTTPOnly) BOOL HTTPOnly;//å“åº”çš„æ–‡æ¡£@property (nullable, readonly, copy) NSString *comment;//ç›¸åº”çš„æ–‡æ¡£URL@property (nullable, readonly, copy) NSURL *commentURL;//æœåŠ¡ç«¯å£åˆ—è¡¨@property (nullable, readonly, copy) NSArray&lt;NSNumber *&gt; *portList; ä»£ç ï¼šCookie å‚è€ƒï¼š IOSä¸­httpè¯·æ±‚ä½¿ç”¨cookieiOSç½‘ç»œç¼–ç¨‹ä¹‹ä¸ƒâ€”â€”æœ¬åœ°ç”¨æˆ·å‡­è¯Cookieçš„åº”ç”¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSHTTPCookieStorage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(å››)ï¼šç¼“å­˜ç±»NSURLCacheä»‹ç»]]></title>
    <url>%2F2017%2Fios-network-4.html</url>
    <content type="text"><![CDATA[ç½‘ç»œè¯·æ±‚ä¸­ç¼“å­˜ç±»NSURLCacheå¸¸ç”¨å±æ€§å’Œæ–¹æ³•ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041//è·å–å½“å‰åº”ç”¨çš„ç¼“å­˜ç®¡ç†å¯¹è±¡+ (NSURLCache *)sharedURLCache;//è®¾ç½®è‡ªå®šä¹‰çš„NSURLCacheä½œä¸ºåº”ç”¨ç¼“å­˜ç®¡ç†å¯¹è±¡+ (void)setSharedURLCache:(NSURLCache *)cache;//åˆå§‹åŒ–ä¸€ä¸ªåº”ç”¨ç¼“å­˜å¯¹è±¡/*memoryCapacity è®¾ç½®å†…å­˜ç¼“å­˜å®¹é‡diskCapacity è®¾ç½®ç£ç›˜ç¼“å­˜å®¹é‡path ç£ç›˜ç¼“å­˜è·¯å¾„å†…å®¹ç¼“å­˜ä¼šåœ¨åº”ç”¨ç¨‹åºé€€å‡ºå æ¸…ç©º ç£ç›˜ç¼“å­˜ä¸ä¼š*/- (instancetype)initWithMemoryCapacity:(NSUInteger)memoryCapacity diskCapacity:(NSUInteger)diskCapacity diskPath:(nullable NSString *)path;//è·å–æŸä¸€è¯·æ±‚çš„ç¼“å­˜- (nullable NSCachedURLResponse *)cachedResponseForRequest:(NSURLRequest *)request;//ç»™è¯·æ±‚è®¾ç½®æŒ‡å®šçš„ç¼“å­˜- (void)storeCachedResponse:(NSCachedURLResponse *)cachedResponse forRequest:(NSURLRequest *)request;//ç§»é™¤æŸä¸ªè¯·æ±‚çš„ç¼“å­˜- (void)removeCachedResponseForRequest:(NSURLRequest *)request;//ç§»é™¤æ‰€æœ‰ç¼“å­˜æ•°æ®- (void)removeAllCachedResponses;//ç§»é™¤æŸä¸ªæ—¶é—´èµ·çš„ç¼“å­˜è®¾ç½®- (void)removeCachedResponsesSinceDate:(NSDate *)date NS_AVAILABLE(10_10, 8_0);//å†…å­˜ç¼“å­˜å®¹é‡å¤§å°@property NSUInteger memoryCapacity;//ç£ç›˜ç¼“å­˜å®¹é‡å¤§å°@property NSUInteger diskCapacity;//å½“å‰å·²ç”¨å†…å­˜å®¹é‡@property (readonly) NSUInteger currentMemoryUsage;//å½“å‰å·²ç”¨ç£ç›˜å®¹é‡@property (readonly) NSUInteger currentDiskUsage; å‚è€ƒï¼šiOSç½‘ç»œç¼–ç¨‹ä¹‹å…­â€”â€”æ•°æ®ç¼“å­˜ç±»NSURLCacheä½¿ç”¨è§£æ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSURLCache</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(äºŒ)ï¼šNSURLConnectionä»‹ç»]]></title>
    <url>%2F2017%2Fios-network-2.html</url>
    <content type="text"><![CDATA[NSURLConnectionåœ¨iOS7ä¹‹ååŸºæœ¬è¢«NSURLSessionï¼Œä½†ä¸ºäº†å…¼å®¹ï¼Œæœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚ ç½‘ç»œè¯·æ±‚åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§ï¼š åŒæ­¥æ˜¯æŒ‡åœ¨è¯·æ±‚ç»“æœè¿”å›ä¹‹å‰ï¼Œç¨‹åºä»£ç ä¼šå¡åœ¨è¯·æ±‚å¤„ï¼Œä¹‹åçš„ä»£ç ä¸ä¼šè¢«æ‰§è¡Œï¼Œè¯·æ±‚è¿”å›ç»“æœåï¼Œä¹‹åçš„ä»£ç å†æ‰§è¡Œã€‚ å¼‚æ­¥æ˜¯æŒ‡åœ¨å‘é€è¯·æ±‚ä¹‹åï¼Œä¸€è¾¹åœ¨å­çº¿ç¨‹ä¸­æ¥æ”¶è¿”å›æ•°æ®ï¼Œä¸€è¾¹æ‰§è¡Œä¹‹åçš„ä»£ç ï¼Œå½“è¿”å›æ•°æ®æ¥æ”¶å®Œæ¯•åï¼Œé‡‡ç”¨å›è°ƒçš„æ–¹å¼é€šçŸ¥ä¸»çº¿ç¨‹åšå¤„ç†ã€‚ ä¸€ã€NSURLConnectionåŒæ­¥è¯·æ±‚12345678// åŒæ­¥- (void)tongbu &#123; NSURL * url = [NSURL URLWithString:@&quot;https://www.baidu.com&quot;]; NSURLRequest * request = [NSURLRequest requestWithURL:url]; NSData * data = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil]; NSLog(@&quot;%@&quot;,data); NSLog(@&quot;ç»§ç»­æ‰§è¡Œ&quot;);&#125; è€Œã€NSURLConnectionå¼‚æ­¥è¯·æ±‚ blockæ–¹å¼çš„å¼‚æ­¥è¯·æ±‚ 12345678910// blockçš„å¼‚æ­¥- (void)yibu &#123; NSURL * url = [NSURL URLWithString:@&quot;https://www.baidu.com&quot;]; NSURLRequest * request = [NSURLRequest requestWithURL:url]; //å…¶ä¸­çš„queueå‚æ•°å†³å®šblockä¸­çš„ä»£ç åœ¨å“ªä¸ªé˜Ÿåˆ—ä¸­æ‰§è¡Œ [NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse * _Nullable response, NSData * _Nullable data, NSError * _Nullable connectionError) &#123; NSLog(@&quot;%@&quot;,data); &#125;]; NSLog(@&quot;ç»§ç»­æ‰§è¡Œ&quot;);&#125; ä»£ç†å›è°ƒæ–¹å¼çš„å¼‚æ­¥è¯·æ±‚é‡‡ç”¨åè®®å’Œå£°æ˜ä¸€ä¸ªç”¨æˆ·æ¥å—æ•°æ®çš„å¯å˜NSDataï¼š 1234@interface ViewController ()&lt;NSURLConnectionDataDelegate&gt;&#123; NSMutableData * _data;&#125; è¯·æ±‚ä»£ç ï¼š1234567// ä»£ç†å›è°ƒçš„å¼‚æ­¥- (void)yibu_delegate &#123; _data = [[NSMutableData alloc]init]; NSURL * url = [NSURL URLWithString:@&quot;https://www.baidu.com&quot;]; NSURLRequest * request = [NSURLRequest requestWithURL:url]; [NSURLConnection connectionWithRequest:request delegate:self];&#125; å®ç°ä»£ç†æ–¹æ³•ï¼š123456789101112131415161718-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response&#123; //å¼€å§‹æ¥æ”¶æ•°æ® [_data setLength:0]; NSLog(@&quot;%s&quot;,&quot;å¼€å§‹æ¥æ”¶æ•°æ®&quot;);&#125;-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data&#123; //æ­£åœ¨æ¥æ”¶æ•°æ® [_data appendData:data]; NSLog(@&quot;%s&quot;,&quot;æ­£åœ¨æ¥æ”¶æ•°æ®&quot;);&#125;-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error&#123; //æ¥æ”¶æ•°æ®å¤±è´¥ NSLog(@&quot;%@&quot;,error);&#125;-(void)connectionDidFinishLoading:(NSURLConnection *)connection&#123; //æ¥æ”¶æ•°æ®å®Œæˆ NSLog(@&quot;%@&quot;,_data);&#125; ä»£ç ï¼šNSURLConnection å‚è€ƒï¼šiOSç½‘ç»œç¼–ç¨‹ä¹‹ä¸‰â€”â€”NSURLConnectionçš„ç®€å•ä½¿ç”¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSURLConnection</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(ä¸‰)ï¼šè¯·æ±‚ç±»NSURLRequestå’Œè¯·æ±‚å“åº”ç±»NSURLResponseä»‹ç»]]></title>
    <url>%2F2017%2Fios-network-3.html</url>
    <content type="text"><![CDATA[NSURLSessionå’ŒNSURLConnectionæ¡†æ¶ï¼Œç½‘ç»œè¯·æ±‚éƒ½æ˜¯é€šè¿‡NSURLRequestç±»å‘èµ·çš„ã€‚ NSURLRequestè¯·æ±‚ç±»é™¤äº†åœ¨åˆå§‹åŒ–æ—¶å¯ä»¥è®¾å®šä¸€äº›å±æ€§ï¼Œåˆ›å»ºå‡ºæ¥ååˆ™å¤§éƒ¨åˆ†å±æ€§éƒ½ä¸ºåªè¯»çš„ï¼Œæ— æ³•è®¾ç½®ä¸ä¿®æ”¹ã€‚NSMutableURLRequestç›¸å¯¹è€Œè¨€å¯ä»¥æ›´åŠ çµæ´»çš„è®¾ç½®è¯·æ±‚çš„ç›¸å…³å±æ€§ï¼ˆå±æ€§ä¿®é¥°ç¬¦å˜åŒ–ï¼‰ï¼Œå…¶ä»–æ–¹é¢æ²¡æœ‰å¤šå°‘åŒºåˆ«ã€‚ ä¸€ã€NSURLRequestç±»ä¸­å¸¸ç”¨æ–¹æ³•å’Œå±æ€§ç±»æ–¹æ³•ï¼š12345// åˆ›å»ºçš„è¯·æ±‚å¯¹è±¡ é»˜è®¤ä½¿ç”¨NSURLRequestUseProtocolCachePolicyç¼“å­˜é€»è¾‘ é»˜è®¤è¯·æ±‚è¶…æ—¶æ—¶é™ä¸º60s+ (instancetype)requestWithURL:(NSURL *)URL;// åˆ›å»ºçš„è¯·æ±‚å¯¹è±¡ åˆ›å»ºæ—¶è®¾ç½®ç¼“å­˜é€»è¾‘å’Œè¶…æ—¶æ—¶é™+ (instancetype)requestWithURL:(NSURL *)URL cachePolicy:(NSURLRequestCachePolicy)cachePolicy timeoutInterval:(NSTimeInterval)timeoutInterval; å®ä¾‹æ–¹æ³•ï¼š12345// initæ–¹æ³•è¿›è¡Œå¯¹è±¡çš„åˆ›å»º é»˜è®¤ä½¿ç”¨NSURLRequestUseProtocolCachePolicyç¼“å­˜é€»è¾‘ é»˜è®¤è¯·æ±‚è¶…æ—¶æ—¶é™ä¸º60s- (instancetype)initWithURL:(NSURL *)URL;// initæ–¹æ³•è¿›è¡Œå¯¹è±¡çš„åˆ›å»º- (instancetype)initWithURL:(NSURL *)URL cachePolicy:(NSURLRequestCachePolicy)cachePolicy timeoutInterval:(NSTimeInterval)timeoutInterval; å±æ€§ï¼š1234567891011121314151617181920// åˆ¤æ–­æ˜¯å¦æ”¯æŒå®‰å…¨ç¼–ç @property (class, readonly) BOOL supportsSecureCoding;// åªè¯»å±æ€§ è·å–è¯·æ±‚å¯¹è±¡çš„URL@property (nullable, readonly, copy) NSURL *URL;// åªè¯»å±æ€§ ç¼“å­˜ç­–ç•¥@property (readonly) NSURLRequestCachePolicy cachePolicy;//åªè¯»å±æ€§ è·å–è¯·æ±‚çš„è¶…æ—¶æ—¶é™@property (readonly) NSTimeInterval timeoutInterval;//ä¸»æ–‡æ¡£åœ°å€ è¿™ä¸ªåœ°å€ç”¨æ¥å­˜æ”¾ç¼“å­˜@property (nullable, readonly, copy) NSURL *mainDocumentURL;// è·å–ç½‘ç»œè¯·æ±‚çš„æœåŠ¡ç±»å‹@property (readonly) NSURLRequestNetworkServiceType networkServiceType;//è·å–æ˜¯å¦å…è®¸ä½¿ç”¨æœåŠ¡å•†èœ‚çªç½‘ç»œ@property (readonly) BOOL allowsCellularAccess; ç¼“å­˜ç­–ç•¥NSURLRequestCachePolicy:12345678910111213141516171819202122232425262728293031typedef NS_ENUM(NSUInteger, NSURLRequestCachePolicy)&#123; //é»˜è®¤çš„ç¼“å­˜åè®® NSURLRequestUseProtocolCachePolicy = 0, //æ— è®ºæœ‰æ— æœ¬åœ°ç¼“å­˜æ•°æ® éƒ½è¿›è¡Œä»æ–°è¯·æ±‚ NSURLRequestReloadIgnoringLocalCacheData = 1, //å¿½ç•¥æœ¬åœ°å’Œè¿œç¨‹çš„ç¼“å­˜æ•°æ® æœªå®ç°çš„ç­–ç•¥ NSURLRequestReloadIgnoringLocalAndRemoteCacheData = 4, //æ— è®ºæœ‰æ— ç¼“å­˜æ•°æ® éƒ½è¿›è¡Œä»æ–°è¯·æ±‚ NSURLRequestReloadIgnoringCacheData = NSURLRequestReloadIgnoringLocalCacheData, //å…ˆæ£€æŸ¥ç¼“å­˜ å¦‚æœæ²¡æœ‰ç¼“å­˜å†è¿›è¡Œè¯·æ±‚ NSURLRequestReturnCacheDataElseLoad = 2, //ç±»ä¼¼ç¦»çº¿æ¨¡å¼ï¼Œåªè¯»ç¼“å­˜ æ— è®ºæœ‰æ— ç¼“å­˜éƒ½ä¸è¿›è¡Œè¯·æ±‚ NSURLRequestReturnCacheDataDontLoad = 3, //æœªå®ç°çš„ç­–ç•¥ NSURLRequestReloadRevalidatingCacheData = 5, // Unimplemented&#125;; ç½‘ç»œè¯·æ±‚çš„æœåŠ¡ç±»å‹æšä¸¾NSURLRequestNetworkServiceType:12345678910111213typedef NS_ENUM(NSUInteger, NSURLRequestNetworkServiceType)&#123; NSURLNetworkServiceTypeDefault = 0, // Standard internet traffic NSURLNetworkServiceTypeVoIP = 1, // Voice over IP control traffic NSURLNetworkServiceTypeVideo = 2, // Video traffic NSURLNetworkServiceTypeBackground = 3, // Background traffic NSURLNetworkServiceTypeVoice = 4 // Voice data&#125;; äºŒã€ä¸HTTP/HTTPSåè®®ç›¸å…³è¯·æ±‚çš„å±æ€§å’Œæ–¹æ³•è¿™äº›å±æ€§å±äºNSMutableURLRequest: 1234567891011121314151617181920212223// HPPTè¯·æ±‚æ–¹å¼ é»˜è®¤ä¸ºâ€œGETâ€@property (copy) NSString *HTTPMethod;//é€šè¿‡å­—å…¸è®¾ç½®HTTPè¯·æ±‚å¤´çš„é”®å€¼æ•°æ®@property (nullable, copy) NSDictionary&lt;NSString *, NSString *&gt; *allHTTPHeaderFields;//è®¾ç½®httpè¯·æ±‚å¤´ä¸­çš„å­—æ®µå€¼- (void)setValue:(nullable NSString *)value forHTTPHeaderField:(NSString *)field;//å‘httpè¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ªå­—æ®µ- (void)addValue:(NSString *)value forHTTPHeaderField:(NSString *)field;//è®¾ç½®httpè¯·æ±‚ä½“ ç”¨äºPOSTè¯·æ±‚@property (nullable, copy) NSData *HTTPBody;//è®¾ç½®httpè¯·æ±‚ä½“çš„è¾“å…¥æµ@property (nullable, retain) NSInputStream *HTTPBodyStream;//è®¾ç½®å‘é€è¯·æ±‚æ—¶æ˜¯å¦å‘é€cookieæ•°æ®@property BOOL HTTPShouldHandleCookies;//è®¾ç½®è¯·æ±‚æ—¶æ˜¯å¦æŒ‰é¡ºåºæ”¶å‘ é»˜è®¤ç¦ç”¨ åœ¨æŸäº›æœåŠ¡å™¨ä¸­è®¾ä¸ºYESå¯ä»¥æé«˜ç½‘ç»œæ€§èƒ½@property BOOL HTTPShouldUsePipelining; ä¸‰ã€NSURLResponseç½‘ç»œè¯·æ±‚æˆåŠŸåï¼ŒæœåŠ¡å™¨å“åº”ä¿¡æ¯ä¼šå­˜å­˜æ”¾åœ¨NSURLResponseå’Œå…¶å­ç±»NSHTTPURLResponseä¸­: 1234567891011121314151617181920//è¯·æ±‚çš„URLåœ°å€@property (nullable, readonly, copy) NSURL *URL;//è¿”å›æ•°æ®çš„æ•°æ®ç±»å‹@property (nullable, readonly, copy) NSString *MIMEType;//è·å–è¿”å›æ•°æ®çš„å†…å®¹é•¿åº¦@property (readonly) long long expectedContentLength;//è·å–è¿”å›æ•°æ®çš„ç¼–ç æ–¹å¼@property (nullable, readonly, copy) NSString *textEncodingName;//è¿”å›æ‹¼æ¥çš„æ•°æ®æ–‡ä»¶å ä»¥urlä¸ºå æ•°æ®æ²¡é†’MIMETypeä¸ºæ‰©å±•å@property (nullable, readonly, copy) NSString *suggestedFilename;//è¯·æ±‚çš„çŠ¶æ€ç @property (readonly) NSInteger statusCode;//è¯·æ±‚å¤´ä¸­æ‰€æœ‰çš„å­—æ®µ@property (readonly, copy) NSDictionary *allHeaderFields; å‚è€ƒï¼šiOSç½‘ç»œç¼–ç¨‹ä¹‹å››â€”â€”è¯·æ±‚ç±»NSURLRequestä½¿ç”¨è¯¦è§£iOSç½‘ç»œç¼–ç¨‹ä¹‹äº”â€”â€”è¯·æ±‚å›æ‰§ç±»NSURLResponseå±æ€§ç®€ä»‹]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSURLRequest</tag>
        <tag>NSURLResponse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç½‘ç»œç¼–ç¨‹(ä¸€)ï¼šNSURLSessionä»‹ç»]]></title>
    <url>%2F2017%2Fios-network-1.html</url>
    <content type="text"><![CDATA[NSURLSessionæ˜¯iOS7ä¹‹åè¢«ç”¨æ¥ä»£æ›¿NSURLConnectionçš„ç½‘ç»œå¼€å‘æ¡†æ¶ï¼Œå‰è€…ç›¸å¯¹äºåè€…çš„ä¼˜åŠ¿æ˜¯æ”¯æŒåå°å¤„ç†èƒ½åŠ› NSURLSessionçš„é…ç½®é€šè¿‡NSURLSessionConfigurationæ¥é…ç½®Sessionçš„ä¸‰ç§ç±»å‹ï¼š Defaultï¼šæä¾›å‰å°è¯·æ±‚ç›¸å…³æ–¹æ³•ï¼Œæ”¯æŒé…ç½®ç¼“å­˜ï¼Œèº«ä»½å‡­è¯ç­‰ã€‚ NSURLSessionConfiguration * defaultConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration]; Ephemeralç±»å‹ï¼šå³æ—¶çš„è¯·æ±‚ç±»å‹ï¼Œä¸ä½¿ç”¨ç¼“å­˜ï¼Œèº«ä»½å‡­è¯ç­‰ã€‚ NSURLSessionConfiguration * defaultConfiguration = [NSURLSessionConfiguration ephemeralSessionConfiguration]; Backgroundï¼šåå°ç±»å‹ï¼Œæ”¯æŒåœ¨åå°å®Œæˆè¯·æ±‚ä»»åŠ¡ã€‚ NSURLSessionConfiguration * backgroundConfiguration = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@&quot;com.andyron.NSURLSession-delegate-&quot;]; backgroundSessionConfigurationWithIdentifieråªæ˜¯æ ‡è¯†ç¬¦ã€‚ NSURLSessionConfigurationè¿˜å¯ä»¥é…ç½®å¦‚ç¼“å­˜ï¼Œç½‘ç»œæ¨¡å¼ç­‰å‚æ•°ã€‚ NSURLSessionçš„ä¸¤ç§è¿›è¡Œç½‘ç»œè¯·æ±‚æ–¹å¼ é€šè¿‡blockçš„æ–¹å¼è·å–ç½‘ç»œæ•°æ® 123456789101112//åˆ›å»ºsessioné…ç½®å¯¹è±¡NSURLSessionConfiguration * defaultConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];//åˆ›å»ºè¯·æ±‚å¯¹è±¡NSURLRequest * request = [NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;https://www.baidu.com&quot;]];//åˆ›å»ºsessionå¯¹è±¡NSURLSession * defaultSession = [NSURLSession sessionWithConfiguration:defaultConfiguration];//æ·»åŠ ä»»åŠ¡NSURLSessionTask * task= [defaultSession dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) &#123; NSLog(@&quot;%@&quot;,response);&#125;];//å¼€å§‹ä»»åŠ¡[task resume]; åœ¨blockä¸­è¿›è¡Œæ•°æ®å¤„ç† é€šè¿‡ä»£ç†å›è°ƒè·å–ç½‘ç»œæ•°æ® é¦–å…ˆé‡‡ç”¨åè®® NSURLSessionDataDelegate123@interface ViewController ()&lt;NSURLSessionDataDelegate&gt;@end é…ç½® 1234567NSURLSessionConfiguration * defaultConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];NSURLRequest * request = [NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;https://www.baidu.com&quot;]];NSURLSession * defaultSession = [NSURLSession sessionWithConfiguration:defaultConfiguration delegate:self delegateQueue:[NSOperationQueue mainQueue]];NSURLSessionTask * task= [defaultSession dataTaskWithRequest:request];[task resume]; å®ç°ä»£ç†æ–¹æ³• 12345678//å¼€å§‹æ¥å—æ•°æ®-(void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask didReceiveData:(NSData *)data&#123; NSLog(@&quot;=======%@&quot;,data);&#125;//æ¥å—æ•°æ®ç»“æŸ-(void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error&#123; NSLog(@&quot;å®Œæˆï¼šerror%@&quot;,error);&#125; åå°å¤„ç†ä¸‹è½½ä»»åŠ¡è¿™æ˜¯NSURLSessionæœ€å¤§çš„ä¼˜åŠ¿ã€‚ä½¿ç”¨ä»£ç†çš„æ–¹å¼è¿›è¡Œåå°å¤„ç†ä¸‹è½½ä»»åŠ¡ã€‚é…ç½®å’Œä»£ç†æ–¹å¼ç›¸åŒï¼Œä¸»è¦æ˜¯å®ç°ä¸€äº›ä»£ç†æ–¹æ³•ã€‚ ä¸‹è½½è¿›åº¦ç›‘å¬çš„ä»£ç†æ–¹æ³•ï¼š 12345// ä¸‹è½½è¿›åº¦ç›‘å¬- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite&#123; NSLog(@&quot;######&quot;);&#125; åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­ç‚¹å‡»Homeé”®ä½¿åº”ç”¨ç¨‹åºè¿›å…¥åå°ï¼Œä¸‹è½½ä»»åŠ¡ä¾ç„¶åœ¨è¿›è¡Œï¼Œå½“åå°ä¸‹è½½å®Œæˆåä¼šä¸AppDelegateè¿›è¡Œäº¤äº’ï¼Œä¼šè°ƒç”¨AppDelegateä¸­çš„ä»£ç†æ–¹æ³• 123-(void)application:(UIApplication *)application handleEventsForBackgroundURLSession:(NSString *)identifier completionHandler:(void (^)(void))completionHandler&#123; NSLog(@&quot;ä¸‹è½½ä»»åŠ¡åœ¨åå°å®Œæˆ&quot;);&#125; ä¸‹è½½å®Œæˆåï¼Œå¯æŸ¥çœ‹ä¸‹è½½çš„æ–‡ä»¶æ‰€åœ¨ä½ç½® 1234//æ­¤æ–¹æ³•åªæœ‰ä¸‹è½½æˆåŠŸæ‰ä¼šè°ƒç”¨ï¼Œ æ–‡ä»¶æ”¾åœ¨locationä½ç½®-(void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didFinishDownloadingToURL:(NSURL *)location&#123; NSLog(@&quot;ä¸‹è½½ä¸´æ—¶æ–‡ä»¶çš„ä½ç½®%@&quot;, location);&#125; åœ¨åå°å®Œæˆæ— äººæ‰€æœ‰ä»»åŠ¡æ—¶è°ƒç”¨ 12345// åå°æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆ-(void)URLSessionDidFinishEventsForBackgroundURLSession:(NSURLSession *)session&#123; NSLog(@&quot;All tasks are finished&quot;);&#125; ä»£ç ï¼šNSURLSession(delegate), NSURLSession(block)æ·±å…¥å­¦ä¹ ï¼šURL Session Programming Guide å‚è€ƒiOSç½‘ç»œç¼–ç¨‹ä¹‹äºŒâ€”â€”NSURLSessionçš„ç®€å•ä½¿ç”¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSURLSession</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨CharlesæŠ“å–iOSçš„http/httpsè¯·æ±‚æ•°æ®]]></title>
    <url>%2F2017%2Fios-charles.html</url>
    <content type="text"><![CDATA[å…³äºCharlesä¸åšå¤šçš„ä»‹ç»äº†ï¼ŒCharleså®˜ç½‘ä¸€å¥è¯ä»‹ç»ç®€å•æ˜äº†ï¼š Web Debugging Proxy Application for Windows, Mac OS and Linux ä¸€ã€å®‰è£…Charleshttps://www.charlesproxy.com/download/ äºŒã€å®‰è£…Charlesæ ¹è¯ä¹¦æ‰“å¼€Charlesï¼Œåœ¨èœå•æ çš„Helpä¸­æ“ä½œï¼š åœ¨é’¥åŒ™ä¸²è®¿é—®ä¸­æŠŠCharlesçš„æ ¹è¯ä¹¦è®¾ç½®ä¸ºä¿¡ä»»ï¼š ä¸‰ã€åœ¨iOSè®¾å¤‡ä¸Šé…ç½®è¯ä¹¦ é¦–å…ˆåœ¨Charlesç‚¹å‡» ä¼šå¼¹å‡ºä»¥ä¸€ä¸ªæç¤ºæ¡†ï¼š æœ‰çš„ç‰ˆæœ¬ä¹Ÿä¼šå¼¹å‡ºä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚æˆ‘çš„ï¼š æ²¡å…³ç³»ï¼Œåˆ°ç³»ç»Ÿç½‘ç»œæŸ¥çœ‹iP é…ç½®æ‰‹æœºç½‘ç»œçš„HTTPä»£ç†ä¸ºæ‰‹åŠ¨ï¼Œç„¶åæ›´æ”¹æœåŠ¡å™¨ä¸ºç”µè„‘çš„IPï¼Œç«¯å£ä¸º8888. æ³¨æ„ï¼šç”µè„‘å’Œæ‰‹æœºè¦åœ¨åŒä¸€å±€åŸŸç½‘å†…ã€‚ æ‰‹æœºæµè§ˆå™¨ä¸­è¾“å…¥ charlesproxy.com/getssl å®‰è£…è¯ä¹¦ ä¹‹å‰å¦‚æœå‡ºç°å¦‚ä¸‹ï¼Œé€‰æ‹©å…è®¸å³å¯ï¼š æ­¤æ—¶å·²ç»å¯ä»¥æŠ“å–iOSçš„httpè¯·æ±‚æ•°æ®äº†ï¼š Structure æŒ‰ç…§åŸŸååˆ†ç±»æ˜¾ç¤ºã€‚sequenceæŒ‰ç…§æ—¶é—´é€‰é¡¹åˆ†ç±»æ˜¾ç¤ºã€‚ åŸŸåå‰é¢çš„ç¬¦åˆè¡¨ç¤ºè¯·æ±‚æ˜¯å¦åŠ å¯†äº† å››ã€æŠ“å–HTTPSè¯·æ±‚é€‰æ‹©å¦‚ä¸‹ï¼š åœ¨å¼¹æ¡†ä¸­æ·»åŠ ï¼Œéœ€è¦æŸ¥çœ‹httpsè¯·æ±‚çš„åŸŸåï¼š æ¯”å¦‚æˆ‘æ·»åŠ äº†çŸ¥ä¹çš„ï¼ŒæŸ¥çœ‹ çŸ¥ä¹é¦–é¡µåŠ¨æ€å¯¹åº”çš„æ¥å£ï¼š æé†’ï¼šä¸æŠ“åŒ…æ—¶ï¼ŒæŠŠæ‰‹æœºçš„httpä»£ç†æ”¹ä¸ºè‡ªåŠ¨ æ‰‹æœºï¼Œç”µè„‘ï¼ŒCharlesçš„ç¯å¢ƒä¸åŒå¯èƒ½æœ‰æ‰€ä¸åŒï¼Œæˆ‘çš„ç¯å¢ƒï¼šCharles v4.0.1macOS Sierra 10.12.6iPhone 6s iOS 11.0 å‚è€ƒï¼šååˆ†é’Ÿå­¦ä¼šCharlesæŠ“åŒ…(iOSçš„http/httpsè¯·æ±‚)ä½¿ç”¨ Charles è·å– https çš„æ•°æ®]]></content>
      <categories>
        <category>iOS</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>Charles</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 13ï¼šæ–‡ä»¶åŠ è½½ä¸ä¿å­˜]]></title>
    <url>%2F2017%2Foc-basic-13.html</url>
    <content type="text"><![CDATA[1 å±æ€§åˆ—è¡¨(property list, plist)å±æ€§åˆ—è¡¨å¯ä»¥ä¿å­˜çš„ç±»å‹æœ‰NSArray,NSDictionary,NSString,NSNumber,NSDate,NSDateä»¥åŠå®ƒä»¬å¯¹åº”çš„Mutableç±»ã€‚ NSDate 1234NSDate *date = [NSDate date];NSLog(@&quot;today is %@&quot;, date);NSDate *yesterday = [NSDate dateWithTimeIntervalSinceNow: -(24*3600)];NSLog(@&quot;yesterday is %@&quot;, yesterday); NSDateFormatterç”¨æ¥å¤„ç†æ—¶é—´æ ¼å¼ NSData 123456const *string = &quot;Hi there, this is a C string!&quot;;NSData *data = [NSData dataWithBytes: string length: strlen(string)+1];NSLog(@&quot;data is %@&quot;, data);// data is &lt;48692074 68657265 2c207468 69732069 73206120 43207374 72696e67 2100&gt;NSLog(@&quot;%lu byte string is &apos;%s&apos;&quot;, [data length], [data bytes]);// 30 byte string is &apos;Hi there, this is a C string!&apos; å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨ å†™å…¥123NSArray *phrase;phrase = [NSArray arrayWithObjects:@&quot;I&quot;, @&quot;seem&quot;, @&quot;to&quot;, @&quot;be&quot;, @&quot;a&quot;, @&quot;verb&quot;, nil];[phrase writeToFile:@&quot;/tmp/verbiage.txt&quot; atomically:YES]; verbiage.txtå†…å®¹ä¸ºï¼š123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;&lt;plist version=&quot;1.0&quot;&gt;&lt;array&gt; &lt;string&gt;I&lt;/string&gt; &lt;string&gt;seem&lt;/string&gt; &lt;string&gt;to&lt;/string&gt; &lt;string&gt;be&lt;/string&gt; &lt;string&gt;a&lt;/string&gt; &lt;string&gt;verb&lt;/string&gt;&lt;/array&gt;&lt;/plist&gt; Macç”µè„‘ç³»ç»Ÿä¸­ ~/Library/Preferencesä¸‹çš„æ‰€æœ‰é¦–é€‰é¡¹æ–‡ä»¶å’Œ/System/Library/LaunchDaemons/ä¸‹çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶éƒ½æ˜¯plist è¯»å–123NSArray *phrase2;phrase2 = [NSArray arrayWithContentsOfFile:@&quot;/tmp/verbiage.txt&quot;];NSLog(@&quot;%@&quot;, phrase2); -writeToFile:atomically:æ–¹æ³•ä¸­çš„atomicallyè¡¨ç¤ºæ˜¯å¦é¦–å…ˆå°†æ–‡ä»¶å†…å®¹ä¿å­˜åœ¨ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå†å°†ä¸´æ—¶æ–‡ä»¶å’ŒåŸå§‹æ–‡ä»¶äº¤æ¢ã€‚ ä¿®æ”¹å¯¹è±¡ç±»å‹NSPropertyListSerialization 2 ç¼–ç å¯¹è±¡æ— æ³•å°†å¯¹è±¡ä¿¡æ¯è¡¨ç¤ºä¸ºå±æ€§åˆ—è¡¨ç±»ã€‚ç¼–ç å’Œè§£ç (encoding and decoding) å’Œ åºåˆ—åŒ–ä¸ååºåˆ—åŒ–(serialization and deserialization) å¿…é¡»é‡‡ç”¨NSCodingåè®®åœ¨Interface Builderä¸­çš„çš„å¯¹è±¡å°±è¢«åºåˆ—åŒ–ä¿å­˜åˆ°ç£ç›˜ä¸­äº†ã€‚NSCodingå®šä¹‰ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨äºå¯¹è±¡ä¸NSDateä¹‹é—´çš„è½¬æ¢ï¼š123456@protocol NSCoding- (void)encodeWithCoder:(NSCoder *)aCoder;- (nullable instancetype)initWithCoder:(NSCoder *)aDecoder; // NS_DESIGNATED_INITIALIZER@end ä¸€ä¸ªåˆ—å­123456789101112131415161718@interface Thingie : NSObject &lt;NSCoding&gt;&#123; NSString *name; int magicNumber; float shoeSize; NSMutableArray *subThingies;&#125;@property (copy) NSString *name;@property int magicNumber;@property float shoeSize;@property (retain) NSMutableArray *subThingies;- (id)initWithName: (NSString *) n magicNumber: (int) mn shoeSize: (float) ss;@end // Thingie Thingieé‡‡ç”¨äº†NSCodingåè®®ï¼Œè¦å®ç°ç¼–ç å’Œè§£ç å“åº”çš„æ–¹æ³•ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162@implementation Thingie@synthesize name;@synthesize magicNumber;@synthesize shoeSize;@synthesize subThingies;- (id)initWithName: (NSString *) n magicNumber: (int) mn shoeSize: (float) ss&#123; if (self = [super init]) &#123; self.name = n; self.magicNumber = mn; self.shoeSize = ss; self.subThingies = [NSMutableArray array]; &#125; return (self);&#125;- (void) encodeWithCoder: (NSCoder *) coder&#123; [coder encodeObject: name forKey: @&quot;name&quot;]; [coder encodeInt: magicNumber forKey: @&quot;magicNumber&quot;]; [coder encodeFloat: shoeSize forKey: @&quot;shoeSize&quot;]; [coder encodeObject: subThingies forKey: @&quot;subThingies&quot;]; &#125; // encodeWithCoder- (id) initWithCoder: (NSCoder *) decoder&#123; if (self = [super init]) &#123; self.name = [decoder decodeObjectForKey: @&quot;name&quot;]; self.magicNumber = [decoder decodeIntForKey: @&quot;magicNumber&quot;]; self.shoeSize = [decoder decodeFloatForKey: @&quot;shoeSize&quot;]; self.subThingies = [decoder decodeObjectForKey: @&quot;subThingies&quot;]; &#125; return (self); &#125; // initWithCoder- (NSString *) description&#123; NSString *description = [NSString stringWithFormat: @&quot;%@: %d/%.1f %@&quot;, name, magicNumber, shoeSize, subThingies]; return (description); &#125; // description@end // Thingie]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 12ï¼šä»£ç å—ï¼ˆBlockï¼‰]]></title>
    <url>%2F2017%2Foc-basic-12.html</url>
    <content type="text"><![CDATA[ä»£ç å—(Block)/é—­åŒ…(closure) æ˜¯å¯¹Cè¯­è¨€ä¸­å‡½æ•°çš„æ‰©å±•ã€‚ä»£ç å—ä¸¤ç§ç±»çš„ç»‘å®šï¼šè‡ªåŠ¨ç»‘å®š(automatic binding) æ ˆå†…å­˜æ‰˜ç®¡ç»‘å®š(managed binding) å †å†…å­˜ ä»£ç å—å’Œå‡½æ•°æŒ‡é’ˆå‡½æ•°æŒ‡é’ˆçš„å£°æ˜ï¼švoid (*my_func)(void);*å˜æˆ^ï¼ˆå¹‚ç¬¦å·ï¼‰å˜æˆä»£ç å—å®šä¹‰ï¼švoid (^my_block)(void); ä»£ç å—å±•ç¤ºï¼š 123int (^square_block)(int number) = ^(int number) &#123;return (number * number);&#125;;int result = square_block(5);printf(&quot;Result = %d\n&quot;, result); ç­‰å·å‰é¢æ˜¯ä»£ç å—çš„å®šä¹‰ï¼Œè€Œç­‰å·åé¢æ˜¯å®ç°å†…å®¹ã€‚ä¸€èˆ¬å½¢å¼ï¼š 1&lt;returntype&gt; (^blockname)(list of arguments) = ^(arguments)&#123; body; &#125;; æ²¡æœ‰å‚æ•°æ—¶å¯ä»¥ç®€å†™ï¼š 1void (^theBlock)(void) = ^&#123; printf(&quot;Hello Blocks!\n&quot;); &#125;; ä½¿ç”¨ä»£ç å—ä»£ç å—å¯ä»¥è®¿é—®ä¸å®ƒç›¸åŒçš„ï¼ˆæœ¬åœ°ï¼‰æœ‰æ•ˆèŒƒå›´å†…å£°æ˜çš„å˜é‡ã€‚ 12345int value = 6;int (^multiply_block)(int number) = ^(int number) &#123; return (value * number);&#125;;value = 8;int result2 = multiply_block(7);printf(&quot;Result2 = %d\n&quot;, result2); // æ˜¯6*7ï¼Œä¸æ˜¯8*7 ç›´æ¥ä½¿ç”¨ä»£ç å— 123456NSArray *array = [NSArray arrayWithObjects:@&quot;Amir&quot;, @&quot;Mishal&quot;, @&quot;Irrum&quot;, @&quot;Adam&quot;, nil];NSLog(@&quot;Unsorted Array %@&quot;, array);NSArray *sorteArray = [array sortedArrayUsingComparator:^(NSString *objet1, NSString *object2) &#123; return [objet1 compare:object2];&#125;];NSLog(@&quot;Sorted Array %@&quot;, sorteArray); ä½¿ç”¨typedefå…³é”®å­— 12345typedef double (^MKSampleMultiply2BlockRef)(double c, double d);MKSampleMultiply2BlockRef multiply2 = ^(double c, double d) &#123; return c * d; &#125;;printf(&quot;%f, %f&quot;, multiply2(4, 5), multiply2(5,3));typedef void (^MKSampleVoidBlockRef)(void);typedef void (^MKSampleStringBlockRef)(NSString *); ä»£ç å—å’Œå˜é‡ä»£ç å—è¢«å£°æ˜åä¼šæ•æ‰åˆ›å»ºç‚¹æ—¶çš„çŠ¶æ€ã€‚ä»£ç å—å¯ä»¥è®¿é—®å‡½æ•°ç”¨åˆ°çš„æ ‡å‡†ç±»çš„å˜é‡ï¼š å…¨å±€å˜é‡ï¼ŒåŒ…æ‹¬å°é—­èŒƒå›´å†…å£°æ˜çš„æœ¬åœ°é™æ€å˜é‡ã€‚ å…¨å±€å‡½æ•° å°é—­èŒƒå›´å†…çš„å‚æ•° å‡½æ•°çº§åˆ«ï¼ˆå³ä¸ä»£ç å—å£°æ˜æ—¶ç›¸åŒçš„çº§åˆ«ï¼‰çš„_blockå˜é‡ã€‚ å°é—­èŒƒå›´å†…çš„éé™æ€å˜é‡ä¼šè¢«è·å–ä¸ºå¸¸é‡ã€‚ Objective-Cçš„å®ä¾‹å˜é‡ ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡ æœ¬åœ°å˜é‡ 12345678typedef double (^MKSampleMultiplyBlockRef)(void);double a = 10, b = 20;MKSampleMultiplyBlockRef multiply = ^(void)&#123; return a * b; &#125;;NSLog(@&quot;%f&quot;, multiply()); // 200.0a = 20;b = 50;NSLog(@&quot;%f&quot;, multiply()); // 200.0 å…¨å±€å˜é‡ 1234567typedef double (^MKSampleMultiplyBlockRef)(void);static double a = 10, b = 20;MKSampleMultiplyBlockRef multiply = ^(void)&#123; return a * b; &#125;;NSLog(@&quot;%f&quot;, multiply()); // 200.0a = 20; b = 50;NSLog(@&quot;%f&quot;, multiply()); // 1000.0 å‚æ•°å˜é‡ä»£ç å—ä¸­çš„å‚æ•°å˜é‡ä¸å‡½æ•°ä¸­çš„å‚æ•°å˜é‡å…·æœ‰åŒæ ·çš„ä½œç”¨ã€‚ 123typedef double (^MKSampleMultiply2BlockRef)(double c, double d);MKSampleMultiply2BlockRef multiply2 = ^(double c, double d) &#123; return c * d; &#125;;printf(&quot;%f, %f&quot;, multiply2(4, 5), multiply2(5,3)); __blockå˜é‡æœ¬åœ°å˜é‡ä¼šè¢«ä»£ç å—ä½œä¸ºå¸¸é‡è·å–åˆ°ã€‚åœ¨ä»£ç å—ä¸­ä¿®æ”¹ä¼šæŠ¥é”™ã€‚ 123double c = 3;MKSampleMultiplyBlockRef multiply = ^(void) &#123; c = 5; return c; &#125;;//æŠ¥é”™ï¼š Variable is not assignable (missing __block type specifier) å°†æœ¬åœ°å˜é‡æ ‡è®°ä¸º__blockï¼Œå°±å¯ä»¥ä¿®æ”¹äº† 12__block double c = 3;MKSampleMultiplyBlockRef multiply = ^(void) &#123; c = 5; return c; &#125;; ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 11ï¼šåè®®]]></title>
    <url>%2F2017%2Foc-basic-11.html</url>
    <content type="text"><![CDATA[1 æ­£å¼åè®® å£°æ˜åè®® 123@protocol NSCoding- (id) copyWithZone: (NSZone *) zone;@end ç»§æ‰¿çˆ¶åè®®ï¼š12@protocol MySuperDuberProtocol &lt;MyParentProtocol&gt;@end é‡‡ç”¨åè®® 123456@interface Car ï¼šNSObject &lt;NSCopying, NSCoding&gt;&#123;// instance variables&#125;// methods@end // Car å®ç°åè®® 2 å¤åˆ¶æµ…å±‚å¤åˆ¶æ·±å±‚å¤åˆ¶ 3 @optional @required4 å§”æ‰˜æ–¹æ³•å§”æ‰˜(delegation)æ˜¯æŸä¸ªå¯¹è±¡æŒ‡å®šå¦ä¸€ä¸ªå¯¹è±¡å¤„ç†æŸäº›ç‰¹å®šä»»åŠ¡çš„è®¾è®¡æ¨¡å¼ã€‚å§”æ‰˜ç»å¸¸ä¸åè®®å…±ç”¨ã€‚]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 10ï¼šç±»åˆ«ï¼ˆcategoryï¼‰]]></title>
    <url>%2F2017%2Foc-basic-10.html</url>
    <content type="text"><![CDATA[ç±»åˆ«ï¼ˆcategoryï¼‰æ˜¯ä¸€ç§ä¸ºç°æœ‰çš„ç±»æ·»åŠ æ–°æ–¹æ³•çš„æ–¹å¼ã€‚ 1 åˆ›å»ºç±»åˆ«ä¸€èˆ¬ï¼Œåªæ˜¯ä¹ æƒ¯ æŠŠç±»åˆ«ä»£ç æ”¾åœ¨ç‹¬ç«‹çš„æ–‡ä»¶ä¸­å‘½åï¼šâ€ç±»åç§°+ç±»åˆ«åç§°â€ï¼Œå¦‚ NSString+NumberConvenience å¼€å§‹åˆ›å»ºç±»åˆ« ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼ŒNSString+NumberConvenience.h:12345#import &lt;Foundation/Foundation.h&gt;@interface NSString (NumberConvenience)@end NSString+NumberConvenience.m:12345#import &quot;NSString+NumberConvenience.h&quot;@implementation NSString (NumberConvenience)@end ç±»åˆ«ååœ¨æ‹¬å·ä¸­ã€‚å¯ä»¥åœ¨@implementationéƒ¨åˆ†å®ç°è‡ªå·±çš„æ–¹æ³•ã€‚ä»»ä½•NSStringç±»çš„å¯¹è±¡éƒ½å°†å“åº”åœ¨ç±»åˆ«ä¸­çš„æ–¹æ³•ã€‚æ­£æ˜¯è¿™ç§å…¼å®¹æ€§ä½¿ç±»åˆ«æˆä¸ºäº†ä¸€ç§éå¸¸å¼ºå¤§çš„æ¦‚å¿µã€‚ ç±»åˆ«çš„ç¼ºé™· æ–‡æ³•å‘ç±»ä¸­æ·»åŠ æ–°çš„å®ä¾‹å˜é‡ã€‚ åç§°å†²çªã€‚ç±»åˆ«ä¸­çš„æ–¹æ³•ä¸ç°æœ‰çš„æ–¹æ³•é‡åæ—¶ï¼Œç±»åˆ«ä¸­çš„æ–¹æ³•ä¼šæ›¿ä»£ç°æœ‰çš„æ–¹æ³•ã€‚ï¼ˆå¯åœ¨ç±»åˆ«åç§°åŠ å‰ç¼€ï¼‰ ç±»åˆ«çš„ä¼˜åŠ¿ å°†ç±»çš„å®ç°åˆ†æ•£åˆ°å¤šä¸ªä¸åŒæ–‡ä»¶æˆ–å¤šä¸ªä¸åŒæ¡†æ¶ä¸­ åˆ›å»ºå¯¹ç§æœ‰æ–¹æ³•çš„å‰å‘å¼•ç”¨ å‘å¯¹è±¡æ·»åŠ éæ­£å¼åè®® ç±»æ‰©å±•ï¼ˆclass extentsionï¼‰ï¼šç‰¹æ®Šçš„ç±»åˆ« 12345678@interface Things : NSObject@property (assign) NSInteger thing1;@property (readonly, assign) NSInteger thing2;- (void)resetAllValues;@end 12345678@interface Things()&#123; NSInteger thing4; &#125;@property (readwrite, assign) NSInteger thing2;@property (assign) NSInteger thing3;@end 2 åˆ©ç”¨ç±»åˆ«åˆ†æ•£å®ç°ä»£ç ä¸èƒ½å°†@implementationåˆ†æ•£åˆ°å¤šä¸ªä¸åŒçš„.mæ–‡ä»¶ä¸­ã€‚å¯ä»¥é€šè¿‡ç±»åˆ«æŠŠå¤§å‹çš„å•ä¸ªç±»åˆ†æ•£åˆ°å¤šä¸ªä¸åŒçš„.mæ–‡ä»¶ä¸­ã€‚ä»¥AppKitä¸­çš„NSWindowä¸ºä¾‹ï¼Œåœ¨NSWindow.hä¸­æœç´¢@interfaceå¤§çº¦èƒ½æœåˆ°5ä¸ªç±»åˆ«å£°æ˜ï¼š12345@interface NSWindow(NSEvent)@interface NSWindow(NSCursorRect)@interface NSWindow(NSDrag)@interface NSWindow(NSCarbonExtensions)@interface NSWindow(NSDeprecated) ç±»åˆ«å¯ä»¥è®¿é—®å…¶ç»§æ‰¿çš„ç±»çš„å®ä¾‹å˜é‡ã€‚ 3 é€šè¿‡ç±»åˆ«åˆ›å»ºå‰å‘å¼•ç”¨æ²¡æœ‰çœŸæ­£çš„ç§æœ‰æ–¹æ³•ã€‚ä¸åœ¨å¤´æ–‡ä»¶å£°æ˜ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨ï¼Œä¸è¿‡ç¼–è¯‘å™¨ä¼šæç¤ºè­¦å‘Šï¼Œå¹¶ä¸”app storeä¼šæ‹’ç»ä¸Šæ¶ã€‚å¯é€šè¿‡åœ¨ç±»åˆ«ä¸­å£°æ˜æ–¹æ³•é¿å…è¿™ç§è­¦å‘Šã€‚]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 9ï¼šå±æ€§]]></title>
    <url>%2F2017%2Foc-basic-9.html</url>
    <content type="text"><![CDATA[1 ä½¿ç”¨å±æ€§ æ¥å£ä»£ç ç®€åŒ–æ²¡æœ‰ä½¿ç”¨å±æ€§ï¼š12345678910111213#import &quot;Tire.h&quot;@interface AllWeatherRadial : Tire&#123; // è½®èƒåœ¨æ½®æ¹¿å’Œç§¯é›ªçš„é“è·¯ä¸Šçš„æ€§èƒ½ float rainHandling; float snowHandling;&#125;- (void) setRainHandling:(float)rainHandling;- (float) rainHandling;- (void) setSnowHandling:(float)snowHandling;- (float) snowHandling;@end ä½¿ç”¨å±æ€§ï¼š1234567891011@interface AllWeatherRadial : Tire&#123; // è½®èƒåœ¨æ½®æ¹¿å’Œç§¯é›ªçš„é“è·¯ä¸Šçš„æ€§èƒ½ float rainHandling; float snowHandling;&#125;@property float rainHandling;@property float snowHandling;@end @ propertyé¢„ç¼–è¯‘æŒ‡ä»¤çš„ä½œç”¨æ˜¯è‡ªåŠ¨å£°æ˜å±æ€§çš„setterå’Œgetteræ–¹æ³•ã€‚ ç®€åŒ–å®ç°ä»£ç ä¹‹å‰ï¼š123456789101112131415161718192021222324252627282930313233343536#import &quot;AllWeatherRadial.h&quot;@implementation AllWeatherRadial-(NSString *)description&#123;// return (@&quot;I am a tire for rain or shine.&quot;); NSString *desc; desc = [[NSString alloc] initWithFormat:@&quot;AllWeatherRadial: %.1f / %.1f / %.1f / %.1f.&quot;, self.pressure, self.treadDepth, self.rainHandling, self.snowHandling]; return desc;&#125;- (void)setRainHandling:(float)r&#123; rainHandling = r;&#125;- (float)rainHandling&#123; return rainHandling;&#125;- (void)setSnowHandling:(float)s&#123; snowHandling = s;&#125;- (float)snowHandling&#123; return snowHandling;&#125;- (id) initWithPressure:(float)p treadDepth:(float)td&#123; if (self = [super initWithPressure:p treadDepth:td]) &#123; rainHandling = 23.7; snowHandling = 58.1; &#125; return self;&#125;@end ä½¿ç”¨å±æ€§åçš„å®ç°ä»£ç ï¼š1234567891011121314151617181920212223#import &quot;AllWeatherRadial.h&quot;@implementation AllWeatherRadial@synthesize rainHandling;@synthesize snowHandling;-(NSString *)description&#123; NSString *desc; desc = [[NSString alloc] initWithFormat:@&quot;AllWeatherRadial: %.1f / %.1f / %.1f / %.1f.&quot;, self.pressure, self.treadDepth, self.rainHandling, self.snowHandling]; return desc;&#125;- (id) initWithPressure:(float)p treadDepth:(float)td&#123; if (self = [super initWithPressure:p treadDepth:td]) &#123; rainHandling = 23.7; snowHandling = 58.1; &#125; return self;&#125;@end @synthesizeé¢„ç¼–è¯‘æŒ‡ä»¤è¡¨ç¤ºé€šçŸ¥ç¼–è¯‘å™¨ç”Ÿæˆè®¿é—®æ–¹æ³•ã€‚å½“é‡åˆ°@synthesize xxxï¼›è¿™è¡Œä»£ç æ—¶ï¼Œç¼–è¯‘å™¨å°†æ·»åŠ å®ç°-setXxxï¼šå’Œ-xxxæ–¹æ³•çš„é¢„ç¼–è¯‘ä»£ç ã€‚ è¯¥@synthesizeé¢„ç¼–è¯‘æŒ‡ä»¤ä¸åŒäºä»£ç ç”Ÿæˆã€‚ä½ æ°¸è¿œçœ‹ä¸åˆ°å®ç°-setXxxï¼šå’Œ-xxxçš„ä»£ç ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ç¡®å®å­˜åœ¨å¹¶å¯ä»¥è¢«è°ƒç”¨ã€‚è¿™ç§æŠ€æœ¯ä½¿è‹¹æœå…¬å¸å¯ä»¥æ›´åŠ çµæ´»åœ°æ”¹å˜Objective-Cä¸­ç”Ÿæˆè®¿é—®æ–¹æ³•çš„æ–¹å¼ï¼Œå¹¶è·å¾—æ›´å®‰å…¨çš„å®ç°å’Œæ›´é«˜çš„çš„æ€§èƒ½ã€‚åœ¨Xcode4.5ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä¸å¿…ä½¿ç”¨@synthesizeäº†ã€‚ æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯åŸºäºå˜é‡çš„ï¼Œåœ¨@synthesizeæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸å±æ€§åç§°ç›¸åŒçš„å®ä¾‹å˜é‡ã€‚ å®ä¾‹å˜é‡å£°æ˜ä½ç½®ï¼š å¤´æ–‡ä»¶ï¼šæœ‰å­ç±»ï¼Œæƒ³ä»å­ç±»ç›´æ¥é€šè¿‡å±æ€§è®¿é—®å˜é‡ã€‚ å®ç°æ–‡ä»¶ï¼šå˜é‡åªå±äºå½“å‰ç±»ã€‚ ç‚¹è¡¨è¾¾å¼ä¹‹å‰çš„[tire setPressure:23+i];å¯ç›¸åº”å˜ä¸ºï¼štire.rainHandling = 23+i; 2 å±æ€§æ‰©å±• å®ä¾‹å˜é‡å’Œå±æ€§ä¸æ˜¯åŒä¸€ä¸ªåç§°12345678@interface Car : NSObject&#123; NSMutableArray *tires; Engine *engine; NSString *appellation;&#125;@property (copy) NSString *name;@property (retain) Engine *engine; ä¿®æ”¹@synthesizeæŒ‡ä»¤ä¸ºï¼š @synthesize name = appellation;ç¼–è¯‘å™¨ä»å°†åˆ›å»º-setName:å’Œ-nameæ–¹æ³•ï¼Œä½†åœ¨å…¶å®ç°ä»£ç ä¸­ç”¨çš„ç¡®å®appellationå®ä¾‹å˜é‡ã€‚ åªè¯»å±æ€§readwrite readonlyå±æ€§ä¸ºåªè¯»æ—¶ï¼Œç¼–è¯‘å™¨åªä¼šç”Ÿæˆä¸€ä¸ªgetteræ–¹æ³•ã€‚ å±æ€§ä¸æ”¯æŒé‚£äº›éœ€è¦æ¥æ”¶é¢å¤–å‚æ•°çš„æ–¹æ³•ã€‚å¦‚carå¯¹è±¡ä¸­tireå¯¹è±¡çš„ä»£ç ã€‚]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 8ï¼šå¯¹è±¡åˆå§‹åŒ–]]></title>
    <url>%2F2017%2Foc-basic-8.html</url>
    <content type="text"><![CDATA[1 åˆ†é…(allocation)å¯¹è±¡allocæ–¹æ³•å¹²çš„äº‹ä»¶ï¼š 1 ä»æ“ä½œç³»ç»Ÿè·å¾—ä¸€å—å†…å­˜ã€‚2 æŒ‡å®šä¸ºå­˜å‚¨å¯¹è±¡çš„å®ä¾‹å˜é‡çš„ä½ç½®ã€‚3 å¯¹å†…å­˜åˆå§‹åŒ–ï¼šBOOLç±»å‹è¢«åˆå§‹åŒ–ä¸ºï¼šNOï¼›intç±»å‹è¢«åˆå§‹åŒ–ä¸ºï¼š0ï¼›floatç±»å‹è¢«åˆå§‹åŒ–ä¸ºï¼š0.0ï¼›æ‰€æœ‰æŒ‡é’ˆè¢«åˆå§‹åŒ–ä¸ºnilã€‚ åˆå§‹åŒ–å¯¹è±¡initæ–¹æ³•Car *car = [[Car alloc] init]; åˆå§‹åŒ–è¦åšäº›ä»€ä¹ˆ CarPartsç¨‹åºä¸­åˆå§‹carå¯¹è±¡æ˜¯ï¼Œinitæ–¹æ³•ä¸­åˆ›å»ºengineå¯¹è±¡å’Œå…¨éƒ¨4ä¸ªtireå¯¹è±¡ æ‡’æ€§æ±‚å€¼(lazy evaluation)ï¼Œåªä¸ºengineå¯¹è±¡å’Œtireå¯¹è±¡é¢„ç•™ä½ç½® 2 ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°(convenience initializer)ä»¥initå¼€å¤´çš„æ–¹æ³•åªæ˜¯éµå¾ªå‘½åçº¦å®šçš„æ™®é€šæ–¹æ³•ã€‚NSStringç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¾‹å­ï¼š - (id) init; NSString *emptyString = [[NSString alloc] init]; - (instancetype)initWithFormat:(NSString *)format, ... NS_FORMAT_FUNCTION(1,2); NSString *string = [[NSString alloc] initWithFormat:@&quot;%d or %d&quot;, 1, 2]; - (nullable instancetype)initWithContentsOfFile:(NSString *)path encoding:(NSStringEncoding)enc error:(NSError **)error; NSError *error = nil; NSString *string1 = [[NSString alloc] initWithContentsOfFile:@&quot;/tmp/words.txt&quot; encoding:NSUTF8StringEncoding error:&amp;error]; if (nil != error) { NSLog(@&quot;æœªèƒ½è¯»å–æ–‡ä»¶æ•°æ®ï¼š%@&quot;, [error localizedDescription]); } 3 æŒ‡å®šåˆå§‹åŒ–å‡½æ•°(designated initializer) ç±»ä¸­çš„æŸä¸ªåˆå§‹åŒ–æ–¹æ³•è¢«æŒ‡æ´¾ä¸ºæŒ‡å®šåˆå§‹åŒ–å‡½æ•° è¯¥ç±»çš„æ‰€æœ‰åˆå§‹åŒ–æ–¹æ³•éƒ½ä½¿ç”¨æŒ‡å®šåˆå§‹åŒ–å‡½æ•°æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ å­ç±»ä½¿ç”¨æœŸè¶…ç±»çš„æŒ‡å®šåˆå§‹åŒ–å‡½æ•°è¿›è¡Œè¶…ç±»çš„åˆå§‹åŒ– é€šå¸¸ï¼Œæ¥å—å‚æ•°æœ€å¤šçš„åˆå§‹åŒ–æ–¹æ³•æ˜¯æœ€ç»ˆçš„æŒ‡å®šçš„åˆå§‹åŒ–å‡½æ•°]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸JS(ä¸€)ï¼šä½¿ç”¨URLæ‹¦æˆªçš„æ–¹å¼è¿›è¡ŒJSä¸OCäº’ç›¸è°ƒç”¨]]></title>
    <url>%2F2017%2Fios-js-1.html</url>
    <content type="text"><![CDATA[å…³äºWKWebViewä¸UIWebViewä¹‹é—´çš„åŒºåˆ«ï¼Œæœ¬æ–‡å°±ä¸åœ¨è¯´æ˜ï¼Œæœ¬æ–‡åªä½¿ç”¨WKWebViewã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š htmlä»£ç ï¼š12345678910111213141516171819202122232425262728293031323334353637&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf8&quot;&gt; &lt;script language=&quot;javascript&quot;&gt; function loadURL(url) &#123; window.location.href = url &#125; function locationClick() &#123; loadURL(&quot;scheme://getLocation&quot;); &#125; function shake() &#123; loadURL(&quot;scheme://shake&quot;); &#125; function setLocation(location) &#123; alert(location) document.getElementById(&quot;returnValue&quot;).value = location; &#125; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;è¿™æ˜¯æŒ‰é’®è°ƒç”¨&lt;/h1&gt; &lt;input type=&quot;button&quot; value=&quot;è·å–å®šä½&quot; onclick=&quot;locationClick()&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;input type=&quot;button&quot; value=&quot;éœ‡åŠ¨ä¸€ä¸‹&quot; onclick=&quot;shake()&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;h1&gt;è¿™æ˜¯æ–‡ä»¶ä¸Šä¼ &lt;/h1&gt; &lt;input type=&quot;file&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;h1&gt;è¿™æ˜¯å›è°ƒç»“æœå±•ç¤ºåŒº&lt;/h1&gt; &lt;textarea id =&quot;returnValue&quot; type=&quot;value&quot; rows=&quot;5&quot; cols=&quot;50&quot;&gt;&lt;/textarea&gt; &lt;/body&gt;&lt;/html&gt; ä»¥è·å–å®šä½è¿™ä¸ªæŒ‰é’®ä¸ºä¾‹è¯´æ˜OCå’ŒJSäº’ç›¸è°ƒç”¨ä»£ç æ‰§è¡Œæµç¨‹ï¼š åˆå§‹åŒ–WKWebViewåŠ è½½æœ¬åœ°htmlæ–‡ä»¶ã€‚ ç‚¹å‡»webä¸­çš„æŒ‰é’®ï¼Œwebå‘èµ·URLè¯·æ±‚ã€‚ URLè¯·æ±‚è¢«WKNavigationDelegateä¸­çš„ä»£ç†æ–¹æ³•æ‹¦æˆªã€‚æ ¹æ®è‡ªå®šä¹‰çš„URLè¯†åˆ«ä½¿ç”¨ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚å¦‚ï¼šåœ¨- (void)getLocationæ–¹æ³•ä¸­è°ƒç”¨JSçš„setLocationå‡½æ•°ã€‚ JSçš„setLocationå‡½æ•°æ‰§è¡ŒJSçš„alert()å‡½æ•°ï¼Œè¢«WKUIDelegateä¸­çš„ä»£ç†æ–¹æ³•æ•è·ï¼Œè°ƒç”¨iOSåŸç”Ÿçš„å¼¹æ¡†ã€‚ è¯¦ç»†ä»£ç è¯´æ˜ åˆå§‹åŒ–WKWebViewåŠ è½½æœ¬åœ°htmlæ–‡ä»¶ 123456789101112131415161718192021- (void)initWKWebView&#123; // 1 WKWebViewConfiguration *configuration = [[WKWebViewConfiguration alloc] init]; configuration.userContentController = [WKUserContentController new]; WKPreferences *preferences = [WKPreferences new]; preferences.javaScriptCanOpenWindowsAutomatically = YES; preferences.minimumFontSize = 40.0; configuration.preferences = preferences; self.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:configuration]; // 2 NSString *urlStr = [[NSBundle mainBundle] pathForResource:@&quot;index.html&quot; ofType:nil]; NSURL *fileURL = [NSURL fileURLWithPath:urlStr]; [self.webView loadFileURL:fileURL allowingReadAccessToURL:fileURL]; self.webView.navigationDelegate = self; self.webView.UIDelegate = self; [self.view addSubview:self.webView];&#125; 1 WKWebViewçš„ä¸€äº›å‚æ•°é…ç½® 2 åŠ è½½æœ¬html URLè¯·æ±‚è¢«WKNavigationDelegateä¸­çš„ä»£ç†æ–¹æ³•æ‹¦æˆªã€‚ä¹Ÿå°±æ˜¯JSè°ƒç”¨äº†OC 1234567891011121314#pragma mark - WKNavigationDelegate- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler&#123; NSURL *URL = navigationAction.request.URL; NSString *scheme = [URL scheme]; if ([scheme isEqualToString:@&quot;scheme&quot;]) &#123; [self handleCustomAction:URL]; decisionHandler(WKNavigationActionPolicyCancel); return; &#125; decisionHandler(WKNavigationActionPolicyAllow);&#125; OC è°ƒç”¨ JS 12345678- (void)getLocation&#123; // å°†ç»“æœè¿”å›ç»™js NSString *jsStr = [NSString stringWithFormat:@&quot;setLocation(&apos;%@&apos;)&quot;,@&quot;ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒº&quot;]; [self.webView evaluateJavaScript:jsStr completionHandler:^(id _Nullable result, NSError * _Nullable error) &#123; NSLog(@&quot;%@----%@&quot;,result, error); &#125;];&#125; JSä»£ç è¢«å½“æˆå­—ç¬¦ä¸²è°ƒç”¨ completionHandleræ˜¯JSä»£ç è¢«è°ƒç”¨åå›è°ƒ JSä¸­alertå¼¹çª—è¢«WKUIDelegateä¸­çš„ä»£ç†æ–¹æ³•æ•è·ï¼Œè°ƒç”¨iOSåŸç”Ÿçš„å¼¹æ¡†ã€‚ 1234567891011#pragma mark - WKUIDelegate- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler&#123; UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;æé†’&quot; message:message preferredStyle:UIAlertControllerStyleAlert]; [alert addAction:[UIAlertAction actionWithTitle:@&quot;çŸ¥é“äº†&quot; style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) &#123; completionHandler(); &#125;]]; [self presentViewController:alert animated:YES completion:nil];&#125; æœ€åï¼Œhtmlä¸­çš„æ–‡ä»¶inputå¯ä»¥ç›´æ¥è°ƒç”¨iOSçš„å›¾ç‰‡åº“ï¼Œç›¸æœºå’Œæ–‡ä»¶ã€‚ ä»£ç ï¼š 90-iOSJS/OCJS1 å‚è€ƒï¼š iOSä¸‹JSä¸OCäº’ç›¸è°ƒç”¨ï¼ˆäºŒï¼‰â€“WKWebView æ‹¦æˆªURL iOSä¸‹JSä¸åŸç”ŸOCäº’ç›¸è°ƒç”¨(æ€»ç»“)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸JS(äºŒ)ï¼šMessageHandler(OC&Swift)]]></title>
    <url>%2F2017%2Fios-js-2.html</url>
    <content type="text"><![CDATA[iOSä¸JSçš„ç›¸äº’è°ƒç”¨é™¤äº†URLæ‹¦æˆªï¼ˆiOSä¸JS(ä¸€)ï¼šä½¿ç”¨URLæ‹¦æˆªçš„æ–¹å¼è¿›è¡ŒJSä¸OCäº’ç›¸è°ƒç”¨ï¼‰å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨WKWebViewçš„ä¸­çš„MessageHandleræ¥å®ç°ã€‚ MessageHandleræ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»¥ä»£ç æ¥è¯´æ˜ï¼Œæ¯”è¾ƒå¥½ç†è§£ã€‚åœ¨OCä¸­åˆå§‹åŒ–WKWebViewæ˜¯ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç :[self.webView.configuration.userContentController addScriptMessageHandler:self name:@&quot;Location&quot;];é‚£ä¹ˆåœ¨JSä¸­å°±å¯ä»¥ä½¿ç”¨ï¼šwindow.webkit.messageHandlers.Location.postMessage(null);JSä¸­çš„Locationå°±å¯¹åº”OCä¸­çš„nameï¼ŒpostMessageåçš„å‚æ•°å°±æ˜¯JSä¼ ç»™OCçš„å‚æ•°ï¼Œç±»å‹å¯ä»¥æ˜¯ NSNumber, NSString, NSDate, NSArray, NSDictionary, and NSNullã€‚JSå›è°ƒOCæ—¶ï¼Œå°±å›è°ƒWKScriptMessageHandlerçš„- (void)userContentController:([WKUserContentController](apple-reference-documentation://hcracoR5p2) *)userContentController didReceiveScriptMessage:([WKScriptMessage](apple-reference-documentation://hcD3KQdcJY) *)message;æ–¹æ³•ï¼Œè¿™è¾¹çš„messageæ˜¯WKScriptMessageï¼Œ message.nameå°±æ˜¯â€œLocationâ€ï¼Œmessage.bodyå°±æ˜¯postMessageåçš„å‚æ•°ã€‚ ä¸‹é¢çœ‹å®Œæ•´çš„ğŸŒ°ï¼š htmlçš„ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf8&quot;&gt; &lt;script language=&quot;javascript&quot;&gt; var ctuapp_share_img=&quot;www.baidu.com&quot;; function locationClick() &#123; window.webkit.messageHandlers.Location.postMessage(null); &#125; function shake() &#123; window.webkit.messageHandlers.Shake.postMessage(null); &#125; function payClick()&#123; window.webkit.messageHandlers.Pay.postMessage(&#123;order_no:&apos;201511120981234&apos;,channel:&apos;wx&apos;,amount:1,subject:&apos;ç²‰è‰²å¤–å¥—&apos;&#125;); &#125; function setLocation(location) &#123; alert(location) document.getElementById(&quot;returnValue&quot;).value = location; &#125; function payResult(str) &#123; alert(str); document.getElementById(&quot;returnValue&quot;).value = str; &#125; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;è¿™æ˜¯æŒ‰é’®è°ƒç”¨&lt;/h1&gt; &lt;input type=&quot;button&quot; value=&quot;è·å–å®šä½&quot; onclick=&quot;locationClick()&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;input type=&quot;button&quot; value=&quot;éœ‡åŠ¨ä¸€ä¸‹&quot; onclick=&quot;shake()&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;input type=&quot;button&quot; value=&quot;æ”¯ä»˜&quot; onclick=&quot;payClick()&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;h1&gt;è¿™æ˜¯æ–‡ä»¶ä¸Šä¼ &lt;/h1&gt; &lt;input type=&quot;file&quot; /&gt;&lt;br&gt;&lt;br&gt; &lt;h1&gt;è¿™æ˜¯å›è°ƒç»“æœå±•ç¤ºåŒº&lt;/h1&gt; &lt;textarea id =&quot;returnValue&quot; type=&quot;value&quot; rows=&quot;5&quot; cols=&quot;50&quot;&gt;&lt;/textarea&gt; &lt;/body&gt;&lt;/html&gt; åˆå§‹åŒ–WKWebView12345678910111213141516171819- (void)initWKWebView&#123; WKWebViewConfiguration *configuration = [[WKWebViewConfiguration alloc] init]; WKPreferences *preferences = [WKPreferences new]; preferences.javaScriptCanOpenWindowsAutomatically = YES; preferences.minimumFontSize = 40.0; configuration.preferences = preferences; self.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:configuration]; NSString *urlStr = [[NSBundle mainBundle] pathForResource:@&quot;index.html&quot; ofType:nil]; NSURL *fileURL = [NSURL fileURLWithPath:urlStr]; [self.webView loadFileURL:fileURL allowingReadAccessToURL:fileURL]; self.webView.UIDelegate = self; [self.view addSubview:self.webView];&#125; æ·»åŠ  MessageHandlerä¸ºäº†é˜²æ­¢å¾ªç¯å¼•ç”¨ï¼Œç»“æŸæ—¶é‡Šæ”¾ã€‚123456789101112131415161718- (void)viewWillAppear:(BOOL)animated&#123; [super viewWillAppear:animated]; // addScriptMessageHandler å¾ˆå®¹æ˜“å¯¼è‡´å¾ªç¯å¼•ç”¨ // æ§åˆ¶å™¨ å¼ºå¼•ç”¨äº†WKWebView,WKWebView copy(å¼ºå¼•ç”¨äº†ï¼‰configurationï¼Œ configuration copy ï¼ˆå¼ºå¼•ç”¨äº†ï¼‰userContentController [self.webView.configuration.userContentController addScriptMessageHandler:self name:@&quot;Location&quot;]; [self.webView.configuration.userContentController addScriptMessageHandler:self name:@&quot;Shake&quot;]; [self.webView.configuration.userContentController addScriptMessageHandler:self name:@&quot;Pay&quot;];&#125;- (void)viewWillDisappear:(BOOL)animated&#123; [super viewWillDisappear:animated]; [self.webView.configuration.userContentController removeScriptMessageHandlerForName:@&quot;Location&quot;]; [self.webView.configuration.userContentController removeScriptMessageHandlerForName:@&quot;Shake&quot;]; [self.webView.configuration.userContentController removeScriptMessageHandlerForName:@&quot;Pay&quot;];&#125; å®ç°WKUIDelegateå’ŒWKScriptMessageHandleråè®®æ–¹æ³•12345678910111213141516171819202122232425#pragma mark - WKUIDelegate- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler&#123; UIAlertController *alert = [UIAlertController alertControllerWithTitle:@&quot;æé†’&quot; message:message preferredStyle:UIAlertControllerStyleAlert]; [alert addAction:[UIAlertAction actionWithTitle:@&quot;çŸ¥é“äº†&quot; style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) &#123; completionHandler(); &#125;]]; [self presentViewController:alert animated:YES completion:nil];&#125;#pragma mark - WKScriptMessageHandler- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message&#123; // message.body -- Allowed types are NSNumber, NSString, NSDate, NSArray,NSDictionary, and NSNull. NSLog(@&quot;body:%@&quot;,message.body); if ([message.name isEqualToString:@&quot;Location&quot;]) &#123; [self getLocation]; &#125; else if ([message.name isEqualToString:@&quot;Shake&quot;]) &#123; [self shakeAction]; &#125; else if ([message.name isEqualToString:@&quot;Pay&quot;]) &#123; [self payWithParams:message.body]; &#125;&#125; æ•ˆæœï¼š Swiftçš„å’ŒOCç±»å‹ï¼Œä»£ç æˆ‘ä¹Ÿä¸€èµ·å†™äº† ä»£ç ï¼š 90-iOSJS ä¸­çš„ OCJSMessageHandler å’Œ SwiftJSMessageHandler å‚è€ƒï¼šiOSä¸‹JSä¸OCäº’ç›¸è°ƒç”¨ï¼ˆä¸‰ï¼‰â€“MessageHandler]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSåŠ¨ç”»(ä¸‰)ï¼šæ ¸å¿ƒåŠ¨ç”»ä¸­ç¼©æ”¾å’Œæ—‹è½¬(Swift)]]></title>
    <url>%2F2017%2Fios-animation-3.html</url>
    <content type="text"><![CDATA[åŸç†å’Œä¸Šä¸€ç¯‡æ˜¯ç›¸åŒçš„ï¼Œä¸åŒä¹‹å¤„æ˜¯keyPathå±æ€§ï¼Œç¼©æ”¾æ—¶æ˜¯keyPathæ˜¯ transform.scaleï¼Œæ—‹è½¬æ—¶keyPathæ˜¯transform.rotationã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113class ScaleRotationViewController: UIViewController &#123; // ç”¨äºç¼©æ”¾çš„layer lazy var redLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 125, y: 150), backgroundColor: UIColor.red) &#125;() lazy var greenLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 125, y: 250), backgroundColor: UIColor.green) &#125;() lazy var cyanLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 125, y: 350), backgroundColor: UIColor.cyan) &#125;() lazy var blueLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 125, y: 450), backgroundColor: UIColor.blue) &#125;() // ç”¨äºæ—‹è½¬çš„Layer lazy var redRotationLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 300, y: 150), backgroundColor: UIColor.red) &#125;() lazy var greenRotationLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 300, y: 250), backgroundColor: UIColor.green) &#125;() lazy var cyanRotationLayer: CALayer = &#123; return self.createLayer(position: CGPoint(x: 300, y: 350), backgroundColor: UIColor.cyan) &#125;() override func viewDidLoad() &#123; super.viewDidLoad() // æ·»åŠ ç¼©æ”¾çš„åŠ¨ç”» redLayer.add(createAnimation(keyPath: "transform.scale.x", toValue: 0.5), forKey: nil) greenLayer.add(createAnimation(keyPath: "transform.scale.y", toValue: 0.5), forKey: nil) cyanLayer.add(createAnimation(keyPath: "transform.scale.z", toValue: 0.5), forKey: nil) blueLayer.add(createAnimation(keyPath: "transform.scale", toValue: 0.5), forKey: nil) // æ·»åŠ æ—‹è½¬çš„åŠ¨ç”» redRotationLayer.add(createAnimation(keyPath: "transform.rotation.x", toValue: CGFloat(Double.pi / 4)), forKey: nil) greenRotationLayer.add(createAnimation(keyPath: "transform.rotation.y", toValue: CGFloat(Double.pi / 4)), forKey: nil) cyanRotationLayer.add(createAnimation(keyPath: "transform.rotation.z", toValue: CGFloat(Double.pi / 4)), forKey: nil) self.creatLabel(title: "ç¼©æ”¾", frame: CGRect(x: 100, y: 80, width: 50, height: 20)) self.creatLabel(title: "æ—‹è½¬", frame: CGRect(x: 250, y: 80, width: 50, height: 20)) self.creatLabel(title: "Xè½´", frame: CGRect(x: 20, y: 125, width: 50, height: 20)) self.creatLabel(title: "Yè½´", frame: CGRect(x: 20, y: 225, width: 50, height: 20)) self.creatLabel(title: "Zè½´", frame: CGRect(x: 20, y: 325, width: 50, height: 20)) self.creatLabel(title: "XYZè½´", frame: CGRect(x: 20, y: 425, width: 50, height: 20)) &#125; // åˆ›å»ºcalayer func createLayer (position: CGPoint, backgroundColor: UIColor) -&gt; CALayer &#123; //åˆ›å»ºcalayer let layer = CALayer() //è®¾ç½®ä½ç½®å’Œå¤§å° layer.position = position layer.bounds = CGRect(x: 0, y: 0, width: 100, height: 100) //è®¾ç½®èƒŒæ™¯é¢œè‰² layer.backgroundColor = backgroundColor.cgColor //æŠŠlayeræ·»åŠ åˆ°UIViewçš„layerä¸Š self.view.layer.addSublayer(layer) return layer &#125; // åˆ›å»ºåŸºç¡€Animation func createAnimation (keyPath: String, toValue: CGFloat) -&gt; CABasicAnimation &#123; //åˆ›å»ºåŠ¨ç”»å¯¹è±¡ let scaleAni = CABasicAnimation() //è®¾ç½®åŠ¨ç”»å±æ€§ scaleAni.keyPath = keyPath //è®¾ç½®åŠ¨ç”»çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯åŠ¨ç”»ä»å“ªé‡Œåˆ°å“ªé‡Œã€‚ä¸æŒ‡å®šèµ·ç‚¹ï¼Œé»˜è®¤å°±ä»positoinå¼€å§‹ scaleAni.toValue = toValue //åŠ¨ç”»æŒç»­æ—¶é—´ scaleAni.duration = 2; //åŠ¨ç”»é‡å¤æ¬¡æ•° scaleAni.repeatCount = Float(CGFloat.greatestFiniteMagnitude) return scaleAni; &#125; //åˆ›å»ºLabel fileprivate func creatLabel (title: String, frame: CGRect) -&gt; ()&#123; let label = UILabel() label.text = title label.frame = frame label.textColor = UIColor.darkGray label.font = UIFont.systemFont(ofSize: 12) self.view.addSubview(label) &#125;&#125; ä»£ç ï¼š 89-Animation/CABasic Animation å‚è€ƒï¼šç¬¬äº”ç¯‡ï¼šCABasic Animationã€‚iOSåŠ¨ç”»ç³»åˆ—ä¹‹äº”ï¼šåŸºç¡€åŠ¨ç”»ä¹‹ç¼©æ”¾ç¯‡&amp;æ—‹è½¬ç¯‡]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSåŠ¨ç”»(äºŒ)ï¼šæ ¸å¿ƒåŠ¨ç”»ä¸­çš„åŸºç¡€ç§»åŠ¨(Swift)]]></title>
    <url>%2F2017%2Fios-animation-2.html</url>
    <content type="text"><![CDATA[ç®€å•çš„ç§»åŠ¨ æ–°å»ºä¸€ä¸ªCALayerã€‚ 12345678910lazy var redLayer: CALayer = &#123; return self.createLayer()&#125;()func createLayer() -&gt; CALayer &#123; let redLayer = CALayer() redLayer.position = CGPoint(x: 200, y: 200) redLayer.bounds = CGRect(x: 0, y: 0, width: 100, height: 100) redLayer.backgroundColor = UIColor.red.cgColor return redLayer&#125; æŠŠæ–°å»ºçš„CALayeræ·»åŠ çš„viewçš„layerä¸­ã€‚ 1view.layer.addSublayer(redLayer) éµå®ˆåè®®CAAnimationDelegate class BasicPostionViewController: UIViewController, CAAnimationDelegate { åˆ›å»ºåŠ¨ç”»CABasicAnimation,å¹¶æ·»åŠ çš„CALayerä¸­ã€‚ 12345678910111213141516171819func createCABasicAnimation() -&gt; CABasicAnimation &#123; let basicAni = CABasicAnimation() // è®¾ç½®åŠ¨ç”»å±æ€§ basicAni.keyPath = "position" basicAni.fromValue = NSValue.init(cgPoint: CGPoint(x: 0, y: 0)) basicAni.toValue = NSValue.init(cgPoint: CGPoint(x: 300, y: 300)) basicAni.duration = 2 basicAni.fillMode = kCAFillModeForwards basicAni.isRemovedOnCompletion = false basicAni.delegate = self return basicAni&#125; 12let basicAni = createCABasicAnimation()self.redLayer.add(basicAni, forKey: "basicPosition") forKey æ˜¯åŠ¨ç”»å¯¹è±¡çš„åå­—ï¼Œåªæ˜¯ç”¨æ¥æ ‡è¯†ï¼Œæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰ã€‚ ç¨å¾®å¤æ‚çš„ç§»åŠ¨ åŸç†å’Œä¸Šé¢ç›¸åŒï¼Œéƒ½æ˜¯å…ˆåˆ›å»ºCALayerï¼Œç„¶åæ·»åŠ CABasicAnimationã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465class BasicPostion2ViewController: UIViewController, CAAnimationDelegate&#123; lazy var redLayer: CALayer = &#123; return self.createLayer(postion: CGPoint(x: 0, y: 150), backgroundColor: UIColor.red) &#125;() lazy var greenLayer: CALayer = &#123; return self.createLayer(postion: CGPoint(x: 0, y: 250), backgroundColor: UIColor.green) &#125;() lazy var cyanLayer: CALayer = &#123; return self.createLayer(postion: CGPoint(x: 0, y: 350), backgroundColor: UIColor.cyan) &#125;() lazy var blueLayer: CALayer = &#123; return self.createLayer(postion: CGPoint(x: 0, y: 450), backgroundColor: UIColor.blue) &#125;() override func viewDidLoad() &#123; super.viewDidLoad() redLayer.add(createBasicAnimation(fromValue: CGPoint(x: 0, y: 150), toValue: CGPoint(x: 300, y: 150), timingFunction: kCAMediaTimingFunctionLinear), forKey: "basicAnimation") view.layer.addSublayer(redLayer) greenLayer.add(createBasicAnimation(fromValue: CGPoint(x: 0, y: 250), toValue: CGPoint(x: 300, y: 250), timingFunction: kCAMediaTimingFunctionEaseIn), forKey: "basicAnimation") view.layer.addSublayer(greenLayer) cyanLayer.add(createBasicAnimation(fromValue: CGPoint(x: 0, y: 350), toValue: CGPoint(x: 300, y: 350), timingFunction: kCAMediaTimingFunctionEaseOut), forKey: "basicAnimation") view.layer.addSublayer(cyanLayer) blueLayer.add(createBasicAnimation(fromValue: CGPoint(x: 0, y: 450), toValue: CGPoint(x: 300, y: 450), timingFunction: kCAMediaTimingFunctionEaseInEaseOut), forKey: "basicAnimation") view.layer.addSublayer(blueLayer) &#125; func createLayer(postion: CGPoint, backgroundColor: UIColor) -&gt; CALayer &#123; let layer = CALayer() layer.position = postion layer.bounds = CGRect(x: 0, y: 0, width: 100, height: 100) layer.backgroundColor = backgroundColor.cgColor return layer &#125; func createBasicAnimation (fromValue: CGPoint, toValue: CGPoint, timingFunction: String) -&gt; CABasicAnimation &#123; let basicAni = CABasicAnimation() basicAni.keyPath = "position" basicAni.fromValue = fromValue basicAni.toValue = toValue basicAni.duration = 2 // basicAni.fillMode = kCAFillModeForwards // basicAni.isRemovedOnCompletion = false // 1 basicAni.timingFunction = CAMediaTimingFunction(name: timingFunction) basicAni.delegate = self return basicAni &#125;&#125; 1 timingFunctionä»£è¡¨ç§»åŠ¨æ¨¡å¼ï¼š kCAMediaTimingFunctionLinearï¼ˆçº¿æ€§ï¼‰ï¼šåŒ€é€Ÿï¼Œç»™ä½ ä¸€ä¸ªç›¸å¯¹é™æ€çš„æ„Ÿè§‰ kCAMediaTimingFunctionEaseInï¼ˆæ¸è¿›ï¼‰ï¼šåŠ¨ç”»ç¼“æ…¢è¿›å…¥ï¼Œç„¶ååŠ é€Ÿç¦»å¼€ kCAMediaTimingFunctionEaseOutï¼ˆæ¸å‡ºï¼‰ï¼šåŠ¨ç”»å…¨é€Ÿè¿›å…¥ï¼Œç„¶åå‡é€Ÿçš„åˆ°è¾¾ç›®çš„åœ° kCAMediaTimingFunctionEaseInEaseOutï¼ˆæ¸è¿›æ¸å‡ºï¼‰ï¼šåŠ¨ç”»ç¼“æ…¢çš„è¿›å…¥ï¼Œä¸­é—´åŠ é€Ÿï¼Œç„¶åå‡é€Ÿçš„åˆ°è¾¾ç›®çš„åœ°ã€‚ ä»£ç ï¼š 89-Animation/CABasic Animation å‚è€ƒï¼š ç¬¬ä¸‰ç¯‡ï¼šiOSåŠ¨ç”»ç³»åˆ—ä¹‹ä¸‰ï¼šCore Animationã€‚ä»‹ç»äº†Core Animationçš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ã€‚ ç¬¬å››ç¯‡ï¼šCABasic Animationã€‚iOSåŠ¨ç”»ç³»åˆ—ä¹‹å››ï¼šåŸºç¡€åŠ¨ç”»ä¹‹å¹³ç§»ç¯‡]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSåŠ¨ç”»(ä¸€)ï¼šæ—¶é’ŸåŠ¨ç”»(Swift)]]></title>
    <url>%2F2017%2Fios-animation-1-clock.html</url>
    <content type="text"><![CDATA[ä¸€ã€ç›´æ¥åšåŠ¨ç”» æ–°å»ºé¡¹ç›®clock åŠ è½½è¡¨ç›˜å›¾ç‰‡ã€‚åœ¨viewDidLoadä¸­æ·»åŠ ï¼š 123456let dialLayer = CALayer()dialLayer.bounds = CGRect(x: 0, y: 0, width: 150, height: 150)dialLayer.position = self.view.centerdialLayer.contents = UIImage(named: "clock")?.cgImageview.layer.addSublayer(dialLayer) æ‡’åŠ è½½ç§’é’ˆã€åˆ†é’ˆã€æ—¶é’ˆè§†å›¾ã€‚æ‡’åŠ è½½æœºåˆ¶æ˜¯Swiftä¸­ä¸€ç§å­˜å‚¨å±æ€§ï¼šå»¶è¿Ÿå­˜å‚¨å±æ€§ï¼Œå…·ä½“å¯æ“¦çœ‹ ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-10ï¼šProperties 1234567891011121314151617181920212223242526272829303132// ç§’é’ˆlazy var secondHandView: UIView = &#123; let secondHandView = UIView() secondHandView.backgroundColor = UIColor.red secondHandView.bounds = CGRect(x: 0, y: 0, width: 1, height: 60) secondHandView.layer.anchorPoint = CGPoint(x: 0.5, y: 1) return secondHandView&#125;()// åˆ†é’ˆlazy var minuteHandView: UIView = &#123; let minuteHandView = UIView() minuteHandView.backgroundColor = UIColor.darkGray minuteHandView.bounds = CGRect(x: 0, y: 0, width: 3, height: 60) minuteHandView.layer.anchorPoint = CGPoint(x: 0.5, y: 1) return minuteHandView&#125;()// æ—¶é’ˆlazy var hourHandView: UIView = &#123; let hourHandView = UIView() hourHandView.backgroundColor = UIColor.darkGray hourHandView.bounds = CGRect(x: 0, y: 0, width: 3, height: 45) hourHandView.layer.anchorPoint = CGPoint(x: 0.5, y: 1) return hourHandView&#125;() æŠŠç§’é’ˆã€åˆ†é’ˆã€æ—¶é’ˆæ·»åŠ åˆ°viewä¸­ã€‚åœ¨viewDidLoadä¸­æ·»åŠ ï¼š 123456secondHandView.center = view.centerself.view.addSubview(secondHandView)minuteHandView.center = view.centerself.view.addSubview(minuteHandView)hourHandView.center = view.centerself.view.addSubview(hourHandView) åˆ›å»ºCADisplayLinkï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¸»çº¿ç¨‹ä¸­ã€‚åœ¨viewDidLoadä¸­æ·»åŠ ï¼š 12let link = CADisplayLink(target: self, selector: #selector(ViewController.clockRunning))link.add(to: RunLoop.main, forMode: .defaultRunLoopMode) æ·»åŠ æ–¹æ³•clockRunning: 123456789101112131415161718func clockRunning() &#123; let tZone = TimeZone.current var calendar = Calendar.current let currentDate = Date() calendar.timeZone = tZone let currentTime = calendar.dateComponents([Calendar.Component.hour, Calendar.Component.minute, Calendar.Component.second], from: currentDate) // æ ¹æ®å½“å‰ç§’ã€åˆ†ã€æ—¶æ•°åˆ†åˆ«è®¡ç®—ç§’é’ˆã€åˆ†é’ˆã€æ—¶é’ˆåè½¬å¼§åº¦ let secondAngle = CGFloat ( Double(currentTime.second!) * (Double.pi * 2.0 / 60) ) secondHandView.transform = CGAffineTransform(rotationAngle: secondAngle) let minuteAngle = CGFloat ( Double(currentTime.minute!) * (Double.pi * 2.0 / 60) ) minuteHandView.transform = CGAffineTransform(rotationAngle: minuteAngle) let hourAngle = CGFloat ( Double(currentTime.hour!) * (Double.pi * 2.0 / 12) ) hourHandView.transform = CGAffineTransform(rotationAngle: hourAngle)&#125; ç°åœ¨å°±å®Œæˆäº†æ–‡ç« å¼€å¤´çš„æ•ˆæœã€‚ äºŒã€ä»£ç è¯´æ˜ å…³äºanchorPointï¼ˆé”šç‚¹ï¼‰å¦‚æœæ³¨é‡Šæ‰åˆ†é’ˆå’Œæ—¶é’ˆè§†å›¾ï¼Œå¹¶ä¸”å…³æ‰åŠ¨ç”»æ•ˆæœå’Œé”šç‚¹è®¾ç½®ï¼š123456789// secondHandView.layer.anchorPoint = CGPoint(x: 0.5, y: 1)// minuteHandView.center = view.center// self.view.addSubview(minuteHandView)// hourHandView.center = view.center// self.view.addSubview(hourHandView) // åˆ›å»ºCADisplayLinkï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¸»çº¿ç¨‹ä¸­// let link = CADisplayLink(target: self, selector: #selector(ViewController.clockRunning))// link.add(to: RunLoop.main, forMode: .defaultRunLoopMode) åŠ ä¸ŠsecondHandView.layer.anchorPoint = CGPoint(x: 0.5, y: 1)åï¼š anchorPointçš„å®˜æ–¹æè¿°ï¼š Defines the anchor point of the layerâ€™s bounds rectangle. Animatable.You specify the value for this property using the unit coordinate space. The default value of this property is (0.5, 0.5), which represents the center of the layerâ€™s bounds rectangle. All geometric manipulations to the view occur about the specified point. For example, applying a rotation transform to a layer with the default anchor point causes the layer to rotate around its center. Changing the anchor point to a different location would cause the layer to rotate around that new point. anchorPointçš„å€¼åœ¨ (0,0) å’Œ (1,1)ä¹‹é—´ã€‚é»˜è®¤æ˜¯ (0.5, 0.5),ä»£è¡¨é”šç‚¹åœ¨ä¸­å¿ƒä½ç½®ã€‚ (0,0) å’Œ (1,1)åˆ†åˆ«ä»£è¡¨å·¦ä¸Šè§’å’Œå³ä¸Šè§’ã€‚ å…³äºCALayerçš„å±æ€§positionå’ŒanchorPoint positionç±»ä¼¼UIView çš„center positionå†³å®šäº†layeråœ¨çˆ¶è§†å›¾ä¸Šçš„ä½ç½® anchorPointå†³å®šäº†positionåœ¨è‡ªèº«çš„ä½ç½®ã€‚All geometric manipulations to the view occur about the specified point. CADisplayLink ä¸ NSTimer CADisplayLinkç²¾ç¡®åº¦é«˜ NSTimerå ç”¨ç³»ç»Ÿèµ„æºè¾ƒå¤š ä»£ç å’Œå›¾ç‰‡ä½ç½®ï¼š 89-Animation/clock å‚è€ƒï¼š iOSåŠ¨ç”»ç³»åˆ—ä¹‹ä¸€ï¼šé€šè¿‡å®æˆ˜å­¦ä¹ CALayerå’Œé€è§†çš„åŸç†ã€‚åšä¸€ä¸ªå¸¦æ—¶åˆ†ç§’æŒ‡é’ˆçš„æ—¶é’ŸåŠ¨ç”»(ä¸Š) iOSåŠ¨ç”»ç³»åˆ—ä¹‹äºŒï¼šé€šè¿‡å®æˆ˜å­¦ä¹ CALayerå’Œé€è§†çš„åŸç†ã€‚åšä¸€ä¸ªå¸¦æ—¶åˆ†ç§’æŒ‡é’ˆçš„æ—¶é’ŸåŠ¨ç”»ã€‚åŒ…å«äº†OCå’ŒSwiftä¸¤ç§æºä»£ç (ä¸‹)]]></content>
      <categories>
        <category>iOS-Animation</category>
      </categories>
      <tags>
        <tag>iOSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯†Core MLï¼šå»ºç«‹ä¸€ä¸ªç®€å•çš„å›¾ç‰‡å†…å®¹è¯†åˆ«åº”ç”¨]]></title>
    <url>%2F2017%2Fintroducing-coreml.html</url>
    <content type="text"><![CDATA[Xcode 9 beta &amp; iOS11 beta &amp; Swift4 Core MLæ˜¯ä¸€ä¸ªèƒ½é›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹åˆ°appä¸­çš„æ¡†æ¶ã€‚ ä¸€ã€æ–°å»ºåˆå§‹é¡¹ç›® æ–°å»ºé¡¹ç›®CoreMLDemoï¼Œä»¥single-view application templateæ¨¡æ¿ å»ºç«‹å¦‚ä¸‹å¦‚ä¸‹UI äºŒã€å®ç°ç…§ç›¸å’Œè·å–å›¾ç‰‡åº“åŠŸèƒ½ éµå®ˆä¸¤ä¸ªåè®®ï¼šclass ViewController: UIViewController, UINavigationControllerDelegate, UIImagePickerControllerDelegate { æ·»åŠ ä¸¤ä¸ªæ¥å£ï¼Œå¹¶å…³è”ã€‚ 12@IBOutlet var imageView: UIImageView!@IBOutlet var classifier: UILabel! å®ç°ä¸¤ä¸ªAction 1234567891011121314151617181920@IBAction func camera(_ sender: Any) &#123; if !UIImagePickerController.isSourceTypeAvailable(.camera) &#123; return &#125; let cameraPicker = UIImagePickerController() cameraPicker.delegate = self cameraPicker.sourceType = .camera cameraPicker.allowsEditing = false present(cameraPicker, animated: true, completion: nil)&#125;@IBAction func openLibrary(_ sender: Any) &#123; let picker = UIImagePickerController() picker.allowsEditing = false picker.delegate = self picker.sourceType = .photoLibrary present(picker, animated: true)&#125; å®ç°åè®®UIImagePickerControllerDelegateä¸­çš„æ–¹æ³•ï¼š 123func imagePickerControllerDidCancel(_ picker: UIImagePickerController) &#123; dismiss(animated: true, completion: nil)&#125; åœ¨Info.plistä¸­æ·»åŠ ğŸ“·ä½¿ç”¨è¯·æ±‚ï¼ŒPrivacy â€“ Camera Usage Description and Privacy ä¸‰ã€é›†æˆCore ML Data Model åˆ°Appleæœºå™¨å­¦ä¹ å®˜ç½‘ Machine Learningä¸‹è½½Core ML modelsï¼Œç›®å‰æœ‰6ä¸ªModelï¼Œè¯†åˆ«å›¾ç‰‡çš„ä½¿ç”¨Inception v3ã€‚ä¸‹è½½å¾—åˆ°ä¸€ä¸ªmlmodelç»“å°¾çš„æ–‡ä»¶ï¼Œç›´æ¥æ‹–åˆ°é¡¹ç›®ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”modelåçš„swiftçš„ç±»æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚ åœ¨ViewController.swiftä¸­å¼•å…¥Core ML:import CoreML åˆå§‹Inceptionv3: 12345var model: Inceptionv3!override func viewWillAppear(_ animated: Bool) &#123; model = Inceptionv3()&#125; å®ç°UIImagePickerControllerDelegateåè®®çš„imagePickerController(_:didFinishPickingMediaWithInfo)æ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728293031323334func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) &#123; picker.dismiss(animated: true) classifier.text = "Analyzing Image..." guard let image = info["UIImagePickerControllerOriginalImage"] as? UIImage else &#123; return &#125; UIGraphicsBeginImageContextWithOptions(CGSize(width: 299, height: 299), true, 2.0) image.draw(in: CGRect(x: 0, y: 0, width: 299, height: 299)) let newImage = UIGraphicsGetImageFromCurrentImageContext()! UIGraphicsEndImageContext() let attrs = [kCVPixelBufferCGImageCompatibilityKey: kCFBooleanTrue, kCVPixelBufferCGBitmapContextCompatibilityKey: kCFBooleanTrue] as CFDictionary var pixelBuffer : CVPixelBuffer? let status = CVPixelBufferCreate(kCFAllocatorDefault, Int(newImage.size.width), Int(newImage.size.height), kCVPixelFormatType_32ARGB, attrs, &amp;pixelBuffer) guard (status == kCVReturnSuccess) else &#123; return &#125; CVPixelBufferLockBaseAddress(pixelBuffer!, CVPixelBufferLockFlags(rawValue: 0)) let pixelData = CVPixelBufferGetBaseAddress(pixelBuffer!) let rgbColorSpace = CGColorSpaceCreateDeviceRGB() let context = CGContext(data: pixelData, width: Int(newImage.size.width), height: Int(newImage.size.height), bitsPerComponent: 8, bytesPerRow: CVPixelBufferGetBytesPerRow(pixelBuffer!), space: rgbColorSpace, bitmapInfo: CGImageAlphaInfo.noneSkipFirst.rawValue) //3 context?.translateBy(x: 0, y: newImage.size.height) context?.scaleBy(x: 1.0, y: -1.0) UIGraphicsPushContext(context!) newImage.draw(in: CGRect(x: 0, y: 0, width: newImage.size.width, height: newImage.size.height)) UIGraphicsPopContext() CVPixelBufferUnlockBaseAddress(pixelBuffer!, CVPixelBufferLockFlags(rawValue: 0)) imageView.image = newImage ä½¿ç”¨Core MLåœ¨ä¸Šé¢imagePickerController(_:didFinishPickingMediaWithInfo)æ–¹æ³•æœ€åæ·»åŠ ï¼š 1234guard let prediction = try? model.prediction(image: pixelBuffer!) else &#123; return&#125;classifier.text = "I think this is a \(prediction.classLabel)." ç°åœ¨å°±å¯è¿è¡Œè¯†åˆ«å›¾ç‰‡å†…å®¹äº†ï¼Œæˆ‘å·²å‡ ä¸ªç®€å•çš„åšäº†å®éªŒï¼Œæ•ˆæœè¿˜å¯ä»¥ï¼š èƒ½è¯†åˆ«ğŸ¶çš„ç§ç±»ï¼Œå“ˆå·´ç‹—pug ğŸŒåº”è¯¥ç›¸å¯¹è€Œè¨€ç®€å•ï¼š æœ‹å‹å®¶çš„çŒ«ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“çŒ«çš„ç§ç±»ï¼Œè¯†åˆ«ä¸ºæ³¢æ–¯çŒ«(Persian cat): è¿™ä¸ªæˆ‘å°±ä¸çŸ¥é“æ˜¯æ€ä¹ˆè¯†åˆ«ä¸ºæµ“å’–å•¡(espresso)çš„äº†ğŸ¤” å½“ç„¶è¯†åˆ«ç›¸å·®æ¯”è¾ƒå¥‡æ€ªçš„ã€‚å°ç±³æ‰‹ç¯è¯†åˆ«æˆå¬è¯Šå™¨ï¼ˆstethoscopeï¼‰ğŸ˜¢ kindleè¯†åˆ«ä¸å‡ºğŸ˜¢ğŸ˜¢ğŸ˜¢ å››ã€Core MLå­¦ä¹ èµ„æºå®˜æ–¹æ–‡æ¡£ official Core ML documentation WWDC 2017ï¼š Introducing Core ML Core ML in Depth ä»£ç  CoreMLDemo ï¼ˆç”±äºInceptionv3.mlmodelæ¯”è¾ƒå¤§ï¼Œæˆ‘å°±æ²¡æœ‰ä¸Šä¼ åˆ°githubä¸Šï¼Œç›´æ¥åˆ° Machine Learningç„¶åæ‹–åˆ°é¡¹ç›®ä¸­å³å¯ï¼‰ å‚è€ƒï¼šIntroduction to Core ML: Building a Simple Image Recognition App]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Core ML</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨githubå’Œhexoåˆ›å»ºå…è´¹çš„é™æ€ä¸ªäººåšå®¢ç½‘ç«™]]></title>
    <url>%2F2017%2Fgithub-hexo.html</url>
    <content type="text"><![CDATA[ä¹‹å‰åˆšå­¦ç¼–ç¨‹ï¼Œæ¥è§¦PHPæ—¶ï¼Œå‡ºäºå­¦ä¹ çš„ç›®çš„ï¼Œå…´è‡´å‹ƒå‹ƒåœ°ä¹°äº†åŸŸåã€ä¸»æœºã€å­¦äº†Wordpressï¼Œæ‰¾äº†ä¸»é¢˜ï¼ŒæŠ˜è…¾äº†å¥½ä¹…å»ºäº†ä¸ªç½‘ç«™ï¼Œä¹Ÿå†™äº†ä¸€äº›æ–‡ç« ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼Œè¿™æ˜¯ä»å…¥é—¨åˆ°æ”¾å¼ƒç³»åˆ—çš„å…¸å‹æ¡ˆä¾‹ã€‚å‰æ®µæ—¶é—´æ”¶åˆ°ä¸»æœºè¦åˆ°æœŸçš„é€šçŸ¥ï¼Œæ­£å¥½æˆ‘ä¹Ÿæ¥è§¦åˆ°äº†ç®€ä¹¦ï¼Œæ”¯æŒmarkdownï¼Œæ„Ÿè§‰è›®å¥½ï¼Œå¹³å¸¸ä¹Ÿä¹ æƒ¯ä½¿ç”¨markdownæ ¼å¼è®°å½•ç¬”è®°ã€‚å°±è§‰å¾—ä¸å†ç»­è´¹ä¸»æœºäº†ï¼Œå°±ä¸»è¦ä½¿ç”¨ç®€ä¹¦ï¼Œä¸ªäººåšå®¢å°±ä½¿ç”¨githubå’Œhexoè¿™ç§æ”¯æŒmarkdownç”Ÿæˆé™æ€ç½‘é¡µå½¢å¼å°±è¡Œäº†ã€‚ å·²ç»æœ‰å¾ˆå¤šå°ä¼™ä¼´è¿™æ ·æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ï¼Œå¹¶å†™äº†ç›¸å…³æ–‡ç« ï¼Œè¿™è¾¹æˆ‘å°±åšä¸€ä¸ªæ­å»ºè¿‡ç¨‹ä¸­çš„ç®€å•è®°å½•ã€‚å¼€å§‹ä¹‹å‰éœ€è¦å®‰è£…gitå’Œnodejsï¼Œæœ‰githubè´¦å·ï¼Œç¨‹åºå‘˜å°ä¼™ä¼´ä¸€èˆ¬éƒ½ä¼šæœ‰äº†ï¼Œæˆ‘å°±ä¸å•°å—¦äº†ã€‚ å…³äºGitHub PagesGitHub PagesåŸæœ¬æ˜¯ä¸ºæ‰˜ç®¡åœ¨githubä¸Šçš„é¡¹ç›®æä¾›ä»‹ç»é¡µé¢çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œéå¸¸é€‚åˆæ‰˜ç®¡ä¸€äº›åŠŸèƒ½ç®€å•æˆ–è€…æ˜¯é™æ€é¡µé¢çš„ç½‘ç«™ã€‚è€ƒè™‘åˆ°è®¿é—®é€Ÿåº¦ï¼Œå¯ä»¥è€ƒè™‘å›½å†…çš„codingã€‚ æŒ‰ç…§GitHub Pagesæ­¥éª¤å»ºç«‹è‡ªå·±çš„GitHub Pagesåº“ã€‚ hexohexoæ–‡æ¡£å¾ˆè¯¦ç»†ï¼Œä¹Ÿæœ‰ä¸­æ–‡ï¼Œå¾ˆæ–¹ä¾¿ã€‚ å®‰è£… hexonpm install hexo-cli -g å»ºç«™123$ hexo init &lt;folder&gt;$ cd &lt;folder&gt;$ npm install æ–°ç”Ÿæˆçš„ç›®å½•ç»“æ„ä¸ºï¼š _config.yml æ˜¯ç½‘ç«™çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ node_modules æ˜¯nodejsåº“æ–‡ä»¶ç›®å½•ï¼Œå°±æ˜¯npm installå‘½ä»¤å®‰è£…çš„æ–‡ä»¶ä½ç½® package.jsonæ˜¯ç¨‹åºä¿¡æ¯ scaffolds æ–°å»ºæ–‡ç« çš„æ¨¡æ¿ source å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ï¼Œ404ã€faviconã€CNAME ç­‰å µåœ¨æ­¤å¤„ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸»è¦å·¥ä½œçš„åœ°æ–¹ã€‚å…¶ä¸­ï¼Œ_postsæ–‡ä»¶æ˜¯å†™æ–‡ç« åœ°æ–¹ï¼Œé™¤_postsæ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼ˆä¹‹åç”Ÿæˆï¼‰ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚ themes æ˜¯ä¸»é¢˜å­˜å‚¨åœ°æ–¹ã€‚ é…ç½®ç½‘ç«™ä¿¡æ¯_config.yml æ–‡ä»¶æä¾›äº†å¾ˆå¤šé…ç½®ï¼Œè¯¦ç»†å¯çœ‹å®˜ç½‘é…ç½®ä¿¡æ¯ã€‚å…ˆé…ç½®ä¸¤æ–¹é¢çš„ï¼Œä¹‹åéœ€è¦å†é…ç½®ã€‚ ç½‘ç«™åŸºæœ¬ä¿¡æ¯ 1234567# Sitetitle: æ¬£æ¬£å‘æˆsubtitle: AndyRon&apos;s Blogdescription: Just for fun.author: AndyRonlanguage: zh-Hanstimezone: Asia/Shanghai éƒ¨ç½²ï¼Œæ³¨æ„å­—æ®µï¼Œrepoå°±æ˜¯ä¸ªäººGitHub Pagesçš„åœ°å€åº“ã€‚ 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy:type: git repo: https://github.com/andyRon/andyRon.github.io.gitbranch: master æ–°å»ºæ–‡ç«  hexo new [layout] &lt;title&gt; ï¼š ä¹Ÿå°±æ˜¯åœ¨source/_posts/ä¸‹æŒ‰ç…§æ¨¡æ¿æ–°å»ºäº†ä¸€ä¸ªmarkdownæ–‡ä»¶ï¼Œlayoutå°±æ˜¯æŒ‡scaffoldsæ–‡ä»¶å¤¹ä¸­çš„æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨_postsä¸­æ–°å»ºmarkdownæ–‡ä»¶ã€‚ åœ¨æœ¬åœ°æœåŠ¡å™¨æµ‹è¯•hexo server ï¼šåœ¨æµè§ˆå™¨æ‰“å¼€http://localhost:4000/ ï¼Œå°±å¯ä»¥æŸ¥çœ‹ ç”Ÿæˆé™æ€æ–‡ä»¶hexo generateï¼ˆhexo gï¼‰ ï¼šè¿™ä¸ªå‘½ä»¤ä¼šæ–°å»ºä¸€ä¸ªpublicæ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•ç›¸å½“äºç½‘ç«™çš„æ ¹ç›®å½•ã€‚ å‘å¸ƒåˆ°githubhexo deployï¼ˆhexo dï¼‰ï¼šæŠŠpublicæ–‡ä»¶å¤¹å†…çš„å†…å®¹ä¸Šä¼ åˆ°githubä¸Šã€‚ç°åœ¨è®¿é—®https://yourname.github.io (æˆ‘çš„æ˜¯https://andyron.github.io )å°±èƒ½è®¿é—®åˆšå»ºç«‹çš„ç½‘ç«™äº†ã€‚å¦‚æœå‡ºç°ERROR Deployer not foundçš„é—®é¢˜ï¼Œå¯é€šè¿‡npm install hexo-deployer-git --saveè§£å†³ã€‚ å…¶ä»–hexoå‘½ä»¤hexo clean ï¼šåˆ é™¤publicæ–‡ä»¶å¤¹å†…å®¹ï¼Œå’Œæ¸…ç†ä¸€äº›ç¼“å­˜ã€‚è°ƒè¯•ç½‘ç«™å¯ä»¥ä½¿ç”¨ã€‚ åŸŸåç»‘å®šï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ åœ¨source/ä¸‹æ·»åŠ æ–‡ä»¶CNAMEï¼Œå†…å®¹åªä¸ºå¦‚andyron.comï¼ˆæ²¡æœ‰httpå’Œwwwï¼‰ éƒ¨ç½²åˆ°githubä¸Šï¼šhexo generateï¼Œhexo deploy åŸŸåè§£æã€‚ä¸åŒçš„åŸŸåæœåŠ¡å•†å¤§åŒå°å¼‚ï¼Œæˆ‘çš„æ˜¯é˜¿é‡Œäº‘ï¼Œä¸ºäº†é˜²æ­¢è§£æå‡ºé—®é¢˜ï¼Œæˆ‘æŠŠå…¶ä»–é»˜è®¤ä¸€äº›é‚®ä»¶è§£æç­‰éƒ½åˆ äº†ï¼Œå°±æ·»åŠ ä¸¤ä¸ªï¼š å¯èƒ½éœ€è¦ç­‰ä¸€çŸ­æ—¶é—´ï¼ˆ10åˆ†é’Ÿä»¥ä¸Šï¼‰ï¼Œå°±å¯ä»¥ç”¨ http://andyron.com è®¿é—®äº†ã€‚ hexoä¸»é¢˜hexoæœ‰å¾ˆå¤šä¸»é¢˜ï¼Œå¾ˆå¤šç½‘å‹ä¸ºhexoè´¡çŒ®äº†å¾ˆå¤šä¸»é¢˜ï¼Œå¯åˆ°ä¸»é¢˜ä¸Šå¯»æ‰¾ã€‚æˆ‘é€‰æ‹©çš„æ˜¯nextä¸»é¢˜ï¼Œè¿™ä¸ªä½¿ç”¨ä¸»é¢˜ç”¨çš„äººæ¯”è¾ƒå¤šï¼Œæ–‡æ¡£å¾ˆå…¨ï¼Œä¹Ÿæ¯”è¾ƒç®€æ´ã€‚ä¸»é¢˜çš„ä½¿ç”¨éå¸¸ç®€å•ï¼š å°†ä¸»é¢˜æ–‡ä»¶æ‹·è´è‡³ç«™ç‚¹ç›®å½•çš„themes ç›®å½•ä¸‹ ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š theme: ä¸»é¢˜å ä¸»é¢˜çš„ä¸€äº›è®¾ç½®ï¼š è®¾ç½®RSS å®‰è£… hexo-generator-feedæ’ä»¶ï¼Œåœ¨hexo initåˆå§‹åŒ–çš„ç›®å½•ä¸‹æ‰§è¡Œnpm install hexo-generator-feed --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ï¼š 123456feed:type: atompath: atom.xmllimit: 20hub:content: hexo generate è®¾ç½®æœç´¢æœ‰å¾ˆå¤šæœç´¢æ–¹å¼ï¼Œè¿™åªæ˜¯ä¸€ç§ç®€å•æ–¹å¼ å®‰è£…hexo-generator-searchdbï¼Œåœ¨hexoçš„æ ¹ç›®å½•ä¸‹ï¼š$ npm install hexo-generator-searchdb --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶æ·»åŠ ï¼š 12345search: path: search.xml field: post format: html limit: 10000 åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆthemes/next/_config.ymlï¼‰ä¿®æ”¹ï¼š12local_search: enable: true æ·»åŠ æ ‡ç­¾é¡µé¢ $hexo new page tagsï¼šç»“æœç”Ÿæˆæ–°æ–‡ä»¶å¤¹source/tags/ï¼Œå¹¶åœ¨å…¶ä¸­æœ‰ä¸€ä¸ªindex.mdã€‚ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„menuä¸­æ‰“å¼€æ ‡ç­¾ æ·»åŠ åˆ†ç±»é¡µé¢ $hexo new page categoriesï¼šç»“æœç”Ÿæˆæ–°æ–‡ä»¶å¤¹source/categoriesï¼Œå¹¶åœ¨å…¶ä¸­æœ‰ä¸€ä¸ªindex.mdã€‚ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„menuä¸­æ‰“å¼€åˆ†ç±»ã€‚ æ·»åŠ å…³äºæˆ‘é¡µé¢ $hexo new page aboutï¼šç»“æœç”Ÿæˆæ–°æ–‡ä»¶å¤¹source/aboutï¼Œå¹¶åœ¨å…¶ä¸­æœ‰ä¸€ä¸ªindex.mdï¼Œåœ¨index.mdä¸­ç›´æ¥ç¼–å†™å…³äºæˆ‘çš„å†…å®¹ã€‚ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„menuä¸­æ‰“å¼€åˆ†ç±»ã€‚ æ·»åŠ ç™¾åº¦åˆ†æ æ³¨å†Œ ç™¾åº¦ç»Ÿè®¡ï¼Œå¹¶æ·»åŠ è‡ªå·±çš„ç½‘ç«™ å¤åˆ¶ hm.js? åé¢é‚£ä¸²ç»Ÿè®¡è„šæœ¬ id åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å­—æ®µbaidu_analyticsï¼ŒèŒä½ä¸Šé¢çš„è„šæœ¬id å‚è€ƒhttp://blog.csdn.net/zuoziji416/article/details/53204478]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS ä¼ æ„Ÿå™¨(ä¸€)ï¼šæ€»çš„ä»‹ç»å’Œè·ç¦»ä¼ æ„Ÿå™¨]]></title>
    <url>%2F2017%2Fios-sensor-1.html</url>
    <content type="text"><![CDATA[å…³äºä¼ æ„Ÿå™¨ï¼ˆSensorï¼‰ï¼ŒAppleå®˜æ–¹å¥½åƒå¹¶æ²¡æœ‰ä¸“é—¨åˆ—å‡ºæ¥ä»‹ç»è¿‡ï¼Œæˆ‘åªèƒ½ä»å‰è¾ˆçš„æ–‡ç« å¯»æ‰¾ï¼Œå¾ˆå¤šæ–‡ç« ä¸­éƒ½ç»™iOSä¼ æ„Ÿå™¨è¿›è¡Œè¿‡å¾ˆè¯¦ç»†çš„åˆ†ç±»ä»‹ç»ï¼Œä½†æœ‰çš„ä¼ æ„Ÿå™¨åªæ˜¯æœ‰è¿‡ä»‹ç»ï¼Œæ²¡æœ‰ä»‹ç»ä½¿ç”¨æ–¹æ³•æˆ–APIï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘æ²¡æœç´¢åˆ°ï¼Œæ¯”å¦‚æ¹¿åº¦ä¼ æ„Ÿå™¨å¾ˆå¤šæ–‡ç« éƒ½æåˆ°ï¼Œä½†è¯¦ç»†ä½¿ç”¨æ–¹å¼å°±æœªæ›¾çœ‹åˆ°è¿‡ï¼Œè¿˜æœ‰è¿™è¾¹çš„æ¹¿åº¦ä¼ æ„Ÿå™¨æ˜¯æŒ‡iPhoneå†…éƒ¨çš„ï¼Ÿè¿˜æ˜¯æŒ‡iPhoneæ‰€åœ¨å¤–éƒ¨ç¯å¢ƒçš„ï¼Ÿ iPhoneçš„ä¼ æ„Ÿå™¨æ˜¯ç»è¿‡é•¿æ—¶é—´ä¸åœçš„å˜åŒ–å’Œæ”¹è¿›çš„ï¼Œå› ä¸ºä¼ æ„Ÿå™¨ä¸€å¬åå­—å°±çŸ¥é“è¿™ç§å˜åŒ–å’Œæ”¹è¿›åä¹‹å…«ä¹æ˜¯è¦ä¸ç¡¬ä»¶æœ‰å…³ç³»çš„ã€‚çŸ¥ä¹ä¸­æœ‰ä¸€éæ–‡ç« ä»‹ç»çš„å¾ˆè¯¦ç»†ï¼ŒiPhoneè¿™åå¹´åœ¨ä¼ æ„Ÿå™¨ä¸Šçš„æ¼”è¿›- çŸ¥ä¹ä¸“æ ã€‚ iOSä¸­ä¼ æ„Ÿå™¨åˆ†ç±»æˆ‘å§‘ä¸”æŒ‰ç…§æˆ‘æŸ¥çœ‹çš„èµ„æ–™å¯¹iOSä¼ æ„Ÿå™¨è¿›è¡Œä¸€ä¸ªä¸ç²¾ç¡®åˆ†ç±»ã€‚ ä¼ æ„Ÿå™¨ç±»å‹ è¯´æ˜ åŠ é€Ÿè®¡ Core Motionï¼Œæ„Ÿåº”è®¾å¤‡çš„è¿åŠ¨ï¼ˆæ‘‡ä¸€æ‘‡ã€è®¡æ­¥å™¨ï¼‰ é™€èºä»ª Core Motionï¼Œæ„Ÿåº”è®¾å¤‡çš„æŒæ¡æ–¹å¼ï¼ˆèµ›è½¦ç±»æ¸¸æˆï¼‰ æ­¥æ•°è®¡ Core Motion æ°”å‹è®¡ Core Motion ç£åŠ›è®¡ Core Motion è·ç¦»ä¼ æ„Ÿå™¨ æ„Ÿåº”æ˜¯å¦æœ‰å…¶ä»–ç‰©ä½“é è¿‘è®¾å¤‡å±å¹•ï¼ˆæ‰“ç”µè¯è‡ªåŠ¨å±ï¼‰ ç¯å¢ƒå…‰çº¿ä¼ æ„Ÿå™¨ æ„Ÿåº”å‘¨è¾¹ç¯å¢ƒå…‰çº¿çš„å¼ºå¼±ï¼ˆè‡ªåŠ¨è°ƒèŠ‚å±å¹•äº®åº¦ï¼‰ å†…éƒ¨æ¸©åº¦ä¼ æ„Ÿå™¨ æ„Ÿåº”è®¾å¤‡å†…éƒ¨çš„æ¸©åº¦ï¼ˆæé†’ç”¨æˆ·é™æ¸©ï¼Œé˜²æ­¢æŸä¼¤è®¾å¤‡ï¼‰ æ¹¿åº¦ä¼ æ„Ÿå™¨ æ„Ÿåº”è®¾å¤‡æ˜¯å¦è¿›æ°´ï¼ˆæ–¹ä¾¿ç»´ä¿®äººå‘˜ï¼‰ è·ç¦»ä¼ æ„Ÿå™¨å’Œå…‰çº¿ä¼ æ„Ÿå™¨çŸ¥ä¹çŸ¥å‹ Hi-iD çš„ç­”æ¡ˆä»‹ç»è¿‡è¿™ä¸¤ä¸ªä¼ æ„Ÿå™¨çš„å…³ç³»ï¼Œæœ¬äººç®€å•æ€»ç»“å¦‚ä¸‹ï¼š iPhone 5/5s/6ä¹‹åå…‰çº¿/è·ç¦»æ„Ÿåº”å™¨å°±æ˜¯iPhoneé¡¶éƒ¨ä¸­å¿ƒä¸€ä¸ªå­” å…‰çº¿ä¼ æ„Ÿå™¨å’Œè·ç¦»ä¼ æ„Ÿå™¨æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä¼ æ„Ÿå™¨ï¼Œä½†ä¸¤è€…éƒ½æ˜¯å¯¹å…‰ä½œå‡ºååº”ã€‚ è·ç¦»ä¼ æ„Ÿå™¨æ˜¯åŸºäºçº¢å¤–å…‰ï¼Œè·ç¦»ä¼ æ„Ÿå™¨è‡ªèº«å‘å°„å‡ºçš„çº¢å¤–å…‰ï¼Œç»å¤–ç•Œåå°„åæŠ˜å›çš„çº¢å¤–å…‰è¢«è·ç¦»ä¼ æ„Ÿå™¨è¿›è¡Œè¯†åˆ«åˆ¤æ–­ï¼Œæ‰€ä»¥è·ç¦»ä¼ æ„Ÿå™¨ä¼šæœ‰ä¸¤ä¸ªå•å…ƒï¼ˆåå°„å’Œæ¥æ”¶ï¼‰ è·ç¦»ä¼ æ„Ÿå™¨çš„ä½¿ç”¨è·ç¦»ä¼ æ„Ÿå™¨çš„ä½¿ç”¨çš„ä½¿ç”¨ç›¸å¯¹ç®€å•ï¼š1234567891011121314override func viewDidLoad() &#123; super.viewDidLoad() UIDevice.current.isProximityMonitoringEnabled = true NotificationCenter.default.addObserver(self, selector: #selector(ViewController.sensorStateChange(notification:)), name: Notification.Name.UIDeviceProximityStateDidChange, object: nil) &#125; @objc func sensorStateChange(notification: NotificationCenter) &#123; if UIDevice.current.proximityState == true &#123; print("æ¥è¿‘") &#125; else &#123; print("è¿œç¦»") &#125; &#125; ç°åœ¨å¯¹iPhoneé¡¶éƒ¨ä¸­å¿ƒä¸€ä¸ªå­”è¿›è¡Œé®æŒ¡ï¼Œå°±èƒ½æ„Ÿå—çš„è·ç¦»ä¼ æ„Ÿå™¨ã€‚ Core MotionCore Motionæ˜¯å…³äºaccelerometers(åŠ é€Ÿè®¡), gyroscopes(é™€èºä»ª), pedometers(æ­¥æ•°è®¡), magnetometers( ç£åŠ›è®¡), and barometers(æ°”å‹è®¡)ç­‰5ä¸ªä¼ æ„Ÿå™¨ä½¿ç”¨çš„æ¡†æ¶ï¼Œ æš‚æ—¶å°±æŒ‰ç…§å­—é¢æ„æ€ç¿»è¯‘æˆæ ¸å¿ƒè¿åŠ¨æ¡†æ¶ã€‚å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»ï¼š Core Motion reports motion- and environment-related data from the onboard hardware of iOS devices, including from the accelerometers(åŠ é€Ÿè®¡), gyroscopes(é™€èºä»ª), pedometers(æ­¥æ•°è®¡), magnetometers( ç£åŠ›è®¡), and barometers(æ°”å‹è®¡). You use this framework to access hardware-generated data so that you can use it in your app. For example, a game might use accelerometer and gyroscope data to control onscreen game behavior. ä¹‹åçš„æ–‡ç« å°±å­¦ä¹ Core Motionçš„ä½¿ç”¨ã€‚ğŸ˜‹ å‚è€ƒï¼š1 https://www.zhihu.com/question/25526443/answer/310408872 iPhoneè¿™åå¹´åœ¨ä¼ æ„Ÿå™¨ä¸Šçš„æ¼”è¿›- çŸ¥ä¹ä¸“æ 3 iOSå¼€å‘ä¹‹ä¼ æ„Ÿå™¨4 æ‰’ä¸€æ‰’iPhone6çš„æ‰‹æœºä¼ æ„Ÿå™¨5 éå…¸å‹æŠ€æœ¯å®… çš„ä¼ æ„Ÿå™¨ç³»åˆ—æ–‡ç«  iOSä¼ æ„Ÿå™¨ï¼šå®ç°ä¸€ä¸ªéšå±å¹•æ—‹è½¬çš„å›¾ç‰‡]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>ä¼ æ„Ÿå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 13ï¼šæ‰‹åŠ¿å¤„ç†]]></title>
    <url>%2F2017%2Fios-tutorial-13.html</url>
    <content type="text"><![CDATA[iOSæ‰‹åŠ¿å¤„ç†ç”±UIGestureRecognizeræ§åˆ¶ï¼Œä¸åŒæ‰‹åŠ¿æœ‰è¿™ä¸ªç±»çš„ä¸åŒå­ç±»å¤„ç†ï¼Œä¸åŒæ‰‹åŠ¿å¤„ç†æœ‰ä¸åŒçš„ç›¸å…³å±æ€§ã€‚ å­ç±» æè¿° UITapGestureRecognizer ç‚¹å‡»æ‰‹åŠ¿ UIPanGestureRecognizer è·Ÿç€æ‰‹ç§»åŠ¨æ‰‹åŠ¿ UIPinchGestureRecognizer ç¼©æ”¾æ‰‹åŠ¿ UIRotationGestureRecognizer æ—‹è½¬æ‰‹åŠ¿ UISwipeGestureRecognizer è½»æ‰«æ‰‹åŠ¿ UILongPressGestureRecognizer é•¿æŒ‰æ‰‹åŠ¿ UIScreenEdgePanGestureRecognizer å±å¹•è¾¹ç¼˜æ»‘åŠ¨æ‰‹åŠ¿ æ‰‹åŠ¿å¤„ç†çš„æ­¥éª¤ä¸€èˆ¬ï¼š åˆå§‹åŒ–æ‰‹åŠ¿ï¼Œå¹¶æ·»åŠ åˆ°éœ€è¦æ‰‹åŠ¿çš„Viewä¸­ æ·»åŠ æ‰‹åŠ¿å›è°ƒæ–¹æ³• UITapGestureRecognizerå±æ€§numberOfTapsRequiredè¡¨ç¤ºç‚¹å‡»æ¬¡æ•°ï¼Œå±æ€§numberOfTouchesRequiredè¡¨ç¤ºç‚¹å‡»æ‰‹æŒ‡æ•°ã€‚ 12345678910111213141516171819202122var isChange = false...let tap = UITapGestureRecognizer(target: self, action: #selector(ViewController.tap(tap:)))tap.numberOfTapsRequired = 2...imageView.addGestureRecognizer(tap)...@objc func tap(tap: UITapGestureRecognizer) &#123; let center = imageView.center if isChange &#123; imageView.frame.size.width /= 2 imageView.frame.size.height /= 2 imageView.center = center isChange = false &#125; else &#123; imageView.frame.size.width *= 2 imageView.frame.size.height *= 2 imageView.center = center isChange = true &#125;&#125; UIPanGestureRecognizer1let pan = UIPanGestureRecognizer(target: self, action: #selector(ViewController.pan(pan:))) 12345678910@objc func pan(pan: UIPanGestureRecognizer) &#123; if pan.state == .began || pan.state == .changed &#123; // ç§»åŠ¨åçš„å˜åŒ–ï¼ˆå˜åŒ–å€¼ç±»ä¼¼å‘é‡ï¼‰ let translation = pan.translation(in: imageView.superview) print(translation) imageView.center = CGPoint(x: imageView.center.x + translation.x, y: imageView.center.y + translation.y) // viewç§»åŠ¨åï¼ŒæŠŠä¸Šä¸€æ­¥çš„ç§»åŠ¨å€¼å˜ä¸º0ï¼Œå¦åˆ™ç§»åŠ¨å€¼ä¸ºé€’å¢ pan.setTranslation(CGPoint.zero, in: imageView.superview) &#125;&#125; UIRotationGestureRecognizer1let rotation = UIRotationGestureRecognizer(target: self, action: #selector(ViewController.rotation(rotation:))) 12345@objc func rotation(rotation: UIRotationGestureRecognizer) &#123; if rotation.state == .began || rotation.state == .changed &#123; imageView.transform = CGAffineTransform(rotationAngle: rotation.rotation) &#125;&#125; UISwipeGestureRecognizer123let swipe = UISwipeGestureRecognizer(target: self, action: #selector(ViewController.swipe(swipe:)))swipe.direction = .upswipe.numberOfTouchesRequired = 3 123@objc func swipe(swipe: UISwipeGestureRecognizer) &#123; print("æ‰«çš„æ–¹å‘ï¼š\(swipe.direction),æ‰«çš„æ‰‹æŒ‡æ•°ï¼š\(swipe.numberOfTouchesRequired)")&#125; UILongPressGestureRecognizernumberOfTouchesRequired é•¿æŒ‰çš„æŒ‡å¤´æ•°minimumPressDuratio é•¿æŒ‰æœ€å°æ—¶é—´ï¼ˆç§’ï¼‰ 123456789let long = UILongPressGestureRecognizer(target: self, action: #selector(ViewController.long(long:)))long.numberOfTouchesRequired = 2long.minimumPressDuration = 1...@objc func long(long: UILongPressGestureRecognizer) &#123; print("é•¿æŒ‰æ‰‹åŠ¿ï¼Œé•¿æŒ‰å­—å¤´æ•°ä¸º\(long.numberOfTouchesRequired)")&#125; UIScreenEdgePanGestureRecognizer12let screenEdge = UIScreenEdgePanGestureRecognizer(target: self, action: #selector(ViewController.screenEdage(screenEdage:)))screenEdge.edges = .left 123@objc func screenEdage(screenEdage: UIScreenEdgePanGestureRecognizer) &#123; print("å±å¹•è¾¹ç¼˜æ»‘åŠ¨æ‰‹åŠ¿ï¼š\(screenEdage.edges)")&#125; è¯¦ç»†ä»£ç ï¼š GestureDemo]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
      <tags>
        <tag>æ‰‹åŠ¿</tag>
        <tag>UIGestureRecognizer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 12ï¼šè§†é¢‘èƒŒæ™¯]]></title>
    <url>%2F2017%2Fios-tutorial-12.html</url>
    <content type="text"><![CDATA[æ–°å»ºé¡¹ç›® BackgroundVideoDemo æ–°å»ºBackgroundVideo.swiftæ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990import Foundationimport AVKitimport AVFoundationenum BackgroundVideoErrors: Error &#123; case invalidVideo&#125;class BackgroundVideo &#123; var isMuted = true private var player : AVPlayer? private var videoURL: URL? private var viewController: UIViewController? private var hasBeenUsed: Bool = false init (on viewController: UIViewController, withVideoURL URL: String) &#123; self.viewController = viewController // parse the video string to split it into name and extension let videoNameAndExtension:[String]? = URL.characters.split&#123;$0 == &quot;.&quot;&#125;.map(String.init) if videoNameAndExtension!.count == 2 &#123; if let videoName = videoNameAndExtension?[0] , let videoExtension = videoNameAndExtension?[1] &#123; if let url = Bundle.main.url(forResource: videoName, withExtension: videoExtension) &#123; self.videoURL = url // initialize our player with our fetched video url self.player = AVPlayer(url: self.videoURL!) &#125; else &#123; print(BackgroundVideoErrors.invalidVideo) &#125; &#125; &#125; else &#123; print(&quot;Wrong video name format&quot;) &#125; &#125; deinit&#123; if self.hasBeenUsed &#123; NotificationCenter.default.removeObserver(self, name: .AVPlayerItemDidPlayToEndTime, object: nil) NotificationCenter.default.removeObserver(self, name: .UIApplicationWillEnterForeground, object: nil) &#125; &#125; public func setUpBackground()&#123; self.player?.actionAtItemEnd = .none self.player?.isMuted = isMuted //add the video to your view .. let loginView: UIView = self.viewController!.view//get our view controllers view let playerLayer = AVPlayerLayer(player: self.player) playerLayer.videoGravity = AVLayerVideoGravityResizeAspectFill // preserve aspect ratio and resize to fill screen playerLayer.zPosition = -1 // set it&apos;s possition behined anything in our view playerLayer.frame = loginView.frame // set our player frame to our view&apos;s frame loginView.layer.addSublayer(playerLayer) // prevent video from disturbing audio services from other apps do &#123; try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryAmbient) &#125; catch &#123; print(&quot;failed setting AVAudioSession Category to AVAudioSessionCategoryAmbient&quot;) &#125; self.player?.play() // start the video /// å‘é€šçŸ¥ä¸­å¿ƒå‘é€è§†é¢‘ç»“æŸåå†æ¬¡ä»å¤´æ’­æ”¾ NotificationCenter.default.addObserver(self, selector: #selector(self.loopVideo), name: .AVPlayerItemDidPlayToEndTime, object: nil) // è§†é¢‘è¿›å…¥Foregroundåä»å¤´æ’­æ”¾ NotificationCenter.default.addObserver(self, selector: #selector(self.loopVideo), name: .UIApplicationWillEnterForeground, object: nil) self.hasBeenUsed = true &#125; // å¾ªç¯æ’­æ”¾è§†é¢‘ @objc private func loopVideo() &#123; self.player?.seek(to: kCMTimeZero) self.player?.play() &#125; &#125; åœ¨æ‰€éœ€è¦çš„è§†å›¾æ§åˆ¶å™¨ä¸­å®šä¹‰å˜é‡var backgroundPlayer : BackgroundVideo?ï¼Œç„¶åå†åœ¨viewDidLoadä¸­å®šä¹‰ï¼š 12345678910 override func viewDidLoad() &#123; super.viewDidLoad() let backgroundPlayer = BackgroundVideo(on: self, withVideoURL: &quot;test.mp4&quot;) //æ˜¯å¦æ‰“å¼€é™éŸ³// backgroundPlayer?.isMuted = false backgroundPlayer.setUpBackground() &#125; è¯¦ç»†ä»£ç ï¼š BackgroundVideoDemo å‚è€ƒï¼šBackgroundVideoiOS]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 11ï¼šç…§ç‰‡æ¨ªå±æ»‘åŠ¨]]></title>
    <url>%2F2017%2Fios-tutorial-11.html</url>
    <content type="text"><![CDATA[çŸ¥è¯†ç‚¹ï¼š UICollectionView UIVisualEffectView UICollectionViewDataSource æ–°å»ºé¡¹ç›®Carousel Effect åœ¨IBæ„å»ºUIã€‚Collection View é‡Œçš„ Scroll Direction è®¾ç½®æˆæ°´å¹³æ»šåŠ¨ã€‚UIVisualEffectViewæ˜¯ç”¨æ¥æ·»åŠ æ¨¡ç³Šæ•ˆæœçš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼å¦‚ä¸‹çš„ä»£ç æ„å»ºï¼š 1234let blurEffect = UIBlurEffect(style: .dark)let blurEffectView = UIVisualEffectView(effect: blurEffect)blurEffectView.frame = view.boundsbackgroundImageView.addSubview(blurEffectView) åˆ›å»ºæ•°æ®ç±»Interest åˆ›å»ºUICollectionViewCell å®ç°UICollectionViewDataSourceçš„æ–¹æ³•ï¼ˆæœ‰ç‚¹ç±»ä¼¼UITableViewDataSourceï¼‰ã€‚12345678910111213141516171819202122232425262728293031323334353637class ViewController: UIViewController, UICollectionViewDataSource &#123; @IBOutlet weak var backgroundImageView: UIImageView! @IBOutlet weak var collectionView: UICollectionView! var interests = Interest.createInterests() override func viewDidLoad() &#123; super.viewDidLoad() collectionView.dataSource = self collectionView.dataSource = self &#125; override var preferredStatusBarStyle : UIStatusBarStyle &#123; return UIStatusBarStyle.lightContent &#125; func numberOfSections(in collectionView: UICollectionView) -&gt; Int &#123; return 1 &#125; func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int &#123; return interests.count &#125; func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell &#123; let CellIdentifier = &quot;InterestCell&quot; let cell = collectionView.dequeueReusableCell(withReuseIdentifier: CellIdentifier, for: indexPath) as! InterestCollectionViewCell cell.interest = self.interests[indexPath.item] return cell &#125;&#125; è¯¦ç»†ä»£ç ï¼š Carousel Effect å‚è€ƒï¼š30DaysofSwift]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
      <tags>
        <tag>UICollectionView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 10ï¼šUIScrollViewæ»šåŠ¨è§†å›¾]]></title>
    <url>%2F2017%2Fios-tutorial-10-uiscrolview.html</url>
    <content type="text"><![CDATA[çŸ¥è¯†ç‚¹: UIScrollView å½“è§†å›¾è¶…è¿‡å±å¹•å¤§å°æ—¶ï¼Œå¯é€šè¿‡æŠŠè§†å›¾æ”¾åœ¨UIScrollViewä¸­è®©è§†å›¾å¯ä»¥ä¸Šä¸‹æ»šåŠ¨çš„åŠŸèƒ½ã€‚ä»¥ä¸€å¼ å¤§å›¾ç‰‡ä¸ºä¾‹ã€‚ æ–°å»ºé¡¹ç›® ScrollViewTutorial ä»£ç ï¼š12345678910111213141516171819202122class ViewController: UIViewController &#123; var imageView: UIImageView! var scrollView: UIScrollView! override func viewDidLoad() &#123; super.viewDidLoad() imageView = UIImageView(image: UIImage(named: &quot;strandvagen.jpg&quot;)) scrollView = UIScrollView(frame: view.bounds) scrollView.backgroundColor = UIColor.black scrollView.contentSize = imageView.bounds.size scrollView.addSubview(imageView) view.addSubview(scrollView) &#125; &#125; è¯¦ç»†ä»£ç ï¼šScrollViewTutorial å‚è€ƒï¼šScroll View Tutorial in iOS8 with Swift]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
      <tags>
        <tag>UIScrollView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 9ï¼šæœ¬åœ°è§†é¢‘æ’­æ”¾]]></title>
    <url>%2F2017%2Fios-tutorial-9.html</url>
    <content type="text"><![CDATA[æ–°å»ºé¡¹ç›®PlayLocalVideo åœ¨IBä¸­ä½¿View ControllerEmbed In &gt; Navigation Controller,å¹¶åœ¨View Controller**ä¸­æ·»åŠ UITableViewå’ŒUITableViewCellã€‚ åœ¨ä¸Šé¢çš„UITableViewCellçš„ä¸­æ·»åŠ ä¸€ä¸ªUIImageViewä½œä¸ºè§†é¢‘çš„é¢„è§ˆå›¾ã€ä¸€ä¸ªUIButtonä½œä¸ºå¼€å§‹æ’­æ”¾ã€ä¸¤ä¸ªUILabelåˆ†åˆ«ç”¨äºæ˜¾ç¤ºè§†é¢‘çš„åç§°å’Œæ¥æºã€‚å¹¶ä¿®æ”¹ä¸€å®šæ ·å¼å’Œæ·»åŠ ä¸€å®šçº¦æŸ æ·»åŠ å‡ å¼ å›¾ç‰‡å’Œä¸€ä¸ªè§†é¢‘ æ·»åŠ ä¸€ä¸ªcellçš„ç±»ï¼Œå¹¶æ·»åŠ ä¸‰ä¸ªæ¥å£ã€‚ 12345class VideoCell: UITableViewCell &#123; @IBOutlet var previewImageView: UIImageView! @IBOutlet var nameLabel: UILabel! @IBOutlet var sourceLabel: UILabel! æ·»åŠ ä¸€ä¸ªvideoæšä¸¾ï¼Œç”¨æ¥å­˜å‚¨è§†é¢‘ä¿¡æ¯ã€‚ 12345struct video &#123; let image: String let title: String let source: String&#125; ä½¿ViewControllerç¬¦åˆtable viewä»£ç†å’Œæ•°æ®çš„åè®®ï¼Œå¹¶å®ç°æ‰€éœ€æ–¹æ³•ï¼š 12345678910111213141516171819202122232425func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&gt; CGFloat &#123; return 220 &#125; func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int &#123; return 2 &#125; func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return data.count &#125; func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) as! VideoCell let video = data[indexPath.row] cell.previewImageView.image = UIImage(named: video.image) cell.nameLabel.text = video.title cell.sourceLabel.text = video.source return cell &#125; å¼•å…¥æ’­æ”¾è§†é¢‘æ‰€éœ€æ¡†æ¶ï¼Œå¹¶å®šä¹‰ç›¸å…³å˜é‡ã€‚ 1234567import AVFoundationimport AVKit... var playViewController : AVPlayerViewController? var playerView : AVPlayer? å®ç°è§†é¢‘æ’­æ”¾æŒ‰é’®æ–¹æ³•ã€‚ 12345678910111213@IBAction func playVideo(_ sender: UIButton) &#123; let path = Bundle.main.path(forResource: &quot;KL&quot;, ofType: &quot;mp4&quot;) playerView = AVPlayer(url: URL(fileURLWithPath: path!)) playViewController = AVPlayerViewController() playViewController?.player = playerView present(playViewController!, animated: true, completion: &#123; self.playViewController?.player?.play() &#125;) &#125; è¯¦ç»†ä»£ç ï¼š PlayLocalVideo å‚è€ƒï¼š 30DaysofSwift]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Alamofireï¼šSwiftçš„HTTP ç½‘ç»œåº“]]></title>
    <url>%2F2017%2Falamofire-introduce.html</url>
    <content type="text"><![CDATA[å®‰è£… CocoaPodså’ŒCarthageéƒ½å¾ˆæ–¹ä¾¿å®‰è£…å®‰è£…å®Œï¼Œå¦‚æœå‡ºç°åŠ è½½ä¸åˆ°Alamofireï¼Œå¯ä»¥æŸ¥çœ‹Cannot load underlying module for â€˜Alamofireâ€™ #441ï¼Œé—®é¢˜åº”è¯¥å¯ä»¥è§£å†³ã€‚ æ‰‹åŠ¨å®‰è£… ä¸‹è½½Alamofire å°†Alamofire.xcodeprojæ‹–è¿›åˆ°é¡¹ç›®ä¸­ åœ¨â€œEmbedded Binariesä¸­æ·»åŠ  command + B ç¼–è¯‘åå°±å¯ä»¥ä½¿ç”¨ å…³äº https://httpbin.org/ ç½‘ç«™ https://httpbin.org/ ç½‘ç«™å¯ç”¨æ¥åšhttpçš„å„ç§è¯·æ±‚æµ‹è¯•ä½¿ç”¨ï¼Œä¸è¿‡é—æ†¾çš„æ˜¯æ²¡æœ‰POSTç­‰æäº¤ç±»å‹è¯·æ±‚çš„æµ‹è¯• åŸºæœ¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„è¯·æ±‚ï¼š 123import AlamofireAlamofire.request("https://httpbin.org/get") httpä¸­æœ‰è¯·æ±‚(Request) å’Œ å“åº”(Response)ä¸¤ä¸ªé‡è¦æ¦‚å¿µã€‚å¤§éƒ¨åˆ†httpæ¡†æ¶ï¼Œéƒ½ä¼šä½¿ç”¨requestå’Œresponseä½œä¸ºæ–¹æ³•åã€‚çœ‹çœ‹Alamofireçš„requestæ–¹æ³•çš„è¯¦ç»†å‚æ•°ï¼š 12345678public func request( _ url: URLConvertible, method: HTTPMethod = .get, parameters: Parameters? = nil, encoding: ParameterEncoding = URLEncoding.default, headers: HTTPHeaders? = nil) -&gt; DataRequest&#123; æœ‰url,method,parameters,encoding,headersäº”ä¸ªå‚æ•°ï¼Œä¸httpæ˜¯ç›¸äº’å¯¹åº”çš„ã€‚å…¶ä¸­åªæœ‰urlæ˜¯å¿…é¡»çš„ï¼Œå…¶å®ƒéƒ½æœ‰é»˜è®¤å€¼ã€‚ è¯·æ±‚åçš„å“åº”å¤„ç†å‘httpå‘é€è¯·æ±‚åï¼Œå°±éœ€å¯¹å“åº”ç»“æœè¿›è¡Œå¤„ç†ã€‚ Alamofireé‡‡ç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼å¤„ç†å“åº”ï¼Œè¿™ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼æœ€åˆåº”è¯¥æ˜¯èµ·æºjQueryã€‚å“åº”å¤„ç†çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œresponseå°±æ˜¯å“åº”ç»“æœã€‚ 123Alamofire.request("https://httpbin.org/get").responseJSON &#123; response in&#125; Alamofire æä¾›äº†äº”ç§ä¸åŒçš„å“åº”å¤„ç†ï¼š 123456789101112131415161718192021222324252627282930// Response Handler - Unserialized Responsefunc response( queue: DispatchQueue?, completionHandler: @escaping (DefaultDataResponse) -&gt; Void) -&gt; Self// Response Data Handler - Serialized into Datafunc responseData( queue: DispatchQueue?, completionHandler: @escaping (DataResponse&lt;Data&gt;) -&gt; Void) -&gt; Self// Response String Handler - Serialized into Stringfunc responseString( queue: DispatchQueue?, encoding: String.Encoding?, completionHandler: @escaping (DataResponse&lt;String&gt;) -&gt; Void) -&gt; Self// Response JSON Handler - Serialized into Anyfunc responseJSON( queue: DispatchQueue?, completionHandler: @escaping (DataResponse&lt;Any&gt;) -&gt; Void) -&gt; Self// Response PropertyList (plist) Handler - Serialized into Anyfunc responsePropertyList( queue: DispatchQueue?, completionHandler: @escaping (DataResponse&lt;Any&gt;) -&gt; Void)) -&gt; Self äº”ç§æ–¹æ³•çš„å‚æ•°ä¸åŒï¼Œä½†æœ€åä¸€å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå›è°ƒçš„é—­åŒ…ï¼Œéƒ½å¯ä»¥å†™æˆå°¾éšé—­åŒ…å½¢å¼ã€‚é™¤äº†responseæ–¹æ³•çš„å›è°ƒå‚æ•°æ˜¯DefaultDataResponseï¼Œå…¶å®ƒéƒ½æ˜¯DataResponse: 1234567891011121314151617181920212223public struct DataResponse&lt;Value&gt; &#123; /// The URL request sent to the server. public let request: URLRequest? /// The server's response to the URL request. public let response: HTTPURLResponse? /// The data returned by the server. public let data: Data? /// The result of response serialization. public let result: Result&lt;Value&gt; /// The timeline of the complete lifecycle of the request. public let timeline: Timeline /// Returns the associated value of the result if it is a success, `nil` otherwise. public var value: Value? &#123; return result.value &#125; /// Returns the associated error value if the result if it is a failure, `nil` otherwise. public var error: Error? &#123; return result.error &#125; var _metrics: AnyObject? DataResponseä¸DefaultDataResponseæœ€å¤§çš„ä¸åŒå°±æ˜¯å¤šäº†ä¸¤ä¸ªå±æ€§resultå’Œvalueï¼Œvalueå€¼å°±æ˜¯æ ¼å¼åŒ–çš„ä¸åŒç±»å‹ã€‚ å“åº”å¤„ç†çš„ä¸€äº›ä¾‹å­ response 123456789Alamofire.request("https://httpbin.org/get").response &#123; response in print("Request: \(response.request)") print("Response: \(response.response)") print("Error: \(response.error)") if let data = response.data, let utf8Text = String(data: data, encoding: .utf8) &#123; print("Data: \(utf8Text)") &#125;&#125; responseæ–¹æ³•çš„å“åº”ç»“æœresponseæ˜¯DefaultDataResponseï¼Œæ²¡æœ‰è¿›è¡Œè¿‡æ ¼å¼åŒ–å¤„ç†ã€‚ responseData 1234567Alamofire.request("https://httpbin.org/get").responseData &#123; response in debugPrint("All Response Info: \(response)") if let data = response.result.value, let utf8Text = String(data: data, encoding: .utf8) &#123; print("Data: \(utf8Text)") &#125;&#125; responseDataæ–¹æ³•å¯¹å“åº”ç»“æœè¿›è¡Œäº†å¤„ç†ï¼Œresponse.result.valueå°±æ˜¯æˆ‘ä»¬å±æ€§çš„Dataç±»å‹ã€‚ é“¾å¼è°ƒç”¨ 1234567Alamofire.request("https://httpbin.org/get").responseString &#123; response in print("Response String: \(response.result.value)")&#125;.responseJSON &#123; response in print("Response JSON: \(response.result.value)")&#125; å“åº”éªŒè¯httpå“åº”ç»“æœä¸­çš„ä¸åŒçŠ¶æ€ç (100..&lt;600)è¡¨ç¤ºä¸åŒç»“æœã€‚ æ‰‹åŠ¨éªŒè¯ 1234567891011 Alamofire.request("https://httpbin.org/get").validate(statusCode: 200..&lt;300).validate(contentType: ["application/json"]).responseData &#123; response in switch response.result &#123; case .success: print("Validation Successful") case .failure(let error): print(error) &#125;&#125; è‡ªåŠ¨éªŒè¯çŠ¶æ€ç åœ¨200..&lt;300çš„ä¸ºæ­£ç¡®ï¼Œå…¶å®ƒä¸ºé”™è¯¯ã€‚12345678Alamofire.request("https://httpbin.org/get").validate().responseJSON &#123; response in switch response.result &#123; case .success: print("Validation Successful") case .failure(let error): print(error) &#125;&#125; HTTPä¸åŒè¯·æ±‚æ–¹å¼requestæ–¹æ³•çš„methodå‚æ•°è¡¨ç¤ºä¸åŒçš„æ–¹æ³•ã€‚ 12345Alamofire.request("https://httpbin.org/get") // method defaults to `.get`Alamofire.request("https://httpbin.org/post", method: .post)Alamofire.request("https://httpbin.org/put", method: .put)Alamofire.request("https://httpbin.org/delete", method: .delete) è¯·æ±‚å‚æ•°ç¼–ç GETçš„å‚æ•°æŒ‰ç…§å›ºå®šæ ¼å¼å†™åˆ°URLä¸­ï¼Œå…¶ä»–ç±»å‹åˆ™æŒ‰ç…§ä¸åŒæ ¼å¼å†™åˆ°è¯·æ±‚bodyä¸­ã€‚ GETå‚æ•°ç¼–ç  12345678let parameters: Parameters = ["foo": "bar"]// All three of these calls are equivalentAlamofire.request("https://httpbin.org/get", parameters: parameters) // encoding defaults to `URLEncoding.default`Alamofire.request("https://httpbin.org/get", parameters: parameters, encoding: URLEncoding.default)Alamofire.request("https://httpbin.org/get", parameters: parameters, encoding: URLEncoding(destination: .methodDependent))// https://httpbin.org/get?foo=bar POSTå‚æ•°ç¼–ç  12345678910111213141516let parameters: Parameters = [ "foo": "bar", "baz": ["a", 1], "qux": [ "x": 1, "y": 2, "z": 3 ]]// All three of these calls are equivalentAlamofire.request("https://httpbin.org/post", method: .post, parameters: parameters)Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: URLEncoding.default)Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: URLEncoding.httpBody)// HTTP body: foo=bar&amp;baz[]=a&amp;baz[]=1&amp;qux[x]=1&amp;qux[y]=2&amp;qux[z]=3 JSONç¼–ç  123456789101112let parameters: Parameters = [ "foo": [1,2,3], "bar": [ "baz": "qux" ]]// Both calls are equivalentAlamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: JSONEncoding.default)Alamofire.request("https://httpbin.org/post", method: .post, parameters: parameters, encoding: JSONEncoding(options: []))// HTTP body: &#123;"foo": [1, 2, 3], "bar": &#123;"baz": "qux"&#125;&#125; æ·»åŠ è¯·æ±‚HTTPå¤´éƒ¨12345678let headers: HTTPHeaders = [ "Authorization": "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==", "Accept": "application/json"]Alamofire.request("https://httpbin.org/headers", headers: headers).responseJSON &#123; response in debugPrint(response)&#125; HTTPè®¤è¯12345678let user = "user"let password = "password"Alamofire.request("https://httpbin.org/basic-auth/\(user)/\(password)") .authenticate(user: user, password: password) .responseJSON &#123; response in debugPrint(response)&#125; ä¸‹è½½æ–‡ä»¶12345Alamofire.download("https://httpbin.org/image/png").responseData &#123; response in if let data = response.result.value &#123; let image = UIImage(data: data) &#125;&#125; å¦å¤–å¯ä»¥ä¸‹æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°ï¼š12345678910111213141516let destination: DownloadRequest.DownloadFileDestination = &#123; _, _ in let documentsURL = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask)[0] let fileURL = documentsURL.appendingPathComponent("pig.png") return (fileURL, [.removePreviousFile, .createIntermediateDirectories])&#125;Alamofire.download("https://httpbin.org/image/png", to: destination).response &#123; response in print(response) if response.error == nil, let imagePath = response.destinationURL?.path &#123; let image = UIImage(contentsOfFile: imagePath) self.imageView.image = image self.tableView.reloadData() &#125;&#125; ä¸Šä¼  ä¸Šä¼  Data 12345let imageData = UIImagePNGRepresentation(image!)!Alamofire.upload(imageData, to: "https://httpbin.org/post").responseJSON &#123; response in debugPrint(response)&#125; ä¸Šä¼ æ–‡ä»¶ 12345let fileURL = Bundle.main.url(forResource: "video", withExtension: "mov")Alamofire.upload(fileURL!, to: "https://httpbin.org/post").responseJSON &#123; response in debugPrint(response)&#125; ä¸Šä¼ Multipart Form Dataï¼ˆè¡¨å•æäº¤ï¼‰ 1234567891011121314151617Alamofire.upload( multipartFormData: &#123; multipartFormData in multipartFormData.append(unicornImageURL, withName: "unicorn") multipartFormData.append(rainbowImageURL, withName: "rainbow")&#125;, to: "https://httpbin.org/post", encodingCompletion: &#123; encodingResult in switch encodingResult &#123; case .success(let upload, _, _): upload.responseJSON &#123; response in debugPrint(response) &#125; case .failure(let encodingError): print(encodingError) &#125;&#125;) è¯·æ±‚ä¸­èŠ±è´¹çš„å„ç§æ—¶é—´123Alamofire.request("https://httpbin.org/get").responseJSON &#123; response in print(response.timeline)&#125; ç»“æœï¼š1Timeline: &#123; "Latency": 1.527 secs, "Request Duration": 1.528 secs, "Serialization Duration": 0.001 secs, "Total Duration": 1.529 secs &#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Alamofire</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swiftä¸­çš„é—®å·ä¸‰ç§ç”¨æ³•]]></title>
    <url>%2F2017%2Fswift-question.html</url>
    <content type="text"><![CDATA[ä¸‰ç›®è¿ç®—ç¬¦(Ternary Conditional Operator)è¿™åœ¨å¤§éƒ¨åˆ†è¯­è¨€ä¸­éƒ½æ¯”è¾ƒå¸¸è§å¸ƒå°”å€¼ ? &quot;true&quot; : &quot;false&quot; å¯é€‰å€¼å¯é€‰å€¼?å’Œ !æ˜¯ä¸€å¯¹ã€‚?ç”¨åœ¨æŸä¸ªç±»å‹åé¢ï¼Œå¯ä»¥é€šä¿—çš„ç†è§£ä¸ºï¼Œè¿™ä¸ªå€¼ä¸å¤ªç¡®å®æ˜¯å¦æ˜¯è¿™ä¸ªç±»å‹ï¼Œå¦‚æœä¸æ˜¯å°±ç»™ä¸ªnilå§ï¼›!å¯ä»¥ç†è§£ä¸ºï¼Œä¸€å®šè¦ç»™ä¸ªç±»å‹æˆ‘ï¼Œè¦ä¸è€å­åˆ†åˆ†é’ŸæŒ‚ç»™ä½ çœ‹äº†ã€‚ğŸ˜ ç©ºåˆè¿ç®—ç¬¦(Nil Coalescing Operator) ??è¿™ä¸ªæˆ‘åœ¨å…¶ä»–è¯­è¨€æ²¡è§è¿‡ã€‚e ?? f ç›¸å½“äº e != nil ? e! : fï¼Œ å¯é€‰ç±»å‹eä¸æ˜¯nilæ—¶ï¼Œå°±e!,å¦åˆ™ä¸ºfã€‚ 123var e: String?var f = "æˆ‘æ˜¯fuck"e ?? f // `e != nil ? e! : f` ï¼Œ å¯é€‰ç±»å‹`e`ä¸æ˜¯`nil`æ—¶ï¼Œå°±`e!`,å¦åˆ™ä¸º`f`ã€‚ï¼ˆæ³¨æ„`??`å‰åè¦ç©ºæ ¼ï¼‰]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 1 å‰è¨€å’Œç›®å½•]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-1.html</url>
    <content type="text"><![CDATA[è¿™æ˜¯æˆ‘å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„è®°å½•ï¼Œç« èŠ‚å’ŒåŸä¹¦ä¸åŒã€‚ å¼€å‘ç¯å¢ƒæ˜¯Xcode 8ï¼ŒSwift 3ï¼ŒiOS 10ã€‚ æˆ‘çš„ä»£ç åœ¨githubä¸Šï¼ŒandyRon/Beginning-iOS-Programming-with-Swift ç›®å½• å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 1 å‰è¨€å’Œç›®å½• å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 2 Hello Worldï¼ç¬¬ä¸€ä¸ªSwift APP å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 3 ä»‹ç»Auto Layout å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 4 ç”¨Stack Viewè®¾è®¡UI å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 5 åŸå‹çš„ä»‹ç» å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 6 åˆ›å»ºç®€å•çš„Table Based App å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 7 å®šåˆ¶Table Views å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 8 Table Viewå’ŒUIAlertControllerçš„äº¤äº’ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 9 Table Rowçš„åˆ é™¤, UITableViewRowActionå’ŒUIActivityViewControllerçš„ä½¿ç”¨ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 10 Navigation Controllerçš„ä»‹ç»å’ŒSegue å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 11 é¢å‘å¯¹è±¡ç¼–ç¨‹ä»‹ç» å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 12 ä¸°å¯ŒDetail Viewå’Œå®šåˆ¶åŒ–Navigation Bar å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 13 Self Sizing Cells and Dynamic Type å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 14 åŸºç¡€åŠ¨ç”»ï¼Œæ¨¡ç³Šæ•ˆæœå’ŒUnwind Segue å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 15 ä½¿ç”¨åœ°å›¾ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 16 ä»‹ç»é™æ€Table Viewsï¼ŒUIImagePickerControllerå’ŒNSLayoutConstraint å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 17 ä½¿ç”¨Core Data å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 18 Search Bar å’Œ UISearchController å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 19 ä½¿ç”¨UIPageViewControlleræ„å»ºä»‹ç»é¡µé¢ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 20 ä½¿ç”¨Tab Bar Controller å’Œ æ‹†åˆ†Storyboard å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 21 ä½¿ç”¨WKWebViewå’ŒSFSafariViewController å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 22 ä½¿ç”¨CloudKit å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 24 ä½¿ç”¨TestFlightè¿›è¡ŒBetaæµ‹è¯• å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 25 ä½¿ç”¨3D Touch å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 26 ä½¿ç”¨æœ¬åœ°ç”¨æˆ·é€šçŸ¥]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 8ï¼šä½¿ç”¨IBInspectable å’Œ IBDesignableå®šåˆ¶UI]]></title>
    <url>%2F2017%2Fios-tutorial-8-ibinspectable-ibdesignable.html</url>
    <content type="text"><![CDATA[ä¾‹å­ä»£ç ï¼šhttps://github.com/andyRon/LearniOSByProject/tree/master/P077-FancyButton ç†è§£IBInspectable å’Œ IBDesignableç®€å•åœ°è¯´ï¼ŒIBInspectable å°±æ˜¯å…è®¸å¼€å‘è€…åœ¨IBçš„å±æ€§æ£€æŸ¥å™¨ä¸­æ·»åŠ é¢å¤–çš„é€‰é¡¹ã€‚IBDesignable èƒ½å¤Ÿè®© IBInspectable æ·»åŠ çš„é¢å¤–é€‰é¡¹äº§ç”Ÿçš„å˜åŒ–åœ¨IBä¸­å®æ—¶æ˜¾ç¤ºã€‚ä»¥Buttonçš„åœ†è§’ä¸ºä¾‹è¯´æ˜ã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼ŒButtonçš„åœ†è§’éœ€è¦ä»£ç ï¼š12button.layer.cornerRadius = 10.0button.layer.masksToBounds = true æˆ–è€…ç›´æ¥åœ¨IBçš„Identityæ£€æŸ¥å™¨çš„ user defined runtime attributesä¸­æ·»åŠ ï¼š æ³¨æ„åˆ°ï¼Œè¿™ç§ä¿®æ”¹ä¸æ˜¯å®æ—¶ï¼Œåœ¨IBä¸­Buttonè¿˜æ˜¯ç›´è§’ï¼Œåªæœ‰è¿è¡Œåæ‰æ˜¯åœ†è§’ã€‚ ä»¥IBInspectableçš„æ–¹å¼ã€‚å®šä¹‰ä¸ªç»§æ‰¿è‡³UIButtonçš„ç±»ã€‚12345678class RoundedCornerButton: UIButton &#123; @IBInspectable var cornerRadius: CGFloat = 0.0 &#123; didSet &#123; layer.cornerRadius = cornerRadius layer.masksToBounds = cornerRadius &gt; 0 &#125; &#125;&#125; ç„¶åæŠŠbuttonçš„classå±æ€§ä¿®æ”¹æˆRoundedCornerButton: å‘ç°è¿™ä¸ªbuttonçš„å±æ€§æ£€æŸ¥å™¨ä¸­å¤šäº†Corner Radiusã€‚ æ³¨æ„ï¼š cornerRadiuså±æ€§å˜æˆäº†Corner Radiusï¼ŒRoundedCornerButtonç±»å˜æˆäº† Rounded Corner Buttonï¼Œè¿™æ˜¯Xcodeè‡ªåŠ¨è½¬å˜çš„ï¼Œå¼€å‘è€…åªéœ€è¦ä¾ç…§swiftçš„å‘½åè§„èŒƒå°±å¯ä»¥äº†ï¼ˆç±»åæ˜¯å¤§å†™å¼€å¤´çš„é©¼å³°å‘½åè§„åˆ™ï¼Œå±æ€§åæ˜¯å°å†™å¼€å¤´çš„é©¼å³°å‘½åè§„åˆ™ï¼‰ cornerRadiusçš„ç±»å‹æ˜¯CGFloatï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­å°±å¯¹åº”æ•°å­—çš„é€‰æ‹©ã€‚å½“ç„¶ä¸æ˜¯æ‰€æœ‰ç±»å‹éƒ½å¯ä»¥æ·»åŠ å±æ€§æ£€æŸ¥å™¨ä¸­çš„ï¼ŒIBInspectableæ”¯æŒå¦‚ä¸‹ç±»å‹ï¼š12345678910IntCGFloat Double String Bool CGPoint CGSize CGRect UIColor UIImage å¦‚æœåœ¨ç±»RoundedCornerButtonå‰æ·»åŠ @IBDesignableï¼Œé‚£åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­è‡ªå®šä¹‰çš„å±æ€§å˜åŒ–å°±å¯ä»¥åœ¨IBä¸­å®æ—¶æ˜¾ç¤ºäº†ã€‚12345678@IBDesignable class RoundedCornerButton: UIButton &#123; @IBInspectable var cornerRadius: CGFloat = 0.0 &#123; didSet &#123; layer.cornerRadius = cornerRadius layer.masksToBounds = cornerRadius &gt; 0 &#125; &#125;&#125; åˆ›å»ºFancy Buttonåˆ›å»ºFancy Buttonæ¥æ›´åŠ æ·±å…¥çš„äº†è§£IBInspectable å’Œ IBDesignable åˆ›å»ºæ–°é¡¹ç›®FancyButton ä¸‹è½½å›¾æ ‡ï¼Œä¹Ÿå¯ä»¥éšæ„å›¾æ ‡ï¼Œæ‹–è¿›asset catalog æ–°å»ºç±»FancyButtonï¼Œç»§æ‰¿è‡³UIButton åœ†è§’ï¼Œè¾¹å®½ï¼Œè¾¹çš„é¢œè‰²ã€‚ æ›´æ–°FancyButtonï¼š12345678910111213141516171819@IBDesignableclass FancyButton: UIButton &#123; @IBInspectable var cornerRadius: CGFloat = 0.0 &#123; didSet &#123; layer.cornerRadius = cornerRadius layer.masksToBounds = cornerRadius &gt; 0 &#125; &#125; @IBInspectable var borderWidth: CGFloat = 0.0 &#123; didSet &#123; layer.borderWidth = borderWidth &#125; &#125; @IBInspectable var borderColor: UIColor = .black &#123; didSet &#123; layer.borderColor = borderColor.cgColor &#125; &#125;&#125; Titleåœ¨FancyButtonç»§ç»­æ·»åŠ å±æ€§ï¼š1234567891011121314151617181920@IBInspectable var titleLeftPadding: CGFloat = 0.0 &#123; didSet &#123; titleEdgeInsets.left = titleLeftPadding &#125;&#125;@IBInspectable var titleRightPadding: CGFloat = 0.0 &#123; didSet &#123; titleEdgeInsets.right = titleRightPadding &#125;&#125;@IBInspectable var titleTopPadding: CGFloat = 0.0 &#123; didSet &#123; titleEdgeInsets.top = titleTopPadding &#125;&#125;@IBInspectable var titleBottomPadding: CGFloat = 0.0 &#123; didSet &#123; titleEdgeInsets.bottom = titleBottomPadding &#125;&#125; é€šè¿‡åœ†è§’å¯åˆ›å»ºåœ†å½¢button Image Paddingæ·»åŠ å›¾ç‰‡è¾¹è·çš„å±æ€§ï¼š123456789101112131415161718192021@IBInspectable var imageLeftPadding: CGFloat = 0.0 &#123; didSet &#123; imageEdgeInsets.left = imageLeftPadding &#125;&#125;@IBInspectable var imageRightPadding: CGFloat = 0.0 &#123; didSet &#123; imageEdgeInsets.right = imageRightPadding &#125;&#125;@IBInspectable var imageTopPadding: CGFloat = 0.0 &#123; didSet &#123; imageEdgeInsets.top = imageTopPadding &#125;&#125;@IBInspectable var imageBottomPadding: CGFloat = 0.0 &#123; didSet &#123; imageEdgeInsets.bottom = imageBottomPadding &#125;&#125; å›¾ç‰‡é å³å¯¹é½æ ¹æ®ä¸‹å›¾å…³ç³»ï¼Œåº”æœ‰imageEdgeInsets.left = self.bounds.width - imageView.bounds.width - imageRightPaddingã€‚ åœ¨FancyButtonä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123456789@IBInspectable var enableImageRightAligned: Bool = falseoverride func layoutSubviews() &#123; super.layoutSubviews() if enableImageRightAligned, let imageView = imageView &#123; imageEdgeInsets.left = self.bounds.width - imageView.bounds.width - imageRightPadding &#125;&#125; + `enableImageRightAligned`å±æ€§åˆæ¥è‡ªåŠ¨è®¡ç®— `imageEdgeInsets.left` é¢œè‰²æ¸å˜æ·»åŠ ä¸‰ä¸ª@IBInspectableå±æ€§ï¼Œå¹¶æ›´æ–°layoutSubviews:1234567891011121314151617181920@IBInspectable var enableGradientBackground: Bool = false@IBInspectable var gradientColor1: UIColor = UIColor.black@IBInspectable var gradientColor2: UIColor = UIColor.whiteoverride func layoutSubviews() &#123; super.layoutSubviews() if enableImageRightAligned, let imageView = imageView &#123; imageEdgeInsets.left = self.bounds.width - imageView.bounds.width - imageRightPadding &#125; if enableGradientBackground &#123; let gradientLayer = CAGradientLayer() gradientLayer.frame = self.bounds gradientLayer.colors = [gradientColor1.cgColor, gradientColor2.cgColor] gradientLayer.startPoint = CGPoint(x: 0.0, y: 0.5) gradientLayer.endPoint = CGPoint(x: 1.0, y: 0.5) self.layer.insertSublayer(gradientLayer, at: 0) &#125;&#125; æ¸å˜è‰²éœ€è¦è¿è¡Œåæ‰èƒ½çœ‹åˆ° å‚è€ƒï¼šappcodeç½‘ç«™çš„ä¹¦ã€ŠIntermediate iOS Programming with Swiftã€‹ çš„Chapter 36]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSæœ¬åœ°åŒ–(swift)]]></title>
    <url>%2F2017%2Fios-localize.html</url>
    <content type="text"><![CDATA[ç¤ºä¾‹ä»£ç åœ¨githubä¸ŠlocalizationsDemo 1 é¡¹ç›®ä¸­éœ€è¦é…ç½®çš„è¯­è¨€è¿™å°±æ˜¯é¡¹ç›®ä¸­å…¶ä»–ä¸åŒå½¢å¼æœ¬åœ°åŒ–å¯ä»¥æ·»åŠ çš„è¯­ç§è®¾ç½®ã€‚ å¦‚ä¸‹å›¾ä¸ºé¡¹ç›®æ·»åŠ ä¸åŒè¯­ç§ å¼¹æ¡†ä¸­æ˜¾ç¤ºè¦ä¸ºä¸¤ä¸ªStoryboardæ–‡ä»¶æ·»åŠ è¯­ç§ä¿¡æ¯ æ·»åŠ å®Œå¤šè¯­ç§åï¼Œç›¸å…³éœ€è¦æœ¬åœ°åŒ–çš„æ–‡ä»¶ä¼šäº§ç”Ÿä¸€ç»„æ–‡ä»¶ å®é™…åœ¨ç›®å½•ç»“æ„ä¸­æ˜¯æ ¹æ®ä¸åŒè¯­è¨€ç”Ÿæˆä¸åŒçš„*.lprojç›®å½•ï¼Œå†åœ¨*.lprojç›®å½•ä¸­ç”Ÿæˆäº†ä¸åŒçš„.stringsæ–‡ä»¶ã€‚ 2 åº”ç”¨åç§°æœ¬åœ°åŒ–Appçš„åç§°åœ¨ä¸åŒè¯­ç§ä¸‹æ˜¾ç¤ºä¸åŒã€‚ æ–°å»ºä¸€ä¸ª.stringsæ–‡ä»¶ï¼Œåä¸ºInfoPlist.stringsã€‚ é€‰ä¸­InfoPlist.stringsï¼Œåœ¨å³ä¾§çš„æ–‡ä»¶æ£€æŸ¥å™¨ä¸­ç‚¹å‡»Localizeï¼Œåœ¨å¼¹æ¡†ä¸­å¯ä»¥é€‰æ‹©è¯­ç§ï¼Œå¯¹åº”é¡¹ç›®ä¸­éœ€è¦é…ç½®çš„è¯­è¨€ä¸­é…ç½®çš„è¯­ç§ã€‚ å¯é€‰ä¸­éœ€è¦æœ¬åœ°åŒ–çš„åº”ç”¨åç§°çš„è¯­ç§ï¼š åœ¨InfoPlist.stringsçš„ä¸åŒè¯­ç§æ–‡ä»¶ä¸­æ·»åŠ å­—æ®µCFBundleDisplayNameï¼Œè¡¨ç¤ºåº”ç”¨çš„åç§°ã€‚CFBundleDisplayName = &quot;ç®€ä½“ä¸­æ–‡åç§°&quot;; åœ¨æ¨¡æ‹Ÿå™¨ä¸­ï¼Œå¯é€šè¿‡Edit Scheme...ç¼–è¾‘è¯­ç§ï¼š 3 ä»£ç ä¸­çš„å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–ç±»ä¼¼åº”ç”¨åç§°æœ¬åœ°åŒ–ï¼Œä»£ç ä¸­çš„å­—ç¬¦ä¸²çš„æœ¬åœ°ä¹Ÿæ˜¯åˆ©ç”¨.stringsæ–‡ä»¶å­˜å‚¨ç¿»è¯‘ä¿¡æ¯ã€‚ç„¶åå†åœ¨ä»£ç ä¸­åˆ©ç”¨NSLocalizedStringï¼ˆç¿»è¯‘ä¿¡æ¯é»˜è®¤åœ¨Localizable.stringsæ–‡ä»¶ï¼‰æˆ–NSLocalizedString(_:tableName:bundle:value:comment:)ï¼ˆç¿»è¯‘ä¿¡æ¯åœ¨tableNameå¯¹åº”çš„.stringsæ–‡ä»¶ï¼‰æ–‡ä»¶æ ‡æ³¨ã€‚ NSLocalizedString(_:tableName:bundle:value:comment:)è¿™ç§æ–¹å¼å¯æ ¹æ®éœ€è¦æŠŠç¿»è¯‘ä¿¡æ¯ä¿å­˜åœ¨è‡ªå®šä¹‰çš„æ–‡ä»¶ä¸­ï¼Œåœ¨å¤šäººå¼€å‘æ—¶å¯ä»¥å¾ˆå¥½çš„é˜²æ­¢å†²çªã€‚ æ–°å»ºä¸€ä¸ªåä¸ºLocalizable.stringsçš„.stringsæ–‡ä»¶ã€‚ ç±»ä¼¼InfoPlist.stringsæ–‡ä»¶çš„é…ç½®æ–¹å¼ï¼Œé…ç½®ä¸åŒè¯­ç§ã€‚ åœ¨ä»£ç ä¸­éœ€è¦æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ä¿®æ”¹ä¸ºç±»ä¼¼NSLocalizedString(&quot;labelName&quot;, comment: &quot;Label&quot;)æˆ–NSLocalizedString(&quot;labelName&quot;, tableName: &quot;andy&quot;, bundle: Bundle.main, value: &quot;&quot;, comment: &quot;Label&quot;) 4 å›¾ç‰‡çš„æœ¬åœ°åŒ–è¿™è¾¹æ‰€è¯´çš„å›¾ç‰‡çš„æœ¬åœ°åŒ–å°±æ˜¯æŒ‡ï¼ŒåŒä¸€ä¸ªåç§°å›¾ç‰‡ï¼Œåœ¨ä¸åŒè¯­ç§ä¸‹æ˜¾ç¤ºä¸åŒå›¾ç‰‡ã€‚ éšæ„æ·»åŠ ä¸€å¼ å›¾ç‰‡åˆ°é¡¹ç›®ï¼Œæ¯”å¦‚Swift_Logo.png é€‰ä¸­ä¸Šé¢çš„å›¾ç‰‡ï¼Œåœ¨å³ä¾§çš„æ–‡ä»¶æ£€æŸ¥å™¨ä¸­ç‚¹å‡»Localizeï¼Œç±»ä¼¼ä¹‹å‰çš„åšæ³•ï¼Œæ·»åŠ æ‰€éœ€çš„ä¸åŒè¯­ç§ã€‚ åœ¨Finderä¸­çš„ä¸åŒè¯­ç§çš„*.lprojç›®å½•ä¸­æ·»åŠ ï¼Œç›¸åŒåå­—ä½†ä¸åŒçš„å›¾ç‰‡ åœ¨ä»£ç ä¸­æ·»åŠ ç±»ä¼¼çš„ä»£ç ï¼š self.imageView.image = UIImage(named: NSLocalizedString(&quot;Swift_Logo&quot;, comment: &quot;&quot;)) æœ€åçš„è‹±æ–‡ä¸­çš„çŠ¶æ€ç»“æœä¸ºï¼š 5 ä¼˜åŒ–æœ¬åœ°åŒ–ä»£ç ä¹¦å†™æ–¹å¼æœ¬åœ°åŒ–æ—¶ï¼ŒNSLocalizedString(&quot;labelName&quot;, comment: &quot;Label&quot;)æˆ–NSLocalizedString(&quot;labelName&quot;, tableName: &quot;andy&quot;, bundle: Bundle.main, value: &quot;&quot;, comment: &quot;Label&quot;)è¿™ä¸¤ç§æ–¹æ³•ä»£ç å†™æ³•æœ‰ç‚¹ç¹çï¼Œå‚è€ƒstackoverflowä¸­ä¸€ä¸ªé—®é¢˜Whatâ€™s NSLocalizedString equivalent in Swift?Askçš„ä¸€ä¸ªç­”æ¡ˆï¼Œæ‰©å±•ä¸€ä¸‹Stringï¼š12345678910111213extension String &#123; var localized: String &#123; return NSLocalizedString(self, tableName: nil, bundle: Bundle.main, value: "", comment: "") &#125; func localized(withComment:String) -&gt; String &#123; return NSLocalizedString(self, tableName: nil, bundle: Bundle.main, value: "", comment: withComment) &#125; func localized(tableName: String) -&gt; String&#123; return NSLocalizedString(self, tableName: tableName, bundle: Bundle.main, value: "", comment: "") &#125;&#125; ç„¶åï¼ŒåŸæœ¬ä¸‹é¢çš„å†™æ³•ï¼š123self.label.text = NSLocalizedString("labelName", comment: "Label")self.label2.text = NSLocalizedString("labelName", tableName: "andy", bundle: Bundle.main, value: "", comment: "Label")self.imageView.image = UIImage(named: NSLocalizedString("Swift_Logo", comment: "")) å°±å¯ä»¥å†™æˆï¼š123self.label.text = "labelName".localizedself.label2.text = "labelName".localized(tableName: "andy")self.imageView.image = UIImage(named: "Swift_Logo".localized) å‚è€ƒï¼šã€iOSã€‘æµ…è°ˆå¤šè¯­è¨€æœ¬åœ°åŒ–(å›½é™…åŒ–)3åˆ†é’Ÿå®ç°iOSè¯­è¨€æœ¬åœ°åŒ–/å›½é™…åŒ–ï¼ˆå›¾æ–‡è¯¦è§£ï¼‰Whatâ€™s NSLocalizedString equivalent in Swift?Ask]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>NSLocalizedString</tag>
        <tag>InfoPlist.strings</tag>
        <tag>æœ¬åœ°åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DownGitï¼šæ€ä¹ˆä¸‹è½½githubä¸­æŸä¸ªæ–‡ä»¶å¤¹ï¼Ÿ]]></title>
    <url>%2F2017%2Fdowngit.html</url>
    <content type="text"><![CDATA[æ€ä¹ˆä¸‹è½½githubä¸­æŸä¸ªæ–‡ä»¶å¤¹ï¼Ÿ githubåªæä¾›äº†æ•´ä¸ªé¡¹ç›®ä¸‹è½½ã€‚ä¸‹è½½ä¸€ä¸ªé¡¹ç›®ä¸­çš„æŸä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œè¿™ç§éœ€æ±‚åœ¨ä½¿ç”¨githubæ—¶ï¼Œè¿˜æ˜¯ç»å¸¸ä½¿ç”¨çš„ã€‚ æ¯”å¦‚ï¼šåœ¨ä¸€äº›å¤§çš„é¡¹ç›®ä¸‹ï¼Œåªæƒ³çœ‹æŸä¸ªæ–‡ä»¶çš„å†…å®¹æ—¶ã€‚åˆæ¯”å¦‚ï¼Œåƒæˆ‘è¿™ç§andyRon/LearniOSByProjectï¼Œå°±æ˜¯æˆ‘ä¸€äº›å­¦ä¹ iOSçš„å°é¡¹ç›®æˆ–è€…Demoçš„é›†åˆï¼Œå¦‚æœåªæƒ³æŸ¥çœ‹æŸä¸ªå°é¡¹ç›®ï¼Œè€Œä¸ä¸‹è½½æ•´ä¸ªé¡¹ç›®æ—¶ã€‚ æ–¹æ³•å¾ˆç®€å•ï¼Œæ—©å°±æœ‰å‰è¾ˆæƒ³åˆ°äº†ï¼ŒDownGitè¿™ä¸ªç½‘ç«™å°±æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Œåªè¦æŠŠç›®å½•é“¾æ¥ï¼ˆæ¯”å¦‚ï¼šhttps://github.com/andyRon/LearniOSByProject/tree/master/76ï¼‰æ‹·è´ï¼Œç„¶åç‚¹å‡»downloadå°±å¯ä»¥ä¸‹è½½ç›®å½•çš„å‹ç¼©æ–‡ä»¶ã€‚]]></content>
      <categories>
        <category>æš‚æ—¶æ²¡æƒ³åˆ°æ€ä¹ˆåˆ†ç±»</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 7ï¼šå†…å­˜ç®¡ç†]]></title>
    <url>%2F2017%2Foc-basic-7.html</url>
    <content type="text"><![CDATA[1 å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ è¯ç”Ÿï¼ˆé€šè¿‡allocæˆ–newæ–¹æ³•å®ç°ï¼‰ -&gt; ç”Ÿå­˜ï¼ˆæ¥æ”¶æ¶ˆæ¯å¹¶æ‰§è¡Œæ“ä½œï¼‰ -&gt; äº¤å‹ï¼ˆé€šè¿‡å¤åˆä»¥åŠå‘æ–¹æ³•ä¼ é€’å‚æ•°ï¼‰ -&gt; æ­»å»ï¼ˆè¢«é‡Šæ”¾æ‰ï¼‰ å¼•ç”¨è®¡æ•°(reference counting) / ä¿ç•™è®¡æ•°(retain counting) alloc, new, copy: åˆ›å»ºå¯¹è±¡ï¼Œä¿ç•™è®¡æ•°è¢«è®¾ç½®ä¸º1 retain: ä¿ç•™è®¡æ•°åŠ 1ã€‚å¦‚[[car retain] setTire: tire atIndex:2];è¡¨ç¤ºè¦æ±‚carå¯¹è±¡å°†å…¶ä¿ç•™è®¡æ•°çš„å€¼åŠ 1å¹¶æ‰§è¡ŒsetTireæ“ä½œã€‚ release: ä¿ç•™è®¡æ•°å‡1 dealloc: ä¿ç•™è®¡æ•°å½’0æ—¶è‡ªåŠ¨è°ƒç”¨ retainCount: è·å¾—å¯¹è±¡ä¿ç•™è®¡æ•°å½“å‰å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#import &lt;Foundation/Foundation.h&gt;@interface RetainTracker : NSObject@end@implementation RetainTracker- (id) init&#123; if (self = [super init]) &#123; NSLog(@&quot;init: Retain count of %lu .&quot;, [self retainCount]); &#125; return self;&#125; // init- (void)dealloc&#123; NSLog(@&quot;dealloc called. Bye Bye.&quot;); [super dealloc];&#125; // dealloc@end // RetainTrackerint main(int argc, const char * argv[]) &#123; RetainTracker *a = [RetainTracker new]; [a retain]; NSLog(@&quot;%lu&quot;, [a retainCount]); [a retain]; NSLog(@&quot;%lu&quot;, [a retainCount]); [a release]; NSLog(@&quot;%lu&quot;, [a retainCount]); [a release]; NSLog(@&quot;%lu&quot;, [a retainCount]); [a release]; NSLog(@&quot;%lu&quot;, [a retainCount]); // ä¸ºä»€ä¹ˆæ­¤å¤„æ˜¯ 1 ä¸æ˜¯ 0å—ï¼Ÿ return 0;&#125; å¯¹è±¡æ‰€æœ‰æƒ(object ownership)å¦‚æœä¸€ä¸ªå¯¹è±¡å†…æœ‰æŒ‡å‘å…¶ä»–å¯¹è±¡çš„å®ä¾‹å˜é‡ï¼Œåˆ™ç§° è¯¥å¯¹è±¡æ‹¥æœ‰è¿™äº›å¯¹è±¡ã€‚ è®¿é—®æ–¹æ³•ä¸­çš„ä¿ç•™å’Œé‡Šæ”¾æ‰€æœ‰å¯¹è±¡æ”¾å…¥æ± ä¸­ @autoreleasepool/NSAutoreleasePoolï¼š è‡ªåŠ¨é‡Šæ”¾æ±  NSObjectæä¾›autoreleaseæ–¹æ³•ï¼š- (id) autorelease; 2 Cocoaçš„å†…å­˜ç®¡ç†è§„åˆ™ 3 å¼‚å¸¸ä¸å¼‚å¸¸æœ‰å…³çš„å…³é”®å­— @try @catch @finally @throw æ•æ‰ä¸åŒç±»å‹çš„å¼‚å¸¸123456@try &#123;&#125; @catch (MyCustomException *custom) &#123;&#125; @catch (NSException *exception) &#123;&#125; @catch (id value) &#123;&#125; @finally &#123;&#125; æŠ›å‡ºå¼‚å¸¸æŠ›å‡ºå¼‚å¸¸çš„ä¸¤ç§æ–¹å¼ï¼š @throwå¼‚å¸¸å å‘æŸä¸ªNSExceptionå¯¹è±¡å‘é€raiseæ¶ˆæ¯1234NSException *theException = [NSException exceptionWithName: ...];@throw theException;[theException raise]; åŒºåˆ«ï¼šraiseåªå¯¹NSExceptionå¯¹è±¡æœ‰æ•ˆï¼Œ@throwå¼‚å¸¸åå¯ç”¨åœ¨å…¶ä»–å¯¹è±¡ä¸Šã€‚ å¼‚å¸¸ä¹Ÿéœ€è¦å†…å­˜ç®¡ç†å¼‚å¸¸å’Œè‡ªåŠ¨é‡Šæ”¾æ± ]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Carthageçš„ä½¿ç”¨]]></title>
    <url>%2F2017%2Fcarthage-introduce.html</url>
    <content type="text"><![CDATA[Carthageä¸CocoaPodsçš„ç®€å•æ¯”è¾ƒ CocoaPods çš„ä¼˜åŠ¿ï¼š ä½¿ç”¨æ–¹ä¾¿ï¼Œé™¤ç¼–å†™ Podfile ä»¥å¤–å…¶ä»–å‡ ä¹éƒ½æ˜¯è‡ªåŠ¨å®Œæˆï¼› è½¯ä»¶åŒ…æ•°é‡å¤šï¼Œä¸»æµæ”¯æŒï¼› CocoaPods çš„ç¼ºç‚¹ï¼š æ¯æ¬¡æ›´æ–°ç¯å¢ƒéƒ½éœ€è¦è¿æ¥åˆ°ä¸­å¿ƒä»“åº“ï¼Œæ¯”è¾ƒè€—æ—¶ï¼› å¼€å‘è€…ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¦‚æœåˆ›å»ºå…¼å®¹ CocoaPods çš„åº“ï¼Œå°±ä¼šç›¸å¯¹ç¹çä¸€äº›ï¼ˆå°½ç®¡æœ‰äº†å‘½ä»¤è¡Œï¼‰ï¼› æ¯æ¬¡å¹²å‡€ç¼–è¯‘éƒ½ä¼šæŠŠæ‰€æœ‰ç¬¬ä¸‰æ–¹åº“éƒ½é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼ˆçœ‹ä¼¼å¾ˆæ­£ç¡®ï¼Œç›´åˆ°æˆ‘é‡è§ Carthageâ€¦ï¼‰ Carthage çš„ä¼˜åŠ¿ ç¬¬ä¸‰æ–¹åº“ä¸æ˜¯æ¯ä¸€æ¬¡éƒ½é‡æ–°ç¼–è¯‘ï¼ŒèŠ‚çœæ—¶é—´ï¼› å»ä¸­å¿ƒåŒ–ï¼Œæ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡é…ç½®å’Œæ›´æ–°ç¯å¢ƒï¼Œåªä¼šå»æ›´æ–°å…·ä½“çš„åº“ï¼Œè€Œä¸ä¼šæœ‰ä¸€ä¸ªå‘ä¸­å¿ƒæœåŠ¡å™¨è·å–æœ€æ–°åº“çš„ç´¢å¼•è¿™ä¹ˆä¸ªè¿‡ç¨‹ï¼ŒèŠ‚çœæ—¶é—´ï¼› ä¸ CocoaPods æ— ç¼é›†æˆï¼› ç»“æ„æ ‡å‡†çš„é¡¹ç›®å¤©ç„¶å°±æ˜¯ Carthage åº“ï¼› å®‰è£…Carthagebrew install carthage ä½¿ç”¨Carthage è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚å»ºç«‹æ–°é¡¹ç›® carthageDemo åˆ›å»ºç©ºæ–‡ä»¶Cartfileï¼Œå‘½ä»¤ï¼štouch Cartfile ç¼–è¾‘Cartfileæ–‡ä»¶(xcodeï¼Œæˆ–å…¶å®ƒæ–‡æœ¬ç¼–è¾‘å™¨)ï¼Œä»¥SVProgressHUDä¸ºä¾‹ï¼ŒCartfileæ–‡ä»¶å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š 1github &quot;SVProgressHUD/SVProgressHUD&quot; ~&gt; 1.0 Cartfileæ–‡ä»¶æ ¼å¼è¯´æ˜: ä¾èµ–æºæœ‰ä¸¤ç§ï¼Œgithubå’Œgitï¼Œå°±æ˜¯å‘Šè¯‰ Carthageåˆ°å“ªé‡Œä¸‹è½½ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å­å¦‚ä¸‹ï¼š1234567891011121314151617181920212223# Require version 2.3.1 or latergithub &quot;ReactiveCocoa/ReactiveCocoa&quot; &gt;= 2.3.1# Require version 1.xgithub &quot;Mantle/Mantle&quot; ~&gt; 1.0 # (1.0 or later, but less than 2.0)# Require exactly version 0.4.1github &quot;jspahrsummers/libextobjc&quot; == 0.4.1# Use the latest versiongithub &quot;jspahrsummers/xcconfigs&quot;# Use the branchgithub &quot;jspahrsummers/xcconfigs&quot; &quot;branch&quot;# Use a project from GitHub Enterprisegithub &quot;https://enterprise.local/ghe/desktop/git-error-translations&quot;# Use a project from any arbitrary server, on the &quot;development&quot; branchgit &quot;https://enterprise.local/desktop/git-error-translations2.git&quot; &quot;development&quot;# Use a local projectgit &quot;file:///directory/to/project&quot; &quot;branch&quot; ä»ä¸Šé¢çš„ä¾‹å­ä¸­æœ‰å¾ˆè¯¦ç»†çš„ç‰ˆæœ¬å·ä¾‹å­ï¼š == 1.0 ä½¿ç”¨1.0ç‰ˆæœ¬ &gt;= 1.0 ä½¿ç”¨1.0æˆ–æ›´é«˜çš„ç‰ˆæœ¬ ~&gt; 1.0 ä½¿ç”¨é«˜äº1.0ä½†ä½äº2.0çš„æœ€æ–°ç‰ˆæœ¬ æ²¡æœ‰çš„æ˜¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ branchåç§°/tagåç§°/commitåç§° ä½¿ç”¨ç‰¹å®šåˆ†æ”¯/æ ‡ç­¾/æäº¤ç‰ˆæœ¬ è¿è¡ŒCarthage carthage update [--platform iOS]--platform iOSæ˜¯é’ˆå¯¹iOSçš„ï¼Œå¯é€‰é¡¹ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªCartfile.resolvedæ–‡ä»¶å’ŒCarthageæ–‡ä»¶å¤¹ï¼ŒCarthageæ–‡ä»¶å¤¹ä¸­çš„Buildç›®å½•ä¸‹æœ‰ç¼–è¯‘å¥½çš„frameworkæ–‡ä»¶ï¼ŒCheckoutsç›®å½•ç¬¬ä¸‰åº“çš„æºæ–‡ä»¶ã€‚ æŠŠåº“æ·»åŠ åˆ°é¡¹ç›®ä¸­ æŠŠç¼–è¯‘å¥½çš„frameworkæ–‡ä»¶æ‹–åŠ¨åˆ°Linked Frameworks and Librariesæˆ–è€…ç‚¹å‡»+é€‰æ‹©ã€‚ åœ¨Build Phasesä¸­æ·»åŠ ä¸€ä¸ªRun Scriptã€‚å‘½ä»¤ä¸º /usr/local/bin/carthage copy-frameworksã€‚Input Filesä¸‹çš„æ¡ç›®ä¸º$(SRCROOT)/Carthage/Build/iOS/SVProgressHUD.frameworkã€‚å…·ä½“æ“ä½œå¦‚ä¸‹å›¾ï¼š ç¼–è¯‘å°±å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“äº† å…¶ä»– æ–°åŠ åº“æ—¶åœ¨Cartfileæ–‡ä»¶ä¸­æ·»åŠ åï¼Œç„¶åæ“ä½œç±»ä¼¼ä¸Šé¢çš„ æ›´æ–°æŒ‡å®šåº“ï¼šcarthage update SVProgressHUD --platform iOS å‚è€ƒï¼šCarthageçš„å®‰è£…å’Œä½¿ç”¨ã€è¯‘ã€‘Carthageçš„ä½¿ç”¨Carthage åˆæ¢ï¼šå››å¤§ä¼˜åŠ¿ä¸å››å¤§åŠ£åŠ¿Carthageå®˜æ–¹åœ°å€]]></content>
      <categories>
        <category>iOS</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>Carthage</tag>
        <tag>CocoaPods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 26 ä½¿ç”¨æœ¬åœ°ç”¨æˆ·é€šçŸ¥]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-26.html</url>
    <content type="text"><![CDATA[iOS 10 ä¹‹å‰ç”¨æˆ·é€šçŸ¥ç›¸å¯¹è€Œè¨€æ˜¯ç®€å•çš„ï¼ŒiOS 10è®©ç”¨æˆ·é€šçŸ¥æ›´åŠ ä¸°å¯Œäº†ï¼Œå¯ä»¥æœ‰é™æ€å›¾ç‰‡ï¼ŒåŠ¨æ€gifï¼Œè§†é¢‘ï¼ŒéŸ³é¢‘ç­‰ã€‚ ç”¨æˆ·é€šçŸ¥å¯ä»¥å‡ºç°åœ¨é€šçŸ¥ä¸­å¿ƒï¼Œä¸»å±ï¼Œé”å±æ—¶ï¼Œå½“ç”¨æˆ·é”™è¿‡äº†ç”¨æˆ·é€šçŸ¥æ—¶ï¼Œå¯ä»¥åœ¨é€šçŸ¥ä¸­å¿ƒæŸ¥çœ‹ã€‚ ç”¨æˆ·é€šçŸ¥åˆ†ä¸ºä¸¤ç±»ï¼š æœ¬åœ°é€šçŸ¥ã€‚ æ˜¯é€šè¿‡åº”ç”¨æœ¬èº«å’Œç”¨æˆ·è®¾å¤‡æœ¬èº«è§¦å‘çš„ã€‚æ¯”å¦‚ï¼šåŸºäºç”¨æˆ·ä½ç½®çš„appï¼Œåœ¨ç”¨æˆ·è¿›å…¥æŸä¸ªç‰¹æ®ŠåŒºåŸŸå‘é€é€šçŸ¥ï¼›to-do listçš„appåœ¨æŸäº›ç‰¹å®šæ—¶é—´å‘é€é€šçŸ¥ã€‚ è¿œç¨‹é€šçŸ¥ã€‚ æ˜¯è¿œç¨‹æœåŠ¡å™¨ç«¯é¦–å…ˆå‘è‹¹æœæ¨é€æœåŠ¡å™¨ï¼ˆApple Push Notification Service ï¼ŒAPNSï¼‰å‘é€ï¼Œç„¶åå†ç»è¿‡APNSæ¨é€é€šçŸ¥åˆ°ç”¨æˆ·è®¾å¤‡ã€‚ è¿™ä¸€ç¯‡åªè®¨è®ºæœ¬åœ°é€šçŸ¥ã€‚ ä¸‰ç§ä¸åŒè§¦å‘çš„æœ¬åœ°é€šçŸ¥ï¼š ç‰¹å®šæ•°é‡çš„æ—¶é—´ã€‚ æ¯”å¦‚æ˜¯10åˆ†é’Ÿåã€‚ ç‰¹å®šæ—¥æœŸå’Œæ—¶é—´ç‚¹ã€‚ ç‰¹å®šä½ç½®ã€‚ è¯¢é—®ç”¨æˆ·æˆæƒå‘ç”¨æˆ·å‘é€é€šçŸ¥æ˜¯è¦å¾—åˆ°ç”¨æˆ·å…è®¸çš„ã€‚ åœ¨AppDelegate.swiftä¸­æ·»åŠ  import UserNotifications åœ¨application(_:didFinishLaunchingWithOptions:)æ–¹æ³•ä¸­æ·»åŠ æˆæƒ12345678UNUserNotificationCenter.current().requestAuthorization(options: [.alert, .sound, .badge], completionHandler: &#123; (granted, error) in if granted &#123; print(&quot;User notifications are allowed.&quot;) &#125; else &#123; print(&quot;User notifications are not allowed.&quot;) &#125;&#125;) åˆ›å»ºé€šçŸ¥é€šçŸ¥çš„ä¸€èˆ¬ç»“æ„ï¼š é€šçŸ¥ç”¨UNMutableNotificationContentç±»æ¥è¡¨ç¤ºã€‚ åœ¨RestaurantTableViewControllerä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³• 12345678910111213141516171819202122func prepareNotification() &#123; // Make sure the restaurant array is not empty if restaurants.count &lt;= 0 &#123; return &#125; // 1 let randomNum = Int(arc4random_uniform(UInt32(restaurants.count))) let suggestedRestaurant = restaurants[randomNum] // 2 let content = UNMutableNotificationContent() content.title = &quot;Restaurant Recommendation&quot; content.subtitle = &quot;Try new food today&quot; content.body = &quot;I recommend you to check out \(suggestedRestaurant.name!).The restaurant is one of your favorites. It is located at \(suggestedRestaurant.location!). Would you like to give it a try?&quot; content.sound = UNNotificationSound.default() // 3 let trigger = UNTimeIntervalNotificationTrigger(timeInterval: 10, repeats: false) let request = UNNotificationRequest(identifier: &quot;foodpin.restaurantSuggestion&quot;, content: content, trigger: trigger) // Schedule the notification UNUserNotificationCenter.current().add(request, withCompletionHandler: nil) &#125; 1 è·å¾—ä¸€ä¸ªéšæœºçš„restaurant 2 é€šè¿‡UNMutableNotificationContentè·å¾—ä¸€ä¸ªé€šçŸ¥ï¼Œé…ç½®å‚æ•°ï¼Œsoundè¡¨ç¤ºéœ€è¦é€šçŸ¥å£°éŸ³ã€‚ 3 UNTimeIntervalNotificationTriggeræ˜¯ä¸€ä¸ªæ—¶é—´è§¦å‘ï¼Œä¸ºäº†å¥½æµ‹è¯•ï¼Œè¡¨ç¤º10såé€šçŸ¥ä¸€æ¬¡ã€‚ åœ¨viewDidLoadä¸­å®ç°ä¸Šé¢å‡½æ•°ã€‚prepareNotification() ç°åœ¨è¿è¡Œï¼Œæ³¨æ„åœ¨åº”ç”¨å†…æ˜¯ä¸èƒ½æ¥å—æœ¬åº”ç”¨é€šçŸ¥ï¼Œæ‰€ä»¥è¿è¡Œåç«‹å³è¿›å…¥ä¸»å±æˆ–é”å±ã€‚é€šçŸ¥æœ¬èº«æœ‰é«˜åº¦é™åˆ¶ï¼Œå†…å®¹è¿‡é•¿ä¼šä¸æ˜¾ç¤ºï¼Œåªè¦å‘ä¸‹æ»‘åŠ¨å°±å¯ä»¥æ˜¾ç¤ºå®Œæ•´ã€‚ å‘é€šçŸ¥ä¸­æ·»åŠ å›¾ç‰‡å›¾ç‰‡ç­‰å¯Œæ–‡æœ¬å†…å®¹é€šè¿‡UNMutableNotificationContentçš„attachmentså±æ€§æ·»åŠ ï¼Œattachmentså±æ€§æ˜¯UNNotificationAttachmentçš„æ•°ç»„ã€‚UNNotificationAttachmentå¯ä»¥æ˜¯å›¾ç‰‡ã€éŸ³é¢‘ã€éŸ³æ•ˆã€è§†é¢‘æ–‡ä»¶ã€‚ åœ¨prepareNotificationä¸­çš„è§¦å‘ä¹‹å‰æ·»åŠ ä»£ç ï¼š 123456789101112// 1let tempDirURL = URL(fileURLWithPath: NSTemporaryDirectory(), isDirectory: true)let tempFileURL = tempDirURL.appendingPathComponent(&quot;suggested-restaurant.jpg&quot;)if let image = UIImage(data: suggestedRestaurant.image! as Data) &#123; // 2 try? UIImageJPEGRepresentation(image, 1.0)?.write(to: tempFileURL) if let restaurantImage = try? UNNotificationAttachment(identifier: &quot;restaurantImage&quot;, url: tempFileURL, options: nil) &#123; content.attachments = [restaurantImage] &#125;&#125; 1 ç”±äºä½¿ç”¨Core Dataï¼Œå›¾ç‰‡ä»¥NSDataå½¢å¼å­˜å‚¨äº†ï¼Œæ‰€ä»¥ä½¿ç”¨NSTemporaryDirectoryæ¥ç”Ÿæˆä¸´æ—¶ç›®å½•å­˜å‚¨ä¸´æ—¶å›¾ç‰‡æ–‡ä»¶ 2 UIImageJPEGRepresentationç”¨æ¥ç”Ÿæˆjpgå›¾ç‰‡æ–‡ä»¶ è¿è¡ŒæŸ¥çœ‹ï¼ŒåŒæ ·å‘ä¸‹æ»‘åŠ¨å¯æŸ¥çœ‹å®Œæ•´ã€‚ å’Œé€šçŸ¥çš„äº¤äº’ä¹‹å‰åªè¦ç‚¹å‡»é€šçŸ¥è¿›å…¥åº”ç”¨çš„äº¤äº’ï¼Œè¿™æ˜¯é»˜è®¤çš„äº¤äº’ã€‚ åœ¨prepareNotificationä¸­çš„è§¦å‘ä¹‹å‰æ·»åŠ ä»£ç ï¼š 123456789101112 // 1let categoryIdentifer = &quot;foodpin.restaurantaction&quot;// 3let makeReservationAction = UNNotificationAction(identifier: &quot;foodpin.makeReservation&quot;, title: &quot;Reserve a table&quot;, options: [.foreground])let cancelAction = UNNotificationAction(identifier: &quot;foodpin.cancel&quot;, title: &quot;Later&quot;, options: [])// 4let category = UNNotificationCategory(identifier: categoryIdentifer, actions:[makeReservationAction, cancelAction], intentIdentifiers: [], options: [])// 5UNUserNotificationCenter.current().setNotificationCategories([category])// 2 content.categoryIdentifier = categoryIdentifer 1,2 categoryIdentifieræ˜¯è®©é€šçŸ¥å’Œcategoryå…³è”èµ·æ¥ 3 UNNotificationActionæœ‰ç‚¹ç±»ä¼¼UIAlertActionï¼Œoptions: [.foreground]è¡¨ç¤ºè®©åº”ç”¨åˆ°å‰å°ï¼Œå°±æ˜¯å¯åŠ¨åº”ç”¨ 4 UNNotificationCategoryæœ‰ç‚¹ç±»ä¼¼UIAlertController 5 æŠŠUNNotificationCategoryæ³¨å†Œåˆ°ç”¨æˆ·ä¸­å¿ƒ å¤„ç†Actionsä¸Šé¢çš„options: [.foreground]åªæ˜¯å¯åŠ¨äº†åº”ç”¨ï¼Œæ²¡æœ‰å®ç°å…·ä½“æ“ä½œã€‚UNUserNotificationCenterDelegateä¸­çš„userNotificationCenter(_:didReceive:withCompletionHandler:)æ–¹æ³•åœ¨UNNotificationActionè¢«é€‰æ‹©æ—¶è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•å†…éƒ¨å¯å®ç°å…·ä½“æ“ä½œã€‚ è®©AppDelegateç¬¦åˆåè®®UNUserNotificationCenterDelegate å®ç°userNotificationCenter(_:didReceive:withCompletionHandler:) 123456789101112131415161718func userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -&gt; Void) &#123; // 1 if response.actionIdentifier == &quot;foodpin.makeReservation&quot; &#123; print(&quot;Make reservation...&quot;) // 2 if let phone = response.notification.request.content.userInfo[&quot;phone&quot;] &#123; let telURL = &quot;tel://\(phone)&quot; if let url = URL(string: telURL) &#123; if UIApplication.shared.canOpenURL(url) &#123; print(&quot;calling \(telURL)&quot;) // 3 UIApplication.shared.open(url) &#125; &#125; &#125; &#125; completionHandler()&#125; 1 å¯¹åº”ä¹‹å‰åˆ›å»ºUNNotificationActionæ—¶çš„identifierã€‚ 2 response.notification.request.contentå¯¹åº”ä¹‹å‰åˆ›å»ºé€šçŸ¥prepareNotificationå‡½æ•°ä¸­çš„UNMutableNotificationContentï¼ŒuserInfoå±æ€§å¯ç”¨æ¥å­˜å‚¨é€šçŸ¥æƒ³ä¼ é€’çš„æ•°æ®ã€‚æ¯”å¦‚åœ¨prepareNotificationå‡½æ•°ä¸­æ·»åŠ content.userInfo = [&quot;phone&quot;: suggestedRestaurant.phone!]ï¼Œè¿™è¾¹å°±å¯è·å¾—ã€‚ 3 æ‹¨æ‰“ç”µè¯ã€‚ åœ¨content.userInfo = [&quot;phone&quot;: suggestedRestaurant.phone!]ä¸­æ·»åŠ UNUserNotificationCenter.current().delegate = selfã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 25 ä½¿ç”¨3D Touch]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-25.html</url>
    <content type="text"><![CDATA[æ¥ç€ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 24 ä½¿ç”¨TestFlightè¿›è¡ŒBetaæµ‹è¯• ï¼Œè¿™ä¸€ç¯‡å­¦ä¹ ä½¿ç”¨3D Touchã€‚ è‡ªä»iPhone 6så’ŒiPhone 6s Pluså¼€å§‹ï¼ŒAppleä»‹ç»äº†ä¸€ç§æ–°çš„äº¤äº’æ–¹å¼å°±æ˜¯3D Touchã€‚è¿™æ–°çš„ç‰¹æ€§éœ€è¦ç¡¬ä»¶çš„æ”¯æŒï¼Œæ˜¯iPhoneå±å¹•ä¸ä»…èƒ½æ„Ÿåº”åˆ°è§¦æ‘¸ï¼Œè¿˜èƒ½æ„Ÿåº”åˆ°å‹åŠ›ã€‚ ç°åœ¨3D Touchä¸»è¦æœ‰ä¸‰ç±»äº¤äº’æ–¹å¼ï¼š Quick Action ï¼šç‚¹å‡»åº”ç”¨å›¾æ ‡åçš„å¿«æ·æ“ä½œã€‚ğŸ‘‡æ˜¯ä¾‹å­ï¼š Peek(preview) å’Œ Pop(commit)ä¸€èˆ¬æ˜¯ä¸€èµ·çš„ ï¼šä¸»è¦åº”ç”¨äºappä¸­å¿«é€ŸæŸ¥çœ‹è¯¦ç»†å†…å®¹ã€‚è‡ªå¸¦çš„Photos appæ˜¯å¾ˆå¥½çš„ä¾‹å­ï¼š å¾®ä¿¡å…¬ä¼—å·ä¹Ÿæ˜¯ä¸é”™çš„ä¾‹å­ï¼š Home Screen Quick Action Quick Actionåˆ†ä¸¤ç§ï¼š é™æ€çš„ï¼šåœ¨Info.plistä¸­ç¼–å†™ï¼Œå›ºå®šä¸å˜çš„ã€‚ åŠ¨æ€çš„ï¼šåœ¨ä»£ç ä¸­åˆ›å»ºå’Œæ›´æ–°ã€‚ä»¥è‡ªå¸¦çš„News appä¸ºä¾‹ï¼š ä¸åŒçš„é¢‘é“æ˜¯éšç€æ—¶é—´è€Œå˜åŒ–çš„ã€‚ é™æ€çš„Quick Action é™æ€çš„Quick Actionåªéœ€è¦åœ¨Info.plistä¸­é…ç½®UIApplicationShortcutItemsæ•°ç»„å°±å¯ä»¥äº†ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹ï¼ˆå­—å…¸ï¼‰å°±æ˜¯ä¸€ä¸ªActionï¼Œæ¯ä¸€ä¸ªActionæœ‰6ä¸ªç±»å‹çš„å­—æ®µé…ç½®ï¼š UIApplicationShortcutItemType(å¿…é¡») UIApplicationShortcutItemTitle(å¿…é¡») UIApplicationShortcutItemSubtitle(å¯é€‰) UIApplicationShortcutItemIconType(å¯é€‰) UIApplicationShortcutItemIconFile(å¯é€‰) UIApplicationShortcutItemUserInfo(å¯é€‰)å¦‚æœæ˜¯ä¸‹é¢é…ç½®ï¼š ç»“æœå°±æ˜¯ï¼š åŠ¨æ€çš„Quick ActionåŠ¨æ€çš„çš„Quick Actioné…ç½®åªè¦åœ¨AppDelegate.swiftçš„application(:didFinishLaunchingWithOptions)ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ï¼š 12let shortcutItem = UIApplicationShortcutItem(type: &quot;com.andyron.NewRestaurant&quot;, localizedTitle: &quot;New Restaurant&quot;, localizedSubtitle: nil, icon: UIApplicationShortcutIcon(type: .add), userInfo: nil)UIApplication.shared.shortcutItems = [shortcutItem] ä½¿ç”¨åŠ¨æ€çš„Quick Actioné…ç½®æˆ‘çš„FoodPinåº”ç”¨ç”±äºæˆ‘ä¹‹å‰ä½¿ç”¨UIPageViewControlleråˆ›å»ºäº†å¼€å§‹ç»“æŸé¡µé¢ï¼Œå¦‚æœåœ¨åœ¨AppDelegate.swiftçš„application(:didFinishLaunchingWithOptions)ä¸­æ·»åŠ åŠ¨æ€çš„Quick Actionå°±ä¼šå‡ºç°ç›´æ¥è·³è¿‡ä»‹ç»é¡µé¢çš„æƒ…å†µï¼Œæ‰€ä»¥è¦åœ¨çœ‹å®Œç»“æŸä¹Ÿä¹‹åå†æ·»åŠ Quick Actionã€‚ ä¸‹è½½å›¾æ ‡ï¼Œæ‹–è¿›Assets.xcassets åœ¨WalkthroughContentViewControllerçš„nextButtonTappedæ–¹æ³•çš„case 2: é‡Œæ·»åŠ 3ä¸ªActionï¼š 123456789101112// 1if traitCollection.forceTouchCapability == UIForceTouchCapability.available &#123; let bundleIdentifier = Bundle.main.bundleIdentifier // 2 let shortcutItem1 = UIApplicationShortcutItem(type: &quot;\(bundleIdentifier).OpenFavorites&quot;, localizedTitle: &quot;Show Favorites&quot;, localizedSubtitle: nil, icon: UIApplicationShortcutIcon(templateImageName: &quot;favortie-shortcut&quot;), userInfo: nil) let shortcutItem2 = UIApplicationShortcutItem(type: &quot;\(bundleIdentifier).OpenDiscover&quot;, localizedTitle: &quot;Discover restaurants&quot;, localizedSubtitle: nil, icon: UIApplicationShortcutIcon(templateImageName: &quot;discover-shortcut&quot;), userInfo: nil) let shortcutItem3 = UIApplicationShortcutItem(type: &quot;\(bundleIdentifier).NewRestaurant&quot;, localizedTitle: &quot;New Restaurant&quot;, localizedSubtitle: nil, icon: UIApplicationShortcutIcon(type: .add), userInfo: nil) // 3 UIApplication.shared.shortcutItems = [shortcutItem1, shortcutItem2, shortcutItem3]&#125; 1 åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ”¯æŒ3D Touch 2 UIApplicationShortcutIconå¯ä»¥ä½¿ç”¨ç³»ç»Ÿçš„å›¾æ ‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤–éƒ¨å›¾æ ‡ 3 shortcutItemsæ•°ç»„é¡ºåºå¯¹åº”ä»é è¿‘å›¾æ ‡å¼€å§‹å‘ä¸Šæˆ–å‘ä¸‹æ˜¾ç¤º å®ç°Quick Actionçš„å…·ä½“è·³è½¬åŠ¨ä½œUIApplicationDelegateåè®®ä¸­çš„application(_:performActionFor:completionHandler:)æ–¹æ³•ä¼šåœ¨Quick Actionè¢«ç‚¹å‡»åè°ƒç”¨ã€‚ åœ¨AppDelegate.swiftæ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªQuickActionæšä¸¾ã€‚åˆ—ä¸¾å‡ºquick actionç›¸å…³åŠ¨ä½œã€‚ 123456789101112enum QuickAction: String &#123; case OpenFavorites = &quot;OpenFavorites&quot; case OpenDiscover = &quot;OpenDiscover&quot; case NewRestaurant = &quot;NewRestaurant&quot; init?(fullIdentifier: String) &#123; guard let shortcutIdentifier = fullIdentifier.components(separatedBy: &quot;.&quot;).last else &#123; return nil &#125; self.init(rawValue: shortcutIdentifier) &#125;&#125; åœ¨AppDelegateä¸­å®ç°application(_:performActionFor:completionHandler:)æ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728func application(_ application: UIApplication, performActionFor shortcutItem: UIApplicationShortcutItem, completionHandler: @escaping (Bool) -&gt; Void) &#123; completionHandler(handleQuickAction(shortcutItem: shortcutItem))&#125;private func handleQuickAction(shortcutItem: UIApplicationShortcutItem) -&gt; Bool &#123; let shortcutType = shortcutItem.type guard let shortcutIdentifier = QuickAction(fullIdentifier: shortcutType) else &#123; return false &#125; guard let tabBarController = window?.rootViewController as? UITabBarController else &#123; return false &#125; switch shortcutIdentifier &#123; case .OpenFavorites: tabBarController.selectedIndex = 0 case .OpenDiscover: tabBarController.selectedIndex = 1 case .NewRestaurant: if let navController = tabBarController.viewControllers?[0] &#123; let restaurantTableViewController = navController.childViewControllers[0] restaurantTableViewController.performSegue(withIdentifier: &quot;addRestaurant&quot;, sender: restaurantTableViewController) &#125; else &#123; return false &#125; &#125; return false&#125; Peek å’Œ Pop åœ¨RestaurantTableViewControllerçš„viewDidLoadæ–¹æ³•ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚ä½¿ç”¨UIViewControllerä¸­çš„registerForPreviewingæ–¹æ³•æ³¨å†Œä½¿ç”¨peekå’Œpopã€‚ 1234// å¦‚æœ3D Touchå¯ä»¥ç”¨ï¼Œå°±æ³¨å†Œæœ¬æ§åˆ¶å™¨å¯ä»¥peekå’Œpopif traitCollection.forceTouchCapability == .available &#123; registerForPreviewing(with: self as! UIViewControllerPreviewingDelegate, sourceView: view)&#125; è®©RestaurantTableViewControllerç¬¦åˆUIViewControllerPreviewingDelegateåè®®ï¼š class RestaurantTableViewController: UITableViewController, NSFetchedResultsControllerDelegate, UISearchResultsUpdating, UIViewControllerPreviewingDelegate { å®ç°UIViewControllerPreviewingDelegateåè®®çš„æ–¹æ³•ï¼š 1234567891011121314151617181920212223242526272829// å½“æŒ‰å‹æ—¶è°ƒç”¨ï¼ˆpeekï¼‰func previewingContext(_ previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint) -&gt; UIViewController? &#123; // 1 guard let indexPath = tableView.indexPathForRow(at: location) else &#123; return nil &#125; // 2 guard let cell = tableView.cellForRow(at: indexPath) else &#123; return nil &#125; // 3 guard let restaurantDetailViewController = storyboard?.instantiateViewController(withIdentifier: &quot;RestaurantDetailViewController&quot;) as? RestaurantDetailViewController else &#123; return nil &#125; let selectedRestaurant = restaurants[indexPath.row] restaurantDetailViewController.restaurant = selectedRestaurant // 4 restaurantDetailViewController.preferredContentSize = CGSize(width: 0.0, height: 450.0) previewingContext.sourceRect = cell.frame return restaurantDetailViewController&#125;// popæ—¶è°ƒç”¨func previewingContext(_ previewingContext: UIViewControllerPreviewing, commit viewControllerToCommit: UIViewController) &#123; show(viewControllerToCommit, sender: self)&#125; 1 é€šè¿‡æŒ‰å‹çš„ä½ç½®è·å¾—indexPath 2 é€šè¿‡indexPathè·å¾—cell 3 é€šè¿‡æ§åˆ¶å™¨çš„Storyboard IDè·å¾—æ§åˆ¶å™¨ï¼Œä¹‹å‰å¦‚æœæ²¡æœ‰å¡«å†™Storyboard IDï¼Œç°åœ¨ä¹Ÿå¯å¡«å†™åˆé€‚Storyboard IDã€‚ 4 ç»™peekçš„é¢„è§ˆé¡µé¢ä¸€ä¸ªé«˜åº¦é™åˆ¶ï¼Œéå¿…é¡»ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 24 ä½¿ç”¨TestFlightè¿›è¡ŒBetaæµ‹è¯•]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-24.html</url>
    <content type="text"><![CDATA[Betaæµ‹è¯•æ˜¯åœ¨äº§å“å‘å¸ƒä¹‹å‰æ‰€è¿›è¡Œçš„è½¯ä»¶æµ‹è¯•æ´»åŠ¨ï¼Œå®ƒæ˜¯æŠ€æœ¯æµ‹è¯•çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œé€šè¿‡äº†éªŒæ”¶æµ‹è¯•ï¼Œäº§å“å°±ä¼šè¿›å…¥å‘å¸ƒé˜¶æ®µã€‚ åœ¨iOS 8 æ—¶ï¼ŒAppleå‘å¸ƒTestFlightç”¨äºBetaæµ‹è¯•ã€‚ä¹‹å‰TestFlightä¸€ç›´æ˜¯ç‹¬ç«‹ç”¨æˆ·mobile appæµ‹è¯•çš„mobileå¹³å°ï¼Œåœ¨2014å¹´2æœˆï¼ŒAppleæ”¶è´­çš„TestFlightæ¯å…¬å¸Burstlyã€‚ç°åœ¨TestFlightå·²ç»é›†æˆåˆ°iTunes Connectä¸­ï¼Œå…è®¸å¼€å‘åªé€šè¿‡é‚®ä»¶åœ°å€é‚€è¯·Betaæµ‹è¯•ç”¨æˆ·ã€‚ åœ¨iTunes Connectä¸­åˆ›å»ºä¸€ä¸ªApp Record iTunes Connect æ˜¯ä¸ºiOSå¼€å‘è€…æä¾›åœ¨App Storeç®¡ç†é”€å”®ä»–ä»¬appsçš„Webåº”ç”¨å·¥å…·ã€‚ åœ¨ä¸Šä¼ appä¹‹å‰ï¼Œå¿…é¡»è¦åœ¨ iTunes Connectä¸­æœ‰App Recordã€‚ éœ€è¦æä¾›ä¸‹åˆ—ä¿¡æ¯ï¼š Platform App name Primary language Bundle ID SKU åˆ›å»ºæˆæœåä¼šè·³åˆ°ä¸‹ä¸€ä¸ªé¡µé¢ Appä¿¡æ¯è¿™ä¸€æ­¥ä¸»è¦é€‰æ‹©ä¸€ä¸‹Appåˆ†ç±»çš„ç±»åˆ«ã€‚ ä»·æ ¼ä¸é”€å”®èŒƒå›´ å‡†å¤‡æäº¤è¿™ä¸€æ­¥ä¸»è¦æ·»åŠ æˆªå›¾ã€appæè¿°ã€appå›¾æ ‡ã€è”ç³»ä¿¡æ¯ç­‰ä¿¡æ¯ é¢„è§ˆå›¾å’Œæˆªå›¾æé«˜è‡³å°‘ä¸€å¼ 5.5 è‹±å¯¸çš„æˆªå›¾(1242x2208 pixels) ï¼ŒiTunes Connectä¼šè‡ªåŠ¨ç”Ÿæˆå…¶ä»–å±å¹•å°ºå¯¸çš„å›¾ç‰‡ã€‚è¯¦ç»†å¯å‚è€ƒiTunes Connect Developer Guide æˆ– iTunes Connect å¼€å‘äººå‘˜å¸®åŠ©ï¼ˆä¸­æ–‡ï¼‰ appæè¿°å¡«å†™ä¸€äº›ç›¸å…³æè¿°ï¼Œå…³é”®è¯ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰ï¼ŒURLç­‰ App ç»¼åˆä¿¡æ¯ è¿™è¾¹çš„App Store å›¾æ ‡è¦æ±‚æ˜¯1024x1024 pixelsï¼Œä¸èƒ½åŒ…å«éšè—å…ƒç´ ã€‚ App å®¡æ ¸ä¿¡æ¯ ç‰ˆæœ¬å‘å¸ƒ æ›´æ–°Build stringå›åˆ°Xcodeï¼Œç¡®è®¤ç‰ˆæœ¬æ•°å­—ä¸iTunes Connectä¸­ä¸€è‡´ã€‚ å‡†å¤‡App Iconå’Œå¯åŠ¨é¡µå›¾ç‰‡ åˆ©ç”¨ç±»ä¼¼å›¾æ ‡å·¥åœºè¿™ç§ç§»åŠ¨åº”ç”¨å›¾æ ‡ç”Ÿæˆå·¥å…·ï¼Œå¯ç”Ÿæˆä¸€äº›å¤§å°çš„å›¾æ ‡ã€‚ å¯ä»¥åœ¨Finderä¸­ç›´æ¥å¤åˆ¶AppIcon.appiconsetç›®å½•æ›¿ä»£å³å¯ã€‚ åœ¨é»˜äººçš„å¯åŠ¨å¼€å§‹é¡µé¢LaunchScreen.storyboardä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå›¾ç‰‡ã€‚ æ‰“åŒ…å’ŒéªŒè¯Appåœ¨ä¸Šä¼ appåˆ°iTunes Connectä¹‹å‰ï¼Œå¦‚è¦åˆ›å»ºappåŒ…ï¼Œè¿™åœ¨Xcode 8ä¹‹åå·²ç»éå¸¸å®¹æ˜“äº†ã€‚ åœ¨ä¸»èœå•ä¸­é€‰æ‹©Product &gt; Scheme &gt; Edit Schemeï¼šç¡®è®¤Build Configurationæ˜¯Releaseï¼š åœ¨ä¸»èœå•ä¸­é€‰æ‹©Product &gt; Archiveï¼Œå¯èƒ½éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚ æ‰“åŒ…æˆåŠŸåï¼Œåœ¨ä¸»èœå•ä¸­æ‰“å¼€Window &gt; Organizerï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š é€‰æ‹©Validateâ€¦ï¼Œç„¶åé€‰æ‹©è‡ªå·±çš„å¼€å‘è€…è´¦å·ï¼š ç‚¹å‡»Validateï¼Œä¹‹åå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ï¼š ä¸Šä¼ åº”ç”¨åˆ°iTunes Connect ä¸Šé¢çš„éªŒè¯æˆåŠŸåï¼Œç‚¹å‡»Upload to App Storeâ€¦ï¼Œç„¶ååœ¨ç‚¹å‡»Uploadï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¹Ÿéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´ã€‚ ç®¡ç†å†…éƒ¨æµ‹è¯•ç”¨æˆ· å†…éƒ¨ç”¨æˆ·ä¹Ÿå°±æ˜¯ iTunes Connect ç”¨æˆ·ï¼Œæœ€å¤šå¯æ·»åŠ 25ä¸ªã€‚å¯åœ¨ç”¨æˆ·å’ŒèŒèƒ½ä¸­æ·»åŠ ã€‚ æ·»åŠ iTunes Connect ç”¨æˆ· æ·»åŠ å†…éƒ¨æµ‹è¯•ç”¨æˆ·åï¼Œå†…éƒ¨æµ‹è¯•ç”¨æˆ·ä¼šæ”¶åˆ°é‚®ä»¶ï¼Œå†…é¢æœ‰éªŒè¯ç ã€‚ ä¸‹è½½ TestFlight åº”ç”¨ç„¶ååœ¨ Redeemä¸­è¾“å…¥éªŒè¯ç ï¼Œå³å¯ä¸‹è½½å®‰è£…åº”ç”¨æµ‹è¯•ã€‚ ç®¡ç†å¤–éƒ¨æµ‹è¯•ç”¨æˆ·ï¼ˆBetaæµ‹è¯•ç”¨æˆ·ï¼‰ä»¥å‰æ˜¯æœ€å¤§é™åˆ¶2000ï¼Œç°åœ¨å¯ä»¥é‚€è¯·10000åå¤–éƒ¨æµ‹è¯•äººå‘˜ã€‚å¤–éƒ¨æµ‹è¯•ç”¨æˆ·ä¸éœ€è¦äº‹å…ˆæ·»åŠ ã€‚ å¡«å†™å®Œæ•´æµ‹è¯•ä¿¡æ¯ æ–°å»ºç¾¤ç»„ï¼Œæ¯”å¦‚å°±å«å¤–éƒ¨æµ‹è¯•å‘˜ï¼š ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 22 ä½¿ç”¨CloudKit]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-22.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 21 ä½¿ç”¨WKWebViewå’ŒSFSafariViewController å­¦ä¹ æ‰“å¼€ç½‘é¡µï¼Œè¿™ä¸€ç¯‡å­¦ä¹ ä½¿ç”¨CloudKitã€‚ iCloudæœ€åˆä¹”å¸ƒæ–¯åœ¨WWDC2011æ˜¯å‘å¸ƒçš„ï¼Œåªä¸ºäº†ç»™Appsã€æ¸¸æˆèƒ½å¤Ÿåœ¨äº‘ç«¯æ•°æ®ä¿å­˜ï¼Œè®©Macå’ŒiOSä¹‹é—´æ•°æ®è‡ªåŠ¨åŒæ­¥æ‰€ç”¨ã€‚ æœ€è¿‘å‡ å¹´æ‰æ¸æ¸æˆé•¿ä¸ºäº‘æœåŠ¡ã€‚å¦‚æœæƒ³åˆ›å»ºç¤¾äº¤ç±»å‹çš„ï¼Œå¯ä»¥åˆ†äº«ç”¨æˆ·ä¹‹é—´æ•°æ®çš„appï¼Œå°±å¯è€ƒè™‘ä½¿ç”¨iCloudï¼Œè¿™æ ·å°±ä¸éœ€è¦è‡ªå·±å†å»æ„å»ºä¸€ä¸ªåç«¯APIsäº†ã€‚è™½ç„¶å¯èƒ½ç”±äºå›½å†…çš„ç½‘ç»œç¯å¢ƒï¼ŒiCloudå®é™…åº”ç”¨æ•ˆæœå¹¶ä¸å¥½ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¸€ä¸‹çš„ğŸ™‚ã€‚ å¦‚æœå¼€å‘äº†Webåº”ç”¨ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è®¿é—®iOSåº”ç”¨çš„iCloudä¸­æ•°æ®ã€‚Appleåˆ†åˆ«æä¾›äº†CloudKit JSå’ŒCloudKitåº“ã€‚ CloudKité»˜è®¤ç»™æˆ‘ä»¬çš„appæä¾›ä¸€äº›å…è´¹çš„ç©ºé—´ï¼š å½“appçš„ç”¨æˆ·çš„æ´»è·ƒæ•°æé«˜ï¼Œå…è´¹ç©ºé—´ä¹Ÿä¼šéšä¹‹æé«˜ï¼Œè¯¦ç»†å¯æŸ¥çœ‹å®˜ç½‘ä»‹ç»ã€‚ ç†è§£CloudKitæ¡†æ¶CloudKitæ¡†æ¶ä¸ä»…æä¾›äº†å­˜å‚¨åŠŸèƒ½ï¼Œè¿˜æä¾›äº†å¼€å‘è€…ä¸iCloudä¹‹é—´çš„å„ç§äº¤äº’ã€‚Containerså’Œdatabaseæ˜¯CloudKitæ¡†æ¶çš„åŸºç¡€å…ƒç´ ã€‚ é»˜è®¤ï¼Œä¸€ä¸ªappå°±æ˜¯ä¸€ä¸ªcontainerï¼Œä»£ç ä¸­å°±æ˜¯CKContainerï¼Œä¸€ä¸ªcontainerä¸­åŒ…æ‹¬ä¸‰ä¸ªdatabase(CKDatabase)ï¼š ä¸€ä¸ªpublic databaseï¼š appä¸­æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½æŸ¥çœ‹ ä¸€ä¸ªshared databaseï¼šappä¸­ä¸€ç»„ç”¨æˆ·èƒ½æŸ¥çœ‹ï¼ˆiOS 10ï¼‰ ä¸€ä¸ªprivate databaseï¼šappä¸­å•ä¸ªç”¨æˆ·æŸ¥çœ‹ ä¸ºåº”ç”¨æ·»åŠ CloudKit é¦–å…ˆéœ€è¦å¼€å‘è€…è´¦å·ã€‚ ç„¶ååœ¨Capabilitiesä¸­æ‰“å¼€iCloudã€‚ åœ¨CloudKit Dashboardä¸­ç®¡ç† Record ç‚¹å‡»ä¸Šå›¾ä¸­çš„CloudKit Dashboardï¼Œæˆ–è€…ç›´æ¥è®¿é—®https://icloud.developer.apple.com/dashboard/ã€‚æœ€æ–°çš„CloudKit Dashboardçš„é¡µé¢æœ‰äº†ä¸€äº›å˜åŒ–ã€‚é¦–å…ˆè¿›å»çš„æ˜¯åº”ç”¨åˆ—è¡¨ï¼ˆä¹Ÿå°±æ˜¯containeråˆ—è¡¨ï¼‰ï¼Œç‚¹å‡»ä¸€ä¸ªå°±è¿›å…¥å¦‚ä¸‹é¡µé¢ï¼š ç‚¹å‡»Developmentçš„dataï¼Œç±»ä¼¼ä¸‹é¢ é€‰æ‹©Record Typesï¼ˆæœ‰ç‚¹åƒå…³ç³»æ•°æ®ä¸­çš„è¡¨ï¼‰ï¼Œåˆ›å»ºæ–°çš„ç±»å‹Restaurantï¼Œå¹¶æ·»åŠ å‡ ä¸ªFieldçš„ã€‚ é€‰æ‹©Recordsï¼ˆç±»å‹è¡¨ä¸­çš„æ•°æ®ï¼‰ï¼Œæ·»åŠ å‡ æ¡æ•°æ®ï¼Œæ³¨æ„é€‰æ‹©public databaseã€‚ ä½¿ç”¨ Convenience APIè·å–public DatabaseCloudKitæä¾›ä¸¤ç§APIsè®©å¼€å‘ä¸iCloudäº¤äº’ï¼šthe convenience API å’Œ the operational APIã€‚ Convenience APIçš„é€šå¸¸è°ƒç”¨æ–¹å¼ï¼š 12345678let cloudContainer = CKContainer.default()let publicDatabase = cloudContainer.publicCloudDatabaselet predicate = NSPredicate(value: true)let query = CKQuery(recordType: &quot;Restaurant&quot;, predicate: predicate)publicDatabase.perform(query, inZoneWith: nil, completionHandler: &#123; (results, error) -&gt; Void in// Process the records&#125;) CKContainer.default()è·å–åº”ç”¨çš„Containerã€‚ publicCloudDatabaseè¡¨ç¤ºé»˜è®¤çš„public databaseã€‚ NSPredicateå’ŒCKQueryæ˜¯æœç´¢æ¡ä»¶ æ–°å»ºDiscoverTableViewControllerï¼Œç»§æ‰¿è‡³UITableViewControllerï¼Œå…³è”discover.storyboardä¸­çš„table viewçš„æ§åˆ¶å™¨ï¼› å¹¶ä¿®æ”¹å…¶prototype cellçš„identifierä¸ºCellã€‚ åœ¨DiscoverTableViewController.swiftä¸­åŠ å…¥import CloudKitï¼Œå¹¶å®šä¹‰ä¸€ä¸ªCKRecordçš„æ•°ç»„å˜é‡ï¼š var restaurants:[CKRecord] = [] æ·»åŠ è·å–Recordsçš„å‡½æ•°ï¼š 12345678910111213141516171819202122232425func fetchRecordsFromCloud() &#123; let cloudContainer = CKContainer.default() let publicDatabase = cloudContainer.publicCloudDatabase let predicate = NSPredicate(value: true) let query = CKQuery(recordType: &quot;Restaurant&quot;, predicate: predicate) publicDatabase.perform(query, inZoneWith: nil, completionHandler: &#123; (results, error) -&gt; Void in if error != nil &#123; print(error) return &#125; if let results = results &#123; print(&quot;Completed the download of Restaurant data&quot;) self.restaurants = results OperationQueue.main.addOperation &#123; self.spinner.stopAnimating() self.tableView.reloadData() &#125; &#125; &#125;)&#125; åœ¨performä¸­ï¼Œå½“ç¡®å®šè·å–åˆ°äº†æ•°æ®åï¼Œèµ‹å€¼ç»™restaurantsï¼Œå¹¶åˆ·æ–°tableã€‚ åœ¨viewDidLoadä¸­æ·»åŠ ï¼š fetchRecordsFromCloud()ã€‚ æ·»åŠ table viewç›¸å…³ä»£ç†æ–¹æ³•ï¼š 12345678910111213141516171819202122override func numberOfSections(in tableView: UITableView) -&gt; Int &#123; return 1&#125;override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return restaurants.count&#125;override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for:indexPath) // Configure the cell... let restaurant = restaurants[indexPath.row] cell.textLabel?.text = restaurant.object(forKey: &quot;name&quot;) as? String if let image = restaurant.object(forKey: &quot;image&quot;) &#123; let imageAsset = image as! CKAsset if let imageData = try? Data.init(contentsOf: imageAsset.fileURL) &#123; cell.imageView?.image = UIImage(data: imageData) &#125; &#125; return cell&#125; object(forKey:)æ˜¯CKRecordä¸­è·å–Record Fieldå€¼çš„æ–¹æ³•ã€‚ å›¾ç‰‡å¯¹è±¡è½¬æ¢ä¸ºCKAssetã€‚ ä¸ºä»€ä¹ˆæ…¢ï¼Ÿæµ‹è¯•ä»¥ä¸Šä»£ç ï¼Œå‘ç°fetchRecordsFromCloudå‡½æ•°ä¸­çš„æ‰“å°ä¿¡æ¯â€Completed the download of Restaurant dataâ€å·²ç»æ˜¾ç¤ºåœ¨æ§åˆ¶å°äº†ï¼Œä½†æ˜¯è¿˜éœ€è¦è¿‡ä¸€æ®µæ—¶é—´Appä¸­æ‰èƒ½æ˜¾ç¤ºï¼Œä¹Ÿå°±æ˜¯è¯´å‘iCloudä¸­è·å–å®Œæ•°æ®åæ‰å¼€å§‹å‡†å¤‡table viewåŠ è½½ã€‚ è¿™è¾¹å°±éœ€è¦ä½¿ç”¨åˆ°å¤šçº¿ç¨‹çš„æ¦‚å¿µã€‚åœ¨iOSä¸­ï¼ŒUIæ›´æ–°ï¼ˆåƒtableé‡æ–°åŠ è½½ï¼‰å¿…é¡»åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚è¿™æ ·è·å–iCloudæ•°æ®çš„çº¿ç¨‹åœ¨è¿›è¡Œæ—¶ï¼ŒUIæ›´æ–°ä¹Ÿåœ¨åŒæ­¥è¿›è¡Œã€‚ 123OperationQueue.main.addOperation &#123; self.tableView.reloadData()&#125; ä½¿ç”¨operational APIè·å–public Database Convenience APIåªé€‚åˆç®€å•å’Œå°‘é‡çš„æŸ¥è¯¢ã€‚ æ›´æ–°fetchRecordsFromCloudæ–¹æ³•ï¼š 123456789101112131415161718192021222324252627func fetchRecordsFromCloud() &#123; let cloudContainer = CKContainer.default() let publicDatabase = cloudContainer.publicCloudDatabase let predicate = NSPredicate(value: true) let query = CKQuery(recordType: &quot;Restaurant&quot;, predicate: predicate) // Create the query operation with the query let queryOperation = CKQueryOperation(query: query) queryOperation.desiredKeys = [&quot;name&quot;, &quot;image&quot;] queryOperation.queuePriority = .veryHigh queryOperation.resultsLimit = 50 queryOperation.recordFetchedBlock = &#123; (record) -&gt; Void in self.restaurants.append(record) &#125; queryOperation.queryCompletionBlock = &#123; (cursor, error) -&gt; Void in if let error = error &#123; print(&quot;Failed to get data from iCloud - \(error.localizedDescription)&quot;) return &#125; print(&quot;Successfully retrieve the data from iCloud&quot;) OperationQueue.main.addOperation &#123; self.tableView.reloadData() &#125; &#125; // Execute the query publicDatabase.add(queryOperation)&#125; é€šè¿‡CKQueryOperationä»£æ›¿performæ–¹æ³•,å®ƒæä¾›äº†è®¸å¤šæŸ¥è¯¢é€‰é¡¹ã€‚ desiredKeysä»£è¡¨éœ€è¦æŸ¥è¯¢çš„å­—æ®µã€‚ resultsLimitä»£è¡¨ä¾æ¬¡æŸ¥è¯¢æœ€å¤§Recordæ•°ç›® åŠ è½½æŒ‡ç¤ºï¼ˆèŠèŠ±è½¬ï¼‰ å¯ä»¥åœ¨viewDidLoadä¸­æ·»åŠ ç±»å‹å¦‚ä¸‹ä»£ç ï¼š 123456let spinner:UIActivityIndicatorView = UIActivityIndicatorView()spinner.activityIndicatorViewStyle = .grayspinner.center = view.centerspinner.hidesWhenStopped = trueview.addSubview(spinner)spinner.startAnimating() ä¹Ÿå¯ä»¥é€šè¿‡åœ¨discover.storyboardä¸­æ·»åŠ ï¼š æ·»åŠ å®Œå‘ç° activity indicator viewåœ¨æ§åˆ¶å™¨ä¸Šé¢ï¼Œè¿™åœ¨Xcodeä¸­å«The Extra Views åœ¨DiscoverTableViewControllerä¸­æ·»åŠ æ¥å£ï¼Œå¹¶å…³è”ã€‚ @IBOutlet var spinner: UIActivityIndicatorView! åœ¨viewDidLoadä¸­æ·»åŠ ä»£ç ï¼š 1234spinner.hidesWhenStopped = truespinner.center = view.centertableView.addSubview(spinner)spinner.startAnimating() æ•°æ®åŠ è½½å®Œè¦éšè—åŠ è½½æç¤ºï¼š1234OperationQueue.main.addOperation &#123; self.spinner.stopAnimating() self.tableView.reloadData() &#125; æ‡’åŠ è½½å›¾ç‰‡æ‡’åŠ è½½å›¾ç‰‡å°±æ˜¯å…ˆåŠ è½½ä¸€ä¸ªæœ¬åœ°é»˜è®¤å›¾ç‰‡ï¼Œæš‚æ—¶ä¸åŠ è½½è¿œç¨‹å›¾ç‰‡ï¼Œå½“å›¾ç‰‡å‡†å¤‡å¥½åœ¨å»æ›´æ–°å›¾ç‰‡è§†å›¾ã€‚ ä¿®æ”¹è¯·æ±‚å­—æ®µdesireKeysï¼Œè®©å¼€å§‹æ—¶ä¸åŠ å›¾ç‰‡: queryOperation.desiredKeys = [&quot;name&quot;] æ›´æ–° tableView(_:cellForRowAt:)ï¼š 1234567891011121314151617181920212223242526272829303132333435override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) let restaurant = restaurants[indexPath.row] cell.textLabel?.text = restaurant.object(forKey: &quot;name&quot;) as? String // Set the default image cell.imageView?.image = UIImage(named: &quot;photoalbum&quot;) // Fetch Image from Cloud in background let publicDatabase = CKContainer.default().publicCloudDatabase let fetchRecordsImageOperation = CKFetchRecordsOperation(recordIDs:[restaurant.recordID]) fetchRecordsImageOperation.desiredKeys = [&quot;image&quot;] fetchRecordsImageOperation.queuePriority = .veryHigh fetchRecordsImageOperation.perRecordCompletionBlock = &#123; (record, recordID, error) -&gt; Void in if let error = error &#123; print(&quot;Failed to get restaurant image: \(error.localizedDescription)&quot;) return &#125; if let restaurantRecord = record &#123; OperationQueue.main.addOperation() &#123; if let image = restaurantRecord.object(forKey: &quot;image&quot;) &#123; let imageAsset = image as! CKAsset print(imageAsset.fileURL) if let imageData = try? Data.init(contentsOf: imageAsset.fileURL) &#123; cell.imageView?.image = UIImage(data: imageData) &#125; &#125; &#125; &#125; &#125; publicDatabase.add(fetchRecordsImageOperation) return cell&#125; CKFetchRecordsOperationé€šè¿‡recordIDè·å¾—ç‰¹å®šçš„Recordã€‚ CKFetchRecordsOperationä¸€äº›æ–¹æ³•ç±»ä¼¼CKQueryOperationã€‚ æ‡’åŠ è½½åå‘ç°ï¼Œå›¾ç‰‡åœ¨å…¶å®ƒè§†å›¾æ˜¾ç¤ºåæ…¢æ…¢å…ˆååŠ è½½æ˜¾ç¤ºã€‚ ä¸‹æ‹‰åˆ·æ–°UIRefreshControlæä¾›äº†æ ‡å‡†çš„ä¸‹æ‹‰åˆ·æ–°ç‰¹æ€§ã€‚ åœ¨DiscoverTableViewControllerçš„viewDidLoadä¸­æ·»åŠ ï¼š12345// Pull To Refresh ControlrefreshControl = UIRefreshControl()refreshControl?.backgroundColor = UIColor.whiterefreshControl?.tintColor = UIColor.grayrefreshControl?.addTarget(self, action: #selector(fetchRecordsFromCloud), for: UIControlEvents.valueChanged) æ¯ä¸€æ¬¡ä¸‹æ‹‰æ˜¯æ˜¾ç¤ºèŠèŠ±è½¬ï¼Œå¹¶ä¸”è°ƒç”¨fetchRecordsFromCloudæ–¹æ³•ã€‚ åœ¨fetchRecordsFromCloudæ–¹æ³•çš„queryCompletionBlockæ·»åŠ æ•°æ®åŠ è½½å®Œæˆåå»é™¤èŠèŠ±è½¬ä»£ç ï¼š 12345if let refreshControl = self.refreshControl &#123; if refreshControl.isRefreshing &#123; refreshControl.endRefreshing() &#125;&#125; åˆ·æ–°ä¼šå‡ºç°é‡å¤æ•°æ®ï¼Œè¦åœ¨fetchRecordsFromCloudæ–¹æ³•å¼€å§‹æ—¶ï¼Œæ¸…ç†æ•°æ®ï¼š 12restaurants.removeAll()tableView.reloadData() ä½¿ç”¨CloudKitä¿å­˜æ•°æ®åˆ°iCloudCKDatabaseçš„save(_:completionHandler:)çš„æ–¹æ³•å¯ç”¨æ¥ä¿å­˜æ•°æ®åˆ°iCloudã€‚å®ç°ç”¨æˆ·æ–°åŠ æ•°æ®æ—¶ï¼Œæ—¢ä¿å­˜åœ¨æœ¬åœ°çš„Core Dataï¼Œæœ‰ä¿å­˜åœ¨iCloudä¸­ã€‚ åœ¨AddRestaurantControllerä¸­æ·»åŠ ï¼šimport CloudKitã€‚ åœ¨AddRestaurantControlleræ·»åŠ æ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728// ä¿å­˜åˆ°Core Dataçš„åŒæ—¶ä¹Ÿä¿å­˜çš„iCloudä¸­func saveRecordToCloud(restaurant:RestaurantMO!) -&gt; Void &#123; // Prepare the record to save let record = CKRecord(recordType: &quot;Restaurant&quot;) record.setValue(restaurant.name, forKey: &quot;name&quot;) record.setValue(restaurant.type, forKey: &quot;type&quot;) record.setValue(restaurant.location, forKey: &quot;location&quot;) record.setValue(restaurant.phone, forKey: &quot;phone&quot;) let imageData = restaurant.image as! Data // Resize the image let originalImage = UIImage(data: imageData)! let scalingFactor = (originalImage.size.width &gt; 1024) ? 1024 / originalImage.size.width : 1.0 let scaledImage = UIImage(data: imageData, scale: scalingFactor)! // Write the image to local file for temporary use let imageFilePath = NSTemporaryDirectory() + restaurant.name! let imageFileURL = URL(fileURLWithPath: imageFilePath) try? UIImageJPEGRepresentation(scaledImage, 0.8)?.write(to: imageFileURL) // Create image asset for upload let imageAsset = CKAsset(fileURL: imageFileURL) record.setValue(imageAsset, forKey: &quot;image&quot;) // Get the Public iCloud Database let publicDatabase = CKContainer.default().publicCloudDatabase // Save the record to iCloud publicDatabase.save(record, completionHandler: &#123; (record, error) -&gt; Void in try? FileManager.default.removeItem(at: imageFileURL) &#125;)&#125; åœ¨saveæ–¹æ³•çš„dismiss(animated:completion:)çš„å‰é¢æ·»åŠ ï¼š saveRecordToCloud(restaurant: restaurant) æ’åºCKQueryæœ‰å±æ€§sortDescriptorså¯ç”¨æ¥æ’åºã€‚åœ¨DiscoverTableViewControllerçš„fetchRecordsFromCloudæ–¹æ³•ï¼Œqueryå®šä¹‰åæ·»åŠ ï¼š query.sortDescriptors = [NSSortDescriptor(key: &quot;creationDate&quot;, ascending: false)] creationDateæ˜¯é»˜è®¤çš„åˆ›å»ºæ—¶é—´å­—æ®µã€‚ Exerciseï¼šä¿®æ”¹Discoveræ ·å¼ æ–°å»ºä¸€ä¸ªDiscoverTableViewCellï¼Œç»§æ‰¿è‡³UITableViewCellï¼Œå¹¶å…³è”Discoverçš„cellã€‚ ä¿®æ”¹cellåˆé€‚çš„æ ·å¼ï¼Œæ¯”å¦‚ä¸‹é¢ åœ¨DiscoverTableViewCellä¸­æ–°å»ºå››ä¸ªæ¥å£ï¼Œå¹¶å…³è”ã€‚ 1234@IBOutlet var nameLabel: UILabel!@IBOutlet var locationLabel: UILabel!@IBOutlet var typeLabel: UILabel!@IBOutlet var thumbnailImageView: UIImageView! æ›´æ–°tableView(_:cellForRowAt:)å’ŒfetchRecordsFromCloudç›¸å…³ä»£ç  ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 21 ä½¿ç”¨WKWebViewå’ŒSFSafariViewController]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-21.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 20 ä½¿ç”¨Tab Bar Controller å’Œ æ‹†åˆ†Storyboardå­¦ä¹ äº†å·¥å…·æ å’ŒStoryboardçš„æ‹†åˆ†ï¼Œè¿™ä¸€ç¯‡å­¦ä¹ æ€ä¹ˆåœ¨appä¸­æ˜¾ç¤ºç½‘é¡µå†…å®¹ã€‚ç”±äºåŸä¹¦ä¸­ä½¿ç”¨äº†çš„ç½‘ç«™åœ¨å›½å†…ä¸å¥½è®¿é—®ï¼Œæˆ‘å°±ç”¨äº†æˆ‘çš„ç®€ä¹¦ã€åšå®¢ã€Githubä»£æ›¿ğŸ™‚ã€‚ è®¾è®¡about view ä¸‹è½½å›¾ç‰‡æ‹–è¿›Assets.xcassetã€‚ æ‰“å¼€about.storyboardï¼Œæ‹–è¿›ä¸€ä¸ªImage Viewåˆ°table view headerï¼Œheightä¸º190ï¼Œimageä¸ºabout-logoï¼Œcontent modeä¸ºAspect fitã€‚é€‰æ‹©table view cellï¼Œidentifierä¸ºCellï¼Œstyleä¸ºBasicã€‚ æ–°å»ºAboutTableViewControllerç»§æ‰¿è‡³UITableViewControllerï¼Œå…³è”aboutä¸­çš„table view controllerã€‚ åœ¨AboutTableViewControllerï¼Œæ·»åŠ ï¼š123var sectionTitles = [&quot;Leave Feedback&quot;, &quot;Follow Us&quot;]var sectionContent = [[&quot;Rate us on App Store&quot;, &quot;Tell us your feedback&quot;], [&quot;Jianshu&quot;, &quot;Blog&quot;, &quot;Github&quot;]]var links = [&quot;http://www.jianshu.com/u/efce1a2a95ab&quot;, &quot;http://andyron.com&quot;, &quot;https://github.com/andyRon&quot;] table viewçš„ç›¸å…³ä»£ç†åè®®æ–¹æ³•å®ç°ï¼Œè¿™æ¬¡ä½¿ç”¨ä¿©ä¸ªsectionï¼ŒtableView(_:titleForHeaderInSection:)æ˜¯è·å–sectionçš„titleæ–¹æ³•ã€‚1234567891011121314151617181920override func numberOfSections(in tableView: UITableView) -&gt; Int &#123; return sectionTitles.count&#125;override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; // #warning Incomplete implementation, return the number of rows return sectionContent[section].count&#125;override func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? &#123; return sectionTitles[section]&#125;override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) cell.textLabel?.text = sectionContent[indexPath.section][indexPath.row] return cell&#125; ç§»é™¤Tableviewä¸‹é¢åˆ†å‰²çº¿ï¼Œåœ¨viewDidLoadä¸­æ·»åŠ ï¼š tableView.tableFooterView = UIView(frame: CGRect.zero) ç”¨Mobile Safariæ‰“å¼€Webå¯ç›´æ¥ç»™å‡ºç½‘å€ï¼Œé€šè¿‡Mobile Safariæ‰“å¼€ç½‘ç«™ï¼ŒUIApplication.shared.open(_:options:completionHandler:)ã€‚ 123456789101112131415override func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; switch indexPath.section &#123; case 0: if indexPath.row == 0 &#123; if let url = URL(string: &quot;http://www.apple.com/itunes/charts/paid-apps/&quot;) &#123; UIApplication.shared.open(url, options: [:], completionHandler: nil) &#125; &#125; default: break &#125; // å–æ¶ˆè¢«é€‰ä¸­çŠ¶æ€ tableView.deselectRow(at: indexPath, animated: false)&#125; ä½¿ç”¨WKWebViewè½½å…¥Webä½¿ç”¨ä½¿ç”¨WKWebViewè½½å…¥Webçš„ä¾‹å­1234if let url = URL(string: &quot;http://andyron.com&quot;) &#123; let request = URLRequest(url: url) webView.load(request)&#125; ç›´æ¥è½½å…¥æœ¬åœ°htmlæ–‡ä»¶çš„ä¾‹å­ï¼š123let url = URL(fileURLWithPath: &quot;about.html&quot;)let request = URLRequest(url: url)webView.load(request) åœ¨about.storyboardä¸­æ‹–è¿›ä¸€ä¸ªæ–°çš„View Controllerï¼Œç”¨æ¥å±•ç¤ºWebå†…å®¹ã€‚ä½¿ç”¨ctrl-dragå»ºç«‹Showç±»å‹çš„segueï¼Œidentifierä¸º showWebViewã€‚ æ–°å»ºWebViewControllerç»§æ‰¿è‡³UIViewControllerï¼Œå…³è”ä¸Šé¢çš„ç”¨æ¥æ˜¾ç¤ºWebå†…å®¹çš„View Controllerã€‚ åœ¨WebViewController.swiftä¸­æ·»åŠ import WebKitï¼Œå˜é‡var webView: WKWebView!ã€‚ æ›´æ–° viewDidLoadï¼š 123456789override func viewDidLoad() &#123; super.viewDidLoad() if let url = URL(string: &quot;http://andyron.com&quot;) &#123; let request = URLRequest(url: url) webView.load(request) &#125;&#125; æ·»åŠ loadViewï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨viewDidLoadä¹‹å‰è°ƒç”¨åˆ›å»ºWKWebViewã€‚ 1234override func loadView() &#123; webView = WKWebView() view = webView&#125; æ›´æ–°AboutTableViewControllerä¸­çš„tableView(_didSelectRowAtIndexPath:)ï¼š 123456789101112131415161718override func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; switch indexPath.section &#123; case 0: if indexPath.row == 0 &#123; if let url = URL(string: &quot;http://www.apple.com/itunes/charts/paid-apps/&quot;) &#123; UIApplication.shared.open(url, options: [:], completionHandler: nil) &#125; &#125; else if indexPath.row == 1 &#123; performSegue(withIdentifier: &quot;showWebView&quot;, sender: self) &#125; default: break &#125; // å–æ¶ˆè¢«é€‰ä¸­çŠ¶æ€ tableView.deselectRow(at: indexPath, animated: false)&#125; ç”±äºè‡ªä»iOS 9ä¹‹åï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé»˜è®¤åªèƒ½è®¿é—®HTTPSçš„ç½‘ç«™ï¼Œå¦‚æœéœ€è¦è®¿é—®HTTPçš„ç½‘ç«™ï¼Œå°±éœ€è¦åœ¨plistæ–‡ä»¶ä¸­æ·»åŠ è®¸å¯ï¼š ä½¿ç”¨SFSafariViewControllerè½½å…¥Webåœ¨AboutTableViewController.swiftä¸­åŠ å…¥import SafariServicesï¼Œç„¶åæ›´æ–°tableView(_didSelectRowAtIndexPath:)ï¼Œåªç”¨é€šè¿‡urlåˆ›å»ºä¸€ä¸ªSFSafariViewControllerå¯¹è±¡ï¼Œç„¶åä½¿ç”¨presentæ–¹æ³•å±•ç¤ºå°±å¯ä»¥äº†ã€‚1234567891011121314151617181920212223override func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; switch indexPath.section &#123; case 0: if indexPath.row == 0 &#123; if let url = URL(string: &quot;http://www.apple.com/itunes/charts/paid-apps/&quot;) &#123; UIApplication.shared.open(url, options: [:], completionHandler: nil) &#125; &#125; else if indexPath.row == 1 &#123; performSegue(withIdentifier: &quot;showWebView&quot;, sender: self) &#125; case 1: if let url = URL(string: links[indexPath.row]) &#123; let safariController = SFSafariViewController(url: url) present(safariController, animated: true, completion: nil) &#125; default: break &#125; // å–æ¶ˆè¢«é€‰ä¸­çŠ¶æ€ tableView.deselectRow(at: indexPath, animated: false)&#125; ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 20 ä½¿ç”¨Tab Bar Controller å’Œ æ‹†åˆ†Storyboard]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-20.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 19 ä½¿ç”¨UIPageViewControlleræ„å»ºä»‹ç»é¡µé¢æ„å»ºäº†å¼€å§‹ä»‹ç»é¡µé¢ï¼Œè¿™ä¸€ç¯‡å­¦ä¹ ä½¿ç”¨Tab Bar Controllerå’Œæ‹†åˆ†Storyboardã€‚ åˆ›å»º Tab Bar Controller é€‰æ‹©å¼€å§‹çš„Navigation Controllerï¼ŒEditor &gt; Embed in &gt; Tab Bar Controllerï¼Œç„¶åè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªæ–°çš„Tab Bar Controller ä½œä¸ºåˆå§‹çš„æ§åˆ¶å™¨ï¼Œä¹‹å‰Navigation Controllerå˜æˆTab Bar Controllerçš„ä¸€éƒ¨åˆ†äº†ã€‚ åœ¨Navigation Controllerä¸­é€‰æ‹© tab itemï¼Œä¿®æ”¹System Itemä¸ºFavoritesã€‚ éšè— Tab Barå·¥å…·æ åœ¨å…¶ä»–é¡µé¢éšè—ï¼Œé€‰æ‹©Detail Viewï¼Œå‹¾é€‰Hide Bottom Bar on Pushå°±å¯ä»¥ã€‚ ä¹Ÿå¯ä»¥ç”¨ä»£ç å½¢å¼ï¼Œåœ¨RestaurantTableViewControllerä¸­çš„prepare(for:)ä¸­æ·»åŠ ï¼š destinationController.hidesBottomBarWhenPushed = true æ·»åŠ æ–°çš„Tabs æ·»åŠ ä¸€ä¸ªæ–°çš„Navigation Controllerï¼Œ é€‰ä¸­tab itemï¼Œä¿®æ”¹System Itemä¸ºRecentsï¼›table viewçš„navigation itemçš„titleä¸ºDiscover æŠŠæ–°åŠ çš„Navigation ControlleråŠ å…¥åˆ° Tab Bar Controllerã€‚ç”¨ctrl+dragä»Tab Bar Controlleråˆ°æ–°çš„Navigation Controllerï¼Œé€‰æ‹©Relationship Segue - View Controllersã€‚ æ”¹å˜æ–°çš„Navigation Controllerçš„tab barçš„titleä¸ºRecentï¼Œä¿®æ”¹system itemä¸ºRecents åŒæ ·çš„æ–¹å¼æ·»åŠ ä¸€ä¸ªæ–°çš„Navigation Controllerï¼Œ é€‰ä¸­tab itemï¼Œä¿®æ”¹System Itemä¸ºMoreï¼›table viewçš„navigation itemçš„titleä¸ºAboutã€‚ä¹Ÿç”¨ctrl+dragä¸Tab Bar Controllerå»ºç«‹å…³ç³»ã€‚ æœ€ç»ˆåˆ›å»ºæœ‰ä¸‰ä¸ªTab Bar Itemçš„Tab Barã€‚ å®šåˆ¶Tab Barçš„æ ·å¼ä¿®æ”¹Tab Barçš„æ ·å¼åœ¨application(_:didFinishLaunchingWithOptions:)ä¸­è¿›è¡Œï¼Œç±»ä¼¼ä¸‹é¢çš„ä»£ç ï¼Œè¯¦ç»†çš„APIå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š123UITabBar.appearance().tintColor = UIColor(red: 235.0/255.0, green: 75.0/255.0,blue: 27.0/255.0, alpha: 1.0)UITabBar.appearance().barTintColor = UIColor.black æ”¹å˜ Tab Bar Itemçš„å›¾ç‰‡ ä»å›¾ç‰‡ä¸‹è½½å›¾ç‰‡åˆ°Assets.xcassetã€‚ åœ¨SBä¸­ä¿®æ”¹ä¸‰ä¸ªTab Bar Itemçš„System Iteméƒ½ä¸ºCustomï¼Œä¿®æ”¹Titleå’ŒImageä¸ºæƒ³è¦çš„å€¼ï¼Œç±»ä¼¼ä¸‹å›¾ åœ¨application(_:didFinishLaunchingWithOptions:)ä¸­ä¿®æ”¹æ ·å¼ï¼š12UITabBar.appearance().tintColor = UIColor(red: 235.0/255.0, green: 75.0/255.0, blue: 27.0/255.0, alpha: 1.0)UITabBar.appearance().barTintColor = UIColor(red: 236/255.0, green: 240.0/255.0, blue: 241.0/255.0, alpha: 1.0) æ”¹å˜é€‰æ‹©æŒ‡ç¤ºå›¾ç‰‡ï¼ˆSelection Indicator Imageï¼‰Selection Indicator Imageå°±æ˜¯æŒ‡tab bar itemè¢«é€‰ä¸­åä¸å…¶å®ƒtab bar itemä¸åŒçš„æ ·å¼,åœ¨ä»£ç ä¸­å’ŒSBä¸­éƒ½å¯ä»¥ä¿®æ”¹ã€‚ UITabBar.appearance().selectionIndicatorImage = UIImage(named: &quot;tabitem-selected&quot;) æœ€ç»ˆæ•ˆæœï¼š æ‹†åˆ†Storyboardå½“é¡¹ç›®å˜å¤§æ—¶ï¼Œä¸€ä¸ªStoryboardå°±ä¼šå¾ˆå¤§ï¼Œå¦‚æœæ˜¯é¡¹ç›®ä¸­æœ‰å¾ˆå¤šäººåˆä½œçš„è¯ï¼Œä¸€ä¸ªStoryboardä¹Ÿå¾ˆéš¾ç®¡ç†ã€‚ä»Xcode7ä¹‹åï¼Œæ–°åŠŸèƒ½storyboard referencesè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ åœ¨Main.storyboardä¸­é€‰æ‹©ï¼Œaboutç›¸å…³çš„ä¸¤ä¸ªview controllerï¼Œç„¶åEditor &gt; Refactor to Storyboardâ€¦ï¼Œæ–°å»ºåä¸ºabout.storyboardçš„storyboardæ–‡ä»¶ï¼Œå°±æŠŠè¿™ä¸ªä¸¤ä¸ªç‹¬ç«‹å‡ºå»äº†ã€‚ æŠŠaboutç›¸å…³çš„view controlleræ‹†åˆ†å‡ºå»åï¼Œåœ¨Main.storyboardé‡Œæœ‰ä¸€ä¸ªå…³è”å›¾æ ‡ï¼ŒåŒå‡»å°±å¯ä»¥è·³è½¬åˆ°about.storyboardä¸­ã€‚ åŒæ ·çš„æ–¹æ³•ï¼Œç‹¬ç«‹å‡ºdiscoverç›¸å…³view controllerï¼Œç”Ÿæˆdiscover.storyboardæ–‡ä»¶ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-tutorial-7ï¼šè§£æXML(swift)]]></title>
    <url>%2F2017%2Fios-tutorial-7-xml.html</url>
    <content type="text"><![CDATA[ä½¿ç”¨XMLParserè§£æXMLæ–‡ä»¶ï¼Œç„¶åç”¨tableå±•ç¤ºæ•°æ®ã€‚ ä»¥Single View Applicationæ¨¡æ¿æ–°å»ºé¡¹ç›®XMLParserTutorialã€‚ åˆ é™¤SBä¸­çš„View Controllerï¼Œæ‹–è¿›ä¸€ä¸ªNavigation Controllerã€‚é€‰æ‹©æ–°çš„View Controllerä¸º â€œIs Initial View Controllerâ€ã€‚è®¾ç½®Navigation Barçš„titleä¸ºBooksã€‚ æ–°å»ºä¸€ä¸ªç»§æ‰¿è‡³UITableViewControllerï¼Œåä¸ºTableViewControllerçš„æ§åˆ¶å™¨æ–‡ä»¶ï¼Œå¹¶ä¸SBçš„æ§åˆ¶å™¨å…³è”ã€‚ æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶Books.xmlï¼Œç”¨äºä¹‹åè§£æï¼Œæ–‡ä»¶å†…å®¹ä¸º: 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot;?&gt;&lt;catalog&gt; &lt;book id=&quot;1&quot;&gt; &lt;title&gt;To Kill a Mockingbird&lt;/title&gt; &lt;author&gt;Harper Lee&lt;/author&gt; &lt;/book&gt; &lt;book id=&quot;2&quot;&gt; &lt;title&gt;1984&lt;/title&gt; &lt;author&gt;George Orwell&lt;/author&gt; &lt;/book&gt; &lt;book id=&quot;3&quot;&gt; &lt;title&gt;The Lord of the Rings&lt;/title&gt; &lt;author&gt;J.R.R Tolkien&lt;/author&gt; &lt;/book&gt; &lt;book id=&quot;4&quot;&gt; &lt;title&gt;The Catcher in the Rye&lt;/title&gt; &lt;author&gt;J.D. Salinger&lt;/author&gt; &lt;/book&gt; &lt;book id=&quot;5&quot;&gt; &lt;title&gt;The Great Gatsby&lt;/title&gt; &lt;author&gt;F. Scott Fitzgerald&lt;/author&gt; &lt;/book&gt;&lt;/catalog&gt; æ–°å»ºä¸€ä¸ªæ–‡ä»¶ Book.swiftï¼š 123456import Foundationclass Book &#123; var bookTitle: String = &quot;&quot; var bookAuthor: String = &quot;&quot;&#125; åœ¨TableViewControllerä¸­æ·»åŠ å‡ ä¸ªå˜é‡ï¼š 1234var books: [Book] = []var eName: String = &quot;&quot;var bookTitle = &quot;&quot;var bookAuthor = &quot;&quot; åœ¨viewDidLoadæ–¹æ³•ä¸­ï¼Œæ·»åŠ è¯»å–XMlæ–‡ä»¶ä»£ç ï¼š 123456789override func viewDidLoad() &#123; super.viewDidLoad() if let path = Bundle.main.url(forResource: &quot;Books&quot;, withExtension: &quot;xml&quot;) &#123; if let parser = XMLParser(contentsOf: path) &#123; parser.delegate = self parser.parse() &#125; &#125; æ·»åŠ Table Viewçš„æ•°æ®æºä»£ç†æ–¹æ³•ï¼š 1234567891011121314151617override func numberOfSections(in tableView: UITableView) -&gt; Int &#123; return 1&#125;override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return books.count&#125;override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) let book = books[indexPath.row] cell.textLabel?.text = book.bookTitle cell.detailTextLabel?.text = book.bookAuthor return cell&#125; è®©TableViewControlleré‡‡çº³XMLParserDelegateåè®®ï¼š class TableViewController: UITableViewController, XMLParserDelegate å®ç°XMLParserDelegateä¸­çš„ä¸‰ä¸ªæ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728293031323334// è§£æXMlå…ƒç´ å¼€å§‹æ—¶func parser(_ parser: XMLParser, didStartElement elementName: String, namespaceURI: String?, qualifiedName qName: String?, attributes attributeDict: [String : String] = [:]) &#123; print(&quot;å¼€å§‹ \(elementName)&quot;) eName = elementName if elementName == &quot;book&quot; &#123; bookTitle = &quot;&quot; bookAuthor = &quot;&quot; &#125;&#125;// æ­£åœ¨è§£æXMlå…ƒç´ func parser(_ parser: XMLParser, foundCharacters string: String) &#123; print(&quot;ing \(eName)&quot;) let data = string.trimmingCharacters(in: NSCharacterSet.whitespacesAndNewlines) if (!data.isEmpty) &#123; if eName == &quot;title&quot; &#123; bookTitle += data &#125; else if eName == &quot;author&quot; &#123; bookAuthor += data &#125; &#125;&#125;// ç»“æŸè§£æXMlå…ƒç´ func parser(_ parser: XMLParser, didEndElement elementName: String, namespaceURI: String?, qualifiedName qName: String?) &#123; print(&quot;ç»“æŸ \(elementName)&quot;) if elementName == &quot;book&quot; &#123; let book = Book() book.bookTitle = bookTitle book.bookAuthor = bookAuthor books.append(book) &#125;&#125; ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«åœ¨XMlå…ƒç´ å¼€å§‹è§£æã€æ­£åœ¨è§£æã€ç»“æŸè§£ææ—¶è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¾ˆå¤šå…ƒç´ æ—¶å°±ä¸åœåœ¨è°ƒç”¨è¿™ä¸‰ä¸ªæ–¹æ³•ã€‚ ä»£ç XMLParserTutorial å‚è€ƒï¼šParsing XML Tutorial]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 19 ä½¿ç”¨UIPageViewControlleræ„å»ºä»‹ç»é¡µé¢]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-19.html</url>
    <content type="text"><![CDATA[ç»§ç»­ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 18 Search Bar å’Œ UISearchController ï¼Œè¿™ä¸€ç¯‡ä½¿ç”¨UIPageViewControlleræ„å»ºä»‹ç»é¡µé¢ï¼Œä¸ä½¿ç”¨LaunchScreen.storyboardçš„å¯åŠ¨é¡µä¸åŒã€‚ å‘Storyboardä¸­æ·»åŠ UIPageViewController åœ¨Storyboardæ‹–è¿›ä¸€ä¸ªUIPageViewControllerã€‚ä¿®æ”¹ç›¸å…³å±æ€§ã€‚ ä¿®æ”¹UIPageViewControllerçš„ storyboard ID ä¸º WalkthroughControllerã€‚ ç±»ä¼¼UINavigationControllerï¼ŒUIPageViewControllerä¹Ÿæ˜¯ä¸€ç§å®¹å™¨ç±»å‹çš„æ§åˆ¶å™¨ã€‚è¿™ç§å®¹å™¨ç±»å‹çš„æ§åˆ¶å™¨æ˜¯ç”¨æ¥ç®¡ç†å…¶å®ƒå¤šä¸ªæ§åˆ¶å™¨çš„ã€‚ å¦‚æœå®¹å™¨å†…çš„æ§åˆ¶å™¨é¡µé¢å…ƒç´ ç±»ä¼¼ï¼ˆä¸Šå›¾å°±æ˜¯è¿™ç§æƒ…å†µï¼‰ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨é‡å¤åˆ©ç”¨ã€‚ è®¾è®¡ä»‹ç»é¡µ ä¸‹è½½ä»‹ç»é¡µæ‰€éœ€çš„å›¾ç‰‡ï¼Œæ‹–åˆ°Assets.xcassetã€‚ æ‹–åŠ¨ä¸€ä¸ªæ–°çš„View Controlleråˆ°SBä¸­ï¼ˆä½œä¸ºé‡å¤ä½¿ç”¨çš„æ§åˆ¶å™¨ï¼‰ï¼Œåšä¸€äº›UIè®¾è®¡ï¼š è®¾ç½®èƒŒæ™¯ä¸ºçº¢è‰² æ·»åŠ ä¸€ä¸ªLabelåä¸ºPersonalizeï¼Œé€‰æ‹©åˆé€‚çš„å­—ä½“å’Œå¤§å°ï¼Œå±…ä¸­ã€‚ æ·»åŠ ä¸€ä¸ªImage Viewï¼Œ300*232ï¼Œå±…ä¸­ã€‚ æ·»åŠ å¦ä¸€ä¸ªLabelåä¸ºPin your favorite restaurants and create your own food guideï¼Œ282*64ï¼Œè¡Œæ•°ä¸º0ï¼Œå±…ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„å­—ä½“å’Œå¤§å°ã€‚ æ·»åŠ ä¸€äº›çº¦æŸ è®¾ç½®æ–°çš„View Controllerçš„ storyboard ID ä¸º WalkthroughContentViewControllerã€‚æœ€åå¤§æ¦‚å¦‚ä¸‹ï¼š åˆ›å»ºWalkthroughContentViewController åˆ›å»ºWalkthroughContentViewControllerç±»æ–‡ä»¶ï¼Œç»§æ‰¿è‡³UIViewControllerï¼Œå¹¶å…³è”ä¸Šé¢æ·»åŠ çš„æ–°View Controllerã€‚ æ·»åŠ ä¸‰ä¸ªæ¥å£ï¼Œå…³è”ä¸¤ä¸ªLabelå’Œä¸€ä¸ªimage viewï¼›æ·»åŠ å››ä¸ªå˜é‡ï¼Œå…¶ä¸­indexæ˜¯æŒ‡å¤šä¸ªä»‹ç»é¡µçš„ç´¢å¼•ã€‚ 12345678@IBOutlet var headingLabel: UILabel!@IBOutlet var contentLabel: UILabel!@IBOutlet var contentImageView: UIImageView!var index = 0var heading = &quot;&quot;var imageFile = &quot;&quot;var content = &quot;&quot; ä¿®æ”¹viewDidLoadä¸ºï¼š 1234567override func viewDidLoad() &#123; super.viewDidLoad() headingLabel.text = heading contentLabel.text = content contentImageView.image = UIImage(named: imageFile)&#125; å®ç° UIPageViewController æ–°å»ºç±»WalkthroughPageViewControllerï¼Œç»§æ‰¿è‡³UIPageViewControllerã€‚ è®©WalkthroughPageViewControlleç¬¦åˆUIPageViewControllerDataSourceåè®®ã€‚ class WalkthroughPageViewController: UIPageViewController, UIPageViewControllerDataSource æ–°å»ºå‡ ä¸ªå˜é‡ï¼Œç”¨äºæ˜¾ç¤ºä»‹ç»é¡µä¸­çš„å†…å®¹ã€‚ 123var pageHeadings = [&quot;Personalize&quot;, &quot;Locate&quot;, &quot;Discover&quot;]var pageImages = [&quot;foodpin-intro-1&quot;, &quot;foodpin-intro-2&quot;, &quot;foodpin-intro-3&quot;]var pageContent = [&quot;Pin your favorite restaurants and create your own foodguide&quot;, &quot;Search and locate your favourite restaurant on Maps&quot;, &quot;Find restaurants pinned by your friends and other foodies around the world&quot;] å®ç°UIPageViewControllerDataSourceåè®®çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«åœ¨ä»‹ç»é¡µç¿»åˆ°ä¸‹ä¸€ä¸ªå’Œç¿»åˆ°ä¸Šä¸€ä¸ªæ—¶è°ƒç”¨ã€‚contentViewControllerå‡½æ•°çš„ä½œç”¨æ˜¯æ ¹æ®ä»‹ç»é¡µçš„ç´¢å¼•è·å–ä¸åŒçš„æ•°æ®ã€‚instantiateViewControlleræ–¹æ³•æ ¹æ®storyboardçš„ä¸­storyboard IDç”Ÿæˆè§†å›¾æ§åˆ¶å™¨ã€‚ 1234567891011121314151617181920212223242526272829303132func pageViewController(_ pageViewController: UIPageViewController, viewControllerBefore viewController: UIViewController) -&gt; UIViewController? &#123; var index = (viewController as! WalkthroughContentViewController).index index -= 1 return contentViewController(at: index)&#125;func pageViewController(_ pageViewController: UIPageViewController, viewControllerAfter viewController: UIViewController) -&gt; UIViewController? &#123; var index = (viewController as! WalkthroughContentViewController).index index += 1 return contentViewController(at: index)&#125;func contentViewController(at index: Int) -&gt; WalkthroughContentViewController? &#123; if index &lt; 0 || index &gt;= pageHeadings.count &#123; return nil &#125; if let pageContentViewController = storyboard?.instantiateViewController(withIdentifier: &quot;WalkthroughContentViewController&quot;) as? WalkthroughContentViewController &#123; pageContentViewController.imageFile = pageImages[index] pageContentViewController.heading = pageHeadings[index] pageContentViewController.content = pageContent[index] pageContentViewController.index = index return pageContentViewController &#125; return nil&#125; ä¿®æ”¹viewDidLoadï¼š 12345678override func viewDidLoad() &#123; super.viewDidLoad() dataSource = self if let startingViewController = contentViewController(at: 0) &#123; setViewControllers([startingViewController], direction: .forward, animated: true, completion: nil) &#125;&#125; setViewControllersæ–¹æ³•æ˜¯è®¾ç½®UIPageViewControllerç®¡ç†çš„è§†å›¾æ§åˆ¶å™¨ã€‚ è®©ä»‹ç»é¡µåœ¨é¦–é¡µæ˜¾ç¤ºåè·³å‡ºã€‚ åœ¨RestaurantTableViewControlleä¸­æ·»åŠ ï¼š123456override func viewDidAppear(_ animated: Bool) &#123; super.viewDidAppear(animated) if let pageViewController = storyboard?.instantiateViewController(withIdentifier: &quot;WalkthroughController&quot;) as? WalkthroughPageViewController &#123; present(pageViewController, animated: true, completion: nil) &#125;&#125; æ·»åŠ é»˜è®¤é¡µé¢æŒ‡ç¤ºé¡µé¢æŒ‡ç¤ºå°±æ˜¯ä¸€èˆ¬åœ¨é¡µé¢ä¸‹ç”¨äºåˆ†è¾¨å½“å‰æ˜¯ç¬¬ä¸€ä¸ªé¡µé¢çš„å‡ ä¸ªå°ç‚¹ã€‚å®ç°UIPageViewControllerDataSourceåè®®çš„ä¸¤ä¸ªæ–¹æ³•ï¼špresentationCount(for:)è¡¨ç¤ºæ€»å…±æœ‰å‡ ä¸ªå°ç‚¹ï¼ˆé¡µé¢ï¼‰ã€‚presentationIndex(for:)è¡¨ç¤ºå½“å‰é¡µé¢çš„ç´¢å¼•ã€‚12345678910func presentationCount(for pageViewController: UIPageViewController) -&gt; Int &#123; return pageHeadings.count&#125;func presentationIndex(for pageViewController: UIPageViewController) -&gt; Int &#123; if let pageContentViewController = storyboard?.instantiateViewController(withIdentifier: &quot;WalkthroughContentViewController&quot;) as? WalkthroughContentViewController &#123; return pageContentViewController.index &#125; return 0&#125; ä¿®æ”¹é¡µé¢æŒ‡ç¤ºçš„æ ·å¼ä¸ç”¨é»˜è®¤çš„é¡µé¢æŒ‡ç¤ºï¼Œå°±è¦æŠŠä¸Šé¢ä¸¤ä¸ªæ–¹æ³•åˆ é™¤ï¼Œç„¶åä½¿ç”¨UIPageControlã€‚ åˆ é™¤ä¸Šé¢å®ç°çš„ä¸¤ä¸ªæ–¹æ³•ã€‚ä»å¯¹è±¡åº“ä¸­æ‹–ä¸€ä¸ªPage Controlåˆ°walkthrough content view controlleråº•éƒ¨ï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ä¿®æ”¹é€‚å½“å±æ€§ï¼Œå¹¶æ·»åŠ çº¦æŸã€‚ åœ¨WalkthroughContentViewControllerä¸­æ·»åŠ æ¥å£@IBOutlet var pageControl: UIPageControl!å¹¶ä¸Page Controlå…³è”ã€‚åœ¨viewDidLoadä¸­æ·»åŠ pageControl.currentPage = index æ·»åŠ NEXT/DONEæŒ‰é’® åœ¨walkthrough content view controllerå³ä¸‹è§’æ·»åŠ ä¸€ä¸ªæŒ‰é’®åä¸ºNEXTã€‚ åœ¨WalkthroughContentViewControllerä¸­æ·»åŠ æ¥å£ï¼Œå¹¶æŒ‰é’®å…³è”ã€‚ @IBOutlet var forwardButton: UIButton! åœ¨viewDidLoadä¸­æ·»åŠ æ ¹æ®ç´¢å¼•åˆ¤æ–­æŒ‰é’®åçš„ä»£ç ï¼š 12345switch index &#123;case 0...1: forwardButton.setTitle(&quot;NEXT&quot;, for: .normal)case 2: forwardButton.setTitle(&quot;DONE&quot;, for: .normal)default: break&#125; æ·»åŠ ç‚¹å‡»æŒ‰é’®çš„actionï¼Œå¹¶ä¸æŒ‰é’®å…³è” 12345678910@IBAction func nextButtonTapped(sender: UIButton) &#123; switch index &#123; case 0...1: let pageViewController = parent as! WalkthroughPageViewController pageViewController.forward(index: index) case 2: dismiss(animated: true, completion: nil) default: break &#125;&#125; åœ¨WalkthroughPageViewControllerä¸­æ·»åŠ æ–¹æ³•ï¼š 12345func forward(index: Int) &#123; if let nextViewController = contentViewController(at: index + 1) &#123; setViewControllers([nextViewController], direction: .forward, animated: true, completion: nil) &#125;&#125; å®Œæˆç±»ä¼¼ä¸‹é¢ï¼š ä½†å› ä¸ºä¹‹å‰æ˜¯åˆ©ç”¨RestaurantTableViewControllerçš„viewDidAppearæ–¹æ³•æ˜¾ç¤ºä»‹ç»é¡µçš„ï¼Œè€ŒviewDidAppearæ–¹æ³•æ˜¯é¡µé¢æ˜¾ç¤ºåå°±è°ƒç”¨ä¸€ä¸‹ï¼Œè¿™æ ·å°±å‡ºç°ä¸åœè¿›å…¥ä»‹ç»é¡µã€‚å®é™…ä¸Šåªéœ€è¦ç¬¬ä¸€æ¬¡æ‰“å¼€appçš„æ—¶æ˜¾ç¤ºä»‹ç»é¡µå°±å¯ä»¥äº†ã€‚ UserDefaultsçš„ä½¿ç”¨UserDefaultsæ˜¯ç”¨æ¥ç®¡ç†åº”ç”¨å’Œç”¨æˆ·ç›¸å…³çš„è®¾ç½®çš„ã€‚ä¹Ÿå°±æ˜¯å¯ä»¥ç”¨UserDefaultså­˜å‚¨ä¸€äº›ç”¨æˆ·ç›¸å…³çš„å°‘é‡æ•°æ®ï¼Œæ¯”å¦‚ä¸Šé¢çš„æ˜¯å¦çœ‹è¿‡ä»‹ç»é¡µï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦ç‚¹å‡»è¿‡DONEæŒ‰é’®äº†ã€‚UserDefaultsä¹Ÿæ˜¯é€šè¿‡å•ä¾‹æ¨¡å¼è¿›è¡Œæ“ä½œçš„ï¼Œé€šè¿‡ç±»å±æ€§standardè·å–å•ä¾‹ã€‚ nextButtonTappedä¸­ç‚¹å‡»DONEæŒ‰é’®æ—¶è®¾ç½®ä¸€ä¸ªå€¼æ ‡å¿—ï¼š 1234567891011@IBAction func nextButtonTapped(sender: UIButton) &#123; switch index &#123; case 0...1: let pageViewController = parent as! WalkthroughPageViewController pageViewController.forward(index: index) case 2: UserDefaults.standard.set(true, forKey: &quot;hasViewedWalkthrough&quot;) dismiss(animated: true, completion: nil) default: break &#125;&#125; å†åˆ°RestaurantTableViewControllerçš„viewDidAppearåˆ¤æ–­å¯¹åº”keyå€¼ã€‚ 123456789override func viewDidAppear(_ animated: Bool) &#123; super.viewDidAppear(animated) if UserDefaults.standard.bool(forKey: &quot;hasViewedWalkthrough&quot;) &#123; return &#125; if let pageViewController = storyboard?.instantiateViewController(withIdentifier: &quot;WalkthroughController&quot;) as? WalkthroughPageViewController &#123; present(pageViewController, animated: true, completion: nil) &#125;&#125; å®Œæˆä»‹ç»é¡µã€‚å­¦ä¹ äº†UIPageViewControllerå’ŒUserDefaultsã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 18 Search Bar å’Œ UISearchController]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-18.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 17 ä½¿ç”¨Core Data æ˜¯ä½¿ç”¨Core Dataå­˜å‚¨æ•°æ®ï¼Œè¿™ä¸€ç¯‡æ˜¯æ·»åŠ æœç´¢åŠŸèƒ½ã€‚ ä½¿ç”¨ UISearchControllerUISearchControlleræ˜¯ä¸€ä¸ªç®€æ´çš„åˆ›å»ºæœç´¢æ¡å’Œç®¡ç†æœç´¢ç»“æœçš„APIã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºä»¥tableä¸ºåŸºç¡€çš„appæ·»åŠ æœç´¢æ¡åªéœ€è¦ä¸‹é¢ä¸‰è¡Œä»£ç å°±å¯ä»¥äº†ï¼ŒsearchResultsControllerä¸ºnilæ—¶æœç´¢ç»“æœæ˜¾ç¤ºå°±åœ¨å½“å‰æœç´¢çš„é¡µé¢ä»¥å½“å‰çš„æ ·å¼æ˜¾ç¤ºã€‚123searchController = UISearchController(searchResultsController: nil)searchController.searchResultsUpdater = selftableView.tableHeaderView = searchController.searchBar ä¸ºæˆ‘çš„FoodPinåº”ç”¨æ·»åŠ æœç´¢æ¡: åœ¨RestaurantTableViewControllerä¸­æ·»åŠ ä¸€ä¸ªå˜é‡ï¼š var searchController: UISearchController! åœ¨viewDidLoadä¸­åˆå§‹åŒ–ï¼š searchController = UISearchController(searchResultsController: nil) tableView.tableHeaderView = searchController.searchBar è¿™æ ·å°±æ·»åŠ äº†æœç´¢æ¡ï¼Œä½†è¿˜æ¯å¤©æ·»åŠ æœç´¢é€»è¾‘ï¼Œæœç´¢æ²¡æ•ˆã€‚ ç­›é€‰å†…å®¹ åœ¨RestaurantTableViewControllerä¸­ç»§ç»­æ·»åŠ ä¸€ä¸ªå˜é‡ï¼Œç”¨æˆ·å­˜å‚¨ç­›é€‰ç»“æœï¼š var searchResults: [RestaurantMO] = [] æ·»åŠ ç­›é€‰æ–¹æ³•ï¼š 1234567891011func filterContent(for searchText: String) &#123; searchResults = restaurants.filter(&#123; (restaurant) -&gt; Bool in if let name = restaurant.name &#123; let isMatch = name.localizedCaseInsensitiveContains(searchText) return isMatch &#125; return false &#125;)&#125; filteræ˜¯æ•°ç»„çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒéå†æ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œé—­åŒ…ä¸­çš„æ“ä½œï¼Œæ ¹æ®ç»“æœåˆ¤æ–­æ˜¯å¦åˆ é™¤å¯¹åº”é¡¹ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªç­›é€‰çš„æ•°ç»„ã€‚localizedCaseInsensitiveContainsæ–¹æ³•ç”¨æ¥åˆ¤æ–­nameä¸­æ˜¯å¦åŒ…å«searchTextï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ æ›´æ–°æœç´¢ç»“æœ è®©RestaurantTableViewController â€œç¬¦åˆâ€ UISearchResultsUpdatingåè®®ï¼š class RestaurantTableViewController: UITableViewController, NSFetchedResultsControllerDelegate, UISearchResultsUpdating å®ç°UISearchResultsUpdatingåè®®ï¼šä¸­çš„updateSearchResults(for:)æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æœç´¢æ¡è¢«é€‰åˆ™å’Œè¾“å…¥æœç´¢å­—æ—¶è°ƒç”¨ï¼š 123456func updateSearchResults(for searchController: UISearchController) &#123; if let searchText = searchController.searchBar.text &#123; filterContent(for: searchText) tableView.reloadData() &#125;&#125; æ›´æ–°tableView(_:numberOfRowsInSection:)ã€‚UISearchControlleræœ‰ä¸€ä¸ªisActiveå±æ€§ç”¨æ¥åˆ¤æ–­æœç´¢æ§åˆ¶å™¨å½“å‰æ´»è·ƒçŠ¶æ€ã€‚ 1234567override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; if searchController.isActive &#123; return searchResults.count &#125; else &#123; return restaurants.count &#125;&#125; æ›´æ–°tableView(_:cellForRowAt:)ã€‚æ ¹æ®UISearchControllerçš„çŠ¶æ€åˆ¤æ–­æ˜¯ä»restaurantsä¸­è·å–æ•°æ®è¿˜æ˜¯searchResultsã€‚ 1234567891011121314151617override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) as! RestaurantTableViewCell let restaurant = (searchController.isActive) ? searchResults[indexPath.row] : restaurants[indexPath.row] cell.nameLabel.text = restaurant.name cell.thumbnailImageView.image = UIImage(data: restaurant.image! as Data) cell.thumbnailImageView.layer.cornerRadius = 30.0 cell.thumbnailImageView.clipsToBounds = true cell.locationLabel.text = restaurant.location cell.typeLabel.text = restaurant.type cell.accessoryType = restaurant.isVisited ? .checkmark: .none return cell&#125; å®ç°ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œè®©tableåœ¨æœç´¢çŠ¶æ€ä¸‹ä¸å¯ä»¥æ»‘åŠ¨ç¼–è¾‘ã€‚ 1234567override func tableView(_ tableView: UITableView, canEditRowAt indexPath: IndexPath) -&gt; Bool &#123; if searchController.isActive &#123; return false &#125; else &#123; return true &#125;&#125; æ›´æ–°prepare(for:)ï¼Œè®©segueåœ¨ä¼ è¾“æ•°æ®åˆ°detail viewæ—¶çš„æ•°æ®ä¹Ÿç›¸å¯¹åº”ã€‚ destinationController.restaurant = searchController.isActive ? searchResults[indexPath.row] : restaurants[indexPath.row åœ¨viewDidLoadä¸­æ·»åŠ ä¸¤è¡Œä»£ç ï¼š 12searchController.searchResultsUpdater = selfsearchController.dimsBackgroundDuringPresentation = false ç°åœ¨å°±å®Œæˆäº†æœç´¢åŠŸèƒ½ã€‚ å®šåˆ¶æœç´¢æ¡çš„æ ·å¼UISearchBaræä¾›ä¸€äº›å±æ€§ç”¨æ¥å®šåˆ¶ã€‚åœ¨viewDidLoadä¸­æ·»åŠ ï¼š1234searchController.searchBar.placeholder = &quot;Search restaurants...&quot;searchController.searchBar.tintColor = UIColor.whitesearchController.searchBar.barTintColor = UIColor(red: 218.0/255.0, green:100.0/255.0, blue: 70.0/255.0, alpha: 1.0) Exerciseï¼šæ·»åŠ åœ°å€æœç´¢åªéœ€è¦æ›´æ”¹æœç´¢å‡½æ•°filterContentï¼š12345678910111213searchResults = restaurants.filter(&#123; (restaurant) -&gt; Bool in if let name = restaurant.name, let location = restaurant.location &#123; let isMatchName = name.localizedCaseInsensitiveContains(searchText) let isMatchLocation = location.localizedCaseInsensitiveContains(searchText) if isMatchName || isMatchLocation &#123; return true &#125; &#125; return false &#125;) ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 17 ä½¿ç”¨Core Data]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-17.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡ å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 16 ä»‹ç»é™æ€Table Viewsï¼ŒUIImagePickerControllerå’ŒNSLayoutConstraint ä¸­æ·»åŠ æ–°å»ºrestauranté¡µé¢ï¼Œä½†æœ€åæ•°æ®å¹¶æ²¡æœ‰ä¿å­˜ä¸‹æ¥ï¼Œè¿™ä¸€ç¯‡ä½¿ç”¨Core Dataæ–¹å¼æ¥æŒä¹…åŒ–ä¿å­˜æ•°æ®ã€‚ æ•°æ®æŒä¹…åŒ–ä¸€èˆ¬æ˜¯æŒ‡æ•°æ®åº“ä¿å­˜ã€‚åœ¨Webå¼€å‘ä¸­ï¼Œå¸¸ç”¨Oracleæˆ–MySQLç­‰å…³ç³»æ•°æ®åº“æ¥ä¿å­˜æ•°æ®ï¼Œé€šè¿‡SQLè¯­å¥æŸ¥è¯¢ã€‚åœ¨iOSä¸­å¯¹åº”çš„æ•°æ®åº“æ˜¯SQLiteã€‚Core Dataä¸æ˜¯æ•°æ®åº“ï¼Œå®ƒæ˜¯è®©å¼€å‘è€…é€šè¿‡é¢å‘å¯¹è±¡æ–¹å¼ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’çš„åº“ã€‚ ä½¿ç”¨Core Dataçš„ä¾‹å­æ–°å»ºä¸€ä¸ªä½¿ç”¨Core Dataçš„é¡¹ç›®ï¼Œåœ¨AppDelegateç±»ä¸­ä¼šæ¯”å¹³å¸¸å¤šäº†ä¸€ä¸ªå˜é‡å’Œä¸€æ–¹æ³•ï¼Œå¦å¤–è¿˜å¤šäº†ä¸€ä¸ªæ–‡ä»¶CoreDataDemo.xcdatamodeldã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142lazy var persistentContainer: NSPersistentContainer = &#123; /* The persistent container for the application. This implementation creates and returns a container, having loaded the store for the application to it. This property is optional since there are legitimate error conditions that could cause the creation of the store to fail. */ let container = NSPersistentContainer(name: &quot;CoreDataDemo&quot;) container.loadPersistentStores(completionHandler: &#123; (storeDescription, error) in if let error = error as NSError? &#123; // Replace this implementation with code to handle the error appropriately. // fatalError() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. /* Typical reasons for an error here include: * The parent directory does not exist, cannot be created, or disallows writing. * The persistent store is not accessible, due to permissions or data protection when the device is locked. * The device is out of space. * The store could not be migrated to the current model version. Check the error message to determine what the actual problem was. */ fatalError(&quot;Unresolved error \(error), \(error.userInfo)&quot;) &#125; &#125;) return container&#125;()// MARK: - Core Data Saving supportfunc saveContext () &#123; let context = persistentContainer.viewContext if context.hasChanges &#123; do &#123; try context.save() &#125; catch &#123; // Replace this implementation with code to handle the error appropriately. // fatalError() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. let nserror = error as NSError fatalError(&quot;Unresolved error \(nserror), \(nserror.userInfo)&quot;) &#125; &#125;&#125; å˜é‡persistentContaineræ˜¯NSPersistentContainerçš„å®ä¾‹ï¼Œlet container = NSPersistentContainer(name: &quot;CoreDataDemo&quot;)å¯¹åº”CoreDataDemo.xcdatamodeldæ–‡ä»¶ï¼Œå¦‚æœæ˜¯è‡ªå·±æ·»åŠ æ—¶åå­—éœ€è¦å¯¹åº”ã€‚ å½“æ•°æ®å˜åŒ–(insert/update/delete)æ—¶ ï¼Œè°ƒç”¨saveContextæ–¹æ³•ä¿å­˜æ•°æ®ã€‚ å‘é¡¹ç›®ä¸­æ·»åŠ Data Model å³å‡»FoodPinæ–‡ä»¶å¤¹ï¼Œé€‰æ‹©æ–°å»ºData Modelæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºFoodPinã€‚ é€‰ä¸­æ–°ç”Ÿæˆçš„FoodPin.xcdatamodeldï¼Œæ·»åŠ ä¸€ä¸ªRestaurant Entityï¼Œç„¶åå†åœ¨æ­¤Entityä¸‹æ·»åŠ ä¸€äº›å±æ€§ã€‚ é€‰ä¸­ç‰¹å®šå±æ€§åå¯åœ¨å³ä¾§æ£€æŸ¥å™¨ä¸­è®¾ç½®ç›¸å…³ç‰¹æ€§ï¼Œæ¯”å¦‚æ˜¯å¦å¼ºåˆ¶éœ€è¦ã€‚ åˆ›å»ºManaged ObjectsCore Dataæ¡†æ¶ä¸­çš„ Managed Objectsä¸Entityä¹‹é—´çš„å…³ç³»ï¼Œæœ‰ç‚¹åƒä»£ç ä¸­ æ¥å£å˜é‡ å’Œ UI objectsä¹‹é—´çš„å…³ç³»ã€‚xcodeå¯è‡ªåŠ¨ç”ŸæˆManaged Objectsã€‚ é€‰ä¸­Restaurant Entityï¼Œåœ¨æ£€æŸ¥å™¨ä¸­ä¿®æ”¹classçš„nameä¸ºRestaurantMOï¼ŒCodegen ä¸º Class Definitionã€‚ command-R æˆ– comman-Bä¸€ä¸‹ï¼Œè¡¨é¢ä¸Šæ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œåœ¨project navigatorä¸­æ²¡æœ‰å¤šå‡ºæ–‡ä»¶ã€‚å®é™…ä¸Šå·²ç»ç”ŸæˆRestaurantMOç±»ï¼Œä»£ç å·²ç»å¯ä»¥ä½¿ç”¨äº†ï¼Œå¦‚æœä½¿ç”¨command+ç‚¹å‡» RestaurantMOï¼Œå°±å¯ä»¥çœ‹åˆ°RestaurantMOçš„ä»£ç ï¼š ä¿®æ”¹ç›¸å…³å—å½±å“çš„ä»£ç  RestaurantTableViewController.swifté‡æ–°å®šä¹‰restaurants: var restaurants:[RestaurantMO] = []ç”±äºCoreDataä¸­å­˜å‚¨å›¾ç‰‡æ˜¯äºŒè¿›åˆ¶ï¼Œå¼•ç”¨æ—¶ä¸èƒ½ç”¨æ–‡ä»¶å: 12cell.thumbnailImageView.image = UIImage(data: restaurants[indexPath.row].imageas! Data) 12 if let imageToShare = UIImage(data: self.restaurants[indexPath.row].image as!Data) &#123; ç”±äºRestaurantMOçš„å±æ€§å€¼æ˜¯å¯é€‰å€¼ï¼Œä½¿ç”¨æ—¶éœ€è¦è§£åŒ…ï¼š 1let defaultText = &quot;Just checking in at &quot; + self.restaurants[indexPath.row].name! RestaurantDetailViewController.swift 1var restaurant:RestaurantMO! 1restaurantImageView.image = UIImage(data: restaurant.image as! Data) 12 geoCoder.geocodeAddressString(restaurant.location!, completionHandler: &#123;placemarks, error in MapViewController.swift 1var restaurant:RestaurantMO! 1leftIconView.image = UIImage(data: restaurant.image as! Data) ReviewViewController.swift 1var restaurant:RestaurantMO! 1restaurantImageView.image = UIImage(data: restaurant.image as! Data) ç°åœ¨èƒ½æˆåŠŸè¿è¡Œï¼Œå‘ç°æ˜¯æ²¡æœ‰æ•°æ®çš„ã€‚ ä¿å­˜æ–°æ•°æ®åˆ°æ•°æ®åº“ åœ¨AddTableViewController.swiftä¸­å¼•å…¥Core Dataï¼šimport CoreDataã€‚æ·»åŠ å˜é‡var restaurant:RestaurantMO!ã€‚ åœ¨AppDelegateä¸­åŠ å…¥ä¸Šé¢ä¾‹å­ä¸€ä¸ªå˜é‡å’Œä¸€æ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344// MARK: - Core Data stack lazy var persistentContainer: NSPersistentContainer = &#123; /* The persistent container for the application. This implementation creates and returns a container, having loaded the store for the application to it. This property is optional since there are legitimate error conditions that could cause the creation of the store to fail. */ let container = NSPersistentContainer(name: &quot;FoodPin&quot;) container.loadPersistentStores(completionHandler: &#123; (storeDescription, error) in if let error = error as NSError? &#123; // Replace this implementation with code to handle the error appropriately. // fatalError() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. /* Typical reasons for an error here include: * The parent directory does not exist, cannot be created, or disallows writing. * The persistent store is not accessible, due to permissions or data protection when the device is locked. * The device is out of space. * The store could not be migrated to the current model version. Check the error message to determine what the actual problem was. */ fatalError(&quot;Unresolved error \(error), \(error.userInfo)&quot;) &#125; &#125;) return container &#125;() // MARK: - Core Data Saving support func saveContext () &#123; let context = persistentContainer.viewContext if context.hasChanges &#123; do &#123; try context.save() &#125; catch &#123; // Replace this implementation with code to handle the error appropriately. // fatalError() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. let nserror = error as NSError fatalError(&quot;Unresolved error \(nserror), \(nserror.userInfo)&quot;) &#125; &#125; &#125; åœ¨AddTableViewControllerçš„saveæ–¹æ³•çš„dismissä¹‹å‰æ’å…¥ï¼š 123456789101112131415161718// 1if let appDelegate = (UIApplication.shared.delegate as? AppDelegate) &#123; restaurant = RestaurantMO(context: appDelegate.persistentContainer.viewContext) restaurant.name = nameTextField.text restaurant.type = typeTextField.text restaurant.location = locationTextField.text restaurant.isVisited = isVisited if let restaurantImage = photoImageView.image &#123; // 2 if let imageData = UIImagePNGRepresentation(restaurantImage) &#123; restaurant.image = NSData(data: imageData) &#125; &#125; print(&quot;Saving data to context ...&quot;) appDelegate.saveContext()&#125; UIApplication.sharedè¿™ç§å½¢å¼æ˜¯iOS SDKä¸­æ¯”è¾ƒå¸¸ç”¨å•ä¾‹æ¨¡å¼ï¼Œå°±æ˜¯é€šè¿‡ä¸€ä¸ªç±»å±æ€§sharedè·å–æ•´ä¸ªappè¿è¡Œè¿‡ç¨‹åªéœ€è¦ä¸€ä¸ªå®ä¾‹çš„æ–¹æ³•ã€‚UIApplication.shared.delegate as? AppDelegateå°±è·å–äº†AppDelegateå¯¹è±¡ã€‚ è·å–å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®å¯¹è±¡ã€‚ è¿è¡Œï¼Œæ·»åŠ æ–°çš„restaurantåå¹¶æ²¡æœ‰åœ¨Food Pinä¸­æ˜¾ç¤ºï¼Œå®é™…å·²ç»æ·»åŠ åˆ°æ•°æ®åº“ä¸­ï¼Œåœ¨RestaurantTableViewControlleré‡Œæ²¡æœ‰å‘æ•°æ®åº“è·å–ã€‚ é€šè¿‡CoreDataè·å–æ•°æ® åœ¨RestaurantTableViewController.swiftä¸­æ·»åŠ import CoreDataã€‚å®ç°åè®®NSFetchedResultsControllerDelegateï¼Œè¿™ä¸ªåè®®ä¸­æœ‰æ–¹æ³•ï¼Œä»»ä½•æ—¶å€™å½“è·å–æ¥çš„æ•°æ®æœ‰å˜åŒ–æ—¶ç«‹å³é€šçŸ¥ä»£ç†ã€‚class RestaurantTableViewController: UITableViewController, NSFetchedResultsControllerDelegate å®šä¹‰ä¸€ä¸ªå˜é‡var fetchResultController: NSFetchedResultsController&lt;RestaurantMO&gt;! åœ¨viewDidLoadä¸­æ·»åŠ  123456789101112131415161718192021// 1 let fetchRequest: NSFetchRequest&lt;RestaurantMO&gt; = RestaurantMO.fetchRequest()// 2let sortDescriptor = NSSortDescriptor(key: &quot;name&quot;, ascending: true)fetchRequest.sortDescriptors = [sortDescriptor]if let appDelegate = (UIApplication.shared.delegate as? AppDelegate) &#123; let context = appDelegate.persistentContainer.viewContext fetchResultController = NSFetchedResultsController(fetchRequest: fetchRequest, managedObjectContext: context, sectionNameKeyPath: nil, cacheName: nil) fetchResultController.delegate = self&#125;do &#123; // 3 try fetchResultController.performFetch() if let fetchedObjects = fetchResultController.fetchedObjects &#123; // 4 restaurants = fetchedObjects &#125;&#125; catch &#123; print(error)&#125; 1 ä»RestaurantMOå¯¹è±¡è·å¾—æ•°æ®è¯·æ±‚å¯¹è±¡NSFetchRequestã€‚ 2 é€šè¿‡NSSortDescriptoræ¥è®¾ç½®è·å–ç»“æœçš„æ’åºæ–¹å¼ã€‚ 3 performFetchæ–¹æ³•æ‰§è¡Œä»æ•°æ®åº“ä¸­è·å–æ•°æ®è¯·æ±‚ã€‚ 4 æŠŠè¯·æ±‚ç»“æœå¤åˆ¶ç»™å˜é‡restaurantsã€‚ æ•°æ®åº“ä¸­æ•°æ®å˜åŒ–ï¼Œå°†è°ƒç”¨æ¥è‡ªNSFetchedResultsControllerDelegateä¸‰ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨ä¸‰ä¸ªæ–¹æ³•çš„æ—¶é—´å¯ä»¥ç®€å•çš„ç†è§£åˆ†åˆ«ä¸ºæ•°æ®å°†è¦æ”¹å˜ã€æ•°æ®æ­£åœ¨æ”¹å˜ã€æ•°æ®æ”¹å˜åï¼šcontrollerWillChangeContent(_:)controller(_:didChange:at:for:newIndexPath:)controllerDidChangeContent(_:) æ–¹æ³•çš„å®ç°ï¼Œä¹Ÿåˆ†åˆ«å¯¹table viewæœ‰ä¸åŒå¤„ç†ï¼š 123456789101112131415161718192021222324252627282930func controllerWillChangeContent(_ controller: NSFetchedResultsController&lt;NSFetchRequestResult&gt;) &#123; tableView.beginUpdates()&#125;func controller(_ controller: NSFetchedResultsController&lt;NSFetchRequestResult&gt;, didChange anObject: Any, at indexPath: IndexPath?, for type: NSFetchedResultsChangeType, newIndexPath: IndexPath?) &#123; switch type &#123; case .insert: if let newIndexPath = newIndexPath &#123; tableView.insertRows(at: [newIndexPath], with: .fade) &#125; case .delete: if let indexPath = indexPath &#123; tableView.deleteRows(at: [indexPath], with: .fade) &#125; case .update: if let indexPath = indexPath &#123; tableView.reloadRows(at: [indexPath], with: .fade) &#125; default: tableView.reloadData() &#125; if let fetchedObjects = controller.fetchedObjects &#123; restaurants = fetchedObjects as! [RestaurantMO] &#125;&#125;func controllerDidChangeContent(_ controller: NSFetchedResultsController&lt;NSFetchRequestResult&gt;) &#123; tableView.endUpdates()&#125; ç°åœ¨è¿è¡Œç¨‹åºï¼Œæ·»åŠ æ–°çš„Restaurantå°±èƒ½åŒæ­¥æ˜¾ç¤ºäº†ã€‚ é€šè¿‡CoreDataåˆ é™¤æ•°æ®æ›´æ–°RestaurantTableViewControllerçš„tableView(_:editActionsForRowAt:_)æ–¹æ³•ä¸­çš„ deleteActionã€‚1234567891011let deleteAction = UITableViewRowAction(style: .default, title: &quot;Delete&quot;, handler: &#123; (action, indexPath) -&gt; Void in if let appDelegate = (UIApplication.shared.delegate as? AppDelegate) &#123; let context = appDelegate.persistentContainer.viewContext let restaurantToDelete = self.fetchResultController.object(at: indexPath) context.delete(restaurantToDelete) appDelegate.saveContext() &#125; &#125;) ç°åœ¨åˆ é™¤ä¸€é¡¹åï¼Œé‡æ–°å¯åŠ¨åï¼Œæ•°æ®æ¶ˆå¤±ã€‚ æ›´æ–°æ•°æ®æ›´æ–°RestaurantDetailViewControllerçš„ä¸­çš„ActionratingButtonTapped: ï¼š12345678910111213141516171819202122@IBAction func ratingButtonTapped(segue: UIStoryboardSegue) &#123; if let rating = segue.identifier &#123; restaurant.isVisited = true switch rating &#123; case &quot;great&quot;: restaurant.rating = &quot;Absolutely love it! Must try.&quot; case &quot;good&quot;: restaurant.rating = &quot;Pretty good.&quot; case &quot;dislike&quot;: restaurant.rating = &quot;I don&apos;t like it.&quot; default: break &#125; &#125; if let appDelegate = (UIApplication.shared.delegate as? AppDelegate) &#123; appDelegate.saveContext() &#125; tableView.reloadData()&#125; ç°åœ¨è¯„ä»·ä¸€é¡¹åï¼Œé‡æ–°å¯åŠ¨åè¯„ä»·å°±ä¼šä¿ç•™ã€‚ Exerciseï¼šæ·»åŠ æ–°å­—æ®µä¹‹å‰æ–°å»ºRestauranté¡µé¢æ²¡æœ‰Phoneå­—æ®µï¼Œç°åœ¨æ·»åŠ  åœ¨SBçš„New Restaurantæ·»åŠ æ–°Cellï¼Œåœ¨AddRestaurantControllerä¸­æ·»åŠ ç›¸å…³æ¥å£å¹¶å…³è”ã€‚ æ›´æ–°AddRestaurantControllerä¸­çš„save:Actionç›¸å…³ä»£ç ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-0ï¼šè¯´æ˜å’Œç›®å½•]]></title>
    <url>%2F2017%2Fswift-0.html</url>
    <content type="text"><![CDATA[è¿™æ˜¯æˆ‘å­¦ä¹ Swiftçš„ä¸€ä¸ªç¬”è®°å’Œæ€»ç»“ï¼Œä»¥playgroundçš„å½¢å¼æ”¾åœ¨æˆ‘çš„githubä¸Šï¼Œå­¦ä¹ çš„ç‰ˆæœ¬æ˜¯swift 3 ã€‚ å­¦ä¹ èµ„æº å®˜æ–¹æ–‡æ¡£ The Swift Programming Languageä»»ä½•å¥½çš„æŠ€æœ¯å®˜æ–¹æ–‡æ¡£æ€»æ˜¯æœ€å¥½çš„å­¦ä¹ èµ„æºã€‚ğŸ˜‹ å®˜æ–¹æ–‡æ¡£çš„ä¸­æ–‡ç‰ˆå¥½å¤šå°ä¼™ä¼´ä¸€èµ·åˆä½œç¿»è¯‘ï¼Œä»swiftåˆšæ‰æ¥å°±å¾ˆå¿«ç¿»è¯‘ï¼Œä»¥åä¸æ–­æ›´æ–°ï¼Œå‘èµ·è€…åœ¨å¼€å§‹å‘èµ·ç¿»è¯‘æ—¶è¿˜æ˜¯ä¸ªåœ¨æ ¡å­¦ç”Ÿï¼Œå¾ˆå‰å®³ï¼ŒçœŸçš„éå¸¸æ„Ÿè°¢ã€‚ è¿™æ˜¯raywenderlich.comç½‘ç«™å‡ºçš„ä¹¦ï¼Œä¸è¿‡æ˜¯æ”¶è´¹çš„ã€‚ğŸ˜‘ æœ‰éœ€è¦çš„å°ä¼™ä¼´å¯ç§ä¿¡æˆ‘ğŸ˜ ä¸ºä»€ä¹ˆæ˜¯playgroundçš„å½¢å¼å¾ˆå¤šæ¦‚å¿µå•ç”¨æ–‡å­—æè¿°ä¸å¤§å¥½ç†è§£ï¼Œplaygroundæ–¹ä¾¿åˆ©ç”¨XcodeæŸ¥çœ‹å’Œè°ƒè¯•ã€‚å¾ˆå¤šæ—¶å€™ä¸€äº›ä¸å¸¸ç”¨çš„è¯­æ³•å¾ˆå®¹æ˜“å¿˜è®°ï¼Œé€šè¿‡playgroundå¾ˆæ–¹ä¾¿æ¸©ä¹ ã€‚ ç›®å½• ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-1ï¼šThe Basics ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-2ï¼šBasic Operators ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-3ï¼šStrings and Characters ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-4ï¼šCollection Type ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-5ï¼šControl Flow ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-6ï¼šFunctions ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-7ï¼šClosure ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-8ï¼šEnumerations ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-9ï¼šClasses and Structures ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-10ï¼šProperties ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-11ï¼šMethods ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-12ï¼šSubscripts ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-13ï¼šInheritance ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-14ï¼šInitialization ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-15ï¼š(ç±»çš„)Deinitialization ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-16ï¼šAutomatic Reference Counting ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-17ï¼šOptional Chaining ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-18ï¼šError Handling ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-19ï¼šType Casting(ç±»å‹è½¬æ¢) ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-20ï¼šNested Types(åµŒå¥—ç±»å‹) ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-21ï¼šExtensions ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-22ï¼šProtocols ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-23ï¼šGenerics ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-24ï¼šAccess Control ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-25ï¼šAdvanced Operators]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 16 ä»‹ç»é™æ€Table Viewsï¼ŒUIImagePickerControllerå’ŒNSLayoutConstraint]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-16.html</url>
    <content type="text"><![CDATA[ç»§ç»­ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 15 ä½¿ç”¨åœ°å›¾ï¼Œè¿™ä¸€ç¯‡é€šè¿‡æ·»åŠ ä¸€ä¸ªæ–°å»ºRestauranté¡µé¢æ¥ä»‹ç»é™æ€Table Viewsï¼ŒUIImagePickerControllerï¼ŒNSLayoutConstraintã€‚é™æ€Table Viewså°±æ˜¯å›ºå®šcellæ•°ç›®çš„Table Viewsï¼›UIImagePickerControllerç”¨æ¥ä»è®¾å¤‡å›¾ç‰‡åº“ä¸­è·å–å›¾ç‰‡ï¼›NSLayoutConstraintå°±æ˜¯çº¦æŸç±»ï¼Œç”¨æ¥ç”¨ä»£ç å½¢å¼æ·»åŠ çº¦æŸã€‚ æ·»åŠ æ–°çš„Table View Controller æ‹–åŠ¨ä¸€ä¸ªTable View Controlleråˆ°SBä¸­ã€‚ ä¿®æ”¹æˆTable Viewçš„contentä¸ºstatic cellsã€‚ é€‰ä¸­Table View Sectionï¼Œä¿®æ”¹Rowsæˆ5ã€‚ ä¸‹è½½ [å›¾ç‰‡] (http://www.appcoda.com/resources/swift3/photoicons.zip)ï¼Œæ‹–è¿›`Assets` ä¿®æ”¹ç¬¬ä¸€ä¸ªCellé«˜åº¦ä¸º250ã€‚æ·»åŠ Image Viewï¼Œ imageä¸ºphotoalbumï¼Œå¤§å°64*64ï¼Œæ°´å¹³å’Œå‚ç›´å±…ä¸­ã€‚ ç¬¬äºŒä¸ªcellé«˜åº¦ä¸º72ã€‚æ·»åŠ ä¸€ä¸ªLabelæ–‡æœ¬NAMEã€‚æ·»åŠ ä¸€ä¸ªText Field,placeholderä¸ºRestaurant Nameï¼Œborder styleä¸º noneï¼Œå®½åº¦ä¸º339ã€‚æ·»åŠ é€‚å½“çº¦æŸã€‚ ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªCellä¸ç¬¬äºŒä¸ªç±»ä¼¼ï¼ŒLabelæ–‡æœ¬åˆ†åˆ«ä¸ºTYPE LOCATIONï¼ŒText Fieldçš„ placeholder åˆ†åˆ«ä¸ºRestaurant Typeï¼ŒRestaurant Locationã€‚ ç¬¬äº”ä¸ª é«˜åº¦ä¸º72ã€‚ æ·»åŠ ä¸€ä¸ªLabelæ–‡æœ¬Have You Been Here ã€‚æ·»åŠ ä¸¤ä¸ªButtonï¼Œtitleåˆ†åˆ«ä¸ºYESã€NOï¼Œå­—ä½“é¢œè‰²éƒ½ä¸ºwhiteï¼ŒèƒŒæ™¯é¢œè‰²åˆ†åˆ«ä¸ºredï¼Œgrayã€‚ æ·»åŠ segue åœ¨Food Pin Controllerçš„Navigation barçš„å³è¾¹æ·»åŠ ä¸€ä¸ªbar button itemï¼ŒSystem Itemä¸ºAddã€‚ æŠŠä¸Šé¢æ–°å»ºæ˜¯æˆ‘table view controllerå†…åµŒåœ¨ä¸€ä¸ªNavigation controllerä¸­ï¼Œé€‰ä¸­table view controllerï¼Œåœ¨èœå•æ ä¸­é€‰æ‹©Editor &gt; Embed in &gt; Navigation Controllerï¼Œè®¾ç½®å…¶navigation barçš„titleä¸ºNew Restaurantã€‚ å…³è”AddæŒ‰é’®å’ŒNew Restaurant Controllerçš„Navigation controllerï¼Œsegueç±»å‹present modallyï¼Œidentifierä¸ºaddRestaurantã€‚ åœ¨New Restaurant Controllerçš„Navigation barçš„å·¦è¾¹æ·»åŠ ä¸€ä¸ªbar button itemï¼ŒSystem Itemä¸º Cancelï¼Œtintä¸ºwhiteã€‚ åœ¨RestaurantTableViewControllerä¸­æ·»åŠ unwind segueçš„actionã€‚ç”¨control-dragå…³è”ã€‚ 12@IBAction func unwindToHomeScreen(segue:UIStoryboardSegue) &#123;&#125; ä½¿ç”¨UIImagePickerControllerè°ƒç”¨ç›¸å†Œ æ–°å»ºAddRestaurantControllerï¼Œç»§æ‰¿è‡³UITableViewControllerã€‚å…³è”New Restaurant Controllerã€‚ åˆ é™¤é™¤äº†viewDidLoadæ–¹æ³•çš„å…¶ä»–æ–¹æ³•ï¼Œé™æ€ç±»å‹ä¸éœ€è¦äº†ã€‚ æ·»åŠ tableView(_:didSelectRowAt:)ï¼š1234567891011override func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; if indexPath.row == 0 &#123; if UIImagePickerController.isSourceTypeAvailable(.photoLibrary) &#123; let imagePicker = UIImagePickerController() imagePicker.allowsEditing = false imagePicker.sourceType = .photoLibrary present(imagePicker, animated: true, completion: nil) &#125; &#125;&#125; é€‰æ‹©ç¬¬ä¸€ä¸ªcellï¼Œä¹Ÿå°±æ˜¯å›¾ç‰‡ï¼Œé€šè¿‡isSourceTypeAvailableæ–¹æ³•åˆ¤æ–­æ˜¯å¦æœ‰å›¾åº“å¯ç”¨ã€‚ åœ¨Info.plistä¸­æ·»åŠ ä½¿ç”¨å›¾åº“çš„è¯·æ±‚æè¿°ï¼Œ Privacy - Photo Library Usage Description -&gt; You need to grant the app access to your photo library so you can pick your favorite restaurant photo. ã€‚ å®ç°UIImagePickerControllerDelegateåè®® æ·»åŠ UIImagePickerControllerDelegate å’ŒUINavigationControllerDelegate class AddRestaurantController: UITableViewController, UIImagePickerControllerDelegate, UINavigationControllerDelegate { æ·»åŠ æ¥å£@IBOutlet var photoImageView: UIImageView!ï¼Œå¹¶å…³è”ã€‚ æ·»åŠ å‡½æ•°imagePickerController(_:didFinishPickingMediaWithInfo:)ï¼Œå½“ç”¨æˆ·ä»å›¾åº“ä¸­é€‰æ‹©å›¾ç‰‡æ—¶è°ƒç”¨ã€‚ 12345678910func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) &#123; if let selectedImage = info[UIImagePickerControllerOriginalImage] as? UIImage &#123; photoImageView.image = selectedImage photoImageView.contentMode = .scaleAspectFill photoImageView.clipsToBounds = true &#125; dismiss(animated: TUREAD, completion: nil)&#125; åœ¨tableView(_:didSelectRowAt:)ä¸­çš„imagePickerå®šä¹‰åæ·»åŠ ï¼š imagePicker.delegate = self ç”¨ä»£ç çš„æ–¹å¼å®šä¹‰çº¦æŸä¹‹å‰éƒ½æ˜¯é€šè¿‡storyboardè®¾ç½®çº¦æŸï¼Œå…¶å®ä¹Ÿå¯ä»¥é€šè¿‡ä»£ç çš„å½¢å¼è®¾ç½®ã€‚ ä¹‹å‰çš„åœ°å›¾çš„çº¦æŸä¾‹å­ï¼Œstoryboard ä¸­çš„Map View.leading = leadingç­‰ä»·äºï¼š let leadingConstraint = NSLayoutConstraint(item: mapView, attribute: NSLayoutAttribute.leading, relatedBy: .equal, toItem: mapView.superview, attribute: .leading, multiplier: 1, constant: 0) leadingConstraint.isActive = true åœ¨æ·»åŠ imagePickerController(_:didFinishPickingMediaWithInfo:)çš„dismiss(animated: true, completion: nil)ä¹‹å‰æ·»åŠ 4ä¸ªçº¦æŸä»£ç ã€‚ 123456789let leadingConstraint = NSLayoutConstraint(item: photoImageView, attribute: .leading, relatedBy: .equal, toItem: photoImageView.superview, attribute: .leading, multiplier: 1, constant: 0) leadingConstraint.isActive = true let trailingConstrain = NSLayoutConstraint(item: photoImageView, attribute: .trailing, relatedBy: .equal, toItem: photoImageView.superview, attribute: .trailing, multiplier: 1, constant: 0) trailingConstrain.isActive = true let topConstraint = NSLayoutConstraint(item: photoImageView, attribute: .top, relatedBy: .equal, toItem: photoImageView.superview, attribute: .top, multiplier: 1, constant: 0) let buttomConstraint = NSLayoutConstraint(item: photoImageView, attribute: .bottom, relatedBy: .equal, toItem: photoImageView.superview, attribute: .bottom, multiplier: 1, constant: 0) æ·»åŠ çº¦æŸå‰åå¯¹æ¯”ï¼š Exerciseï¼šéªŒè¯æ·»åŠ æ•°æ® åœ¨New Restaurant Controllerçš„Navigation controllerçš„æœ‰å³ä¸Šè§’æ·»åŠ SaveæŒ‰é’®ã€‚ åœ¨AddRestaurantControllerä¸­æ·»åŠ äº”ä¸ªæ¥å£å’Œä¸€ä¸ªå˜é‡ï¼Œå¹¶å…³è”ã€‚ 123456@IBOutlet var nameTextField:UITextField!@IBOutlet var typeTextField:UITextField!@IBOutlet var locationTextField:UITextField!@IBOutlet var yesButton:UIButton!@IBOutlet var noButton:UIButton! var isVisited: Bool = true æ·»åŠ ä¸€ä¸ªActionï¼Œå…³è”saveæŒ‰é’®ã€‚ 1234567891011121314@IBAction func save(_ sender: Any) &#123; if (nameTextField.text?.isEmpty)! || (typeTextField.text?.isEmpty)! || (locationTextField.text?.isEmpty)! &#123; let alertController = UIAlertController(title: &quot;Oops&quot;, message: &quot;We can&apos;t proceed because one of the fields is blank....&quot;, preferredStyle: .alert) let alertAction = UIAlertAction(title: &quot;OK&quot;, style: .default, handler: nil) alertController.addAction(alertAction) present(alertController, animated: true, completion: nil) &#125; else &#123; print(nameTextField.text, typeTextField.text, locationTextField.text, isVisited) dismiss(animated: true, completion: nil)// performSegue(withIdentifier: &quot;unwindToHomeScreen&quot;, sender: self) &#125;&#125; å»é™¤ Add Restaurant view controllerå›åˆ°ä¸»ç•Œé¢æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯dismiss(animated: true, completion: nil)ï¼Œè€Œæ˜¯åˆ©ç”¨unwind segueã€‚ æ·»åŠ ä¸€ä¸ªAction toggleBeenHereButton:ï¼Œç”¨äºyesButtonå’ŒnoButtonçš„æ“ä½œã€‚1234567891011@IBAction func toggleBeenHereButton(sender: UIButton) &#123; if sender == yesButton &#123; isVisited = true yesButton.backgroundColor = UIColor.red noButton.backgroundColor = UIColor.gray &#125; else &#123; isVisited = false yesButton.backgroundColor = UIColor.gray noButton.backgroundColor = UIColor.red &#125;&#125; ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 15 ä½¿ç”¨åœ°å›¾]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-15.html</url>
    <content type="text"><![CDATA[ç»§ç»­ä¸Šä¸€ç›˜å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 14 åŸºç¡€åŠ¨ç”»ï¼Œæ¨¡ç³Šæ•ˆæœå’ŒUnwind Segueï¼Œè¿™ä¸€ç¯‡ä½¿ç”¨åœ°å›¾ã€‚æ·»åŠ MapKitæ¡†æ¶ï¼š æ·»åŠ Mapåˆ°åº”ç”¨ä¸­æ•ˆæœå›¾å¦‚ä¸‹ï¼š åœ¨Detail viewçš„table viewåº•éƒ¨æ·»åŠ ä¸€ä¸ªMap Viewã€‚é«˜åº¦è®¾ç½®ä¸º135ï¼Œå–æ¶ˆä¸€äº›å±æ€§zooming, scrolling, rotatingç­‰ï¼Œä½¿åœ°å›¾æ²¡æœ‰äº¤äº’åŠŸèƒ½ã€‚ åˆ é™¤ä¹‹å‰å»æ‰table viewåº•éƒ¨çš„ä»£ç ï¼Œè®©åº•éƒ¨æ˜¾ç¤ºã€‚tableView.tableFooterView = UIView(frame: CGRect.zero) æ·»åŠ æ–°çš„è§†å›¾æ§åˆ¶å™¨ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ Map Viewï¼Œè°ƒæ•´å¤§å°ä¸ºå…¨å±ã€‚ control-dragä»detailè§†å›¾æ§åˆ¶å™¨åˆ°æ–°çš„åœ°å›¾è§†å›¾æ§åˆ¶å™¨ï¼Œé€‰æ‹©showã€‚å› ä¸ºtable viewçš„å¤´éƒ¨å’Œåº•éƒ¨æ˜¯ä¸èƒ½é€‰æ‹©çš„ï¼Œæ‰€æœ‰ä¸èƒ½ä»table viewçš„åº•éƒ¨control-dragåˆ°åœ°å›¾è§†å›¾æ§åˆ¶å™¨ã€‚ ä¸ºäº†èƒ½æ£€æµ‹çš„table viewåº•éƒ¨mapçš„æ˜¯å¦è¢«æ¥è§¦ï¼Œéœ€è¦ä¸ºåœ°å›¾æ·»åŠ UITapGestureRecognizer ã€‚åœ¨RestaurantDetailViewController.swiftä¸­å¼•å…¥ import MapKit;å®šä¹‰åœ°å›¾æ¥å£@IBOutlet var mapView: MKMapView!ï¼Œå¹¶å…³è”;åœ¨viewDidLoadä¸­æ·»åŠ ï¼š12let tapGestureRecognizer = UITapGestureRecognizer(target: self, action: #selector(showMap))mapView.addGestureRecognizer(tapGestureRecognizer) å¦å¤–æ·»åŠ æ–¹æ³•ï¼š123func showMap() &#123; performSegue(withIdentifier: &quot;showMap&quot;, sender: self)&#125; ç”¨Geocoderè½¬æ¢åœ°å€åˆ°ç»çº¬åº¦ç±»ä¼¼ä¸‹é¢ï¼š1234567let geoCoder = CLGeocoder()geoCoder.geocodeAddressString(&quot;ä¸Šæµ·ä¸œæ–¹æ˜ç &quot;, completionHandler: &#123; placemarks, error in for p in placemarks! &#123; print(p.location?.coordinate) &#125;&#125;) placemarksæ˜¯CLPlacemarkçš„æ•°ç»„ã€‚ åœ°å›¾æ ‡æ³¨ï¼ˆannotationï¼‰ä»‹ç»é€šè¿‡åœ°å€æ–‡æœ¬è·å¾—ç»çº¬åº¦åå°±å¯åœ¨åœ°å›¾ä¸Šæ ‡æ³¨æŒ‡ç¤ºï¼Œç±»ä¼¼ä¸‹é¢çš„æ ·å­ï¼š åœ°å›¾æ ‡æ³¨çš„ä»£ç ä¸€èˆ¬å¦‚ä¸‹ï¼Œå…ˆé€šè¿‡åœ°å€æ–‡æœ¬ç”Ÿæˆçš„ç»çº¬åº¦ï¼Œè§„å®šMKPointAnnotationçš„ç»çº¬åº¦ï¼Œç„¶åæŠŠMKPointAnnotationæ·»åŠ åˆ°åœ°å›¾è§†å›¾ä¸­å³å¯ã€‚12345let annotation = MKPointAnnotation()if let location = placemark.location &#123; annotation.coordinate = location.coordinate mapView.addAnnotation(annotation)&#125; ä¸ºæ²¡æœ‰äº¤äº’çš„åœ°å›¾æ·»åŠ æ ‡æ³¨åœ¨RestaurantDetailViewController.swiftçš„viewDidLoadä¸­æ·»åŠ ï¼š123456789101112131415161718192021222324252627let geoCoder = CLGeocoder()geoCoder.geocodeAddressString(restaurant.location, completionHandler: &#123; placemarks, error in if error != nil &#123; print(error) return &#125; if let placemarks = placemarks &#123; let placemark = placemarks[0] let annotation = MKPointAnnotation() if let location = placemark.location &#123; annotation.coordinate = location.coordinate self.mapView.addAnnotation(annotation) // è§„å®šåœ°å›¾æ˜¾ç¤ºåŠå¾„ 250ç±³ let region = MKCoordinateRegionMakeWithDistance(annotation.coordinate, 250, 250) self.mapView.setRegion(region, animated: false) &#125; &#125;&#125;)``` ### ä¸ºå…¨å±çš„åœ°å›¾æ·»åŠ æ ‡æ³¨- æ–°å»ºä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨`MapViewController`ï¼Œå…³è”å…¨å±åœ°å›¾æ§åˆ¶å™¨ï¼Œå¼•å…¥åœ°å›¾æ¡†æ¶ `import MapKit`ã€‚- ç¬¬ä¸€ä¸ªåœ°å›¾æ¥å£å’Œ`restaurant`å˜é‡ @IBOutlet var mapView: MKMapView!var restaurant:Restaurant!1- æ›´æ–°`viewDidLoad`ï¼š override func viewDidLoad() { super.viewDidLoad() let geoCoder = CLGeocoder() geoCoder.geocodeAddressString(restaurant.location, completionHandler: { placemarks, error in if error != nil { print(error) return } if let placemarks = placemarks { // Get the first placemark let placemark = placemarks[0] // 1 let annotation = MKPointAnnotation() annotation.title = self.restaurant.name annotation.subtitle = self.restaurant.type if let location = placemark.location { annotation.coordinate = location.coordinate // 2 self.mapView.showAnnotations([annotation], animated: true) self.mapView.selectAnnotation(annotation, animated: true) } } }) } 123456 + 1 è®¾ç½®`MKPointAnnotation`ä¸€äº›å±æ€§ + 2 åœ¨åœ°å›¾å±•ç¤ºæ ‡æ³¨ã€‚åœ°å›¾ä¸Šè¯¾å±•ç¤ºå¾ˆå¤šæ ‡æ³¨ã€‚`selectAnnotation:`æ–¹æ³•æ˜¯æ ‡æ³¨æ˜¾ç¤ºè¢«é€‰ä¸­çš„æ ·å¼ã€‚### åœ¨æ ‡æ³¨ä¸­æ·»åŠ å›¾ç‰‡- è®©`MapViewController`å®ç°`MKMapViewDelegate`åè®®ï¼Œå¹¶åœ¨`viewDidLoad`ä¸­è®¾ç½®`mapView.delegate = self`- æ·»åŠ `mapView(_:viewFor:)`æ–¹æ³•ï¼Œå½“åœ°å›¾æ¯æ¬¡éœ€è¦annotationæ—¶è°ƒç”¨ï¼š func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -&gt; MKAnnotationView? { let identifier = &quot;MyPin&quot; // 1 if annotation.isKind(of: MKUserLocation.self) { return nil } // 2 var annotationView: MKPinAnnotationView? = mapView.dequeueReusableAnnotationView(withIdentifier: identifier) as? MKPinAnnotationView if annotationView == nil { annotationView = MKPinAnnotationView(annotation: annotation, reuseIdentifier: identifier) annotationView?.canShowCallout = true } // 3 let leftIconView = UIImageView(frame: CGRect(x: 0, y: 0, width: 53, height: 53)) leftIconView.image = UIImage(named: restaurant.image) annotationView?.leftCalloutAccessoryView = leftIconView // 4 annotationView?.pinTintColor = UIColor.orange return annotationView } ` 1 åˆ¤æ–­æ˜¯å¦ç”¨æˆ·å½“å‰ä½ç½®ã€‚ç”¨æˆ·å½“å‰ä½ç½®ç®—æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‡æ³¨ï¼Œæ˜¯å½“å‰ä½ç½®ï¼Œå°±ä¸éœ€è¦å¦å¤–æ·»åŠ æ ‡æ³¨äº†ã€‚ 2 åˆ›å»ºMKPinAnnotationViewã€‚æœ‰ç‚¹ç±»ä¼¼åˆ›å»ºtable view cellã€‚ 3 åœ¨MKPinAnnotationViewä¸Šæ·»åŠ å›¾ç‰‡ã€‚ 4 æ”¹å˜æ ‡æ³¨é’ˆçš„é¢œè‰²ã€‚ åœ°å›¾å®šåˆ¶mapView.showsCompass = true mapView.showsScale = true mapView.showsTraffic = true showsCompassè¡¨ç¤ºåœ¨å³ä¸Šè§’æ˜¾ç¤ºç½—ç›˜ã€‚showsScale è¡¨ç¤ºåœ¨å·¦ä¸Šè§’æ˜¾ç¤ºç¼©æ”¾æ¯”ä¾‹å°ºã€‚ showsTrafficè¡¨ç¤ºæ˜¾ç¤ºäº¤é€šä¿¡æ¯ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 14 åŸºç¡€åŠ¨ç”»ï¼Œæ¨¡ç³Šæ•ˆæœå’ŒUnwind Segue]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-14.html</url>
    <content type="text"><![CDATA[åŠ¨ç”»æ˜¯é€šè¿‡ä¸€ç³»åˆ—é™æ€å›¾ç‰‡ï¼ˆå¸§ï¼‰å¿«é€Ÿæ˜¾ç¤ºæ¥æ¨¡æ‹ŸåŠ¨ä½œå’Œå½¢çŠ¶çš„å˜åŒ–è¿‡ç¨‹ã€‚ åœ¨iOSä¸­ï¼Œåˆ›å»ºåŸºç¡€åŠ¨ç”»å¾ˆç®€å•ï¼Œåªéœ€è¦åˆ©ç”¨UIViewçš„ç±»å‹æ–¹æ³•ï¼šanimate(withDuration:animations:)ã€‚è¿™ä¸ªæ–¹æ³•çš„åŸç†å°±æ˜¯ï¼Œè®¾ç½®å¥½å¼€å§‹çŠ¶ä½“å’Œç»“æŸçŠ¶æ€ï¼Œç„¶å UIView animation åˆ›å»ºä¸­é—´çš„è¿‡ç¨‹æ•ˆæœã€‚ç»§ç»­ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 13 Self Sizing Cells and Dynamic Typeã€‚ æ·»åŠ è¯„çº§Button ä¸‹è½½å›¾ç‰‡åŒ…ï¼Œæ·»åŠ åˆ°xcassetsé‡Œã€‚ åœ¨detail viewå³ä¸Šè§’æ·»åŠ ä¸€ä¸ªButtonï¼Œè®¾ç½®å…¶å†…å®¹ä¸ºç©ºï¼Œimageä¸ºæ›´æ·»åŠ çš„å›¾ç‰‡checkï¼ˆä¸€ä¸ªå¯¹å‹¾å›¾æ ‡ï¼‰ï¼Œtypeä¸ºsystemï¼Œtintä¸ºwhiteã€‚ ä¸ºButtonæ·»åŠ å››ä¸ªçº¦æŸï¼Œå³ã€ä¸Šä¸¤ä¸ªspacingçº¦æŸï¼Œå®½åº¦å’Œé«˜åº¦çº¦æŸã€‚ åˆ›å»ºRestaurant Reviewè§†å›¾æ§åˆ¶å™¨ åœ¨storyboardä¸­æ–°å»ºä¸€ä¸ªView Controllerã€‚ åœ¨æ–°å»ºè§†å›¾æ§åˆ¶å™¨ä¸­æ·»åŠ Image Viewï¼Œå¹¶æ”¹å˜å…¶å¤§å°ä¸ºæ•´ä¸ªviewï¼Œå…ˆè®¾ç½®imageå±æ€§ä¸ºä¸€ä¸ªéšæœºå›¾ç‰‡ï¼Œæ¯”å¦‚cafeloislã€‚ å¹¶è®¾ç½®ä¸€äº›çº¦æŸã€‚ æŒ‰ç…§ä¸‹å›¾è®¾ç½®ä¹‹åæ˜¯UIï¼š åœ¨Reviewçš„å›¾ç‰‡ä¸Šæ·»åŠ ä¸€ä¸ªUIViewï¼Œxã€yã€å®½åº¦ã€é«˜åº¦åˆ†åˆ«æ˜¯53ã€40ã€269ã€420ã€‚ æ·»åŠ Image Viewï¼Œå®½åº¦å’Œé«˜åº¦åˆ†åˆ«ä¸º269ï¼Œ200ï¼Œéšæœºè®¾ç½®image æ·»åŠ ä¸€ä¸ªå†…å®¹ä¸ºYou&#39;ve dined here. What do you think?çš„Labelã€‚å­—ä½“é£æ ¼ä¸ºLightï¼Œå¤§å°ä¸º27ï¼Œå±…ä¸­é€€å™¨ï¼Œè¡Œæ•°ä¸º2ã€‚ æ·»åŠ ä¸‰ä¸ªæŒ‰é’®å†…å®¹åˆ†åˆ«ä¸ºAbsolutely love it!ï¼ŒGoodï¼ŒI don&#39;t like itã€‚èƒŒæ™¯ä¸ºçº¢è‰²ï¼Œtintä¸ºwhiteï¼Œå­—ä½“æ˜¯Lightå’Œ16ã€‚ è®¾ç½®ä¸‰ä¸ªæŒ‰é’®ä¸ºä¸€ä¸ªstack viewï¼Œæ”¹å˜distributionä¸ºFill Equallyï¼Œspaingä¸º5ã€‚ ä¸ºä¸Šé¢æ·»åŠ çš„UIViewæ·»åŠ å››ä¸ªçº¦æŸã€‚ä¸Šå·¦å³çš„spacingçº¦æŸåˆ†åˆ«ä¸º20ï¼Œ37ï¼Œ37ã€‚é«˜åº¦çº¦æŸä¸º420ã€‚ ä¸ºlabelæ·»åŠ å·¦å³ä¸‹ä¸‰ä¸ªspacingçº¦æŸï¼Œå€¼éƒ½æ˜¯15ã€‚ ä¸ºstack viewå¤©æœºå·¦å³ä¸‹ä¸‰ä¸ªspacingçº¦æŸï¼Œåˆ†åˆ«ä¸º8ï¼Œ8ï¼Œ10ã€‚ åˆ›å»ºPresent modallyç±»å‹çš„Segueåœ¨å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 10 Navigation Controllerçš„ä»‹ç»å’ŒSegueä¸­ä»‹ç»è¿‡Segueç±»å‹ã€‚Present modallyæ˜¯æ–°é¡µé¢å°†ä»¥åŠ¨ç”»å½¢å¼ä»åº•éƒ¨å‡ºç°åˆ°è¦†ç›–æ•´ä¸ªæ‰‹æœºå±å¹•ã€‚ contrl-dragä»å¯¹å‹¾buttonåˆ°Reviewè§†å›¾æ§åˆ¶ï¼Œé€‰æ‹©Present modallyã€‚å¹¶è®¾ç½®æ–°ç”Ÿæˆsegueçš„identifierä¸ºshowReviewã€‚ å®šä¹‰å¦‚ä½•é€€å‡ºReview View Controlleråœ¨Navigation Controllerä¸­è‡ªå¸¦äº†è¿”å›æŒ‰é’®ï¼Œè¿™è¾¹éœ€è¦è‡ªå·±è®¾ç½®unwind segueã€‚ åœ¨Review View Controllerä¸­çš„UIViewçš„å³ä¸Šè§’æ·»åŠ ä¸€ä¸ªå…³é—­æŒ‰é’®ï¼Œç±»ä¼¼äºå¯¹å‹¾æŒ‰é’®ï¼Œæ·»åŠ å³ä¸Šå’Œå®½åº¦é«˜åº¦çº¦æŸã€‚ ä¸ºäº†å®ç°unwind segueï¼Œéœ€è¦åšä¸¤ä»¶äº‹ï¼šé¦–å…ˆï¼Œåœ¨è¿”å›çš„çš„è§†å›¾æ§åˆ¶å™¨ï¼ˆRestaurantDetailViewControllerï¼‰ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®šä¹‰è¿™ä¸ªæ–¹æ³•æ˜¯ä¸ºäº†å‘Šè¯‰xcodeè¿™ä¸ªsegueæ˜¯å¯ä»¥è¿”å›çš„ã€‚12@IBAction func close(segue:UIStoryboardSegue) &#123;&#125; å…¶æ¬¡åœ¨IBä¸­å…³è”è¿”å›ã€‚control+dragå…³é—­æŒ‰é’®åˆ°Exitï¼Œé€‰æ‹©closeWithSegue:ã€‚ ä¸ºèƒŒæ™¯å›¾ç‰‡æ·»åŠ æ¨¡ç³Šæ•ˆæœUIVisualEffectView æ–°å»ºReviewViewControllerç»§æ‰¿è‡³UIViewControllerï¼Œå…³è”ä¸Šé¢æ–°å»ºè§†å›¾æ§åˆ¶å™¨ã€‚ åœ¨ReviewViewControllerä¸­æ·»åŠ èƒŒæ™¯å›¾ç‰‡ç»“æ„ï¼Œå¹¶å…³è”å›¾ç‰‡ã€‚@IBOutlet var backgroundImageView: UIImageView! åœ¨ReviewViewControllerçš„viewDidLoadä¸­æ·»åŠ ï¼š1234let blurEffect = UIBlurEffect(style: .dark)let blurEffectView = UIVisualEffectView(effect: blurEffect)blurEffectView.frame = view.boundsbackgroundImageView.addSubview(blurEffectView) æ¨¡ç³Šæ•ˆæœæœ‰ç‚¹åƒåœ¨è¦æ·»åŠ çš„è§†å›¾ä¸Šé¢æ·»åŠ ä¸€ä¸ªè§†å›¾(UIVisualEffectView)ï¼Œè¿™å›¾æœ‰æ¨¡ç³Šæ•ˆæœ(UIBlurEffect)ï¼Œæ¨¡ç³Šæ ·å¼é€šè¿‡UIBlurEffectStyleæ§åˆ¶ï¼Œæœ‰ä¸‰ç§extraLight, light, darkã€‚ å®ç° UIView Animation ä¸ºå‡†å¤‡å®ç°åŠ¨ç”»æ•ˆæœçš„UIViewæ·»åŠ æ¥å£ï¼Œå¹¶å…³è”ã€‚@IBOutlet var containerView: UIView! å®šä¹‰åˆå§‹çŠ¶æ€ï¼šåœ¨ReviewViewControllerçš„viewDidLoadä¸­æ·»åŠ :containerView.transform = CGAffineTransform.init(scaleX: 0, y: 0) å®šä¹‰ä»‹ç»çŠ¶æ€ï¼šåœ¨ReviewViewControllerçš„viewDidAppearä¸­æ·»åŠ ï¼š12345override func viewDidAppear(_ animated: Bool) &#123; UIView.animate(withDuration: 0.3, animations: &#123; self.containerView.transform = CGAffineTransform.identity &#125;)&#125; CGAffineTransform.identityè¡¨ç¤ºåŸæœ¬è®¾ç½®çš„å¤§å°å’Œä½ç½®çŠ¶æ€ã€‚ Spring åŠ¨ç”»åªè¦ä¿®æ”¹ä¸€ä¸‹ç»“æŸçŠ¶æ€å°±å¯ä»¥äº†ï¼š123UIView.animate(withDuration: 0.4, delay: 0.0, usingSpringWithDamping: 0.3, initialSpringVelocity: 0.2, options: .curveEaseInOut, animations: &#123; self.containerView.transform = CGAffineTransform.identity&#125;, completion: nil) ä»ä¸Šå‘ä¸‹çš„åŠ¨ç”»åªè¦ä¿®æ”¹ä¸€ä¸‹åˆå§‹çŠ¶æ€ï¼ŒæŠŠåˆå§‹ä½ç½®è®¾ç½®åœ¨ä¸Šé¢å³å¯ï¼š1containerView.transform = CGAffineTransform.init(translationX: 0, y: -1000) ç»„åˆä¸¤ç§å˜åŒ–æŠŠcontainerView.transform = CGAffineTransform.init(translationX: 0, y: -1000)ä¿®æ”¹æˆï¼š1234let scaleTransform = CGAffineTransform.init(scaleX: 0, y: 0)let translateTransform = CGAffineTransform.init(translationX: 0, y: -1000)let combineTransform = scaleTransform.concatenating(translateTransform)containerView.transform = combineTransform Unwind Segues å’Œæ•°æ®ä¼ è¾“åœ¨Review Viewä¸­ç‚¹å‡»ä¸‰ä¸ªä¸åŒè¯„ä»·æŒ‰é’®ä¹Ÿé€šè¿‡Unwind Seguesè¿”å›å¹¶ä¼ è¾“æ•°æ®ã€‚ åœ¨RestaurantDetailViewControlleråœ¨æ·»åŠ å¦å¤–ä¸€ä¸ªunwind actionæ–¹æ³•ã€‚ 12@IBAction func ratingButtonTapped(segue: UIStoryboardSegue) &#123;&#125; åˆ†åˆ«å¯¹ä¸‰ä¸ªæŒ‰é’®control+dragåˆ°Exitï¼Œé€‰æ‹©ratingButtonTappedWithSegue:ï¼Œå¹¶åˆ†åˆ«æŠŠä¸‰ä¸ªunwind segueçš„identifieræ”¹æˆ great good dislikeã€‚ åœ¨Restaurantä¸­æ·»åŠ ratingå±æ€§ï¼š var rating = &quot;&quot; æ›´æ–° ratingButtonTapped(segue:)ï¼š 1234567891011121314151617@IBAction func ratingButtonTapped(segue: UIStoryboardSegue) &#123; if let rating = segue.identifier &#123; restaurant.isVisited = true switch rating &#123; case &quot;greate&quot;: restaurant.rating = &quot;Absolutely love it! Must try.&quot; case &quot;good&quot;: restaurant.rating = &quot;Pretty good.&quot; case &quot;dislike&quot;: restaurant.rating = &quot;I don&apos;t like it.&quot; default: break &#125; &#125; tableView.reloadData()&#125; æ›´æ–°RestaurantDetailViewControllerçš„tableView(_:cellForRowAt:)ä¸­å½“fieldLabelä¸ºâ€œBeen hereâ€çš„valueLabelçš„å€¼ï¼š cell.valueLabel.text = (restaurant.isVisited) ? &quot;Yes, I&apos;ve been herebefore. \(restaurant.rating)&quot; : &quot;No&quot; ä¿®æ”¹ReviewViewControllerä¸­çš„å›¾ç‰‡ä¸ºç›¸åº”çš„å›¾ç‰‡ åœ¨ReviewViewControllerä¸­æ·»åŠ ä¸€ä¸ªå±æ€§ï¼švar restaurant: Restaurant! åœ¨RestaurantDetailViewControllerä¸­æ·»åŠ prepare(for:sender:)æ–¹æ³•ï¼Œä½œä¸ºRestaurantDetailViewControlleråˆ°ReviewViewControllerçš„segueæ—¶è°ƒç”¨ï¼Œç”¨äºä¼ è¾“æ•°æ®ã€‚ 123456override func prepare(for segue: UIStoryboardSegue, sender: Any?) &#123; if segue.identifier == &quot;showReview&quot; &#123; let destinationController = segue.destination as! ReviewViewController destinationController.restaurant = self.restaurant &#125;&#125; åœ¨ReviewViewController ä¸­æ·»åŠ å›¾ç‰‡æ¥å£ã€‚@IBOutlet var topImageView: UIImageView! åœ¨ReviewViewControllerçš„viewDidLoadä¸­æ˜¾ç¤ºå›¾ç‰‡ï¼š123let image = UIImage(named: self.restaurant.image)backgroundImageView.image = imagetopImageView.image = image ä¸ºcloseButtonæ·»åŠ åŠ¨ç”»æ•ˆæœ æ·»åŠ æ¥å£@IBOutlet var closeButton: UIButton! åœ¨viewDieLoadä¸­æ·»åŠ ï¼šcloseButton.transform = CGAffineTransform.init(scaleX: 1000, y: 0) åœ¨ viewDidAppear:æ·»åŠ ï¼š12345UIView.animate(withDuration: 0.5, delay: 0.5, usingSpringWithDamping: 0.7, initialSpringVelocity: 0.3, options: .curveEaseInOut, animations: &#123; self.closeButton.transform = CGAffineTransform.identity &#125;, completion: nil) ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 13 Self Sizing Cells and Dynamic Type]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-13.html</url>
    <content type="text"><![CDATA[æ¥ç€ä¸Šä¸€éå¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 12 ä¸°å¯ŒDetail Viewå’Œå®šåˆ¶åŒ–Navigation Barçš„ä»£ç ç¨ä½œä¿®æ”¹ï¼Œä¸ºRestaurantå¤šåŠ ä¸€ä¸ªphoneå±æ€§,ä¿®æ”¹è¿‡locationçš„é•¿åº¦ã€‚ ä¿®æ”¹RestaurantTableViewControllerä¸­çš„restaurantså˜é‡ï¼ˆæ·»åŠ å­—æ®µphoneï¼Œlocationå­—æ®µå†…å®¹å¢å¤šï¼‰ï¼š 1234567891011121314151617181920212223var restaurants:[Restaurant] = [ Restaurant(name: &quot;Cafe Deadend&quot;, type: &quot;Coffee &amp; Tea Shop&quot;,location: &quot;G/F, 72 Po Hing Fong, Sheung Wan, Hong Kong&quot;, phone: &quot;232-923423&quot;,image: &quot;cafedeadend.jpg&quot;, isVisited: false), Restaurant(name: &quot;Homei&quot;, type: &quot;Cafe&quot;, location: &quot;Shop B, G/F, 22-24A Tai Ping San Street SOHO, Sheung Wan, Hong Kong&quot;, phone: &quot;348-233423&quot;, image:&quot;homei.jpg&quot;, isVisited: false), Restaurant(name: &quot;Teakha&quot;, type: &quot;Tea House&quot;, location: &quot;Shop B, 18 Tai Ping Shan Road SOHO, Sheung Wan, Hong Kong&quot;, phone: &quot;354-243523&quot;, image: &quot;teakha.jpg&quot;, isVisited: false), Restaurant(name: &quot;Cafe loisl&quot;, type: &quot;Austrian / Causual Drink&quot;, location: &quot;Shop B, 20 Tai Ping Shan Road SOHO, Sheung Wan, Hong Kong&quot;, phone: &quot;453-333423&quot;, image: &quot;cafeloisl.jpg&quot;, isVisited: false), Restaurant(name: &quot;Petite Oyster&quot;, type: &quot;French&quot;, location: &quot;24 Tai Ping Shan Road SOHO, Sheung Wan, Hong Kong&quot;, phone: &quot;983-284334&quot;, image: &quot;petiteoyster.jpg&quot;, isVisited: false), Restaurant(name: &quot;For Kee Restaurant&quot;, type: &quot;Bakery&quot;, location: &quot;Shop J-K., 200 Hollywood Road, SOHO, Sheung Wan, Hong Kong&quot;, phone: &quot;232-434222&quot;, image: &quot;forkeerestaurant.jpg&quot;, isVisited: false), Restaurant(name: &quot;Po&apos;s Atelier&quot;, type: &quot;Bakery&quot;, location: &quot;G/F, 62 Po Hing Fong, Sheung Wan, Hong Kong&quot;, phone: &quot;234-834322&quot;, image: &quot;posatelier.jpg&quot;, isVisited: false), Restaurant(name: &quot;Bourke Street Backery&quot;, type: &quot;Chocolate&quot;, location: &quot;633 Bourke St Sydney New South Wales 2010 Surry Hills&quot;, phone: &quot;982-434343&quot;, image:&quot;bourkestreetbakery.jpg&quot;, isVisited: false), Restaurant(name: &quot;Haigh&apos;s Chocolate&quot;, type: &quot;Cafe&quot;, location: &quot;412-414 George St Sydney New South Wales&quot;, phone: &quot;734-232323&quot;, image: &quot;haighschocolate.jpg&quot;, isVisited: false), Restaurant(name: &quot;Palomino Espresso&quot;, type: &quot;American / Seafood&quot;, location: &quot;Shop 1 61 York St Sydney New South Wales&quot;, phone: &quot;872-734343&quot;, image: &quot;palominoespresso.jpg&quot;, isVisited: false), Restaurant(name: &quot;Upstate&quot;, type: &quot;American&quot;, location: &quot;95 1st Ave New York, NY 10003&quot;, phone: &quot;343-233221&quot;, image: &quot;upstate.jpg&quot;, isVisited: false), Restaurant(name: &quot;Traif&quot;, type: &quot;American&quot;, location: &quot;229 S 4th St Brooklyn, NY 11211&quot;, phone: &quot;985-723623&quot;, image: &quot;traif.jpg&quot;, isVisited: false), Restaurant(name: &quot;Graham Avenue Meats&quot;, type: &quot;Breakfast &amp; Brunch&quot;, location: &quot;445 Graham Ave Brooklyn, NY 11211&quot;, phone: &quot;455-232345&quot;, image: &quot;grahamavenuemeats.jpg&quot;, isVisited: false), Restaurant(name: &quot;Waffle &amp; Wolf&quot;, type: &quot;Coffee &amp; Tea&quot;, location: &quot;413 Graham Ave Brooklyn, NY 11211&quot;, phone: &quot;434-232322&quot;, image: &quot;wafflewolf.jpg&quot;, isVisited: false), Restaurant(name: &quot;Five Leaves&quot;, type: &quot;Coffee &amp; Tea&quot;, location: &quot;18 Bedford Ave Brooklyn, NY 11222&quot;, phone: &quot;343-234553&quot;, image: &quot;fiveleaves.jpg&quot;, isVisited: false), Restaurant(name: &quot;Cafe Lore&quot;, type: &quot;Latin American&quot;, location: &quot;Sunset Park 4601 4th Ave Brooklyn, NY 11220&quot;, phone: &quot;342-455433&quot;, image: &quot;cafelore.jpg&quot;, isVisited: false), Restaurant(name: &quot;Confessional&quot;, type: &quot;Spanish&quot;, location: &quot;308 E 6th St New York, NY 10003&quot;, phone: &quot;643-332323&quot;, image: &quot;confessional.jpg&quot;, isVisited: false), Restaurant(name: &quot;Barrafina&quot;, type: &quot;Spanish&quot;, location: &quot;54 Frith Street London W1D 4SL United Kingdom&quot;, phone: &quot;542-343434&quot;, image: &quot;barrafina.jpg&quot;, isVisited: false), Restaurant(name: &quot;Donostia&quot;, type: &quot;Spanish&quot;, location: &quot;10 Seymour Place London W1H 7ND United Kingdom&quot;, phone: &quot;722-232323&quot;, image: &quot;donostia.jpg&quot;, isVisited: false), Restaurant(name: &quot;Royal Oak&quot;, type: &quot;British&quot;, location: &quot;2 Regency Street London SW1P 4BZ United Kingdom&quot;, phone: &quot;343-988834&quot;, image: &quot;royaloak.jpg&quot;, isVisited: false), Restaurant(name: &quot;CASK Pub and Kitchen&quot;, type: &quot;Thai&quot;, location: &quot;22 Charlwood Street London SW1V 2DY Pimlico&quot;, phone: &quot;432-344050&quot;, image: &quot;caskpubkitchen.jpg&quot;, isVisited: false)] ä¸ºRestaurantæ·»åŠ å±æ€§phoneã€‚ ä¿®æ”¹RestaurantDetailViewControllerä¸­ä¸¤ä¸ªtable viewæ–¹æ³•ï¼š123456789101112131415161718192021222324252627282930313233func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return 5&#125;func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) as! RestaurantDetailTableViewCell // Configure the cell... switch indexPath.row &#123; case 0: cell.fieldLabel.text = &quot;Name&quot; cell.valueLabel.text = restaurant.name case 1: cell.fieldLabel.text = &quot;Type&quot; cell.valueLabel.text = restaurant.type case 2: cell.fieldLabel.text = &quot;Location&quot; cell.valueLabel.text = restaurant.location case 3: cell.fieldLabel.text = &quot;Phone&quot; cell.valueLabel.text = restaurant.phone case 4: cell.fieldLabel.text = &quot;Been here&quot; cell.valueLabel.text = (restaurant.isVisited) ? &quot;Yes, I&apos;ve been herebefore&quot; : &quot;No&quot; default: cell.fieldLabel.text = &quot;&quot; cell.valueLabel.text = &quot;&quot; &#125; cell.backgroundColor = UIColor.clear return cell&#125; ä½¿Cellè‡ªé€‚åº” åœ¨RestaurantDetailViewControllerä¸­çš„viewDidLoadä¸­æ·»åŠ ï¼š 12tableView.estimatedRowHeight = 36.0 tableView.rowHeight = UITableViewAutomaticDimension estimatedRowHeightæ˜¯cellçš„é¢„è®¡é«˜åº¦ï¼Œè¿™è¾¹å°±è®¾ç½®æˆåŸæœ¬prototype cellçš„é«˜åº¦ã€‚ UITableViewAutomaticDimensionè¡¨ç¤ºè¶…è¿‡é¢„è®¡é«˜åº¦åè‡ªåŠ¨é€‚åº”é«˜åº¦ã€‚ ä¿®æ”¹Value labelçš„numberOfLineså±æ€§ä¸º0ï¼Œå°±æ˜¯ä¸é™åˆ¶è¡Œæ•°ã€‚ æ·»åŠ spacingçº¦æŸå½“value labelè¶…è¿‡ä¸¤è¡Œï¼Œæ–‡æœ¬æ˜¾ç¤ºå‡ºé—®é¢˜ï¼š è¿™æ˜¯å› ä¸ºè™½ç„¶value labelçš„é«˜åº¦è‡ªé€‚åº”äº†åˆé€‚çš„é«˜åº¦ï¼Œä½†æ˜¯stack viewçš„é«˜åº¦æ²¡æœ‰çº¦æŸï¼Œä¸èƒ½è®¡ç®—çš„å‡ºæ¥ï¼Œå› æ­¤è¦ç»™stack viewæ·»åŠ ä¸¤ä¸ªä¸Šä¸‹çš„ç›¸ç­‰spcingçº¦æŸã€‚ è¿™æ ·ä¸ç®¡value labelæ˜¯å¤šå°‘è¡Œï¼Œé«˜åº¦éƒ½ä¼šè‡ªé€‚åº”äº†ã€‚ Dynamic TypeDynamic Typeå½“åœ¨æ‰‹æœºè®¾ç½® &gt;é€šç”¨ &gt; è¾…åŠ©åŠŸèƒ½ &gt; æ›´å¤§å­—ä½“è®¾ç½®å­—ä½“å¤§å°æ—¶ï¼Œappä¸­çš„åº”ç”¨ä¹Ÿç›¸åº”çš„å˜åŒ–ã€‚åªè¦æŠŠå­—ä½“è®¾ç½®æˆtext style - Headlineå°±ä¼šæœ‰Dynamic TypeåŠŸèƒ½ã€‚ç›®å‰åªæœ‰name labelçš„å­—ä½“è®¾ç½®æˆäº†text style - Headlineï¼Œå…¶ä»–è®¾ç½®æˆå›ºå®šå¤§å°çš„å­—ä½“ï¼Œä¸ä¼šéšç€åœ¨æ‰‹æœºè®¾ç½® &gt;é€šç”¨ &gt; è¾…åŠ©åŠŸèƒ½ &gt; æ›´å¤§å­—ä½“è®¾ç½®å­—ä½“å¤§å°æ—¶è€Œå˜åŒ–ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 6ï¼šFondation-Kitä»‹ç»]]></title>
    <url>%2F2017%2Foc-basic-6.html</url>
    <content type="text"><![CDATA[12macOS -&gt; Cocoa -&gt; Foundation, AppKitiOS -&gt; Cocoa Touch -&gt; Foundation, UIKit(UIView, UIController) Foundationæ¡†æ¶çš„åŸºç¡€æ˜¯CoreFoundationï¼ˆCè¯­è¨€ï¼‰ï¼Œå¦‚æœå‡½æ•°æˆ–å˜é‡æ˜¯ä»¥CFå¼€å¤´ï¼Œå°±æ˜¯CoreFoundationæ¡†æ¶ä¸­çš„ã€‚ Foundationä¸­ä¸€äº›æœ‰ç”¨çš„æ•°æ®ç±»å‹èŒƒå›´ï¼š NSRange1234typedef struct _NSRange &#123; NSUInteger location; NSUInteger length;&#125; NSRange; è¡¨ç¤ºç›¸å…³äº‹åŠ¡çš„èŒƒå›´ã€‚æœ‰ä¸‰ç§æ–¹å¼åˆå§‹åŒ–ï¼š ç›´æ¥ç»™å­—æ®µèµ‹å€¼ï¼š 123NSRange range;range.location = 12;range.length = 5; åº”ç”¨Cè¯­è¨€çš„èšåˆç»“æ„èµ‹å€¼ï¼šNSRange range = {17, 4} å‡½æ•°NSMakeRange()ï¼šNSRange range3 = NSMakeRange(12, 5);è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„æ˜¯å¯ä»¥åœ¨ä»»ä½•èƒ½å¤Ÿä½¿ç”¨å‡½æ•°çš„åœ°æ–¹ç›´æ¥ä½¿ç”¨ï¼š[anObject flarbulateWithRange: NSMakeRange(13, 15)]; å‡ ä½•æ•°æ®ç±»å‹CGå‰ç¼€ï¼Œè¡¨ç¤ºCore Graphicsæ¡†æ¶ï¼ˆCè¯­è¨€ï¼‰ï¼Œç”¨æ¥è¿›è¡Œ2Dæ¸²æŸ“ã€‚ CGPointè¡¨ç¤ºåæ ‡ 12345struct CGPoint&#123; float x; float y;&#125; CGSizeè¡¨ç¤ºå¤§å°ï¼Œç”¨æ¥å­˜å‚¨é•¿åº¦å’Œå®½åº¦ 12345struct CGSize&#123; float width; float height;&#125; CGRect è¡¨ç¤ºçŸ©å½¢ï¼Œç”±åæ ‡å’Œå¤§å°å¤åˆè€Œæˆ 12345struct CGRect&#123; CGPoint origin; CGSize size;&#125; å¯¹åº”åˆ›å»ºå‡½æ•°ï¼š CGPointMake(), CGSizeMake(), CGRectMake() é›†åˆæ•°æ®ç±»å‹æ˜¯Cè¯­è¨€ç»“æ„ä½“è€Œä¸æ˜¯ç±»ï¼Œæ˜¯è€ƒè™‘æ€§èƒ½çš„åŸå› ã€‚ å­—ç¬¦ä¸²å­—ç¬¦ä¸²ç±»ï¼š NSStringã€‚ é€šè¿‡æ ¼å¼å­—ç¬¦ä¸²å’Œå‚æ•°åˆ›å»ºNSStringï¼š 12NSString *height;height = [NSString stringWithFormat:@&quot;%d, %d&quot;, 4, 3]; ç±»æ–¹æ³•ï¼š ä»¥+ä¸ºèµ·å§‹ç¬¦çš„ã€‚ å­—ç¬¦é•¿åº¦ï¼Œå®ä¾‹æ–¹æ³•lengthï¼š - (NSUInteger) length; å­—ç¬¦ä¸²æ¯”è¾ƒ (BOOL)isEqualToString:(NSString *)aString;ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒï¼Œè¿”å›BooLï¼›==åˆ¤æ–­å­—ç¬¦ä¸²çš„æŒ‡é’ˆæ˜¯å¦ç›¸åŒï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦æ˜¯åŒä¸€ä¸ªäº‹åŠ¡ã€‚ 12345678910NSString *thing1 = @&quot;hello 5&quot;;NSString *thing2 = [NSString stringWithFormat:@&quot;hello %d&quot;, 5]; if ([thing1 isEqualToString:thing2]) &#123; NSLog(@&quot;ä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹ç›¸åŒ&quot;);&#125;if (thing1 == thing2) &#123; NSLog(@&quot;ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯åŒä¸€ä¸ªå¯¹è±¡&quot;);&#125; - (NSComparisonResult)compare:(NSNumber *)decimalNumber;ï¼Œé€ä¸ªæ¯”è¾ƒå­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ï¼Œåˆ¤æ–­å¤§å°ã€‚è¿”å›ä¸€ä¸ªæšä¸¾ç±»å‹NSComparisonResultï¼Œä¸‰ä¸ªæšä¸¾å€¼åˆ†åˆ«è¡¨ç¤ºå·¦å°äºå³ï¼Œå·¦ç­‰äºå³ï¼Œå·¦å¤§äºå³ã€‚ - (NSComparisonResult)compare:(NSString *)string options:(NSStringCompareOptions)mask;ï¼Œæ ¹æ®optionsçš„ä¸åŒå€¼æœ‰ä¸åŒçš„åŠŸèƒ½ã€‚ å­—ç¬¦ä¸²å†…æ˜¯å¦è¿˜åŒ…å«åˆ«çš„å­—ç¬¦ä¸²æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦å¼€å¤´æˆ–ç»“å°¾ï¼š 12- (BOOL)hasPrefix:(NSString *)str;- (BOOL)hasSuffix:(NSString *)str; ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²å†…çš„è¿”å›ï¼š- (NSRange)rangeOfString:(NSString *)searchString; å¯å˜æ€§NSStringæ˜¯ä¸å¯å˜çš„ã€‚ä¹Ÿå°±æ˜¯ä¸€æ—¦è¢«åˆ›å»ºï¼Œå°±ä¸èƒ½ä»¥åˆ é™¤å­—ç¬¦æˆ–æ·»åŠ å­—ç¬¦çš„æ–¹å¼æ”¹å˜å®ƒã€‚NSMutableStringæ˜¯NSStringçš„å­ç±»ï¼Œå¯ä»¥æ”¹å˜ã€‚ å¯é€šè¿‡ç±»æ–¹æ³•stringWithCapacity:æ¥åˆ›å»ºï¼Œè¡¨ç¤ºåˆ†é…ä¸€å—å†…å­˜ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²ï¼Œ+ (NSMutableString *)stringWithCapacity:(NSUInteger)capacity;ã€‚NSMutableString *string = [NSMutableString stringWithCapacity:1]; appendString:å’ŒappendFormat: æ·»åŠ å­—ç¬¦ä¸²ï¼š 123NSMutableString *string = [NSMutableString stringWithCapacity:50];[string appendString:@&quot;Hello there &quot;];[string appendFormat:@&quot;human %d!&quot;, 39]; // Hello there human 39! deleteCharactersInRange: åˆ é™¤å­—ç¬¦ä¸²ï¼Œç»å¸¸å’ŒrangeOfString:ä¸€èµ·ä½¿ç”¨ã€‚ 12345NSMutableString *friends = [NSMutableString stringWithCapacity:50]; [friends appendString:@&quot;James BethLynn Jack Evan&quot;]; NSRange jackRange = [friends rangeOfString:@&quot;Jack&quot;]; jackRange.length++; [friends deleteCharactersInRange:jackRange]; // James BethLynn Evan é›†åˆ NSArrayä¸¤ä¸ªé™åˆ¶ï¼šåªèƒ½å­˜å‚¨OCå¯¹è±¡ï¼›ä¸èƒ½å­˜å‚¨nilã€‚ åˆ›å»ºç±»æ–¹æ³•arrayWithObjects:(nilè¡¨ç¤ºç»“æŸ)ï¼šNSArray *array = [NSArray arrayWithObjects:@&quot;one&quot;, @&quot;two&quot;, @&quot;three&quot;, nil];ç›´æ¥å­—é¢é‡ï¼šNSArray *array2 = @[@&quot;one&quot;, @&quot;two&quot;, @&quot;three&quot;]; æ•°ç»„å¯¹è±¡ä¸ªæ•°ï¼š [array count]; æŒ‰ç´¢å¼•è·å–å¯¹è±¡ï¼š 12[array objectAtIndex:1];array[1]; å­—ç¬¦ä¸²åˆ‡åˆ†æˆæ•°ç»„ï¼Œæ•°ç»„åˆå¹¶æˆå­—ç¬¦ä¸²ã€‚ 123NSMutableString *string2 = @&quot;oop:ack:bork:greeble:ponies&quot;; NSArray *chunks = [string2 componentsSeparatedByString:@&quot;:&quot;]; string2 = [chunks componentsJoinedByString:@&quot;:-)&quot;]; // oop:-)ack:-)bork:-)greeble:-)ponies NSMutableArrayNSArrayåŒ…å«çš„å¯¹è±¡ä¸ªæ•°æ˜¯ä¸èƒ½å˜åŒ–çš„ï¼ˆåŒ…å«çš„å¯¹è±¡æ˜¯å¯ä»¥å˜åŒ–çš„ï¼‰ã€‚NSMutableArrayæ˜¯å¯ä»¥å˜åŒ–æ•°ç›®ã€‚ åˆ›å»º: + (instancetype)arrayWithCapacity:(NSUInteger)numItems; æœ«å°¾æ·»åŠ  - (void) addObject: (id) anObject; åˆ é™¤ç‰¹å®šç´¢å¼•çš„å¯¹è±¡ - (void)removeObjectAtIndex:(NSIndexSet *)index; æšä¸¾ï¼šå¯¹æ•°ç»„è¿›è¡Œéå†ã€‚NSEnumerator 1234NSEnumerator *emumerator = [array objectEnumerator];while (id thingie = [emumerator nextObject]) &#123; &#125; å¿«é€Ÿæšä¸¾ 123for (NSString *string in array) &#123; NSLog()&#125; NSDictionaryåŒæ ·ä¹Ÿæœ‰å¯¹åº”çš„NSMutableDictionaryã€‚ 123456789101112131415161718 // åˆ›å»º NSDictionary Tire *t1 = [Tire new]; Tire *t2 = [Tire new]; Tire *t3 = [Tire new]; Tire *t4 = [Tire new]; NSDictionary *tires = [NSDictionary dictionaryWithObjectsAndKeys:t1, @&quot;front-left&quot;, t2, @&quot;front-right&quot;, t3, @&quot;back-left&quot;, t4, @&quot;back-right&quot;, nil];// NSDictionary *tires = @&#123;@&quot;front-left&quot;: t1, @&quot;front-right&quot;: t2, @&quot;back-left&quot;: t3,@&quot;back-right&quot;: t4,&#125;; // è®¿é—®ç‰¹å®škeyçš„å¯¹è±¡ Tire *tire = [tires objectForKey:@&quot;back-right&quot;];// Tire *tire = tires[@&quot;back-right&quot;]; // åˆ›å»ºNSMutableDictionary NSMutableDictionary *tires_m = [NSMutableDictionary dictionaryWithCapacity:10];// NSMutableDictionary *tires_m = [NSMutableDictionary dictionary]; // ä¸ºNSMutableDictionaryæ·»åŠ å…ƒç´  [tires_m setObject:t1 forKey:@&quot;front-left&quot;]; // ä»NSMutableDictionaryä¸­åˆ é™¤å…ƒç´  [tires_m removeObjectForKey:@&quot;front-left&quot;]; å…¶ä»–æ•°æ®ç±»å‹NSArrayå’ŒNSDictionaryåªèƒ½å­˜å‚¨å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥å­˜å‚¨ä»»ä½•åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œå¦‚intã€floatã€å’Œstructã€‚ NSNumber NSValue NSNull]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 4ï¼šå¤åˆï¼ˆcompositionï¼‰]]></title>
    <url>%2F2017%2Foc-basic-4-composition.html</url>
    <content type="text"><![CDATA[å¤åˆ: å¯¹è±¡é—´çš„ç»„åˆï¼ˆç±»ä¸­ä¸­åŒ…æ‹¬ç±»ï¼‰compositionåœ¨éŸ³ä¹ä¸­ç¿»è¯‘ä¸ºä½œæ›²ï¼šå°†å¤šä¸ªç»„ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼Œé…åˆä½¿ç”¨ï¼Œä»è€Œå¾—åˆ°å®Œæ•´çš„ä½œå“ã€‚åœ¨OCä¸­ï¼Œå¤åˆæ˜¯é€šè¿‡åŒ…å«ä½œä¸ºå®ä¾‹å˜é‡çš„å¯¹è±¡æŒ‡é’ˆå®ç°çš„ã€‚1234567@interface Car : NSObject&#123; Engine *engine; Tire *tires[4];&#125;* (void)print;@end //Car è‡ªå®šä¹‰NSLog()NSLog()ä½¿ç”¨%@æ ¼å¼è¯´æ˜ç¬¦è¡¨ç¤ºè¾“å‡ºå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯NSLog()ä¼šç»™è¿™ä¸ªå¯¹è±¡å‘é€äº†descriptionæ¶ˆæ¯ï¼Œç„¶åå¯¹è±¡çš„descriptionæ–¹æ³•ç”Ÿæˆä¸€ä¸ªNSStringå¹¶å°†å…¶è¿”å›ã€‚**åœ¨ç±»ä¸­æä¾›descriptionæ–¹æ³•å°±å¯ä»¥è‡ªå®šä¹‰NSLog()å¦‚ä½•è¾“å‡ºå¯¹è±¡ã€‚123456789101112131415@interface Tire : NSObject@end //Tire è½®èƒ@implementation Tire- (NSString *)description &#123; return (@&quot;I am a tire.&quot;);&#125;@endint main(int argc, const char * argv[]) &#123; Tire *tire = [Tire new]; NSLog(@&quot;%@&quot;, tire); // è¾“å‡º &quot;I am a tire.&quot; return 0;&#125; å­˜å–æ–¹æ³• å­˜å–(accessor) æ–¹æ³•æ˜¯ç”¨æ¥è¯»å–æˆ–æ”¹å˜æŸä¸ªå¯¹è±¡å±æ€§çš„æ–¹æ³•ã€‚åˆ†ä¸º getteræ–¹æ³• å’Œ setteræ–¹æ³•ã€‚ åº”è¯¥å°½é‡ä½¿ç”¨å¯¹è±¡æä¾›çš„å­˜å–æ–¹æ³•ï¼Œä¸è¦ç›´æ¥æ”¹å˜å¯¹è±¡é‡Œé¢çš„å€¼ã€‚å­˜å–æ–¹æ³•æ€»æ˜¯æˆå¯¹å‡ºç°çš„ã€‚å‘½åæ–¹å¼ï¼šsetteræ–¹æ³•åœ¨è¦æ›´æ”¹å±æ€§çš„åŠ ä¸Šå‰ç¼€setï¼›getteræ–¹æ³•ç›´æ¥æ˜¯å±æ€§åç§°ã€‚ 1234567891011@interface Car : NSObject&#123; Engine *engine; Tire *tires[4];&#125;- (Engine *) engine;- (void) setEngine: (Engine *) newEngine;- (Tire *) tireAtIndex: (int) index;- (void) setTire: (Tire *) tire atIndex: (int) index;- (void)print;@end //Car åœ¨OCä¸­æ‰€æœ‰å¯¹è±¡é—´çš„äº¤äº’éƒ½æ˜¯é€šè¿‡æŒ‡é’ˆå®ç°çš„ã€‚ å¤åˆè¿˜æ˜¯ç»§æ‰¿ç»§æ‰¿çš„å…³ç³»ï¼šâ€œIs aâ€ï¼ˆæ˜¯ä¸€ä¸ªï¼‰ã€‚å¦‚ä¸‰è§’å½¢æ˜¯ä¸€ä¸ªå½¢çŠ¶ï¼ŒSlant6æ˜¯ä¸€ä¸ªå‘åŠ¨æœºâ€¦â€¦å¤åˆçš„å…³ç³»ï¼šâ€œhas aâ€ï¼ˆæœ‰ä¸€ä¸ªï¼‰ã€‚å¦‚å½¢çŠ¶æœ‰ä¸ªå¡«å……é¢œè‰²ï¼Œæ±½è½¦æœ‰ä¸ªå‘åŠ¨æœºå’Œå››ä¸ªè½®èƒâ€¦â€¦ è¯¦ç»†ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#import &lt;Foundation/Foundation.h&gt;@interface Tire : NSObject@end //Tire è½®èƒ@implementation Tire- (NSString *)description &#123; return (@&quot;I am a tire.&quot;);&#125;@end@interface Engine : NSObject@end //Engine@implementation Engine- (NSString *)description &#123; return (@&quot;I am a Engine.&quot;);&#125; //description@end@interface Slant6 : Engine@end //slant-6å‹å·çš„å‘åŠ¨æœº@implementation Slant6- (NSString *)description &#123; return (@&quot;I am a slant-6å‹å·çš„å‘åŠ¨æœº.VROOM!&quot;);&#125;@end@interface AllWeatherRadial : Tire@end // æ–°å‹è½®èƒ@implementation AllWeatherRadial-(NSString *)description&#123; return (@&quot;I am a tire for rain or shine.&quot;);&#125;@end@interface Car : NSObject&#123; Engine *engine; Tire *tires[4];&#125;- (Engine *) engine;- (void) setEngine: (Engine *) newEngine;- (Tire *) tireAtIndex: (int) index;- (void) setTire: (Tire *) tire atIndex: (int) index;- (void)print;@end //Car@implementation Car- (Engine *) engine&#123; return (engine);&#125; //engine- (void) setEngine:(Engine *)newEngine&#123; engine = newEngine;&#125; //setEngine- (void) setTire:(Tire *)tire atIndex:(int)index&#123; if (index&lt;0 || index&gt;3) &#123; NSLog(@&quot;bad index (%d) in setTire:atIndex&quot;, index); exit(1); &#125; tires[index] = tire;&#125; // setTire- (Tire *) tireAtIndex:(int)index&#123; if (index&lt;0 || index&gt;3) &#123; NSLog(@&quot;bad index (%d) in setTire:atIndex&quot;, index); exit(1); &#125; return tires[index];&#125; // tireAtIndex- (id)init&#123; if (self = [super init]) &#123; //? engine = [Engine new]; tires[0] = [Tire new]; tires[1] = [Tire new]; tires[2] = [Tire new]; tires[3] = [Tire new]; &#125; return (self);&#125;- (void)print&#123; NSLog(@&quot;%@&quot;, engine); NSLog(@&quot;%@&quot;, tires[0]); NSLog(@&quot;%@&quot;, tires[1]); NSLog(@&quot;%@&quot;, tires[2]); NSLog(@&quot;%@&quot;, tires[3]);&#125;@endint main(int argc, const char * argv[]) &#123; Car *car = [Car new]; Engine *engine = [Slant6 new]; [car setEngine:engine]; for (int i=0; i&lt;4; i++) &#123; Tire *tire = [AllWeatherRadial new]; [car setTire:tire atIndex:i]; &#125; [car print]; return 0;&#125;]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 2ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†]]></title>
    <url>%2F2017%2Foc-basic-2.html</url>
    <content type="text"><![CDATA[é—´æ¥(indirection) â€œåªè¦å†å¤šæ·»åŠ ä¸€å±‚é—´æ¥ï¼Œè®¡ç®—æœºç§‘å­¦ä¸­å°±æ²¡æœ‰è§£å†³ä¸äº†çš„é—®é¢˜ã€‚â€ ä¾‹å­ ç”µè¯è–„ è®©ä»–äººä»£æ›¿ä½ è‡ªå·±å»å®Œæˆå·¥ä½œ ç¼–å†™ä¸€æ®µä»£ç æ¥æŸ¥è¯¢å…¶ä»–ä»£ç ï¼Œå¹¶é€šè¿‡å®ƒç»§ç»­è®¿é—®å¦ä¸€å±‚ä»£ç ã€‚ æ¨è¯¿ å˜é‡ä¸é—´æ¥ ä½¿ç”¨æ–‡ä»¶åçš„é—´æ¥ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä½¿ç”¨é—´æ¥ ä½¿ç”¨é—´æ¥æ¥è°ƒç”¨ä»£ç ï¼Œä¸æ˜¯ç›´æ¥è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œè€Œæ˜¯é—´æ¥è°ƒç”¨ã€‚ è¿‡ç¨‹å¼ç¼–ç¨‹(Procedual Programming) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#import &lt;Foundation/Foundation.h&gt;typedef enum &#123; kCircle, kRectangle, kEgg,&#125; ShapeType;typedef enum &#123; kRedColor, kGreenColor, kBlueColor&#125; ShapeColor;//ä¸åŒå›¾å½¢å…ƒç´ typedef struct &#123; int x, y, width, height;&#125; ShapeRect;//å›¾å½¢ç»“æ„typedef struct &#123; ShapeType type; ShapeColor fillColor; ShapeRect bounds;&#125; Shape;//é¢œè‰²å‡½æ•°NSString *colorName(ShapeColor fillColor)&#123; switch (fillColor) &#123; case kRedColor: return @&quot;red&quot;; break; case kGreenColor: return @&quot;green&quot;; break; case kBlueColor: return @&quot;blue&quot;; break; &#125; return @&quot;no clue&quot;;&#125;//ç»˜åˆ¶å›¾å½¢void drawCircle(ShapeRect bounds, ShapeColor fillColor)&#123; NSLog(@&quot;drawing a Circle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;void drawRectangle(ShapeRect bounds, ShapeColor fillColor)&#123; NSLog(@&quot;drawing a Rectangle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;void drawEgg(ShapeRect bounds, ShapeColor fillColor)&#123; NSLog(@&quot;drawing a Egg at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;void drawShapes(Shape shapes[], int count)&#123; for (int i=0; i&lt;count; i++) &#123; switch (shapes[i].type) &#123; case kCircle: drawCircle(shapes[i].bounds, shapes[i].fillColor); break; case kRectangle: drawRectangle(shapes[i].bounds, shapes[i].fillColor); break; case kEgg: drawEgg(shapes[i].bounds, shapes[i].fillColor); break; default: break; &#125; &#125;&#125;int main(int argc, const char * argv[]) &#123; Shape shapes[3]; ShapeRect rect0 = &#123;0, 0, 10, 30&#125;; shapes[0].type = kCircle; shapes[0].fillColor = kRedColor; shapes[0].bounds = rect0; ShapeRect rect1 = &#123;30, 40, 50, 60&#125;; shapes[1].type = kRectangle; shapes[1].fillColor = kGreenColor; shapes[1].bounds = rect1; ShapeRect rect2 = &#123;15, 18, 37, 29&#125;; shapes[2].type = kEgg; shapes[2].fillColor = kBlueColor; shapes[2].bounds = rect2; drawShapes(shapes, 3); return 0;&#125; ä¿®æ”¹è¿‡å»æ­£å¸¸å·¥ä½œçš„ä»£ç å¾ˆå¯èƒ½ä¼šå¼•å…¥æ–°çš„é”™è¯¯ã€‚å»ºç«‹åœ¨å‡½æ•°ä¹‹ä¸Šï¼Œæ•°æ®ä¸ºå‡½æ•°æœåŠ¡ã€‚ä»£ç ä¾‹å­ 3.2.1 Shapes-Procedural é¢å‘å¯¹è±¡ç¼–ç¨‹ ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œå‡½æ•°ä¸ºæ•°æ®æœåŠ¡ ä»£ç ä¾‹å­ 3.2.2 Shapes-Object idæ˜¯ä¸€ç§æ³›å‹ï¼Œå¯ä»¥ç”¨æ¥å¼•ç”¨ä»»ä½•ç±»å‹çš„å¯¹è±¡(idå®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ)ã€‚ æ–¹æ‹¬å·åœ¨OCä¸­å…¶ä»–æ„ä¹‰ï¼šç”¨äºé€šçŸ¥æŸä¸ªå¯¹è±¡è¯¥å»åšä»€ä¹ˆã€‚[shape draw];è¡¨ç¤ºé€šçŸ¥shapeå¯¹è±¡æ‰§è¡Œdrawæ“ä½œ å‘é€æ¶ˆæ¯ï¼ˆè°ƒç”¨æ–¹æ³•ï¼‰ï¼šé€šçŸ¥å¯¹è±¡æ‰§è¡ŒæŸç§æ“ä½œã€‚ ç±»æ˜¯ä¸€ç§èƒ½å¤Ÿå®ä¾‹åŒ–æˆå¯¹è±¡çš„ç»“æ„ä½“ã€‚ å¦‚æœåœ¨è¿è¡Œæ—¶æ”¹å˜æŸä¸ªç±»ï¼Œåˆ™è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡è‡ªåŠ¨ç»§æ‰¿è¿™äº›å˜åŒ–ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184#import &lt;Foundation/Foundation.h&gt;typedef enum &#123; kRedColor, kGreenColor, kBlueColor&#125; ShapeColor;//ä¸åŒå›¾å½¢å…ƒç´ typedef struct &#123; int x, y, width, height;&#125; ShapeRect;//é¢œè‰²å‡½æ•°NSString *colorName(ShapeColor fillColor)&#123; switch (fillColor) &#123; case kRedColor: return @&quot;red&quot;; break; case kGreenColor: return @&quot;green&quot;; break; case kBlueColor: return @&quot;blue&quot;; break; &#125; return @&quot;no clue&quot;;&#125;@interface Circle : NSObject&#123; @private ShapeColor fillColor; ShapeRect bounds;&#125;- (void) setFillColor: (ShapeColor) fillColor;- (void) setBounds: (ShapeRect) bounds;- (void) draw;@end //Circle@implementation Circle- (void) setFillColor:(ShapeColor) c&#123; fillColor = c;&#125;- (void) setBounds:(ShapeRect) b&#123; bounds = b;&#125;- (void) draw&#123; NSLog(@&quot;drawing a Circle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;@end@interface Rectangle : NSObject&#123;@private ShapeColor fillColor; ShapeRect bounds;&#125;- (void) setFillColor: (ShapeColor) fillColor;- (void) setBounds: (ShapeRect) bounds;- (void) draw;@end //Rectangle@implementation Rectangle- (void) setFillColor:(ShapeColor) c&#123; fillColor = c;&#125;- (void) setBounds:(ShapeRect) b&#123; bounds = b;&#125;- (void) draw&#123; NSLog(@&quot;drawing a Rectangle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;@end@interface Egg : NSObject&#123;@private ShapeColor fillColor; ShapeRect bounds;&#125;- (void) setFillColor: (ShapeColor) fillColor;- (void) setBounds: (ShapeRect) bounds;- (void) draw;@end //Egg@implementation Egg- (void) setFillColor:(ShapeColor) c&#123; fillColor = c;&#125;- (void) setBounds:(ShapeRect) b&#123; bounds = b;&#125;- (void) draw&#123; NSLog(@&quot;drawing a Egg at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;@end// è¡¥å……ä¸€ä¸ªä¸‰è§’å½¢@interface Triangle : NSObject&#123;@private ShapeColor fillColor; ShapeRect bounds;&#125;- (void) setFillColor: (ShapeColor) fillColor;- (void) setBounds: (ShapeRect) bounds;- (void) draw;@end //Triangle@implementation Triangle- (void) setFillColor:(ShapeColor) c&#123; fillColor = c;&#125;- (void) setBounds:(ShapeRect) b&#123; bounds = b;&#125;- (void) draw&#123; NSLog(@&quot;drawing a Triangle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;@endvoid drawShapes(id shapes[], int count)&#123; for (int i=0; i&lt;count; i++) &#123; id shape = shapes[i]; [shape draw]; &#125;&#125;int main(int argc, const char * argv[]) &#123; id shapes[4]; ShapeRect rect0 = &#123;0, 0, 10, 30&#125;; shapes[0] = [Circle new]; [shapes[0] setBounds:rect0]; [shapes[0] setFillColor:kRedColor]; ShapeRect rect1 = &#123;30, 40, 50, 60&#125;; shapes[1] = [Rectangle new]; [shapes[1] setBounds:rect1]; [shapes[1] setFillColor:kGreenColor]; ShapeRect rect2 = &#123;15, 18, 37, 29&#125;; shapes[2] = [Egg new]; [shapes[2] setBounds:rect2]; [shapes[2] setFillColor:kBlueColor]; ShapeRect rect3 = &#123;3, 4, 5, 0&#125;; shapes[3] = [Triangle new]; [shapes[3] setBounds:rect3]; [shapes[3] setFillColor:kBlueColor]; drawShapes(shapes, 4); return 0;&#125; æœ‰å…³æœ¯è¯­ class object instance message method method dispatcher interface implementation OCä¸­çš„OOP12345678910111213141516171819202122232425262728293031@interface Circle : NSObject&#123; @private ShapeColor fillColor; ShapeRect bounds;&#125;- (void) setFillColor: (ShapeColor) fillColor;- (void) setBounds: (ShapeRect) bounds;- (void) draw;@end //Circle@implementation Circle- (void) setFillColor:(ShapeColor) c&#123; fillColor = c;&#125;- (void) setBounds:(ShapeRect) b&#123; bounds = b;&#125;- (void) draw&#123; NSLog(@&quot;drawing a Circle at (%d %d %d %d) in %@&quot;, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));&#125;@end``` 1. `@interface` OCç¼–è¯‘å™¨éœ€è¦ä¸€äº›æœ‰å…³ç±»çš„ä¿¡æ¯ + `@` å¯ä»¥çœ‹æˆæ˜¯å¯¹Cè¯­è¨€çš„æ‰©å±• + **instance variable**(å®ä¾‹å˜é‡) ï¼š `@interface`ä¸‹çš„èŠ±æ‹¬å·çš„å†…å®¹ï¼š { @private ShapeColor fillColor; ShapeRect bounds;} 1+ **method declaration**(æ–¹æ³•å£°æ˜)ã€‚æœ‰ç‚¹åƒCè¯­è¨€ä¸­çš„å‡½æ•°åŸå‹ã€‚`-`è¡¨ç¤ºå¯¹è±¡æ–¹æ³•ï¼Œ`+`è¡¨ç¤ºç±»æ–¹æ³•ã€‚`(void)`è¡¨ç¤ºè¿”å›ç±»å‹ã€‚ - (void) setFillColor: (ShapeColor) fillColor; - (void) setBounds: (ShapeRect) bounds; - (void) draw; ``` + **infix notation**(ä¸­ç¼€ç¬¦) ï¼š *æ–¹æ³•çš„åç§°åŠå…¶å‚æ•°éƒ½æ˜¯åˆåœ¨ä¸€èµ·çš„* `[circle setFillColor: kRedColor]` è¡¨ç¤ºè°ƒç”¨å¸¦ä¸€ä¸ªå‚æ•°çš„æ–¹æ³• + å¦‚æœæ–¹æ³•ä½¿ç”¨å‚æ•°ï¼Œåˆ™éœ€è¦å†’å·ï¼Œå¦åˆ™ä¸éœ€è¦å†’å· + æå€¡@endè¯­è¨€åæ·»åŠ æ³¨é‡Šæ¥æ³¨æ˜ç±»çš„åç§° @implementation @implementationä¸­å¯ä»¥å®šä¹‰åœ¨@interfaceä¸­å£°æ˜è¿‡å’Œæ²¡æœ‰å£°æ˜è¿‡çš„æ–¹æ³• OCä¸­ä¸å­˜åœ¨çœŸæ­£çš„ç§æœ‰æ–¹æ³• å®ä¾‹åŒ–å¯¹è±¡ instantiationï¼ˆå®ä¾‹åŒ–ï¼‰ [Circle new] å‘é€newæ¶ˆæ¯ è½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œè€Œå¯¹ä¿®æ”¹å…³é—­ã€‚ â€”- å¼€æ”¾/å…³é—­åŸåˆ™(Bertrand Meyer)]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 3ï¼šç»§æ‰¿(inheritance)]]></title>
    <url>%2F2017%2Foc-basic-3-inheritance.html</url>
    <content type="text"><![CDATA[ä¸ºä½•ä½¿ç”¨ç»§æ‰¿ UML(Unified Modeling Language, ç»Ÿä¸€å»ºæ¨¡è¯­è¨€) æ˜¯ä¸€ç§ç”¨å›¾è¡¨æ¥è¡¨ç¤ºç±»ã€ç±»çš„å†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´å…³ç³»ã€‚ å°†é‡å¤çš„ä»£ç åˆå¹¶åˆ°ä¸€å¤„ã€‚ ç»§æ‰¿çš„è¯­æ³•æ ¼å¼ åªèƒ½ç»§æ‰¿ä¸€ä¸ª åªæœ‰ä»£ç ç²¾ç®€ï¼Œbugæ‰æ— å¤„è—èº« æ²¡æœ‰å£°æ˜å®ä¾‹å˜é‡æ—¶å¯ä»¥çœç•¥èŠ±æ‹¬å· ç›¸å…³æœ¯è¯­ refactoring (é‡æ„) superclass parent class subclass child class override ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶OOPä¸€ä¸ªå¼ºå¤§ä¹‹å¤„ï¼šå¯ä»¥å¯¹ä¸€ä¸ªç¨‹åºåšä¸€äº›é‡å¤§æ”¹å˜ï¼Œç¨‹åºä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ æ–¹æ³•è°ƒåº¦ï¼šå½“ä»£ç å‘é€ä¿¡æ¯æ—¶ï¼Œå°†åœ¨å½“å‰çš„ç±»ä¸­æœç´¢ç›¸åº”æ–¹æ³•ï¼Œå¦‚æœæ— æ³•åœ¨æ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡çš„ç±»æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸åº”çš„æ–‡ä»¶ï¼Œå°±ä¼šåœ¨è¯¥å¯¹è±¡çš„è¶…ç±»ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚ å®ä¾‹å˜é‡ åœ¨åˆ›å»ºä¸€ä¸ªæ–°ç±»æ—¶ï¼Œå…¶å¯¹è±¡é¦–å…ˆä¼šä»å®ƒçš„è¶…ç±»ç»§æ‰¿å®ä¾‹å˜é‡ï¼Œç„¶åæ ¹æ®è‡ªèº«æƒ…å†µæ·»åŠ è‡ªå·±çš„å®ä¾‹å˜é‡ã€‚ polymorphism(å¤šæ€æ€§) selfï¼šæŒ‡å‘æ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡çš„æŒ‡é’ˆ é‡å†™æ–¹æ³• super è°ƒç”¨ç»§æ‰¿çš„æ–¹æ³•å¯ä»¥ç¡®ä¿è·å¾—æ–¹æ³•å®ç°çš„æ‰€æœ‰ç‰¹æ€§]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 5ï¼šæºæ–‡ä»¶ç»„ç»‡]]></title>
    <url>%2F2017%2Foc-basic-5.html</url>
    <content type="text"><![CDATA[å°†ç¨‹åºæ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶æœ‰åŠ©äºæ›´å¿«åœ°æ‰¾åˆ°é‡è¦çš„ä»£ç ï¼Œè€Œä¸”å…¶ä»–äººåœ¨æŸ¥çœ‹é¡¹ç›®æ—¶ä¹Ÿèƒ½æœ‰ä¸ªå¤§è‡´çš„äº†è§£ã€‚ æ‹†åˆ†æ¥å£å’Œå®ç°æ ¹æ®@interfaceå’Œ@implementationï¼ŒOCçš„ä»£ç é€šå¸¸æ”¾åœ¨ä¸¤ç§æ–‡ä»¶é‡Œï¼š æ¥å£éƒ¨åˆ†(.h)ï¼šç±»çš„@interfaceæŒ‡ä»¤ã€å…¬å…±structå®šä¹‰ã€enumå¸¸é‡ã€#defineså’Œexternå…¨å±€å˜é‡ç­‰ã€‚ å®ç°éƒ¨åˆ†(.m): ç±»çš„@implementationæŒ‡ä»¤ã€å…¨å±€å˜é‡çš„å®šä¹‰ã€ç§æœ‰structç­‰ã€‚ å¦å¤–ï¼Œå¤æ‚çš„é¡¹ç›®å¯ä»¥æ‹¥æœ‰å¤šä¸ªç›®æ ‡ï¼Œå®ƒä»¬æºæ–‡ä»¶çš„é…ç½®å„ä¸ç›¸åŒï¼Œæ„å»ºè§„åˆ™ä¹Ÿä¸åŒã€‚ç¾¤ç»„å…³ç³»ä»…ä»…æ˜¯æœ‰Xcodeè´Ÿè´£ç®¡ç†çš„ä¸€é¡¹å¥‡å¦™çš„åŠŸèƒ½ã€‚ æ‹†åˆ†Carç¨‹åº #import å¸¦å°–å·çš„æ˜¯å¯¼å…¥ç³»ç»Ÿå¤´æ–‡ä»¶(åªè¯»)ï¼Œå¦‚#import &lt;Foundation/Foundation.h&gt;ï¼›åŒå¼•å·æ˜¯é¡¹ç›®æœ¬åœ°çš„ä»£ç æ–‡ä»¶ï¼Œå¦‚#import &quot;Engine.h&quot;ã€‚ æ‹†åˆ†ä¸Šä¸€ç¯‡ä¸­çš„Carç¨‹åºé¦–å…ˆæ‹†åˆ†ç»§æ‰¿è‡ªNSObjectçš„ç±»ï¼šTireå’ŒEngineã€‚ 1234567// Tire.h#import &lt;Foundation/Foundation.h&gt;@interface Tire : NSObject@end 1234567891011// Tire.m#import &quot;Tire.h&quot;@implementation Tire//#pragma mark -- (NSString *)description &#123; return (@&quot;I am a Tire.&quot;);&#125; //description@end 1234567// Engine.h#import &lt;Foundation/Foundation.h&gt;@interface Engine : NSObject@end 12345678// Engine.m#import &quot;Engine.h&quot;@implementation Engine- (NSString *)description &#123; return (@&quot;I am a Engine.&quot;);&#125; //description@end ä½¿ç”¨è·¨æ–‡ä»¶ä¾èµ–å…³ç³» @class æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªç±»ï¼Œåªä¼šé€šè¿‡æŒ‡é’ˆæ¥å¼•ç”¨å®ƒï¼Œä¸éœ€è¦å…³æ³¨æ­¤ç±»çš„æ›´å¤šä¿¡æ¯â€ã€‚å¯å‡å°‘å¿…é¡»å¯¼å…¥çš„å¤´æ–‡ä»¶çš„æ•°é‡ï¼Œä»è€Œç¼©çŸ­ç¼–è¯‘æ—¶é—´ã€‚æ‹†åˆ†Carç±»ï¼š 1234567891011121314// Car.h#import &lt;Foundation/Foundation.h&gt;@class Engine;@class Tire;@interface Car : NSObject- (Engine *) engine;- (void) setEngine: (Engine *) newEngine;- (Tire *) tireAtIndex: (int) index;- (void) setTire: (Tire *) tire atIndex: (int) index;- (void)print;@end //Car 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657// Car.m#import &quot;Car.h&quot;#import &quot;Tire.h&quot;#import &quot;Engine.h&quot;@implementation Car&#123; Engine *engine; Tire *tires[4];&#125;- (Engine *) engine&#123; return (engine);&#125; //engine- (void) setEngine:(Engine *)newEngine&#123; engine = newEngine;&#125; //setEngine- (void) setTire:(Tire *)tire atIndex:(int)index&#123; if (index&lt;0 || index&gt;3) &#123; NSLog(@&quot;bad index (%d) in setTire:atIndex&quot;, index); exit(1); &#125; tires[index] = tire;&#125; // setTire- (Tire *) tireAtIndex:(int)index&#123; if (index&lt;0 || index&gt;3) &#123; NSLog(@&quot;bad index (%d) in setTire:atIndex&quot;, index); exit(1); &#125; return tires[index];&#125; // tireAtIndex- (id)init&#123; if (self = [super init]) &#123; //? engine = [Engine new]; tires[0] = [Tire new]; tires[1] = [Tire new]; tires[2] = [Tire new]; tires[3] = [Tire new]; &#125; return (self);&#125;- (void)print&#123; NSLog(@&quot;%@&quot;, engine); NSLog(@&quot;%@&quot;, tires[0]); NSLog(@&quot;%@&quot;, tires[1]); NSLog(@&quot;%@&quot;, tires[2]); NSLog(@&quot;%@&quot;, tires[3]);&#125;@end //Car ç¼–è¯‘å™¨éœ€è¦å…ˆçŸ¥é“æ‰€æœ‰å…³äºè¶…ç±»çš„ä¿¡æ¯æ‰èƒ½æˆåŠŸåœ°ä¸ºå…¶å­ç±»ç¼–è¯‘@interfaceéƒ¨åˆ†ã€‚æ‹†åˆ†Slant6å’ŒAllWeatherRadialï¼š 1234567// Slant6.h#import &quot;Engine.h&quot;@interface Slant6 : Engine@end 123456789// Slant6.m#import &quot;Slant6.h&quot;@implementation Slant6- (NSString *)description &#123; return (@&quot;I am a slant-6.VROOM!&quot;);&#125;@end 1234567// AllWeatherRadial.h#import &quot;Tire.h&quot;@interface AllWeatherRadial : Tire@end 12345678910// AllWeatherRadial.m#import &quot;AllWeatherRadial.h&quot;@implementation AllWeatherRadial-(NSString *)description&#123; return (@&quot;I am a tire for rain or shine.&quot;);&#125;@end æœ€åæ˜¯main.mæ–‡ä»¶ï¼š123456789101112131415161718192021222324// main.m#import &lt;Foundation/Foundation.h&gt;#import &quot;Car.h&quot;#import &quot;Tire.h&quot;#import &quot;Engine.h&quot;#import &quot;Slant6.h&quot;#import &quot;AllWeatherRadial.h&quot;int main(int argc, const char * argv[]) &#123; Car *car = [Car new]; Engine *engine = [Slant6 new]; [car setEngine:engine]; for (int i=0; i&lt;4; i++) &#123; Tire *tire = [AllWeatherRadial new]; [car setTire:tire atIndex:i]; &#125; [car print]; return 0;&#125;]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCåŸºç¡€å­¦ä¹ 1ï¼šå¯¹Cçš„æ‰©å±•]]></title>
    <url>%2F2017%2Foc-basic-1-c.html</url>
    <content type="text"><![CDATA[åˆ†ææœ€ç®€å•çš„Hello Objective-Cç¨‹åº1234567#import &lt;Foundation/Foundation.h&gt;int main(int argc, const char * argv[]) &#123; NSLog(@&quot;Hello, World!&quot;); return 0;&#125; // main OCæœ¬è´¨ä¸Šå°±æ˜¯Cè¯­è¨€ï¼Œå®ƒç”¨æ¥å£°æ˜main()å’Œè¿”å›æ•°å€¼çš„è¯­æ³•å’ŒCè¯­è¨€æ˜¯ä¸€æ ·çš„ã€‚ æ‰©å±•å.mä»£è¡¨message ä¸Cç±»ä¼¼ï¼ŒOCä½¿ç”¨å¤´æ–‡ä»¶æ¥åŒ…å«ç»“æ„ä½“ã€ç¬¦å·å¸¸é‡å’Œå‡½æ•°åŸå‹ç­‰å…ƒç´ çš„å£°æ˜ã€‚ #importç±»ä¼¼äºCçš„#includeï¼Œä½†#importå¯ä¿è¯å¤´æ–‡ä»¶åªè¢«åŒ…å«ä¸€æ¬¡ã€‚ #import &lt;Foundation/Foundation.h&gt;è¯­å¥å‘Šè¯‰ç¼–è¯‘å™¨æŸ¥æ‰¾Foundationæ¡†æ¶ä¸­çš„Foundation.hå¤´æ–‡ä»¶ã€‚ int argc, const char * argv[]ä¸­ argcæ˜¯æŒ‡å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°ï¼Œargv[0]æ˜¯æŒ‡å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œargv[1]æ˜¯æŒ‡å‘½ä»¤è¡Œç¬¬ä¸€ä¸ªå‚æ•°ï¼Œargv[2]æ˜¯æŒ‡å‘½ä»¤è¡Œç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ¡†æ¶ ï¼šä¸€ç§æŠŠå¤´æ–‡ä»¶ã€åº“ã€å›¾ç‰‡ã€å£°éŸ³ç­‰å†…å®¹èšé›†åœ¨ä¸€ä¸ªç‹¬ç«‹å•å…ƒä¸­çš„é›†åˆä½“ã€‚ å¦‚Cocoa,Carbon,QuickTime,OpenGL CocoaåŒ…æ‹¬Foundationå’ŒApplication Kit(AppKit) æ¯ä¸€ä¸ªæ¡†æ¶éƒ½æœ‰ä¸€ä¸ªä¸»å¤´æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†æ¡†æ¶å†…æ‰€æœ‰çš„å¤´æ–‡ä»¶ã€‚ Foundationçš„å¤´æ–‡ä»¶ 1MB 14000è¡Œ 100å¤šæ–‡ä»¶ ã€‚é€šè¿‡#import &lt;Foundation/Foundation.h&gt; å°±è·å¾—äº†æ•´ä¸ªé›†åˆ Xcodeä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼ˆä¸€ç§ç»è¿‡å‹ç¼©çš„ï¼Œæ‘˜è¦å½¢å¼çš„å¤´æ–‡ä»¶ï¼‰æ¥åŠ å¿«è¯»å–é€Ÿåº¦ã€‚ NSLog()å’Œ@â€å­—ç¬¦ä¸²â€ NSå‰ç¼€æ˜¯NextSTEPï¼ˆå¾ˆæ—©ä¹‹å‰è‹¹æœå…¬å¸æ”¶è´­çš„å…¬å¸ï¼‰ NSLog()ç±»ä¼¼äºCçš„printf() @ç¬¦å·æ˜¯Objective-Cåœ¨æ ‡å‡†Cè¯­è¨€åŸºç¡€ä¸Šæ·»åŠ çš„ç‰¹æ€§ï¼Œæ„å‘³ç€å¼•å·å†…çš„å­—ç¬¦ä¸²åº”ä½œä¸ºCocoaçš„NSStringå…ƒç´ æ¥å¤„ç† @ç¬¦å·å¯ä»¥çœ‹æˆä¹‹åæ˜¯å¯¹Cè¯­è¨€çš„æ‰©å±• å¸ƒå°”ç±»å‹OCä¸­çš„å¸ƒå°”å€¼YESæ˜¯1ï¼Œ NOæ˜¯0ï¼Œæ˜¯ä¸Cè¯­è¨€ä¸­ä¸åŒçš„ã€‚]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 12 ä¸°å¯ŒDetail Viewå’Œå®šåˆ¶åŒ–Navigation Bar]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-12.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 11 é¢å‘å¯¹è±¡ç¼–ç¨‹ä»‹ç»å¯¹ä»£ç åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œè¿™ä¸€ç¯‡æ¥ä¸°å¯Œä¸€ä¸‹è¯¦æƒ…é¡µå’Œå®šåˆ¶åŒ–Navigation Barã€‚ é‡æ–°è®¾è®¡è¯¦ç»†é¡µé¢ é€‰ä¸­Main.storyboardï¼Œåˆ é™¤Image Viewå’Œä¸‰ä¸ªLabelã€‚ æ·»åŠ Table Viewï¼Œä¿®æ”¹å…¶å¤§å°ä¸ºæ•´ä¸ªViewï¼Œå¹¶ä¸”æ·»åŠ ä¸€äº›çº¦æŸã€‚è®¾ç½®prototype cellsä¸º1ï¼›table view cellçš„identifierä¸ºCellï¼Œrow heightä¸º36ã€‚ åœ¨table viewçš„å¤´éƒ¨æ·»åŠ ä¸€ä¸ªimage viewï¼Œç»™å˜å…¶é«˜åº¦ä¸º300ï¼Œå®½åº¦ä¸ºViewçš„å®½åº¦ã€‚ è¿æ¥image viewå’ŒRestaurantDetailViewControllerä¸­çš„restaurantImageViewæ¥å£ã€‚ ä¿®æ”¹Image Viewçš„content modeä¸º Aspect Fitï¼Œå¹¶å‹¾é€‰Clip to Bounds å®šåˆ¶ Prototype Cell å¢åŠ ä¸¤ä¸ªlabelï¼Œåˆ†åˆ«å‘½åä¸ºFieldï¼ŒValue ï¼Œå­—ä½“ä¿®æ”¹æˆè‡ªå·±æƒ³è¦çš„ã€‚æŠŠå®ƒä»¬ç»„æˆä¸€ä¸ªStack Viewã€‚ ä¸ºStack Viewæ·»åŠ ä¸€äº›çº¦æŸã€‚åœ¨cellä¸­å‚ç›´å±…ä¸­ï¼›Trailing Space å’Œ Leading Spaceéƒ½ä¸ºé›¶ã€‚ ç”¨Ctrl-dragä»FieldLabelåˆ°ValueLabelï¼Œé€‰æ‹©Equal Widthsï¼Œç”Ÿæˆä¸€ä¸ªFieldLabelä¸ValueLabelå®½åº¦ç›¸åŒçš„çº¦æŸã€‚ä¿®æ”¹Multiplierå€¼ä¸º0.5ï¼Œå°±æ˜¯FieldLabelçš„å®½åº¦æ˜¯ValueLabelçš„ä¸€åŠã€‚ æ–°å»ºRestaurantDetailTableViewCellç±»æ–‡ä»¶ï¼Œç»§æ‰¿è‡³UITableViewCellã€‚æ·»åŠ ä¸¤ä¸ªæ¥å£ï¼Œå¹¶å…³è”ä¸Šé¢çš„ä¸¤ä¸ªLabelã€‚12@IBOutlet var fieldLabel:UILabel!@IBOutlet var valueLabel:UILabel! æ›´æ–° RestaurantDetailViewController å®ç°UITableViewDataSourceå’ŒUITableViewDelegate: class RestaurantDetailViewController: UIViewController, UITableViewDataSource, UITableViewDelegate { å®ç°UITableViewDataSourceçš„ç›¸å…³æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return 4&#125;func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: &quot;Cell&quot;, for: indexPath) as! RestaurantDetailTableViewCell // Configure the cell... switch indexPath.row &#123; case 0: cell.fieldLabel.text = &quot;Name&quot; cell.valueLabel.text = restaurant.name case 1: cell.fieldLabel.text = &quot;Type&quot; cell.valueLabel.text = restaurant.type case 2: cell.fieldLabel.text = &quot;Location&quot; cell.valueLabel.text = restaurant.location case 3: cell.fieldLabel.text = &quot;Been here&quot; cell.valueLabel.text = (restaurant.isVisited) ? &quot;Yes, I&apos;ve been herebefore&quot; : &quot;No&quot; default: cell.fieldLabel.text = &quot;&quot; cell.valueLabel.text = &quot;&quot; &#125; cell.backgroundColor = UIColor.clear return cell&#125; æŠŠtable viewçš„delegateå’ŒdataSourceæ¥å£è®¾ç½®æˆRestaurant Detail View Controller ã€‚ å®šåˆ¶table view çš„æ ·å¼ åœ¨RestaurantDetailViewControllerä¸­æ·»åŠ ä¸€ä¸ªæ¥å£å˜é‡ï¼Œå¹¶å…³è”storyboardä¸­çš„table viewã€‚@IBOutlet var tableView:UITableView! è®¾ç½®table viewçš„èƒŒæ™¯é¢œè‰²ï¼Œåœ¨viewDidLoadä¸­æ·»åŠ :tableView.backgroundColor = UIColor(red: 240.0/255.0, green: 240.0/255.0, blue: 240.0/255.0, alpha: 0.2)æ–°åŠ çš„é¢œè‰²æ˜¯äº®ç°è‰²ï¼ˆå’Œç™½è‰²ç›¸è¿‘ï¼Œå¯ä»¥è®¾ç½®æˆå…¶ä»–æ·±é¢œè‰²åšå¯¹æ¯”ï¼‰ï¼Œè¿è¡Œåä¸æ˜¯æ•´ä¸ªtable viewéƒ½å˜è‰²ã€‚è¿™æ˜¯å› ä¸ºï¼Œæ¯ä¸€ä¸ªcelléƒ½æ˜¯é‡æ–°æ·»åŠ çš„ï¼Œcellçš„èƒŒæ™¯é¢œè‰²è¿˜æ˜¯é»˜è®¤çš„ç™½è‰²ï¼Œè¦†ç›–äº†table viewçš„èƒŒæ™¯é¢œè‰²ï¼Œè¦åœ¨tableView(_:cellForRowAt:)çš„returnä¹‹å‰æ·»åŠ ï¼šcell.backgroundColor = UIColor.clear ç§»é™¤table viewä¸­ç©ºcellçš„åˆ†å‰²çº¿ï¼Œåœ¨viewDidLoadä¸­æ·»åŠ : tableView.tableFooterView = UIView(frame: CGRect.zero) æ”¹å˜åˆ†å‰²çº¿çš„é¢œè‰²ï¼Œ åœ¨viewDidLoadä¸­æ·»åŠ :tableView.separatorColor = UIColor(red: 240.0/255.0, green: 240.0/255.0, blue: 240.0/255.0, alpha: 0.8) å®šåˆ¶Navigation Barçš„æ ·å¼é€šè¿‡UINavigationBar.appearance()ä¿®æ”¹Navigation Barçš„æ ·å¼ã€‚ Navigation Barçš„æ ·å¼ä¿®æ”¹æ˜¯æ•´ä½“ä¿®æ”¹çš„ï¼Œæ‰€ä»¥ä¿®æ”¹Navigation Barçš„æ ·å¼ä»£ç è¦å†™åœ¨application(_:didFinishLaunchingWithOptions:)æ–¹æ³•ä¸­ã€‚ ä¿®æ”¹navigation barçš„èƒŒæ™¯é¢œè‰²ï¼šUINavigationBar.appearance().barTintColor = UIColor(red: 216.0/255.0, green: 74.0/255.0, blue: 32.0/255.0, alpha: 1.0) ä¿®æ”¹titleæ ·å¼ï¼š123if let barFont = UIFont(name: &quot;Avenir-Light&quot;, size: 24.0) &#123; UINavigationBar.appearance().titleTextAttributes = [NSForegroundColorAttributeName:UIColor.white, NSFontAttributeName:barFont]&#125; Avenir-Lightæ˜¯å­—ä½“åç§°ï¼Œè¯¦ç»†çš„iOSå­—ä½“å¯æŸ¥ http://iosfonts.com ã€‚ tintColoræ§åˆ¶Navigation itemså’Œbar button itemsçš„é¢œè‰²UINavigationBar.appearance().tintColor = UIColor.white ç›®å‰ï¼ŒNavigation barçš„è¿”å›æŒ‰é’®æ˜¯ä¸€ä¸ª&lt;å’ŒFood Pinï¼Œæƒ³åˆ é™¤Food Pinï¼Œéœ€è¦ä¿®æ”¹RestaurantTableViewControllerçš„backBarButtonItemå±æ€§ã€‚ åœ¨ RestaurantTableViewControllerçš„viewDidLoadä¸­æ·»åŠ ï¼š navigationItem.backBarButtonItem = UIBarButtonItem(title: &quot;&quot;, style: .plain, target: nil, action: nil) ä¸º detail view çš„ Navigation bar æ·»åŠ titleï¼Œåœ¨ RestaurantDetailViewControllerçš„viewDidLoadä¸­æ·»åŠ ï¼štitle = restaurant.name éšè—Navigation Bar è‡ªä»iOS 8åï¼ŒNavigation Barå¯ä»¥åœ¨ä¸åŒæƒ…å†µä¸‹éšè—ï¼Œåœ¨storyboardä¸­é€‰æ‹©Navigation Controllerä¿®æ”¹ã€‚ï¼ˆOn Swipeæ˜¯å‘ä¸Šæ»‘ï¼‰ ä½†è¿™ç§è®¾ç½®æ•´ä¸ªappçš„Navigation Baréƒ½ä¼šéšè—ã€‚å¦‚æœåªæƒ³åœ¨restaurant table view controllerä¸­éšè—ï¼Œåœ¨detail viewä¸­ä¸éšè—ï¼Œå°±éœ€è¦åœ¨ä¸¤ä¸ªæ§åˆ¶å™¨çš„viewDidLoadåˆ†åˆ«è®¾ç½®ï¼šnavigationController?.hidesBarsOnSwipe = true å’Œ navigationController?.hidesBarsOnSwipe = false ã€‚ è¿è¡Œåå¤æµ‹è¯•åå‘ç°ä¸¤ä¸ªé—®é¢˜ï¼š å½“ä»detail viewè¿”å›åï¼Œrestaurant table view controllerçš„ Navigation Barä¸èƒ½éšè—ã€‚ å½“restaurant table view controllerçš„ Navigation Baréšè—åè¿›å…¥detail viewåï¼Œ Navigation Baræ¶ˆå¤±ä¸èƒ½å†æ˜¾ç¤ºã€‚ é¦–å…ˆæ˜ç¡®ä¸¤ä¸ªæ§åˆ¶å™¨ä¸­çš„navigationControllerå±æ€§æŒ‡çš„æ˜¯åŒä¸€ä¸ªNavigation Controller ï¼ŒviewDidLoadæ–¹æ³•æ˜¯viewç¬¬ä¸€æ¬¡åŠ è½½æ—¶è°ƒç”¨ï¼Œä¹‹åå°±ä¸å†è°ƒç”¨äº†ã€‚ ä¹Ÿå°±æ˜¯è¯´å½“ä»detail viewè¿”å›ï¼ŒhidesBarsOnSwipeå·²ç»è¢«è®¾ç½®ä¸ºfalseï¼Œè€Œåˆ°restaurant table view controllerçš„viewDidLoadä¸å†è°ƒç”¨ï¼Œæ‰€ä»¥Navigation Barä¸èƒ½å†éšè—ã€‚ è§£å†³åŠæ³•æ˜¯ä½¿ç”¨viewWillAppearï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨è§†å›¾æ¯ä¸€æ¬¡æ˜¾ç¤ºæ—¶è°ƒç”¨ã€‚åœ¨RestaurantTableViewControllerä¸­æ·»åŠ ï¼š1234override func viewWillAppear(_ animated: Bool) &#123; super.viewWillAppear(animated) navigationController?.hidesBarsOnSwipe = true&#125; åœ¨RestaurantDetailViewControllerä¸­æ·»åŠ ï¼š12345override func viewWillAppear(_ animated: Bool) &#123; super.viewWillAppear(animated) navigationController?.hidesBarsOnSwipe = false navigationController?.setNavigationBarHidden(false, animated: true)&#125; ä¿®æ”¹Status Baræ ·å¼appä¸­Status Barçš„é»˜è®¤æ ·å¼æ˜¯é»‘è‰²ã€‚ åœ¨Info.plistä¸­æ·»åŠ ä¸€ä¸ªkeyä¸ºView controller-based status bar appearanceï¼Œå€¼ä¸ºNOã€‚ç„¶åapplication(_:didFinishLaunchingWithOptions:)ä¸­æ·»åŠ ï¼šUIApplication.shared.statusBarStyle = .lightContentã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 6ï¼šä½¿ç”¨Quick Lookæ¡†æ¶é¢„è§ˆæ–‡ä»¶(Swift)]]></title>
    <url>%2F2017%2Fios-tutorial-6-quicklook.html</url>
    <content type="text"><![CDATA[iOS SDKä¸­æœ‰å¾ˆå¤šä¸å¸¸è§ï¼Œå´éå¸¸å¥½ç”¨çš„åº“ï¼ŒQuick Lookæ¡†æ¶å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚Quick Lookæ¡†æ¶æä¾›äº†é¢„è§ˆå¾ˆå¤šä¸åŒç±»å‹æ–‡ä»¶çš„åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦æ‰“å¼€ä¸åŒçš„APPæŸ¥çœ‹ï¼Œæœ‰ç‚¹åƒMacä¸­çš„ç©ºæ ¼é”®åŠŸèƒ½ã€‚ Quick Lookæ¡†æ¶å¯ä»¥é¢„è§ˆçš„æ–‡ä»¶ç±»å‹ï¼š iWork documents (Pages, Numbers and Keynote) Microsoft Office documents (as long as theyâ€™ve been created with Office 97 or any other newer version) PDF files Images Text files Rich-Text Format documents Comma-Separated Value files (csv) å¼€å§‹é¡¹ç›®åˆ°å¼€å§‹é¡¹ç›®å¤„ä¸‹è½½å¼€å§‹é¡¹ç›®ï¼Œè¿™æ˜¯åŸæ–‡æä¾›äº†ä¸€ä¸ªå¼€å§‹é¡¹ç›®ï¼Œä»£ç æ˜¯è€ç‰ˆæœ¬çš„ï¼Œéœ€è¦è½¬æ¢ä¸€ä¸‹ã€‚è¿™ä¸ªå¼€å§‹é¡¹ç›®ä¸­åŒ…æ‹¬äº†å…­ç§ä¸åŒçš„ç±»å‹çš„æ–‡ä»¶ï¼Œä¸€ä¸ªnavigation controllerï¼Œä¸€ä¸ªtable view controllerï¼ˆFileListViewControllerï¼‰ï¼Œå¦å¤–è¿˜åšäº†ä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚ä¹‹åä»£ç å°±åœ¨FileListViewControllerä¸­å®Œæˆã€‚ æ–‡ä»¶å’Œæ–‡ä»¶çš„URLS åœ¨FileListViewControllerä¸­å®šä¹‰ä¸€ä¸ªæ–‡ä»¶åå­—çš„æ•°ç»„å˜é‡ï¼šlet fileNames = [&quot;AppCoda-PDF.pdf&quot;, &quot;AppCoda-Pages.pages&quot;, &quot;AppCoda-Word.docx&quot;, &quot;AppCoda-Keynote.key&quot;, &quot;AppCoda-Text.txt&quot;, &quot;AppCoda-Image.jpeg&quot;] ç»§ç»­å®šä¹‰ä¸€ä¸ªæ•°ç»„å˜é‡ï¼Œç”¨æˆ·å­˜å‚¨ä¸åŒçš„æ–‡ä»¶çš„URLï¼švar fileURLs = [NSURL]() åˆ›å»ºä¸€ä¸ªæ–¹æ³•prepareFileURLs()ï¼Œç”¨äºä¸ºfileURLsæ·»åŠ å€¼ï¼š 123456789101112func prepareFileURLs() &#123; for file in fileNames &#123; // 1 let fileParts = file.components(separatedBy: &quot;.&quot;) if let fileURL = Bundle.main.url(forResource: fileParts[0], withExtension: fileParts[1]) &#123; // 2 if FileManager.default.fileExists(atPath: fileURL.path) &#123; fileURLs.append(fileURL as NSURL) &#125; &#125; &#125;&#125; 1 components(separatedBy:)æ–¹æ³•ç”¨äºæŠŠStringæŒ‰ç…§ç»™å®šçš„åˆ†éš”ç¬¦ï¼Œåˆ†è§£æˆ[String]ã€‚ 2 åˆ¤æ–­æ–‡ä»¶åœ°å€æ˜¯å¦çœŸå®å­˜åœ¨ã€‚ åœ¨ viewDidLoad()ä¸­å®ç°ä¸Šé¢çš„å‡½æ•°ï¼š 12345override func viewDidLoad() &#123; ... prepareFileURLs()&#125; å±•ç¤ºæ–‡ä»¶ç”¨table viewå±•ç¤ºä¸åŒçš„æ–‡ä»¶ï¼š æ ¹æ®æ–‡ä»¶çš„URLï¼Œè·å¾—æ–‡ä»¶åå’Œæ–‡ä»¶åç¼€ï¼ˆæ–‡ä»¶ç±»å‹ï¼‰ï¼Œæ·»åŠ å‡½æ•°extractAndBreakFilenameInComponents(:)ã€‚ 12345678910func extractAndBreakFilenameInComponents(fileURL: NSURL) -&gt; (fileName: String, fileExtension: String) &#123; let fileURLParts = fileURL.path!.components(separatedBy: &quot;/&quot;) let fileName = fileURLParts.last let filenameParts = fileName?.components(separatedBy: &quot;.&quot;) return (filenameParts![0], filenameParts![1])&#125; ä¿®æ”¹ tableView(tableView:cellForRowAtIndexPath)ï¼š 123456789func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCellWithIdentifier(&quot;idCellFile&quot;, forIndexPath: indexPath) let currentFileParts = extractAndBreakFilenameInComponents(fileURLs[indexPath.row]) cell.textLabel?.text = currentFileParts.fileName return cell&#125; æ ¹æ®ä¸åŒçš„åç¼€åï¼Œå®šä¹‰ä¸åŒçš„æ–‡ä»¶ç±»å‹åç§°ï¼Œæ·»åŠ å‡½æ•°getFileTypeFromFileExtension(:)ï¼š 12345678910111213141516171819202122232425func getFileTypeFromFileExtension(fileExtension: String) -&gt; String &#123; var fileType = &quot;&quot; switch fileExtension &#123; case &quot;docx&quot;: fileType = &quot;Microsoft Word document&quot; case &quot;pages&quot;: fileType = &quot;Pages document&quot; case &quot;jpeg&quot;: fileType = &quot;Image document&quot; case &quot;key&quot;: fileType = &quot;Keynote document&quot; case &quot;pdf&quot;: fileType = &quot;PDF document&quot; default: fileType = &quot;Text document&quot; &#125; return fileType&#125; å›åˆ°tableView(tableView:cellForRowAtIndexPath)ï¼Œæ·»åŠ ä¸€æ®µcellé…ç½®ï¼š cell.detailTextLabel?.text = getFileTypeFromFileExtension(fileExtension: currentFileParts.fileExtension) ä¿®æ”¹æ¯ä¸ªsectionä¸­rowçš„æ•°ç›®ä¸ºæ–‡ä»¶æ•°ç›®ï¼š 123func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return fileNames.count&#125; QLPreviewControllerDataSource å¼•å…¥æ¡†æ¶Quick Lookâ€‹ import QuickLook å®šä¹‰QLPreviewControllerâ€‹ let quickLookController = QLPreviewController() è®©FileListViewControllerå®ç°QLPreviewControllerDataSourceåè®® å®ç°QLPreviewControllerDataSourceåè®®çš„å¿…é¡»è¦å®ç°çš„æ–¹æ³•ã€‚ç¬¬ä¸€æ–¹æ³•è¡¨ç¤ºæœ‰å¤šå°‘ä¸ªæ–‡ä»¶éœ€è¦é¢„è§ˆï¼š 123func numberOfPreviewItems(in controller: QLPreviewController) -&gt; Int &#123; return fileURLs.count&#125; ç¬¬äºŒä¸ªæ–¹æ³•ï¼š123func previewController(_ controller: QLPreviewController, previewItemAt index: Int) -&gt; QLPreviewItem &#123; return fileURLs[index]&#125; åœ¨viewDidLoad()ä¸­æ·»åŠ ï¼š â€‹ quickLookController.dataSource = self é¢„è§ˆæ–‡ä»¶åœ¨table viewä¸­é€‰ä¸­æ–‡ä»¶ï¼Œå°±è¦è·³è½¬çš„é¢„è§ˆé¡µé¢ã€‚å®ç°æ–¹æ³•tableView(_:didSelectRowAt:)ï¼š123456func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; if QLPreviewController.canPreview(fileURLs[indexPath.row]) &#123; quickLookController.currentPreviewItemIndex = indexPath.row navigationController?.pushViewController(quickLookController, animated: true) &#125; &#125; navigationController?.pushViewController(quickLookController, animated: true)å¯ç”¨presentViewController(quickLookController, animated: true, completion: nil)ä»£æ›¿ã€‚ è¿è¡Œå¯é¢„è§ˆæ–‡ä»¶ï¼š è§‚å¯Ÿä¸Šå›¾ï¼Œå¯å‘ç° Quick Look Preview Controllerè‡ªå¸¦äº†toolbarï¼Œå·¦è¾¹ä¸€ä¸ªæ˜¯åˆ†äº«æŒ‰é’®(é€šè¿‡UIActivityViewControllerå®ç°çš„)ï¼Œå³è¾¹ä¸€ä¸ªæ˜¯ç±»ä¼¼ç›®å½•åŠŸèƒ½ï¼Œå½“æœ‰å¾ˆå¤šé¢„è§ˆæ–‡ä»¶æ—¶ï¼Œæ¥è·³è½¬åˆ°ä¸åŒé¢„è§ˆæ–‡ä»¶ã€‚ ä»£ç QuickLookDemo å‚è€ƒ Using Quick Look Framework for Previewing Documents]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-25ï¼šé«˜çº§è¿ç®—ç¬¦(Advanced Operators)]]></title>
    <url>%2F2017%2Fswift-25-advanced-operators.html</url>
    <content type="text"><![CDATA[1 ä½è¿ç®—ç¬¦ æŒ‰ä½å–åè¿ç®—ç¬¦ 12let initialBits: UInt8 = 0b00001111let invertedBits = ~initialBits // ç­‰äº 0b11110000 æŒ‰ä½ä¸è¿ç®—ç¬¦ 123let firstSixBits: UInt8 = 0b11111100let lastSixBits: UInt8 = 0b00111111let middleFourBits = firstSixBits &amp; lastSixBits // ç­‰äº 00111100 æŒ‰ä½æˆ–è¿ç®—ç¬¦ 123let someBits: UInt8 = 0b10110010let moreBits: UInt8 = 0b01011110let combinedbits = someBits | moreBits // ç­‰äº 11111110 æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ 123let firstBits: UInt8 = 0b00010100let otherBits: UInt8 = 0b00000101let outputBits = firstBits ^ otherBits // ç­‰äº 00010001 æŒ‰ä½å·¦ç§»ã€å³ç§»è¿ç®—ç¬¦ 123456let shiftBits: UInt8 = 4 // 00000100shiftBits &lt;&lt; 1 // 00001000shiftBits &lt;&lt; 2 // 00010000shiftBits &lt;&lt; 5 // 10000000shiftBits &lt;&lt; 6 // 00000000shiftBits &gt;&gt; 2 // 00000001 ä½¿ç”¨ç§»ä½è¿ç®—å¯¹é¢œè‰²è¿›è¡ŒRGBåˆ†è§£ 1234let pink: UInt32 = 0xCC6699let redComponent = (pink &amp; 0xFF0000) &gt;&gt; 16 // redComponent æ˜¯ 0xCCï¼Œå³ 204let greenComponent = (pink &amp; 0x00FF00) &gt;&gt; 8 // greenComponent æ˜¯ 0x66ï¼Œ å³ 102let blueComponent = pink &amp; 0x0000FF // blueComponent æ˜¯ 0x99ï¼Œå³ 153 æœ‰ç¬¦å·æ•´æ•°çš„ç§»ä½è¿ç®— 2 æº¢å‡ºè¿ç®—ç¬¦åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‘ä¸€ä¸ªæ•´æ•°èµ‹äºˆè¶…è¿‡å®ƒå®¹é‡çš„å€¼æ—¶ï¼ŒSwifté»˜è®¤ä¼šæŠ¥é”™ï¼Œè€Œä¸æ˜¯ç”Ÿæˆä¸€ä¸ªæ— æ•ˆçš„æ•°ã€‚1234567var potentialOverflow = Int16.max // potentialOverflow çš„å€¼æ˜¯ 32767ï¼Œè¿™æ˜¯ Int16 èƒ½å®¹çº³çš„æœ€å¤§æ•´æ•°//potentialOverflow += 1 // è¿™é‡Œä¼šæŠ¥é”™// å¯ä»¥é€‰æ‹©è®©ç³»ç»Ÿåœ¨æ•°å€¼æº¢å‡ºçš„æ—¶å€™é‡‡å–æˆªæ–­å¤„ç†ï¼Œè€ŒéæŠ¥é”™ã€‚ `&amp;+` `&amp;-` `&amp;*`var unsignedOverflow = UInt8.max // unsignedOverflow ç­‰äº UInt8 æ‰€èƒ½å®¹çº³çš„æœ€å¤§æ•´æ•° 255 unsignedOverflow = unsignedOverflow &amp;+ 1 // æ­¤æ—¶ unsignedOverflow ç­‰äº 0var unsignedOverflow2 = UInt8.min // unsignedOverflow ç­‰äº UInt8 æ‰€èƒ½å®¹çº³çš„æœ€å°æ•´æ•° 0unsignedOverflow2 = unsignedOverflow2 &amp;- 1 // æ­¤æ—¶ unsignedOverflow ç­‰äº 255 3 ä¼˜å…ˆçº§å’Œç»“åˆæ€§4 è¿ç®—ç¬¦å‡½æ•°è¿ç®—ç¬¦é‡è½½: ç±»å’Œç»“æ„ä½“å¯ä»¥ä¸ºç°æœ‰çš„è¿ç®—ç¬¦æä¾›è‡ªå®šä¹‰çš„å®ç°ã€‚ ä¾‹å­ï¼šå‘é‡çš„ç›¸åŠ 1234567891011121314151617181920212223242526272829303132struct Vector2D &#123; var x = 0.0, y = 0.0&#125;extension Vector2D &#123; static func + (left: Vector2D, right: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: left.x + right.x, y: left.y + right.y) &#125; static prefix func - (vector: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: -vector.x, y: -vector.y) &#125; static func += (left: inout Vector2D, right: Vector2D) &#123; left = left + right &#125; static func == (left: Vector2D, right: Vector2D) -&gt; Bool &#123; return (left.x == right.x) &amp;&amp; (left.y == right.y) &#125; static func != (left: Vector2D, right: Vector2D) -&gt; Bool &#123; return !(left == right) &#125;&#125;let vector = Vector2D(x: 3.0, y: 1.0)let anotherVector = Vector2D(x: 2.0, y: 4.0)let combinedVector = vector + anotherVector // combinedVector æ˜¯ä¸€ä¸ªæ–°çš„ Vector2D å®ä¾‹ï¼Œå€¼ä¸º (5.0, 5.0)let negative = -vector // negative æ˜¯ä¸€ä¸ªå€¼ä¸º (-3.0, -1.0) çš„ Vector2D å®ä¾‹var original = Vector2D(x: 1.0, y: 2.0)let vectorToAdd = Vector2D(x: 3.0, y: 4.0)original += vectorToAdd // original çš„å€¼ç°åœ¨ä¸º (4.0, 6.0)let twoThree = Vector2D(x: 2.0, y: 3.0)let anotherTwoThree = Vector2D(x: 2.0, y: 3.0)if twoThree == anotherTwoThree &#123; print("These two vectors are equivalent.")&#125; 5 è‡ªå®šä¹‰è¿ç®—ç¬¦1234567891011121314151617181920212223prefix operator +++extension Vector2D &#123; static prefix func +++ (vector: inout Vector2D) -&gt; Vector2D &#123; vector += vector return vector &#125;&#125;var toBeDoubled = Vector2D(x: 1.0, y: 4.0)let afterDoubling = +++toBeDoubled// toBeDoubled now has values of (2.0, 8.0)// afterDoubling also has values of (2.0, 8.0)infix operator +-: AdditionPrecedenceextension Vector2D &#123; static func +- (left: Vector2D, right: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: left.x + right.x, y: left.y - right.y) &#125;&#125;let firstVector = Vector2D(x: 1.0, y: 2.0)let secondVector = Vector2D(x: 3.0, y: 4.0)let plusMinusVector = firstVector +- secondVector// plusMinusVector is a Vector2D instance with values of (4.0, -2.0) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 11 é¢å‘å¯¹è±¡ç¼–ç¨‹ä»‹ç»]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-11.html</url>
    <content type="text"><![CDATA[å…³äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject Oriented Programming ï¼ŒOOPï¼‰çš„çŸ¥è¯†å°±ä¸å¤šä»‹ç»äº†ï¼Œè¿™ä¸æ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€ä¸­çš„æ¦‚å¿µï¼Œè€Œæ˜¯ç¼–ç¨‹æ–¹æ³•ã€‚OOPæœ€å¥½çš„ä¸€åœ°æ–¹æ˜¯ï¼Œå®ƒè®©å¤æ‚çš„è½¯ä»¶åˆ†è§£æˆä¸€ä¸ªä¸ªå°çš„éƒ¨åˆ†ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜å¼€æ”¾å’Œç®¡ç†ã€‚ è¿™ä¸€ç¯‡æ–‡ç« å°±æŠŠä¸Šä¸€ç¯‡æ–‡ç« å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 10 Navigation Controllerçš„ä»‹ç»å’ŒSegueçš„ä»£ç æ•´ç†æˆOOPå½¢å¼ã€‚ é‡æ–°ä¿®æ”¹FoodPiné¡¹ç›® ä¹‹å‰åœ¨RestaurantTableViewControllerç±»ä¸­ï¼Œå®šä¹‰äº†restaurantNames,restaurantImages, restaurantLocations,restaurantTypeså››ä¸ªæ•°ç»„å˜é‡ï¼Œåˆ†åˆ«è¡¨ç¤ºrestaurantçš„åå­—ï¼Œå›¾ç‰‡åç§°ï¼Œä½ç½®ï¼Œç±»å‹ã€‚æ¯ä¸ªrestaurantçš„ä¿¡æ¯åˆ†æ•£åœ¨å››ä¸ªæ•°ç»„ä¸­ï¼Œè€Œä¸”æ•°ç»„çš„å†…å®¹é¡ºåºè¦å¯¹åº”ï¼Œç°åœ¨æŠŠå››ä¸ªä¿¡æ¯ç»„æˆåœ¨ä¸€ä¸ªç±»ä¸­Restaurantã€‚ æ·»åŠ ç±»æ–‡ä»¶Restaurant.swift 123456789101112131415161718import Foundationclass Restaurant &#123; var name = &quot;&quot; var type = &quot;&quot; var location = &quot;&quot; var image = &quot;&quot; var isVisited = false // 1 init(name: String, type: String, location: String, image: String, isVisited: Bool) &#123; self.name = name self.type = type self.location = location self.image = image self.isVisited = isVisited &#125;&#125; 1 è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•ã€‚åœ¨Swiftä¸­ï¼Œç±»çš„æ‰€æœ‰å˜é‡éƒ½éœ€è¦è¢«åˆå§‹åŒ–ï¼Œæˆ–è€…å£°æ˜ä¸ºå¯é€‰å€¼ã€‚ ç”¨Restaurantå¯¹è±¡æ•°ç»„ä»£æ›¿RestaurantTableViewControllerä¸­çš„å‡ ä¸ªæ•°ç»„å˜é‡ã€‚ var restaurants:[Restaurant] = [ Restaurant(name: &quot;Cafe Deadend&quot;, type: &quot;Coffee &amp; Tea Shop&quot;, location: &quot;HongKong&quot;, image: &quot;cafedeadend.jpg&quot;, isVisited: false), Restaurant(name: &quot;Homei&quot;, type: &quot;Cafe&quot;, location: &quot;Hong Kong&quot;, image:&quot;homei.jpg&quot;, isVisited: false), Restaurant(name: &quot;Teakha&quot;, type: &quot;Tea House&quot;, location: &quot;Hong Kong&quot;, image:&quot;teakha.jpg&quot;, isVisited: false), Restaurant(name: &quot;Cafe loisl&quot;, type: &quot;Austrian / Causual Drink&quot;, location: &quot;Hong Kong&quot;, image: &quot;cafeloisl.jpg&quot;, isVisited: false), Restaurant(name: &quot;Petite Oyster&quot;, type: &quot;French&quot;, location: &quot;Hong Kong&quot;, image: &quot;petiteoyster.jpg&quot;, isVisited: false), Restaurant(name: &quot;For Kee Restaurant&quot;, type: &quot;Bakery&quot;, location: &quot;HongKong&quot;, image: &quot;forkeerestaurant.jpg&quot;, isVisited: false), Restaurant(name: &quot;Po&apos;s Atelier&quot;, type: &quot;Bakery&quot;, location: &quot;Hong Kong&quot;, image: &quot;posatelier.jpg&quot;, isVisited: false), Restaurant(name: &quot;Bourke Street Backery&quot;, type: &quot;Chocolate&quot;, location: &quot;Sydney&quot;, image: &quot;bourkestreetbakery.jpg&quot;, isVisited: false), Restaurant(name: &quot;Haigh&apos;s Chocolate&quot;, type: &quot;Cafe&quot;, location: &quot;Sydney&quot;, image: &quot;haighschocolate.jpg&quot;, isVisited: false), Restaurant(name: &quot;Palomino Espresso&quot;, type: &quot;American / Seafood&quot;, location: &quot;Sydney&quot;, image: &quot;palominoespresso.jpg&quot;, isVisited: false), Restaurant(name: &quot;Upstate&quot;, type: &quot;American&quot;, location: &quot;New York&quot;, image: &quot;upstate.jpg&quot;, isVisited: false), Restaurant(name: &quot;Traif&quot;, type: &quot;American&quot;, location: &quot;New York&quot;, image: &quot;traif.jpg&quot;, isVisited: false), Restaurant(name: &quot;Graham Avenue Meats&quot;, type: &quot;Breakfast &amp; Brunch&quot;, location: &quot;New York&quot;, image: &quot;grahamavenuemeats.jpg&quot;, isVisited: false), Restaurant(name: &quot;Waffle &amp; Wolf&quot;, type: &quot;Coffee &amp; Tea&quot;, location: &quot;NewYork&quot;, image: &quot;wafflewolf.jpg&quot;, isVisited: false), Restaurant(name: &quot;Five Leaves&quot;, type: &quot;Coffee &amp; Tea&quot;, location: &quot;New York&quot;,image: &quot;fiveleaves.jpg&quot;, isVisited: false), Restaurant(name: &quot;Cafe Lore&quot;, type: &quot;Latin American&quot;, location: &quot;New York&quot;, image: &quot;cafelore.jpg&quot;, isVisited: false), Restaurant(name: &quot;Confessional&quot;, type: &quot;Spanish&quot;, location: &quot;New York&quot;, image: &quot;confessional.jpg&quot;, isVisited: false), Restaurant(name: &quot;Barrafina&quot;, type: &quot;Spanish&quot;, location: &quot;London&quot;, image: &quot;barrafina.jpg&quot;, isVisited: false), Restaurant(name: &quot;Donostia&quot;, type: &quot;Spanish&quot;, location: &quot;London&quot;, image: &quot;donostia.jpg&quot;, isVisited: false), Restaurant(name: &quot;Royal Oak&quot;, type: &quot;British&quot;, location: &quot;London&quot;, image: &quot;royaloak.jpg&quot;, isVisited: false), Restaurant(name: &quot;CASK Pub and Kitchen&quot;, type: &quot;Thai&quot;, location: &quot;London&quot;, image: &quot;caskpubkitchen.jpg&quot;, isVisited: false) ] æ›´æ–° tableView(_:numberOfRowsInSection:) : 1234override func tableView(_ tableView: UITableView, numberOfRowsInSectionsection: Int) -&gt; Int &#123; return restaurants.count&#125; æ›´æ–° tableView(_:cellForRowAtIndexPath:) ï¼š 12345678910111213141516override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) as! RestaurantTableViewCell // Configure the cell... cell.nameLabel.text = restaurants[indexPath.row].name cell.thumbnailImageView.image = UIImage(named: restaurants[indexPath.row].image) cell.thumbnailImageView.layer.cornerRadius = 30.0 cell.thumbnailImageView.clipsToBounds = true cell.locationLabel.text = restaurants[indexPath.row].location cell.typeLabel.text = restaurants[indexPath.row].type cell.accessoryType = restaurants[indexPath.row].isVisited ? .checkmark : .none return cell&#125; æ›´æ–°tableView(_:commit:forRowAt:) : 123456override func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath) &#123; if editingStyle == .delete &#123; restaurants.remove(at: indexPath.row) &#125; tableView.deleteRows(at: [indexPath], with: .fade)&#125; æ›´æ–° tableView(_:editActionsForRowAt:) ï¼š override func tableView(_ tableView: UITableView, editActionsForRowAt indexPath: IndexPath) -&gt; [UITableViewRowAction]? { let shareAction = UITableViewRowAction(style: .default, title: &quot;Share&quot;, handler: { (action, indexPath) -&gt; Void in let defaultText = &quot;Just checking in at &quot; + self.restaurants[indexPath.row].name if let imageToShare = UIImage(named: self.restaurants[indexPath.row].image) { let activityController = UIActivityViewController(activityItems: [defaultText, imageToShare], applicationActivities: nil) self.present(activityController, animated: true, completion: nil) } }) let deleteAction = UITableViewRowAction(style: .default, title: &quot;Delete&quot;, handler: { (action, indexPath) -&gt; Void in self.restaurants.remove(at: indexPath.row) tableView.deleteRows(at: [indexPath], with: .fade) }) shareAction.backgroundColor = UIColor(red: 48.0/255.0, green: 173.0/255.0, blue: 99.0/255.0, alpha: 1.0) deleteAction.backgroundColor = UIColor(red: 202.0/255.0, green: 202.0/255.0, blue: 203.0/255.0, alpha: 1.0) return [deleteAction,shareAction] } RestaurantDetailViewControllerä¸­çš„å››ä¸ªå˜é‡ï¼š 1234var nameText = &quot;&quot;var locationText = &quot;&quot;var typeText = &quot;&quot;var restaurantImage = &quot;&quot; æ›´æ–°ä¸ºï¼švar restaurant: Restaurant! ä¸ä¹‹å¯¹åº”çš„viewDidLoad()ä¹Ÿä¿®æ”¹ä¸ºï¼š override func viewDidLoad() { super.viewDidLoad() restaurantImageView.image = UIImage(named: restaurant.image) nameLabel.text = restaurant.name locationLabel.text = restaurant.location typeLabel.text = restaurant.type } æœ€åprepare(for:sender:)æ–¹æ³•ä¹Ÿåšå¯¹åº”ä¿®æ”¹ï¼š 12345678override func prepare(for segue: UIStoryboardSegue, sender: Any?) &#123; if segue.identifier == &quot;showRestaurantDetail&quot; &#123; if let indexPath = tableView.indexPathForSelectedRow &#123; let destinationController = segue.destination as! RestaurantDetailViewController destinationController.restaurant = restaurants[indexPath.row] &#125; &#125;&#125; è¿è¡Œæ²¡æœ‰é—®é¢˜ã€‚ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 10 Navigation Controllerçš„ä»‹ç»å’ŒSegue]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-10.html</url>
    <content type="text"><![CDATA[æ¥ç€ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 9 Table Rowçš„åˆ é™¤, UITableViewRowActionå’ŒUIActivityViewControllerçš„ä½¿ç”¨çš„ä»£ç ï¼Œç»§ç»­å­¦ä¹ Navigation Controllerå’ŒSegueã€‚ åˆ›é€ Navigation Controller é€‰ä¸­Restaurant Table View Controllerç„¶åç‚¹å‡»èœå•æ ä¸­çš„Editor &gt; Embed in &gt; Navigation Controllerï¼›ç”Ÿæˆäº†æ–°çš„ä¸€Sceneï¼ˆNavigation Controller Sceneï¼‰ã€‚ é€‰ä¸­ä¹‹å‰Sceneä¸­çš„Navigation barï¼Œä¿®æ”¹å…¶titleä¸ºFood Pinã€‚ æ·»åŠ  Detail View Controllerä¹‹å‰æ·»åŠ å¯¼èˆªæ ï¼Œç°åœ¨æ·»åŠ å¦ä¸€ä¸ªview controllerï¼Œç”¨æ¥æ˜¾restaurantçš„è¯¦ç»†å†…å®¹ã€‚ æ‹–åŠ¨ä¸€ä¸ªæ–°çš„View Controllerã€‚ æ‹–åŠ¨ä¸€ä¸ªimage Viewï¼Œè°ƒæ•´åˆé€‚å¤§å°ï¼Œå¹¶æ·»åŠ ç›¸å…³çº¦æŸã€‚Content Modeå±æ€§ä¿®æ”¹ä¸º Aspect Fillã€‚ ç”¨segueè¿æ¥prototype cellå’Œdetail sceneã€‚ Ctrl-dragä»prototype cellåˆ°detail sceneã€‚å¦‚æœä¸æ–¹ä¾¿é€‰æ‹©prototype cellï¼Œå¯ä»¥åœ¨document outlineä¸­æ‹–åŠ¨ã€‚é€‰æ‹©Showè¿æ¥é£æ ¼ã€‚ iOS 10ä¸­æœ‰å‡ ç§sugueç±»å‹ï¼š Showï¼šæ–°çš„view controllerå°†è¢«æ·»åŠ view controlleræ ˆçš„é¡¶éƒ¨ã€‚è·³è½¬çš„é¡µé¢æœ‰Navigation barï¼Œå¹¶ä¸”æœ‰è¿”å›åŸæ¥é¡µé¢çš„è¿”å›æŒ‰é’®ã€‚è¿™æ˜¯éå¸¸å¸¸ç”¨çš„çš„ç±»å‹ã€‚ Show detailï¼šåœ¨view controlleræ ˆä¸­ï¼Œæ–°çš„view controllerå°†è¢«æ›¿ä»£åŸæ¥çš„view controllerã€‚è·³è½¬çš„é¡µé¢æ²¡æœ‰Navigation barï¼Œä¹Ÿæ²¡æœ‰è¿”å›åŸæ¥é¡µé¢çš„è¿”å›æŒ‰é’®ã€‚ Present modallyï¼šæ–°é¡µé¢å°†ä»¥åŠ¨ç”»å½¢å¼ä»åº•éƒ¨å‡ºç°åˆ°è¦†ç›–æ•´ä¸ªæ‰‹æœºå±å¹•ã€‚è¿™ç§å½¢å¼æœ€å¸¸è§çš„åˆ—å­æ˜¯iOSè‡ªå¸¦çš„æ—¥å†åº”ç”¨ï¼š Present as popoverï¼šä»¥å¸¦æœ‰ç®­å¤´é”šç‚¹çš„å¼¹æ¡†æ˜¾ç¤ºã€‚é€šå¸¸ä½¿ç”¨çš„iPadåº”ç”¨ä¸­ ä¸å†éœ€è¦action sheetï¼Œå»é™¤tableView(_:didSelectRowAt:)æ–¹æ³• åˆ›å»ºæ–°ç±»æ–‡ä»¶RestaurantDetailViewControllerï¼Œç»§æ‰¿è‡³UIViewControllerã€‚æ˜¯æ–°å»ºsceneä¸RestaurantDetailViewControllerçš„è”ç³»ã€‚ åœ¨RestaurantDetailViewControllerä¸­åŠ å…¥ä¸€ä¸ªoutletå’Œä¸€ä¸ªå˜é‡ï¼Œoutletå…³è”Image Viewï¼ŒrestaurantImageç”¨ä¸æ¥å—table viewä¼ æ¥çš„å›¾åƒåç§°æ•°æ®ã€‚ 12345678@IBOutlet var restaurantImageView:UIImageView!var restaurantImage = &quot;&quot;override func viewDidLoad() &#123; super.viewDidLoad() restaurantImageView.image = UIImage(named: restaurantImage)&#125; é€šè¿‡seguesä¼ é€’æ•°æ®segueç®¡ç†view controllerä¹‹é—´çš„è¿‡æ¸¡ã€‚å½“segueè§¦å‘æ—¶ï¼Œstoryboardä¼šé€šçŸ¥æºview controllerï¼ˆå¦‚RestaurantTableViewControllerï¼‰è°ƒç”¨æ–¹æ³•prepare(for:sender:)ï¼Œå¯ä»¥é€šè¿‡æ­¤æ–¹æ³•ä¼ é€’æ•°æ®ã€‚ å½“storyboardä¸­ç»“æ„å¤æ‚æ—¶ï¼Œsegueå¯èƒ½ä¼šæœ‰å¾ˆå¤šï¼ŒåŒä¸€ä¸ªview controllerå¯èƒ½ä¸å„çº§view controllerä¹‹é—´æœ‰segueï¼Œè¿™ç§æƒ…å†µæœ€å¥½ç»™segueä¸€ä¸ªå”¯ä¸€identifierã€‚è®¾ç½®segueçš„identifierä¸º showRestaurantDetailã€‚ åœ¨RestaurantTableViewControllerä¸­æ·»åŠ prepareForSegue: 12345678override func prepare(for segue: UIStoryboardSegue, sender: Any?) &#123; if segue.identifier == &quot;showRestaurantDetail&quot; &#123; if let indexPath = tableView.indexPathForSelectedRow &#123; let destinationController = segue.destination as! RestaurantDetailViewController destinationController.restaurantImage = restaurantImages[indexPath.row] &#125; &#125;&#125; ä¸ºè¯¦æƒ…é¡µé¢æ·»åŠ ä¸‰ä¸ªæ ‡ç­¾ æ·»åŠ ä¸‰ä¸ªæ ‡ç­¾ï¼ŒTextåˆ†åˆ«ä¸ºNameï¼ŒLocationï¼ŒTypeï¼ˆæ³¨æ„ï¼šè™½ç„¶Textä¼šè¢«æ›¿ä»£ï¼Œä½†ä¸è¦å¼€å§‹ç•™ç©ºï¼Œå› ä¸ºç•™ç©ºä¼šä½¿ä¹‹åç”Ÿæˆstack viewæ—¶ï¼Œå¤§å°ä¸ç¡®å®šï¼‰ï¼›ä¸‰ä¸ªlabelç”Ÿæˆä¸€ä¸ªstack viewï¼Œè°ƒæ•´å­—ä½“å’Œå¤§å°ï¼Œæ·»åŠ é€‚å½“çš„çº¦æŸã€‚ æ·»åŠ ä¸‰ä¸ªoutletï¼Œå’Œä¸‰ä¸ªä¸ä¹‹å¯¹åº”çš„å˜é‡ã€‚ 12345678910111213141516@IBOutlet var nameLabel: UILabel!@IBOutlet var locationLabel: UILabel!@IBOutlet var typeLabel: UILabel!var nameText = &quot;&quot;var locationText = &quot;&quot;var typeText = &quot;&quot;override func viewDidLoad() &#123; super.viewDidLoad() restaurantImageView.image = UIImage(named: restaurantImage) nameLabel.text = nameText locationLabel.text = locationText typeLabel.text = typeText&#125; ä¿®æ”¹RestaurantTableViewControllerä¸­çš„prepareForSegueæ–¹æ³•ï¼š 1234567891011override func prepare(for segue: UIStoryboardSegue, sender: Any?) &#123; if segue.identifier == &quot;showRestaurantDetail&quot; &#123; if let indexPath = tableView.indexPathForSelectedRow &#123; let destinationController = segue.destination as! RestaurantDetailViewController destinationController.restaurantImage = restaurantImages[indexPath.row] destinationController.nameText = restaurantNames[indexPath.row] destinationController.locationText = restaurantLocations[indexPath.row] destinationController.typeText = restaurantTypes[indexPath.row] &#125; &#125;&#125; ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 5ï¼šå…³äºåœ°ç†å®šä½å’Œç‰¹å®šåŒºåŸŸ(Swift)]]></title>
    <url>%2F2017%2Fios-tutorial-5.html</url>
    <content type="text"><![CDATA[ç”¨æˆ·å¸¦ç€iPhoneè¿›å…¥æŸä¸ªåŒºåŸŸï¼Œå¹¶åœ¨æŸäº›åŒºåŸŸå¾…å¤šä¹…åœ¨å¼€å‘è‚¯èƒ½ä¼šæœ‰å¾ˆå¤§ç”¨å¤„ã€‚ åˆå§‹åŒ–é¡¹ç›® åˆ›å»ºæ–°çš„é¡¹ç›®GeoTargetingï¼Œä½¿ç”¨Single View Applictionæ¨¡æ¿ æ·»åŠ ä¸€ä¸ªMap Viewï¼Œå¤§å°ä¸ºæ•´ä¸ªé¡µé¢ æ·»åŠ ç›¸å…³outlet å®ç°ä¸¤ä¸ªåè®® 123class ViewController: UIViewController, MKMapViewDelegate, CLLocationManagerDelegate &#123; @IBOutlet weak var mapView: MKMapView! è®¾ç½®CLLocationManagerå’ŒMKMapViewã€‚ 1234567891011121314151617// 1let locationManager = CLLocationManager()override func viewDidLoad() &#123; super.viewDidLoad() // 2 locationManager.delegate = self locationManager.distanceFilter = kCLLocationAccuracyNearestTenMeters locationManager.desiredAccuracy = kCLLocationAccuracyBest // 3 mapView.delegate = self mapView.showsUserLocation = true mapView.userTrackingMode = .follow setupData() &#125; 1 åˆ›å»ºä¸€ä¸ªCLLocationManagerçš„å®ä¾‹ï¼Œç”¨äºæ£€æµ‹ç”¨æˆ·çš„ä½ç½®å˜åŒ– 2 è®¾ç½®locationManagerä¸€äº›å‚æ•°ï¼Œç¡®å®šç²¾ç¡®æ€§ åœ¨viewDidAppearä¸­æ ¸æŸ¥ç”¨æˆ·æˆæƒçŠ¶æ€1234567891011121314151617override func viewDidAppear(_ animated: Bool) &#123; super.viewDidAppear(animated) let authorizationStatus = CLLocationManager.authorizationStatus() // 1 if authorizationStatus == .notDetermined &#123; locationManager.requestAlwaysAuthorization() &#125; // 2 else if authorizationStatus == .denied &#123; showAlert(&quot;Location services &quot;) &#125; // 3 else if authorizationStatus == .authorizedAlways &#123; locationManager.startUpdatingLocation() &#125;&#125; 1 å¦‚æœç”¨æˆ·æˆæƒçŠ¶æ€æ˜¯ä¸ç¡®å®šï¼Œå°±æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ç›´çš„çŠ¶æ€ã€‚ 2 å¦‚æœç”¨æˆ·æˆæƒçŠ¶æ€æ˜¯æ‹’ç»ï¼Œå°±ç”¨å¼¹æ¡†æ˜¾ç¤ºä¿¡æ¯ç»™ç”¨æˆ·çœ‹ã€‚showAlert(title:)æ˜¯å¼¹æ¡†å‡½æ•°ï¼š 1234567891011func showAlert(_ title: String) &#123; print(title) let alertController = UIAlertController(title: title, message: nil, preferredStyle: .alert) let action = UIAlertAction(title: &quot;Cancel&quot;, style: .cancel, handler: nil) alertController.addAction(action) present(alertController, animated: true, completion: nil) &#125; 3 å¦‚æœç”¨æˆ·æˆæƒçŠ¶æ€æ˜¯ä¸€ç›´ï¼Œå°±å¼€å§‹æ›´æ–°åœ°ç†ä½ç½®ã€‚ å¦å¤–ï¼Œè¿˜éœ€è¦åœ¨.plistæ–‡ä»¶ä¸­æ·»åŠ keyä¸ºNSLocationAlwaysUsageDescriptionçš„æç¤ºä¿¡æ¯ éœ€è¦ä¸€ç›´èƒ½è·å–ä½ çš„ä½ç½® æ‰å¯ä»¥ã€‚åœ¨è°ƒç”¨requestAlwaysAuthorization()æ—¶è¿™ä¸ªkeyæ˜¯å¿…é¡»çš„ã€‚å…è®¸è·å–å½“å‰ä½ç½®ã€‚ æ·»åŠ å‡½æ•°setupData()1234567891011121314151617181920212223242526272829303132333435func setupData() &#123; // 1 if CLLocationManager.isMonitoringAvailable(for: CLCircularRegion.self) &#123; // 2 let title = &quot;å…¨å­£é…’åº—&quot; let coordinate = CLLocationCoordinate2DMake(31.1849700000,121.6303200000) let regionRadius = 300.0 // 3 let region = CLCircularRegion(center: CLLocationCoordinate2D(latitude: coordinate.latitude, longitude: coordinate.longitude), radius: regionRadius, identifier: title) locationManager.startMonitoring(for: region) // 4 let restaurantAnnotation = MKPointAnnotation() restaurantAnnotation.coordinate = coordinate restaurantAnnotation.title = title mapView.addAnnotation(restaurantAnnotation) // 5 let circle = MKCircle(center: coordinate, radius: regionRadius) mapView.add(circle) &#125; else &#123; print(&quot;ä¸èƒ½è¿½è¸ªåŒºåŸŸ&quot;) &#125;&#125;// 6func mapView(_ mapView: MKMapView, rendererFor overlay: MKOverlay) -&gt; MKOverlayRenderer &#123; let circleRenderer = MKCircleRenderer(overlay: overlay) circleRenderer.strokeColor = UIColor.red circleRenderer.lineWidth = 1.0 return circleRenderer&#125; 1 åˆ¤æ–­æ˜¯å¦ç›‘æ§åŒºåŸŸåŠŸèƒ½æ˜¯å¦å¯ç”¨ã€‚å½“ç”¨æˆ·æ‹’ç»çŠ¶æ€ï¼Œæˆ–ç”¨æˆ·ä¸è®©appèƒŒæ™¯ä¸‹åˆ·æ–°ï¼Œæˆ–é£è¡Œæ¨¡å¼æ—¶è¿™ä¸ªåŠŸèƒ½ä¸å¯ç”¨ 2 éšæ„æ„å»ºä¸€ä¸ªä½ç½®ï¼ˆå¦‚å…¨å­£é…’åº—ï¼‰ï¼Œç»çº¬åº¦å¯é€šè¿‡ç»çº¬åº¦æŸ¥è¯¢æŸ¥è¯¢ï¼Œå¹¶è®¾ç½®åŒºåŸŸåŠå¾„regionRadiusï¼Œå•ä½æ˜¯ç±³ã€‚ 3 åˆå§‹åŒ–CLCircularRegionã€‚ 4 æ·»åŠ ä¸€ä¸ªæ³¨è§£ï¼Œç±»ä¼¼å¤§å¤´é’ˆå½¢çŠ¶ã€‚ 5 æ·»åŠ åŒºåŸŸåœ†åœˆæ ‡å¿—ã€‚ 6 è¿™æ˜¯MKMapViewDelegateçš„æ–¹æ³•ï¼Œç”¨æˆ·ç”»åœ† CLRegionCLRegionå°±æ˜¯ä¸Šé¢æ ‡å®šçš„åœ†å½¢åŒºåŸŸã€‚ä¸‹é¢æ·»åŠ ä¸¤ä¸ªCLLocationManagerDelegateçš„å›è°ƒæ–¹æ³•ï¼Œåˆ†åˆ«åœ¨æ˜¯è®¾å¤‡çš„å®šä½ä½ç½®è¿›å’Œå‡ºæ ‡å®šçš„åŒºåŸŸæ—¶è°ƒç”¨ã€‚12345678// MARK:- CLLocationManagerDelegatefunc locationManager(_ manager: CLLocationManager, didEnterRegion region: CLRegion) &#123; showAlert(&quot;enter \(region.identifier)&quot;)&#125;func locationManager(_ manager: CLLocationManager, didExitRegion region: CLRegion) &#123; showAlert(&quot;exit \(region.identifier)&quot;)&#125; Xcodeä¸­çš„ä½ç½®è°ƒè¯•ä¸Šé¢è®¾å¤‡çš„ä½ç½®ï¼Œä¸å¯èƒ½æ‹¿ç€æ‰‹æœºåˆ°å¤„è·‘ï¼ŒXcodeæé«˜äº†æ–¹ä¾¿çš„è°ƒå¼æ–¹å¼ã€‚å¯ä»¥å»ºç«‹ä½ç½®æ–‡ä»¶.GPX: xcodeä¹Ÿæä¾›ä¸–ç•Œä¸Šä¸€äº›å¸¸ç”¨çš„ä½ç½®æ–‡ä»¶ï¼šç‚¹å‡»ä¸Šå›¾è°ƒè¯•æ æœ€åçš„ä½ç½®æ ‡å¿—å°±å¯ä»¥è°ƒå¼äº†ã€‚ å¤æ‚é€»è¾‘ä¸‹çš„ä½ç½®å¤„ç†å¦‚æœä½ç½®ä¸åœå˜åŒ–ï¼Œåœ¨ç›‘æ§åŒºåŸŸåœç•™æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œæˆ–è€…ç›‘æ§åŒºåŸŸæ¯”è¾ƒå¤šæ˜¯ï¼Œå¤„ç†ä½ç½®é—®é¢˜å°±æ¯”è¾ƒå¤æ‚äº†ã€‚æ›´æ–°éƒ¨åˆ†ä»£ç ï¼š123456789101112131415161718// 1var monitoredRegions: Dictionary&lt;String, NSDate&gt; = [:] func locationManager(_ manager: CLLocationManager, didEnterRegion region: CLRegion) &#123; showAlert(&quot;enter \(region.identifier)&quot;) // 2 monitoredRegions[region.identifier] = NSDate()&#125;func locationManager(_ manager: CLLocationManager, didExitRegion region: CLRegion) &#123; showAlert(&quot;exit \(region.identifier)&quot;) // 3 monitoredRegions.removeValue(forKey: region.identifier)&#125;// 4func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) &#123; updateRegions()&#125; 1 å®šä¹‰ä»¥å­—å…¸ç”¨äºå­˜å‚¨ç”¨æˆ·è¿›å…¥ç›‘æ§åŒºçš„æ—¶é—´ã€‚ 2 è®°å½•è¿›å…¥æ—¶é—´ã€‚ 3 åˆ é™¤è¿›å…¥æ—¶é—´ã€‚ 4 ç”¨æˆ·ä½ç½®å˜åŒ–åè°ƒç”¨ åŠ å…¥å‡½æ•°updateRegions()ä»£ç ï¼š1234567891011121314151617181920func updateRegions() &#123; // 1 let regionMaxVisiting = 10.0 var regionsToDelete: [String] = [] // 2 for regionIdentifier in monitoredRegions.keys &#123; // 3 if NSDate().timeIntervalSince(monitoredRegions[regionIdentifier]! as Date) &gt; regionMaxVisiting &#123; showAlert(&quot;è°¢è°¢è®¿é—®&quot;) regionsToDelete.append(regionIdentifier) &#125; &#125; // 4 for regionIdentifier in regionsToDelete &#123; monitoredRegions.removeValue(forKey: regionIdentifier) &#125;&#125; 1 åŠ çš„ç”¨æˆ·åˆ°æŸä¸ªåŒºåŸŸ10sï¼Œå°±ç¡®å®šç”¨æˆ·å·²ç»åˆ°è®¿é—®è¿‡è¿™ä¸ªåŒºåŸŸã€‚regionsToDeleteç”¨æ¥å­˜å‚¨å³å°†åˆ é™¤çš„åŒºåŸŸçš„identifierï¼Œä¹Ÿå°±ç”¨æˆ·å¾…è¿‡è¶…è¿‡10sçš„åŒºåŸŸã€‚ 2 éå†æ‰€æœ‰ç›‘æ§åŒºåŸŸ 3 timeIntervalSinceç”¨æ¥è®¡ç®—æŸä¸ªæ—¶é—´åˆ°å½“å‰æ—¶é—´çš„å·®å€¼ï¼Œå•ä½ä¸ºç§’ã€‚ 4 åˆ é™¤ç”¨æˆ·å¾…è¿‡è¶…è¿‡regionMaxVisitingçš„åŒºåŸŸã€‚ ä»£ç GeoTargeting å‚è€ƒ Building a Geo Targeting iOS App in Swift]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 4ï¼šCALayerä»‹ç»(swift)]]></title>
    <url>%2F2017%2Fios-tutorial-4-calayer.html</url>
    <content type="text"><![CDATA[Layersæ˜¯Core Animation Frameworkçš„ä¸€éƒ¨åˆ†ã€‚Core Animation Frameworkåœ¨iOSæ¶æ„çš„ä½ç½®ï¼š è®¿é—®CALayerå‡¡æ˜¯ç»§æ‰¿è‡³UIViewçš„éƒ½å°†æœ‰ä¸€ä¸ªå±æ€§layeræ¥è¡¨ç¤ºCALayerã€‚myView.layer åˆå§‹åŒ–é¡¹ç›® æ–°å»ºCALayerDemoï¼Œsingle View Applicationæ¨¡æ¿ æ–°å»ºä¸€ä¸ªUIViewå’Œä¸€ä¸ªUILabel åœ†è§’CALayerçš„cornerRadiuså±æ€§å¤§å°è¡¨ç¤ºUIViewåœ†è§’å¤„åœ†çš„åŠå¾„å¤§å°ã€‚ç±»ä¼¼äºbox.layer.cornerRadius = 20ï¼Œå°±å½¢æˆäº†åœ†è§’ï¼Œæ•°å­—è¶Šå¤§åœ†è§’æ•ˆæœè¶Šå¤§ï¼Œå½“cornerRadiusç­‰äºboxåŠå¾„æ—¶ï¼Œboxå°±ä¼šå˜æˆä¸€ä¸ªå›­ã€‚ é˜´å½±æ•ˆæœ1234box.layer.shadowOffset = CGSize(width: 5, height: 5)box.layer.shadowOpacity = 0.7box.layer.shadowRadius = 10box.layer.shadowColor = UIColor.blue.cgColor shadowOffsetè¡¨ç¤ºé˜´å½±åç§»å¤§å°ï¼Œä¹Ÿå°±æ˜¯é˜´å½±å‘boxçš„ä¸‹æ”¾åç§»5å’Œå‘å³æ–¹åç§»5è·ç¦»ã€‚ shadowOpacityæ˜¯é˜´å½±é€æ˜åº¦ shadowRadiusæ˜¯é˜´å½±æ¶‰åŠçš„åŠå¾„ï¼Œå¹¶ä¸”è¿™ä¸ªåŠå¾„è¶Šå¤§ï¼Œé˜´å½±çš„é¢œè‰²æ·±æµ…å°±ä¼šè¶Šæ¥è¶Šå°ã€‚shadowRadiusä¸shadowOffsetæ˜¯å…±åŒä½œç”¨çš„ è®¾ç½®è¾¹çš„å®½åº¦å’Œé¢œè‰²12box.layer.borderColor = UIColor.black.cgColorbox.layer.borderWidth = 3 å±•ç¤ºå›¾ç‰‡123box.layer.contents = UIImage(named: &quot;tree.jpg&quot;)?.cgImagebox.layer.contentsGravity = kCAGravityResizebox.layer.masksToBounds = true CALayerçš„contentså±æ€§æ˜¯open var contents: Any?ï¼Œå¯ä»¥è®¾ç½®ä¸ºå›¾ç‰‡ contentsGravityè®¾ç½®æˆkCAGravityResizeï¼Œè¡¨ç¤ºcontentsçš„å†…å®¹ä¼šè°ƒæ•´å¤§å°ä»¥é€‚åº”layerã€‚å¦‚æœè®¾ç½®æˆå…¶ä»–å€¼å¯èƒ½å‡ºç°å¤§å°ä¸é€‚çš„å½¢è±¡ï¼Œæ¯”å¦‚kCAGravityBottomRightï¼Œå°†æ˜¯ï¼š masksToBoundsä¸ºtrueè¡¨ç¤ºæŒ‰ç…§layerçš„è¾¹æ¡†èŒƒå›´æ˜¾ç¤ºå†…å®¹ï¼›å¦‚æœæ˜¯falseï¼Œå°†ä¼šæ˜¯å¦‚ä¸‹ç»“æœ èƒŒæ™¯é¢œè‰²å’Œé€æ˜åº¦12box.layer.backgroundColor = UIColor.green.cgColorbox.layer.opacity = 0.5 ä»£ç CALayerDemo å‚è€ƒ A Beginnerâ€™s Guide to CALayer]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-24ï¼šè®¿é—®æ§åˆ¶(Access Control)]]></title>
    <url>%2F2017%2Fswift-24-access-control.html</url>
    <content type="text"><![CDATA[å¯ä»¥æ˜ç¡®åœ°ç»™å•ä¸ªç±»å‹(ç±»ã€ç»“æ„ä½“ã€æšä¸¾)è®¾ç½®è®¿é—®çº§åˆ«ï¼Œä¹Ÿå¯ä»¥ç»™è¿™äº›ç±»å‹çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡ç­‰è®¾ç½®è®¿é—®çº§åˆ«ã€‚åè®®ä¹Ÿå¯ä»¥è¢«é™å®šåœ¨ä¸€å®šçš„èŒƒå›´å†…ä½¿ç”¨ï¼ŒåŒ…æ‹¬åè®®é‡Œçš„å…¨å±€å¸¸é‡ã€å˜é‡å’Œå‡½æ•°ã€‚ä¸ºæŸäº›å…¸å‹åœºæ™¯æä¾›äº†é»˜è®¤çš„è®¿é—®çº§åˆ«å®ä½“(entities) : å¯¹äºä»£ç ä¸­å¯ä»¥è®¾ç½®è®¿é—®çº§åˆ«çš„ç‰¹æ€§(å±æ€§ã€åŸºæœ¬ç±»å‹ã€å‡½æ•°ç­‰)ä¸€ç§ç»Ÿç§° 1 æ¨¡å—å’Œæºæ–‡ä»¶ æ¨¡å—ï¼šç‹¬ç«‹çš„ä»£ç å•å…ƒ æ¡†æ¶æˆ–åº”ç”¨ç¨‹åºä¼šä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—æ¥æ„å»ºå’Œå‘å¸ƒ ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½¿ç”¨importå…³é”®å­—å¯¼å…¥å¦å¤–ä¸€ä¸ªæ¨¡å— Xcodeçš„æ¯ä¸ªtarget(ä¾‹å¦‚æ¡†æ¶æˆ–åº”ç”¨ç¨‹åº)éƒ½è¢«å½“ä½œç‹¬ç«‹çš„æ¨¡å—å¤„ç† æºæ–‡ä»¶ï¼šSwiftä¸­çš„æºä»£ç æ–‡ä»¶ 2 è®¿é—®çº§åˆ«ï¼ˆä½â†’é«˜ï¼‰ open: ç±»ä¼¼publicã€‚å¯ä»¥è¢«è®¿é—®å’Œè¢«ç»§æ‰¿ public: å¯ä»¥è®¿é—®åŒä¸€æ¨¡å—æºæ–‡ä»¶ä¸­çš„ä»»ä½•å®ä½“ï¼Œåœ¨æ¨¡å—å¤–ä¹Ÿå¯ä»¥é€šè¿‡å¯¼å…¥è¯¥æ¨¡å—æ¥è®¿é—®æºæ–‡ä»¶é‡Œçš„æ‰€æœ‰å®ä½“ã€‚å¯ä»¥è¢«è®¿é—®ä¸å¯ä»¥è¢«ç»§æ‰¿ internal: å¯ä»¥è®¿é—®åŒä¸€æ¨¡å—æºæ–‡ä»¶ä¸­çš„ä»»ä½•å®ä½“ï¼Œä½†æ˜¯ä¸èƒ½ä»æ¨¡å—å¤–è®¿é—®è¯¥æ¨¡å—æºæ–‡ä»¶ä¸­çš„å®ä½“ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒæŸä¸ªæ¥å£åªåœ¨åº”ç”¨ç¨‹åºæˆ–æ¡†æ¶å†…éƒ¨ä½¿ç”¨æ—¶ï¼Œä½ å¯ä»¥å°†å…¶è®¾ç½®ä¸ºinternalçº§åˆ«ã€‚ fileprivate: é™åˆ¶å®ä½“åªèƒ½åœ¨æ‰€åœ¨çš„æºæ–‡ä»¶å†…éƒ¨ä½¿ç”¨ã€‚ private: åªåœ¨å®šä¹‰çš„å®ä½“ä¸­ä½¿ç”¨ è®¿é—®çº§åˆ«åŸºæœ¬åŸåˆ™: ä¸å¯ä»¥åœ¨æŸä¸ªå®ä½“ä¸­å®šä¹‰è®¿é—®çº§åˆ«æ›´é«˜çš„å®ä½“ å‡½æ•°çš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºå®ƒçš„å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹çš„è®¿é—®çº§åˆ«ã€‚ ä¸€èˆ¬ï¼Œé»˜è®¤ä¸º internal çº§åˆ« åœ¨å¯¼å…¥åº”ç”¨ç¨‹åºæ¨¡å—çš„è¯­å¥å‰ä½¿ç”¨ @testable ç‰¹æ€§ï¼Œç„¶ååœ¨å…è®¸æµ‹è¯•çš„ç¼–è¯‘è®¾ç½®( Build Options -&gt; Enable Testability )ä¸‹ç¼–è¯‘è¿™ä¸ªåº”ç”¨ç¨‹åºæ¨¡å—ï¼Œå•å…ƒæµ‹è¯• target å°±å¯ä»¥è®¿é—®åº”ç”¨ç¨‹åºæ¨¡å—ä¸­æ‰€æœ‰ internal çº§åˆ«çš„å®ä½“ã€‚ 3 è®¿é—®æ§åˆ¶è¯­æ³•4 è‡ªå®šä¹‰ç±»å‹ ä¸€ä¸ªç±»å‹çš„è®¿é—®çº§åˆ«ä¹Ÿä¼šå½±å“åˆ°ç±»å‹æˆå‘˜(å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡)çš„é»˜è®¤è®¿é—®çº§åˆ«ã€‚ å…ƒç»„ï¼šå…ƒç»„çš„è®¿é—®çº§åˆ«å°†ç”±å…ƒç»„ä¸­è®¿é—®çº§åˆ«æœ€ä¸¥æ ¼çš„ç±»å‹æ¥å†³å®šã€‚ å‡½æ•°ï¼šå‡½æ•°çš„è®¿é—®çº§åˆ«æ ¹æ®è®¿é—®çº§åˆ«æœ€ä¸¥æ ¼çš„å‚æ•°ç±»å‹æˆ–è¿”å›ç±»å‹çš„è®¿é—®çº§åˆ«æ¥å†³å®šã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™ç§è®¿é—®çº§åˆ«ä¸ç¬¦åˆå‡½æ•°å®šä¹‰æ‰€åœ¨ç¯å¢ƒçš„é»˜è®¤è®¿é—®çº§åˆ«ï¼Œé‚£ä¹ˆå°±éœ€è¦æ˜ç¡®åœ°æŒ‡å®šè¯¥å‡½æ•°çš„è®¿é—®çº§åˆ«ã€‚ æšä¸¾ç±»å‹ï¼šæšä¸¾æˆå‘˜çš„è®¿é—®çº§åˆ«å’Œè¯¥æšä¸¾ç±»å‹ç›¸åŒï¼Œä½ ä¸èƒ½ä¸ºæšä¸¾æˆå‘˜å•ç‹¬æŒ‡å®šä¸åŒçš„è®¿é—®çº§åˆ«ã€‚æšä¸¾å®šä¹‰ä¸­çš„ä»»ä½•åŸå§‹å€¼æˆ–å…³è”å€¼çš„ç±»å‹çš„è®¿é—®çº§åˆ«è‡³å°‘ä¸èƒ½ä½äºæšä¸¾ç±»å‹çš„è®¿é—®çº§åˆ«ã€‚ 12345678910111213141516171819public class SomePublicClass &#123; // explicitly public class public var somePublicProperty = 0 // explicitly public class member var someInternalProperty = 0 // implicitly internal class member fileprivate func someFilePrivateMethod() &#123;&#125; // explicitly file-private class member private func somePrivateMethod() &#123;&#125; // explicitly private class member&#125;class SomeInternalClass &#123; // implicitly internal class var someInternalProperty = 0 // implicitly internal class member fileprivate func someFilePrivateMethod() &#123;&#125; // explicitly file-private class member private func somePrivateMethod() &#123;&#125; // explicitly private class member&#125;fileprivate class SomeFilePrivateClass &#123; // explicitly file-private class func someFilePrivateMethod() &#123;&#125; // implicitly file-private class member private func somePrivateMethod() &#123;&#125; // explicitly private class member&#125;private class SomePrivateClass &#123; // explicitly private class func somePrivateMethod() &#123;&#125; // implicitly private class member&#125; 5 å­ç±» å­ç±»çš„è®¿é—®çº§åˆ«ä¸å¾—é«˜äºçˆ¶ç±»çš„è®¿é—®çº§åˆ«ã€‚ å¯ä»¥åœ¨ç¬¦åˆå½“å‰è®¿é—®çº§åˆ«çš„æ¡ä»¶ä¸‹é‡å†™ä»»æ„ç±»æˆå‘˜(æ–¹æ³•ã€å±æ€§ã€æ„é€ å™¨ã€ä¸‹æ ‡ç­‰)ã€‚ 12345678public class A &#123; fileprivate func someMethod() &#123;&#125;&#125;internal class B: A &#123; override internal func someMethod() &#123; super.someMethod() &#125;&#125; 6 å¸¸é‡ã€å˜é‡ã€å±æ€§ã€ä¸‹æ ‡å¸¸é‡ã€å˜é‡ã€å±æ€§è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºå®ƒä»¬æ‰€å±çš„ç±»å‹ã€‚ 12345678910111213141516171819202122struct TrackedString &#123; private(set) var numberOfEdits = 0 var value: String = "" &#123; didSet &#123; numberOfEdits += 1 &#125; &#125;&#125;var stringToEdit = TrackedString()stringToEdit.value = "This string will be tracked."stringToEdit.value += " This edit will increment numberOfEdits."stringToEdit.value += " So will this one."print("The number of edits is \(stringToEdit.numberOfEdits)") // æ‰“å° â€œThe number of edits is 3â€public struct TrackedString2 &#123; public private(set) var numberOfEdits = 0 // Getterçš„è®¿é—®çº§åˆ«æ˜¯publicï¼ŒSetterçš„è®¿é—®çº§åˆ«æ˜¯privateã€‚ public var value: String = "" &#123; didSet &#123; numberOfEdits += 1 &#125; &#125; public init() &#123;&#125;&#125; 7 æ„é€ å™¨ å¿…è¦æ„é€ å™¨ çš„è®¿é—®çº§åˆ«å¿…é¡»å’Œæ‰€å±ç±»å‹ç›¸åŒã€‚ 8 åè®®9 æ‰©å±•10 æ³›å‹11 ç±»å‹åˆ«åç±»å‹åˆ«åçš„è®¿é—®çº§åˆ«ä¸å¯é«˜äºå…¶è¡¨ç¤ºçš„ç±»å‹çš„è®¿é—®çº§åˆ« playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 3ï¼šSpeech Frameworkçš„ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2Fios-tutorial-3-speechframework.html</url>
    <content type="text"><![CDATA[åœ¨WWDC 2016æ—¶ï¼ŒAppleä»‹ç»äº†Speech frameworkï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å£°éŸ³è¯†åˆ«æ¡†æ¶ã€‚å®é™…ä¸Šè¿™æ˜¯åˆ©ç”¨Siriè¿›è¡Œå£°éŸ³è¯†åˆ«ã€‚ åˆå§‹åŒ–é¡¹ç›® æ–°å»ºSpeechToTextDemoï¼Œæ¨¡æ¿æ˜¯Single View Applicationã€‚ æ·»åŠ ç®€å•çš„UI åˆ†åˆ«å®šä¹‰UITextViewå’ŒUIButtonçš„ä¸¤ä¸ªoutletï¼Œä¸ºtextViewå’ŒmicrophoneButtonã€‚ å†ä¸ºUIButtonæ·»åŠ ä¸€ä¸ªactionï¼š123@IBAction func microphoneTapped(_ sender: AnyObject) &#123;&#125; ä½¿ç”¨Speech Framework import Speech å®ç°SFSpeechRecognizerDelegateåè®® ç”¨æˆ·æˆæƒè·å–å£°éŸ³æ•°æ®æ˜¯è¦è·å¾—ç”¨æˆ·çš„æˆæƒçš„ã€‚ åœ¨ViewControllerç±»ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œä½œä¸ºè¯­éŸ³è¯†åˆ«å™¨ã€‚å‚æ•°identifieræ˜¯è¯†åˆ«çš„è¯­ç§ï¼Œå¯å‚è€ƒè¿™ä¸ªåˆ—è¡¨ï¼Œä¸­æ–‡æ˜¯â€œ zh_Hans_CNâ€ã€‚private let speechRecognizer = SFSpeechRecognizer(locale: Locale.init(identifier: &quot;zh_Hans_CN&quot;)) åœ¨viewDidLoad()ä¸­ï¼š 1234567891011121314151617181920212223242526272829override func viewDidLoad() &#123; super.viewDidLoad() // 1 microphoneButton.isEnabled = false speechRecognizer?.delegate = self // 2 SFSpeechRecognizer.requestAuthorization&#123; (authStatus) in var isButtionEnabled = false switch authStatus &#123; case .authorized: isButtionEnabled = true case .denied: isButtionEnabled = false print(&quot;ç”¨æˆ·æ‹’ç»æ¥å—è¯­éŸ³è¯†åˆ«&quot;) case .notDetermined: isButtionEnabled = false print(&quot;è¯­éŸ³è¯†åˆ«åŠŸèƒ½æ²¡æœ‰ç»è¿‡è®¤å¯&quot;) case .restricted: isButtionEnabled = false print(&quot;å½“å‰è®¾å¤‡ä¸èƒ½è¯­éŸ³è¯†åˆ«&quot;) &#125; self.microphoneButton.isEnabled = isButtionEnabled &#125; startRecording()&#125; 1 é»˜è®¤æŒ‰é’®è®¾æˆä¸å¯ç”¨ 2 æˆæƒç»“æœå›è°ƒ Appleéœ€è¦æ¯ä¸ªappå¦‚è¦ç”¨æˆ·æˆæƒæ—¶ï¼Œéƒ½åº”è¯¥å®šåˆ¶ä¸€ä¸ªåé¦ˆä¿¡æ¯ï¼ˆinfo.plistï¼‰ã€‚åœ¨info.plistä¸­æ·»åŠ ä¸¤ä¸ªkeyï¼Œåˆ†åˆ«æ˜¯éº¦å…‹é£å’Œè¯­éŸ³è¯†åˆ«çš„æˆæƒï¼ŒPrivacy - Microphone Usage Descriptionå’ŒPrivacy - Speech Recognition Usage Descriptionã€‚ å¤„ç†è¯­éŸ³è¯†åˆ« åœ¨ViewControllerç±»ä¸­æ·»åŠ ä¸‰ä¸ªå˜é‡ 123private var recognitionRequest: SFSpeechAudioBufferRecognitionRequest? //è¯†åˆ«è¯·æ±‚private var recognitionTask: SFSpeechRecognitionTask? // æä¾›è¯†åˆ«è¯·æ±‚çš„ç»“æœprivate let audioEngine = AVAudioEngine() // SFSpeechAudioBufferRecognitionRequestå¯¹è±¡å¤„ç†è¯­éŸ³è¯†åˆ«çš„è¯·æ±‚ï¼Œä»£è¡¨è¯­éŸ³è¿›å…¥è¯­éŸ³è¯†åˆ«å™¨ã€‚ SFSpeechRecognitionTask è¯†åˆ«ä»»åŠ¡ï¼Œç”¨äºæ“ä½œè¯†åˆ«å™¨çš„åœæ­¢å’Œå¼€å§‹ AVAudioEngine è¯­éŸ³å¼•æ“ï¼Œæä¾›è¯­éŸ³è¾“å‡º åˆ›å»ºæ–°å‡½æ•°startRecording()ï¼Œè¿™ä¸ªå‡½æ•°åœ¨ç‚¹å‡»buttonåè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯microphoneTapped(:)ä¸­æœ€åè°ƒç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162func startRecording() &#123; // 1 if recognitionTask != nil &#123; recognitionTask?.cancel() recognitionTask = nil &#125; // 2 let audioSession = AVAudioSession.sharedInstance() do &#123; try audioSession.setCategory(AVAudioSessionCategoryRecord) try audioSession.setMode(AVAudioSessionModeMeasurement) try audioSession.setActive(true, with: .notifyOthersOnDeactivation) &#125; catch &#123; print(&quot;audioSessionçš„å±æ€§è®¾ç½®å¤±è´¥&quot;) &#125; // 3 recognitionRequest = SFSpeechAudioBufferRecognitionRequest() // 4 guard let inputNode = audioEngine.inputNode else &#123; fatalError(&quot;Audio engine has no input node&quot;) &#125; // 5 guard let recognitionRequest = recognitionRequest else &#123; fatalError(&quot;Unable to create an SFSpeechAudioBufferRecognitionRequest object&quot;) &#125; // 6 recognitionRequest.shouldReportPartialResults = true // 7 recognitionTask = speechRecognizer?.recognitionTask(with: recognitionRequest, resultHandler: &#123; (result, error) in var isFinal = false if result != nil &#123; self.textView.text = result?.bestTranscription.formattedString isFinal = (result?.isFinal)! &#125; if error != nil || isFinal &#123; self.audioEngine.stop() inputNode.removeTap(onBus: 0) self.recognitionRequest = nil self.recognitionTask = nil self.microphoneButton.isEnabled = true &#125; &#125;) let recordingFormat = inputNode.outputFormat(forBus: 0) inputNode.installTap(onBus: 0, bufferSize: 1024, format: recordingFormat) &#123; (buffer, when) in self.recognitionRequest?.append(buffer) &#125; audioEngine.prepare() do &#123; try audioEngine.start() &#125; catch &#123; print(&quot;audioEngine couldn&apos;t start beacause of an error.&quot;) &#125; textView.text = &quot;Say something, I&apos;m listening!&quot;&#125; 1 å¼€å§‹å½•éŸ³æ—¶çš„åˆå§‹åŒ– 2 AVAudioSessionæä¾›è¯­éŸ³å½•éŸ³ï¼Œè®¾ç½®ä¸€äº›å‚æ•° 3 åˆå§‹åŒ–SFSpeechAudioBufferRecognitionRequest 4 æ ¸æŸ¥audioEngineæ˜¯å¦å¯ç”¨ 5 æ ¸æŸ¥recognitionRequest 7 æ£€æµ‹çš„éŸ³é¢‘åçš„å›è°ƒæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¼€å§‹å½•éŸ³åï¼Œæœ‰éŸ³é¢‘è¿›å…¥åéƒ½è°ƒç”¨ è¯­éŸ³è¯†åˆ«çš„å¼€å…³ å®ç°ä»£ç†æ–¹æ³•speechRecognizer(_:availabilityDidChange:)ã€‚è¿™ä¸ªæ–¹æ³•åœ¨è¯­éŸ³è¯†åˆ«å™¨å¯ç”¨æ€§å‘ç”Ÿå˜åŒ–æ—¶è¢«è°ƒç”¨ã€‚ 1234567func speechRecognizer(_ speechRecognizer: SFSpeechRecognizer, availabilityDidChange available: Bool) &#123; if available &#123; microphoneButton.isEnabled = true &#125; else &#123; microphoneButton.isEnabled = false &#125;&#125; ç‚¹å‡»buttonæ—¶çš„æ“ä½œï¼š 1234567891011@IBAction func microphoneTapped(_ sender: AnyObject) &#123; if audioEngine.isRunning &#123; audioEngine.stop() recognitionRequest?.endAudio() microphoneButton.isEnabled = false microphoneButton.setTitle(&quot;Start Recording&quot;, for: .normal) &#125; else &#123; startRecording() microphoneButton.setTitle(&quot;Stop Recording&quot;, for: .normal) &#125; &#125; æ€»ç»“è¯­éŸ³è¯†åˆ«åœ¨iPhoneçš„è‡ªå¸¦é”®ç›˜ä¸­æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä¸­æ–‡è¯†åˆ«ç‡å¾ˆé«˜ï¼Œå¦‚æœä¸é«˜å…´æˆ–ä¸æ–¹ä¾¿æ‰“å­—ï¼Œå¾ˆæ–¹ä¾¿ä½¿ç”¨ã€‚ ä»£ç SpeechToTextDemo å‚è€ƒï¼š Building a Speech-to-Text App Using Speech Framework in iOS 10]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-23ï¼šæ³›å‹(Generics)]]></title>
    <url>%2F2017%2Fswift-23-generics.html</url>
    <content type="text"><![CDATA[æ³›å‹æ˜¯ Swift æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œè®¸å¤š Swift æ ‡å‡†åº“æ˜¯é€šè¿‡æ³›å‹ä»£ç æ„å»ºçš„ã€‚ä¾‹å¦‚ï¼Œ Swift çš„æ•°ç»„å’Œå­—å…¸éƒ½æ˜¯æ³›å‹é›†åˆã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå­˜æœ‰æ•´å‹å€¼æˆ–è€…å­—ç¬¦ä¸²å€¼çš„æ•°ç»„ï¼Œæœ‰å¿…è¦çš„è¯ï¼Œè¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªä»»ä½• Swift æ”¯æŒç±»å‹çš„æ•°ç»„ã€‚ç±»ä¼¼çš„ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªå­—å…¸ç”¨äºå­˜å‚¨ä»»æ„æŒ‡å®šç±»å‹çš„å€¼ã€‚ 1 æ³›å‹å‡½æ•°Tæ˜¯ä¸€ä¸ªå ä½ç±»å‹ï¼Œå…¶ä»–å­—æ¯ä¹Ÿå¯ä»¥ï¼Œåªè¦åœ¨å°–æ‹¬å·ä¸­å°±è¡Œã€‚å¯ä»¥ç†è§£ä¸ºï¼šåœ¨å®šä¹‰çš„æ—¶å€™è¿˜ä¸çŸ¥é“æ˜¯å•¥ç±»å‹ï¼Œé‚£å°±å‡è®¾æ˜¯Tç±»å‹ï¼Œç­‰åˆ°è°ƒç”¨æ—¶ï¼Œç»™è¿‡æ¥ä»€ä¹ˆç±»å‹çš„å‚æ•°ï¼Œé‚£Tå°±æ˜¯ä¸Šé¢ç±»å‹ã€‚12345678910111213func swapValue&lt;T&gt;(_ a: inout T, _ b: inout T) &#123; let tmp = a a = b b = tmp&#125;var a = 1var b = 3swapValue(&amp;a, &amp;b)print(a,b)var s1 = "word"var s2 = "å•è¯"swapValue(&amp;s1, &amp;s2)print(s1, s2) 2 ç±»å‹å‚æ•°Tå°±æ˜¯ç±»å‹å‚æ•°ã€‚å¯ä»¥å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ã€‚ 3 å‘½åç±»å‹å‚æ•°ï¼šå°±æ˜¯æŠŠç±»å‹å‚æ•°å‘½åä¸ºä¸€ä¸ªå®¹æ˜“é˜…è¯»çš„åå­—ï¼ˆå¤§å†™å­—æ¯å¼€å¤´çš„é©¼å³°å‘½åæ³•ï¼‰ã€‚12Dictionary&lt;Key, Value&gt;Array&lt;Element&gt; 4 æ³›å‹ç±»å‹1234567891011121314struct Stack&lt;Element&gt; &#123; var items = [Element]() mutating func push(item: Element) &#123; items.append(item) &#125; mutating func pop() -&gt; Element &#123; return items.removeLast() &#125;&#125;var stackOfStrings = Stack&lt;String&gt;()stackOfStrings.push(item: "uno")stackOfStrings.push(item: "dos")stackOfStrings.push(item: "tres")stackOfStrings.push(item: "cuatro") 5 æ‰©å±•ä¸€ä¸ªæ³›å‹ç±»å‹ä¸éœ€è¦åœ¨æ‰©å±•çš„å®šä¹‰ä¸­æä¾›ç±»å‹å‚æ•°åˆ—è¡¨ã€‚åŸå§‹ç±»å‹å®šä¹‰ä¸­å£°æ˜çš„ç±»å‹å‚æ•°åˆ—è¡¨åœ¨æ‰©å±•ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”è¿™äº›æ¥è‡ªåŸå§‹ç±»å‹ä¸­çš„å‚æ•°åç§°ä¼šè¢«ç”¨ä½œåŸå§‹å®šä¹‰ä¸­ç±»å‹å‚æ•°çš„å¼•ç”¨ã€‚12345extension Stack &#123; var topItem: Element? &#123; return items.isEmpty ? nil : items[items.count - 1] &#125;&#125; 6 ç±»å‹çº¦æŸï¼šæŒ‡å®šä¸€ä¸ªç±»å‹å‚æ•°å¿…é¡»ç»§æ‰¿è‡ªæŒ‡å®šç±»ï¼Œæˆ–è€…ç¬¦åˆä¸€ä¸ªç‰¹å®šçš„åè®®æˆ–åè®®ç»„åˆã€‚1234567891011func someFunction&lt;T: SomeClass, U: SomeProtocol&gt;(someT: T, someU: U) &#123; // è¿™é‡Œæ˜¯æ³›å‹å‡½æ•°çš„å‡½æ•°ä½“éƒ¨åˆ†&#125;func findIndex&lt;T&gt;(array: [T], _ valueToFind: T) -&gt; Int? &#123; for (index, value) in array.enumerated() &#123; if value == valueToFind &#123; return index &#125; &#125; return nil&#125; ä¸æ˜¯æ‰€æœ‰çš„ Swiftç±»å‹éƒ½å¯ä»¥ç”¨ç­‰å¼ç¬¦(==)è¿›è¡Œæ¯”è¾ƒã€‚Swiftæ ‡å‡†åº“ä¸­å®šä¹‰äº†ä¸€ä¸ª Equatable åè®®ï¼Œè¯¥åè®®è¦æ±‚ä»»ä½•éµå¾ªè¯¥åè®®çš„ç±»å‹å¿…é¡»å®ç°ç­‰å¼ç¬¦( == )åŠä¸ç­‰ç¬¦( != )ã€‚ 12345678func findIndex&lt;T: Equatable&gt;(array: [T], _ valueToFind: T) -&gt; Int? &#123; for (index, value) in array.enumerated() &#123; if value == valueToFind &#123; return index &#125; &#125; return nil&#125; 7 å…³è”ç±»å‹å…³è”ç±»å‹ä¸ºåè®®ä¸­çš„ æŸä¸ªç±»å‹æä¾›äº†ä¸€ä¸ªå ä½å(æˆ–è€…è¯´åˆ«å)ï¼Œå…¶ä»£è¡¨çš„å®é™…ç±»å‹åœ¨åè®®è¢«é‡‡çº³æ—¶æ‰ä¼šè¢«æŒ‡å®šã€‚1234567891011121314151617181920212223242526protocol Container &#123; associatedtype ItemType mutating func append(item: ItemType) var count: Int &#123; get &#125; subscript(i: Int) -&gt; ItemType &#123; get &#125;&#125;struct Stack2&lt;Element&gt;: Container &#123; // Stack&lt;Element&gt; çš„åŸå§‹å®ç°éƒ¨åˆ† var items = [Element]() mutating func push(item: Element) &#123; items.append(item) &#125; mutating func pop() -&gt; Element &#123; return items.removeLast() &#125; // Container åè®®çš„å®ç°éƒ¨åˆ† mutating func append(item: Element) &#123; self.push(item: item) &#125; var count: Int &#123; return items.count &#125; subscript(i: Int) -&gt; Element &#123; // swift å¯ä»¥æ¨æ–­å‡ºItemTypeå°±æ˜¯Element return items[i] &#125;&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-22ï¼šåè®®(Protocols)]]></title>
    <url>%2F2017%2Fswift-22-protocols.html</url>
    <content type="text"><![CDATA[åè®®å®šä¹‰äº†ä¸€ä¸ªè“å›¾ï¼Œè§„å®šäº†ç”¨æ¥å®ç°æŸä¸€ç‰¹å®šä»»åŠ¡æˆ–è€…åŠŸèƒ½çš„æ–¹æ³•ã€å±æ€§ï¼Œä»¥åŠå…¶ä»–éœ€è¦çš„ä¸œè¥¿ã€‚ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾éƒ½å¯ä»¥é‡‡çº³åè®®ï¼Œå¹¶ä¸ºåè®®å®šä¹‰çš„è¿™äº›è¦æ±‚æä¾›å…·ä½“å®ç°ã€‚xx conform xxx protocol (xxâ€œç¬¦åˆâ€xxxåè®®) 1 å±æ€§è¦æ±‚å¯ä»¥è¦æ±‚æä¾›ç‰¹å®šåç§°å’Œç±»å‹çš„å®ä¾‹å±æ€§æˆ–ç±»å‹å±æ€§12345678910111213141516171819202122232425protocol SomeProtocol &#123; var mustBeSettable: Int &#123; get set &#125; var doesNotNeedToBeSettable: Int &#123; get &#125;&#125;protocol AnotherProtocol &#123; static var someTypeProperty: Int &#123; get set &#125;&#125;protocol FullyNamed &#123; var fullName: String &#123; get &#125;&#125;struct Person: FullyNamed &#123; var fullName: String&#125;let john = Person(fullName: "John Appleseed")class Starship: FullyNamed &#123; var prefix: String? var name: String init(name: String, prefix: String? = nil) &#123; self.name = name self.prefix = prefix &#125; var fullName: String &#123; return (prefix != nil ? prefix! + " " : "") + name &#125;&#125; 2 æ–¹æ³•è¦æ±‚ä¸éœ€è¦å¤§æ‹¬å·å’Œæ–¹æ³•ä½“; ä¸æ”¯æŒä¸ºåè®®ä¸­çš„æ–¹æ³•çš„å‚æ•°æä¾›é»˜è®¤å€¼123456protocol SomeProtocol2 &#123; static func someTypeMethod()&#125;protocol RandomNumberGenerator &#123; func random() -&gt; Double&#125; çº¿æ€§åŒä½™ç”Ÿæˆå™¨(linear congruential generator)çš„ä¼ªéšæœºæ•°ç®—æ³•ã€‚1234567891011class LinearCongruentialGenerator: RandomNumberGenerator &#123; var lastRandom = 42.0 let m = 139968.0 let a = 3877.0 let c = 29573.0 func random() -&gt; Double &#123; // a.truncatingRemainder(dividingBy:m) = b ç›¸å½“äº x*m + b = aã€‚ï¼ˆaæ˜¯æµ®ç‚¹æ•°ï¼Œxæ˜¯æ•´æ•°ï¼‰ lastRandom = ((lastRandom * a + c).truncatingRemainder(dividingBy:m)) return lastRandom / m &#125;&#125; 3 Mutating æ–¹æ³•è¦æ±‚å®ç°åè®®ä¸­çš„ mutating æ–¹æ³•æ—¶ï¼Œè‹¥æ˜¯ç±»ç±»å‹ï¼Œåˆ™ä¸ç”¨å†™ mutating å…³é”®å­—ã€‚è€Œå¯¹äºç»“æ„ä½“å’Œæšä¸¾ï¼Œåˆ™å¿…é¡»å†™ mutating å…³é”®å­—ã€‚12345678910111213141516protocol Togglable &#123; mutating func toggle()&#125;enum OnOffSwitch: Togglable &#123; case Off, On mutating func toggle() &#123; switch self &#123; case .Off: self = .On case .On: self = .Off &#125; &#125;&#125;var lightSwitch = OnOffSwitch.OfflightSwitch.toggle() 4 æ„é€ å™¨è¦æ±‚12345678protocol SomeProtocol3 &#123; init(someParameter: Int)&#125;class SomeClass: SomeProtocol3 &#123; required init(someParameter: Int) &#123; // å¿…é¡»è¦åŠ required &#125;&#125; 5 åè®®ä½œä¸ºç±»å‹1 ä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨ä¸­çš„å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹2 ä½œä¸ºå¸¸é‡ã€å˜é‡æˆ–å±æ€§çš„ç±»å‹3 ä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ ç±»å‹ 12345678910111213141516171819class Dice &#123; // éª°å­ let sides: Int let generator: RandomNumberGenerator init(sides: Int, generator: RandomNumberGenerator) &#123; self.sides = sides self.generator = generator &#125; func roll() -&gt; Int &#123; return Int(generator.random() * Double(sides)) + 1 &#125;&#125;var d6 = Dice(sides: 6, generator: LinearCongruentialGenerator())for _ in 1...5 &#123; print("Random dice roll is \(d6.roll())")&#125;let a = 8.625a.truncatingRemainder(dividingBy: 0.75)let b = 5.5b.truncatingRemainder(dividingBy: 3) 6 å§”æ‰˜(ä»£ç†)æ¨¡å¼å§”æ‰˜æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ç±»æˆ–ç»“æ„ä½“å°†ä¸€äº›éœ€è¦å®ƒä»¬è´Ÿè´£çš„åŠŸèƒ½å§”æ‰˜ç»™å…¶ä»–ç±»å‹çš„å®ä¾‹ã€‚å§”æ‰˜æ¨¡å¼çš„å®ç°: å®šä¹‰åè®®æ¥å°è£…é‚£äº›éœ€è¦è¢«å§”æ‰˜çš„åŠŸèƒ½ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿é‡‡çº³åè®®çš„ç±»å‹èƒ½æä¾›è¿™äº›åŠŸèƒ½ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960protocol DiceGame &#123; var dice: Dice &#123; get &#125; func play()&#125;protocol DiceGameDelegate &#123; func gameDidStart(game: DiceGame) func game(game: DiceGame, didStartNewTurnWithDiceRoll diceRoll:Int) func gameDidEnd(game: DiceGame)&#125;class SnakesAndLadders: DiceGame &#123; let finalSquare = 25 let dice = Dice(sides: 6, generator: LinearCongruentialGenerator()) var square = 0 var board: [Int] init() &#123; board = [Int](repeating: 0, count: finalSquare + 1) board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02 board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08 &#125; var delegate: DiceGameDelegate? func play() &#123; square = 0 delegate?.gameDidStart(game: self) gameLoop: while square != finalSquare &#123; let diceRoll = dice.roll() delegate?.game(game: self, didStartNewTurnWithDiceRoll: diceRoll) switch square + diceRoll &#123; case finalSquare: break gameLoop case let newSquare where newSquare &gt; finalSquare: continue gameLoop default: square += diceRoll square += board[square] &#125; &#125; delegate?.gameDidEnd(game: self) &#125;&#125;class DiceGameTracker: DiceGameDelegate &#123; var numberOfTurns = 0 func gameDidStart(game: DiceGame) &#123; numberOfTurns = 0 if game is SnakesAndLadders &#123; print("Started a new game of Snakes and Ladders") &#125; print("The game is using a \(game.dice.sides)-sided dice") &#125; func game(game: DiceGame, didStartNewTurnWithDiceRoll diceRoll: Int) &#123; numberOfTurns += 1 print("Rolled a \(diceRoll)") &#125; func gameDidEnd(game: DiceGame) &#123; print("The game lasted for \(numberOfTurns) turns") &#125;&#125;let tracker = DiceGameTracker()let game = SnakesAndLadders()game.delegate = trackergame.play() 7 é€šè¿‡æ‰©å±•æ·»åŠ åè®®ä¸€è‡´æ€§é€šè¿‡æ‰©å±•ä»¤å·²æœ‰ç±»å‹é‡‡çº³å¹¶ç¬¦åˆåè®®æ—¶ï¼Œè¯¥ç±»å‹çš„æ‰€æœ‰å®ä¾‹ä¹Ÿä¼šéšä¹‹è·å¾—åè®®ä¸­å®šä¹‰çš„å„é¡¹åŠŸèƒ½ã€‚12345678910protocol TextRepresentable &#123; var textualDescription: String &#123; get &#125;&#125;extension Dice: TextRepresentable &#123; var textualDescription: String &#123; return "A \(sides)-sided dice" &#125;&#125;let d12 = Dice(sides: 12, generator: LinearCongruentialGenerator())print(d12.textualDescription) 8 é€šè¿‡æ‰©å±•é‡‡çº³åè®®å½“ä¸€ä¸ªç±»å‹å·²ç»ç¬¦åˆäº†æŸä¸ªåè®®ä¸­çš„æ‰€æœ‰è¦æ±‚ï¼Œå´è¿˜æ²¡æœ‰å£°æ˜é‡‡çº³è¯¥åè®®æ—¶ï¼Œå¯ä»¥é€šè¿‡ç©ºæ‰©å±•ä½“çš„æ‰©å±•æ¥é‡‡çº³è¯¥åè®®123456789struct Hamster &#123; var name: String var textualDescription: String &#123; return "A hamster named \(name)" &#125;&#125;extension Hamster: TextRepresentable &#123;&#125;let simonTheHamster = Hamster(name: "Simon")let somethingTextRepresentable: TextRepresentable = simonTheHamster 9 åè®®ç±»å‹çš„é›†åˆ1234let things: [TextRepresentable] = [ d12, simonTheHamster] for thing in things &#123; print(thing.textualDescription)&#125; 10 åè®®çš„ç»§æ‰¿123protocol PrettyTextRepresentable: TextRepresentable &#123; var prettyTextualDescription: String &#123; get &#125;&#125; 11 ç±»ç±»å‹ä¸“å±åè®®12345protocol SomeClassOnlyProtocol: class &#123; // åªèƒ½ç±»å¯ä»¥å®ç°è¿™ä¸ªåè®® &#125;//struct SomeStruct: SomeClassOnlyProtocol &#123;//&#125; 12 åè®®åˆæˆ12345678910111213141516protocol Named &#123; var name: String &#123; get &#125;&#125;protocol Aged &#123; var age: Int &#123; get &#125;&#125;struct Person2: Named, Aged &#123; var name: String var age: Int&#125;// å‚æ•°celebratorçš„ç±»å‹æ˜¯`Named &amp; Aged`ï¼Œæ„å‘³ç€å®ƒä¸å…³å¿ƒå‚æ•°çš„å…·ä½“ç±»å‹ï¼Œåªè¦å‚æ•°ç¬¦åˆè¿™ä¸¤ä¸ªåè®®å³å¯func wishHappyBirthday(to celebrator: Named &amp; Aged) &#123; print("Happy birthday, \(celebrator.name), you're \(celebrator.age)!")&#125;let birthdayPerson = Person2(name: "Malcolm", age: 21)wishHappyBirthday(to: birthdayPerson) 13 æ£€æŸ¥åè®®ä¸€è‡´æ€§æ£€æŸ¥å’Œè½¬æ¢åˆ°æŸä¸ªåè®®ç±»å‹åœ¨è¯­æ³•ä¸Šå’Œç±»å‹çš„æ£€æŸ¥å’Œè½¬æ¢å®Œå…¨ç›¸åŒ: â€¢ is ç”¨æ¥æ£€æŸ¥å®ä¾‹æ˜¯å¦ç¬¦åˆæŸä¸ªåè®®ï¼Œè‹¥ç¬¦åˆåˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚ â€¢ as? è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®ä¾‹ç¬¦åˆæŸä¸ªåè®®æ—¶ï¼Œè¿”å›ç±»å‹ä¸ºåè®®ç±»å‹çš„å¯é€‰å€¼ï¼Œå¦åˆ™è¿”å› nil ã€‚ â€¢ as! å°†å®ä¾‹å¼ºåˆ¶å‘ä¸‹è½¬æ¢åˆ°æŸä¸ªåè®®ç±»å‹ï¼Œå¦‚æœå¼ºè½¬å¤±è´¥ï¼Œä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ 1234567891011121314151617181920212223242526272829protocol HasArea &#123; var area: Double &#123; get &#125;&#125;class Circle: HasArea &#123; let pi = 3.1415927 var radius: Double var area: Double &#123; return pi * radius * radius &#125; init(radius: Double) &#123; self.radius = radius &#125;&#125;class Country: HasArea &#123; var area: Double init(area: Double) &#123; self.area = area &#125;&#125;class Animal &#123; var legs: Int init(legs: Int) &#123; self.legs = legs &#125;&#125;let objects: [AnyObject] = [ Circle(radius: 2.0), Country(area: 243_610), Animal(legs: 4)]for object in objects &#123; if let objectWithArea = object as? HasArea &#123; print("Area is \(objectWithArea.area)") &#125; else &#123; print("Something that doesn't have an area") &#125;&#125; 14 å¯é€‰çš„åè®®è¦æ±‚12345678910111213141516171819202122232425import Foundation@objc protocol CounterDataSource &#123; @objc optional func increment(forCount count: Int) -&gt; Int @objc optional var fixedIncrement: Int &#123; get &#125;&#125;class Counter &#123; var count = 0 var dataSource: CounterDataSource? func increment() &#123; if let amount = dataSource?.increment?(forCount: count) &#123; count = count + amount &#125; else if let amount = dataSource?.fixedIncrement &#123; count = count + amount &#125; &#125;&#125;class ThreeSource: NSObject, CounterDataSource &#123; let fixedIncrement = 3&#125;var counter = Counter()counter.dataSource = ThreeSource()for _ in 1...4 &#123; counter.increment() print(counter.count)&#125; 15 åè®®æ‰©å±•åè®®å¯ä»¥é€šè¿‡æ‰©å±•æ¥ä¸ºé‡‡çº³åè®®çš„ç±»å‹æä¾›å±æ€§ã€æ–¹æ³•ä»¥åŠä¸‹æ ‡çš„å®ç°ã€‚12345678extension RandomNumberGenerator &#123; func randomBool() -&gt; Bool &#123; return random() &gt; 0.5 &#125;&#125;let generator = LinearCongruentialGenerator()print("Here's a random number: \(generator.random())")print("And here's a random Boolean: \(generator.randomBool())") æä¾›é»˜è®¤å®ç°ã€‚å¦‚æœç¬¦åˆPrettyTextRepresentableåè®®æŸä¸ªç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ï¼Œæœ‰å±æ€§prettyTextualDescriptionçš„å®ç°ï¼Œé‚£å±æ€§prettyTextualDescriptionçš„ç»“æœå°±æ˜¯è¿™ä¸ªå®ç°ï¼Œå¦åˆ™å°±ä¼šä½¿ç”¨æ‰©å±•å½“ä¸­çš„å®ç°ã€‚12345extension PrettyTextRepresentable &#123; var prettyTextualDescription: String &#123; return textualDescription &#125;&#125; ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶æ¡ä»¶1234567891011extension Collection where Iterator.Element: TextRepresentable &#123; var textualDescription: String &#123; let itemsAsText = self.map &#123; $0.textualDescription &#125; return "[" + itemsAsText.joined(separator: ", ") + "]" &#125;&#125;let murrayTheHamster = Hamster(name: "Murray")let morganTheHamster = Hamster(name: "Morgan")let mauriceTheHamster = Hamster(name: "Maurice")let hamsters = [murrayTheHamster, morganTheHamster, mauriceTheHamster]print(hamsters.textualDescription) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[swiftçš„æ–‡æ¡£æ³¨é‡Š]]></title>
    <url>%2F2017%2Fswift-document.html</url>
    <content type="text"><![CDATA[åœ¨Xcodeä¸­Quick Help ä¸ºå¼€å‘è€…æä¾›æ–¹ä¾¿å¿«æ·çš„ç®€æ´æ–‡æ¡£æŸ¥çœ‹æ–¹å¼ã€‚option+ç‚¹å‡»æŸ¥çœ‹å¼¹æ¡†ï¼Œoption+command+2åœ¨æ£€æŸ¥å™¨ä¸­æŸ¥çœ‹ã€‚swiftçš„ä¸­æœ‰ä¸¤ç§æ³¨é‡Šæ–¹å¼ï¼Œè®©Xcodeåœ¨Quick Helpä¸­æ˜¾ç¤ºã€‚è¿™ç§æ³¨é‡Šå¯ä»¥è®¤ä¸ºæ˜¯å°†æ–‡æ¡£ä»¥æŸç§è§„èŒƒçš„æ ¼å¼åµŒå…¥åœ¨å®é™…ä»£ç çš„ä¸Šæ–¹ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æŸäº›å·¥å…·è‡ªåŠ¨ç”Ÿæˆæ¼‚äº®çš„æ–‡æ¡£æ–‡ä»¶ã€‚è¿™ç§å†…åµŒå¼çš„æ–‡æ¡£åœ¨ç°ä»£ç¼–ç¨‹ä¸­æ˜¯å¾ˆæ™®éçš„ã€‚åœ¨swiftä¸­ï¼Œè¿™ä¸¤ç§æ³¨é‡Šæ–¹å¼æ˜¯ï¼š /** */ /// è¿™äº›æ³¨é‡Šä¸­è¿˜å¯ä»¥æœ‰å…¶ä»–ä¸€äº›è§„èŒƒ å¯ä»¥æ”¯æŒmarkdown å…³é”®è¯ ä¸‰ä¸ªå…³é”®è¯ï¼šparameterï¼Œ returnsï¼Œ throwsã€‚è¿™ä¸‰ä¸ªå…³é”®è¯ä¼šåœ¨æœ€å·¦è¾¹æ˜¾ç¤ºã€‚ è¿˜æœ‰ä¸€äº›å…³é”®è¯ä¼šè¢«æå–åˆ°descriptionä¸­ä½œä¸ºä¸€äº›ç‰¹æ®Šå­—æ®µæ˜¾ç¤ºï¼Œå…¶ä»–éƒ½ä¼šåœ¨descriptionæ­£å¸¸æ˜¾ç¤ºï¼šauthor, authors, copyright, dateï¼›since, versionï¼›attention, important, note, remark, warningï¼›bug, TODO, experimentï¼› complexityï¼› precondition, postcondition, requires, invariant see* å‚è€ƒhttp://swifter.tips/documentation/http://ericasadun.com/2015/06/14/swift-header-documentation-in-xcode-7/]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 2ï¼šç”¨Core Imageè¿›è¡Œé¢éƒ¨è¯†åˆ«(Swift)]]></title>
    <url>%2F2017%2Fios-tutorial-2-facerecognition.html</url>
    <content type="text"><![CDATA[é¢éƒ¨è¯†åˆ«APIä¸ä»…å¯ä»¥æ˜¯è¯†åˆ«é¢éƒ¨ï¼Œä¹Ÿå¯è¯†åˆ«é¢éƒ¨çš„ç‰¹æ®Šç»†èŠ‚ï¼Œä¾‹å¦‚å¾®ç¬‘ç”šè‡³çœ¨çœ¼ç›ã€‚ å»ºç«‹åˆå§‹é¡¹ç›®åŸæ–‡å»ºå¥½äº†åˆå§‹é¡¹ç›®ï¼Œæˆ‘è‡ªå·±æ–°å»ºäº†åˆå§‹é¡¹ç›® æ–°å»ºé¡¹ç›®Detector åˆ é™¤IBä¸­åŸæœ¬View Controller Sceneã€‚ æ‹–åŠ¨UITabBarControlleråˆ°IBä¸­ï¼Œå¾—åˆ°ä¸‰ä¸ªSceneã€‚é€‰æ‹©UITabBarControllerçš„Is Initial View Controllerï¼Œä½¿å…¶ä½œä¸ºåˆå§‹æ§åˆ¶å™¨ã€‚ ä¿®æ”¹Item 1çš„titleå’Œå…¶Bar Iteméƒ½ä¸ºPhotoï¼Œä¿®æ”¹å…¶Classä¸ºViewControllerã€‚ å‘Assetsä¸­æ·»åŠ å‡ å¼ äººç‰©å›¾ç‰‡ æƒ³Photo Sceneä¸­æ·»åŠ ä¸€ä¸ªImage Viewï¼ŒContent Modeæ”¹ä¸ºAspect Fitï¼Œé€‰æ‹©ä¸€ä¸ªå›¾ç‰‡ã€‚åœ¨ViewControlleræ·»åŠ å›¾ç‰‡å¯¹åº”@IBOutletï¼š@IBOutlet var personPic: UIImageView! é€‰ä¸­Item 2ï¼Œç‚¹å‡»èœå•æ EDitor &gt; Embed In &gt; Navigation Controllerï¼Œæ–°ç”Ÿæˆä¸€ä¸ªä¸ä¹‹å…³è”çš„Sceneã€‚ æ–°å»ºCameraViewControllerç±»ï¼Œç»§æ‰¿è‡³UIViewControllerã€‚ä¿®æ”¹ä¸Šé¢ç”Ÿæˆçš„Sceneçš„Classå±æ€§ä¸ºCameraViewControllerã€‚ æ‹–åŠ¨ä¸€ä¸ªUIBarButtonItemåˆ°Camera View Controller Sceneçš„UINavigationItemçš„å³è¾¹ï¼Œå¹¶é€‰æ‹©System Itemä¸ºCamera åœ¨CameraViewControllerä¸­å»ºç«‹outletå’ŒAction è¯†åˆ«ç…§ç‰‡çš„é¢éƒ¨ åœ¨ ViewController.swiftä¸­å¼•å…¥CoreImage:import CoreImage åœ¨ ViewController.swiftä¸­æ·»åŠ å‡½æ•°detect(): 12345678910111213141516171819202122232425262728293031func detect() &#123; // 1 guard let personciImage = CIImage(image: personPic.image!) else &#123; return &#125; // 2 let accuracy = [CIDetectorAccuracy: CIDetectorAccuracyHigh] let faceDetector = CIDetector(ofType: CIDetectorTypeFace, context: nil, options: accuracy) let faces = faceDetector?.features(in: personciImage) // 3 for face in faces as! [CIFaceFeature] &#123; print(&quot;Found bounds are \(face.bounds)&quot;) let faceBox = UIView(frame: face.bounds) faceBox.layer.borderWidth = 3 faceBox.layer.borderColor = UIColor.red.cgColor faceBox.backgroundColor = UIColor.clear personPic.addSubview(faceBox) // 4 if face.hasLeftEyePosition &#123; print(&quot;Left eye bounds are \(face.leftEyePosition)&quot;) &#125; if face.hasRightEyePosition &#123; print(&quot;Right eye bounds are \(face.rightEyePosition)&quot;) &#125; &#125;&#125; 1 æ ¹æ®UIImageè·å–CoreImageä¸­å›¾ç‰‡å¯¹è±¡ã€‚guardä¸ifåŠŸèƒ½ç±»ä¼¼ï¼ŒåŒºåˆ«å¯æŸ¥çœ‹ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-5ï¼šControl Flowçš„6 guard ä¸ ifã€‚ 2 åˆå§‹åŒ–æ£€æµ‹å™¨CIDetectorï¼Œ accurayæ˜¯æ£€æŸ¥å™¨é…ç½®é€‰é¡¹ï¼Œè¡¨ç¤ºç²¾ç¡®åº¦ï¼›å› ä¸ºCIDetectorå¯ä»¥è¿›è¡Œå‡ ç§ç±»å‹çš„æ£€æµ‹ï¼Œæ‰€ä»¥CIDetectorTypeFaceç”¨æ¥è¡¨ç¤ºé¢éƒ¨æ£€æµ‹ï¼›featuresæ–¹æ³•è¿”å›å…·ä½“çš„æ£€æµ‹ç»“æœ 3 ç»™æ¯ä¸ªæ£€æµ‹åˆ°çš„è„¸æ·»åŠ çº¢è‰²æ¡† 4 æ£€æµ‹æ˜¯å¦æœ‰å·¦çœ¼ä½ç½® åœ¨viewDidLoadä¸­æ·»åŠ  detect()ï¼Œè¿è¡Œç»“æœç±»ä¼¼ï¼š æ‰“å°ç»“æœï¼Œæ˜¾ç¤ºæ£€æµ‹åˆ°çš„é¢éƒ¨ä½ç½®æ˜¯ä¸å¯¹çš„ï¼šFound bounds are (177.0, 416.0, 380.0, 380.0)è¿™æ˜¯å› ä¸ºUIKitçš„åæ ‡ç³»ç»Ÿä¸Core Imageçš„åæ ‡ç³»ç»Ÿæ˜¯ä¸åŒçš„ï¼š æŠŠCore Imageçš„åæ ‡ç³»ç»Ÿè½¬æ¢ä¸ºUIKitçš„åæ ‡ç³»ç»Ÿï¼Œä¿®æ”¹detect()ä¸ºï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748func detect() &#123; guard let personciImage = CIImage(image: personPic.image!) else &#123; return &#125; let accuracy = [CIDetectorAccuracy: CIDetectorAccuracyHigh] let faceDetector = CIDetector(ofType: CIDetectorTypeFace, context: nil, options: accuracy) let faces = faceDetector?.features(in: personciImage) // let ciImageSize = personciImage.extent.size var transform = CGAffineTransform(scaleX: 1, y: -1) transform = transform.translatedBy(x: 0, y: -ciImageSize.height) for face in faces as! [CIFaceFeature] &#123; print(&quot;Found bounds are \(face.bounds)&quot;) // Apply the transform to convert the coordinates var faceViewBounds = face.bounds.applying(transform) // Calculate the actual position and size of the rectangle in the image view let viewSize = personPic.bounds.size let scale = min(viewSize.width / ciImageSize.width, viewSize.height / ciImageSize.height) let offsetX = (viewSize.width - ciImageSize.width * scale) / 2 let offsetY = (viewSize.height - ciImageSize.height * scale) / 2 faceViewBounds = faceViewBounds.applying(CGAffineTransform(scaleX: scale, y: scale)) faceViewBounds.origin.x += offsetX faceViewBounds.origin.y += offsetY let faceBox = UIView(frame: faceViewBounds) faceBox.layer.borderWidth = 3 faceBox.layer.borderColor = UIColor.red.cgColor faceBox.backgroundColor = UIColor.clear personPic.addSubview(faceBox) if face.hasLeftEyePosition &#123; print(&quot;Left eye bounds are \(face.leftEyePosition)&quot;) &#125; if face.hasRightEyePosition &#123; print(&quot;Right eye bounds are \(face.rightEyePosition)&quot;) &#125; &#125;&#125; è¿è¡Œå¯çœ‹åˆ°æ­£ç¡®è¯†åˆ«ä½ç½®ï¼š ç›¸æœºæ‹ç…§åçš„è„¸éƒ¨è¯†åˆ«ä¹‹å‰æ˜¯é¡¹ç›®ä¸­ç…§ç‰‡è¯†åˆ«ï¼Œç°åœ¨æ˜¯æ‹å®Œç…§å†è¯†åˆ«ï¼ŒåŸç†æ˜¯ç›¸åŒçš„ï¼Œå°±æ˜¯å¤šä¸€ä¸ªæ‹å®Œç…§ï¼Œå–ç…§ç‰‡çš„è¿‡ç¨‹ã€‚ æ›´æ–°CameraViewControllerç±»çš„ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738// 1class CameraViewController: UIViewController, UIImagePickerControllerDelegate, UINavigationControllerDelegate &#123; @IBOutlet var imageView: UIImageView! // 2 let imagePicker = UIImagePickerController() override func viewDidLoad() &#123; super.viewDidLoad() imagePicker.delegate = self &#125; @IBAction func takePhoto(_ sender: AnyObject) &#123; // 3 if !UIImagePickerController.isSourceTypeAvailable(.camera) &#123; return &#125; imagePicker.allowsEditing = false imagePicker.sourceType = .camera present(imagePicker, animated: true, completion: nil) &#125; // 4 //MARK: -UIImagePickerControllerDelegate func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) &#123; if let pickedImage = info[UIImagePickerControllerOriginalImage] as? UIImage &#123; imageView.contentMode = .scaleAspectFit imageView.image = pickedImage &#125; dismiss(animated: true, completion: nil) self.detect() &#125; // 5 func imagePickerControllerDidCancel(_ picker: UIImagePickerController) &#123; dismiss(animated: true, completion: nil) &#125;&#125; 1 å®ç°UIImagePickerControllerDelegateåè®®ï¼Œç”¨äºæ‹ç…§ç›¸å…³ä»£ç†ã€‚ 2 åˆå§‹åŒ–UIImagePickerControllerã€‚UIImagePickerControlleræ˜¯ç…§ç›¸æˆ–æ‘„å½±ç•Œé¢å’ŒåŠŸèƒ½ç®¡ç†çš„ç±»ã€‚ 3 åˆ¤æ–­è®¾å¤‡ç…§ç›¸æœºæ˜¯å¦å¯ç”¨ã€‚ 4 å®ç°ä¸€ä¸ªUIImagePickerControllerDelegateä¸­çš„ä»£ç†æ–¹æ³•ï¼Œå½“æ‹æ‘„å®Œå¤‡ç¡®å®ä½¿ç”¨ç…§ç‰‡æ—¶è°ƒç”¨ã€‚ 5 ä¹Ÿæ˜¯UIImagePickerControllerDelegateä¸­çš„ä»£ç†æ–¹æ³•ï¼Œå–æ¶ˆæ‹æ‘„æ—¶è°ƒç”¨ã€‚ æ·»åŠ detect()ä»£ç ï¼Œä¸ViewControllerä¸­ä¸åŒçš„æ˜¯ï¼Œä¸ç”¨çº¢è‰²æ¡†æ¡†å¤„è¯†åˆ«å‡ºçš„é¢éƒ¨ï¼Œè€Œæ˜¯è¯†åˆ«å‡ºé¢éƒ¨çš„ç»†èŠ‚ï¼Œå¹¶ç”¨UIAlertControllerå¼¹å‡ºæ˜¾ç¤ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041func detect() &#123; let imageOptions = NSDictionary(object: NSNumber(value: 5) as NSNumber, forKey: CIDetectorImageOrientation as NSString) let personciImage = CIImage(cgImage: imageView.image!.cgImage!) let accuracy = [CIDetectorAccuracy: CIDetectorAccuracyHigh] let faceDetector = CIDetector(ofType: CIDetectorTypeFace, context: nil, options: accuracy) let faces = faceDetector?.features(in: personciImage, options: imageOptions as? [String : AnyObject]) if let face = faces?.first as? CIFaceFeature &#123; print(&quot;found bounds are \(face.bounds)&quot;) var message = &quot;æœ‰ä¸ªè„¸&quot; if face.hasSmile &#123; print(&quot;è„¸æ˜¯ç¬‘çš„&quot;) message += &quot;,è„¸æ˜¯ç¬‘çš„&quot; &#125; if face.hasMouthPosition &#123; print(&quot;æœ‰å˜´å”‡&quot;) message += &quot;,æœ‰å˜´å”‡&quot; &#125; if face.hasLeftEyePosition &#123; print(&quot;å·¦çœ¼é•œçš„ä½ç½®æ˜¯ \(face.leftEyePosition)&quot;) message += &quot;,å·¦çœ¼é•œçš„ä½ç½®æ˜¯ \(face.leftEyePosition)&quot; &#125; if face.hasRightEyePosition &#123; print(&quot;å³çœ¼é•œçš„ä½ç½®æ˜¯ \(face.rightEyePosition)&quot;) message += &quot;,å³çœ¼é•œçš„ä½ç½®æ˜¯ \(face.rightEyePosition)&quot; &#125; let alert = UIAlertController(title: &quot;å˜¿å˜¿&quot;, message: message, preferredStyle: .alert) alert.addAction(UIAlertAction(title: &quot;OK&quot;, style: .default, handler: nil)) self.present(alert, animated: true, completion: nil) &#125; else &#123; let alert = UIAlertController(title: &quot;æ²¡è„¸äº†&quot;, message: &quot;æ²¡æœ‰æ£€æµ‹åˆ°è„¸&quot;, preferredStyle: .alert) alert.addAction(UIAlertAction(title: &quot;OK&quot;, style: .default, handler: nil)) self.present(alert, animated: true, completion: nil) &#125; &#125; è¿è¡Œå°±å¯ä»¥è¯†åˆ«ç…§ç‰‡çš„é¢éƒ¨å…·ä½“ç»†èŠ‚CIFaceFeatureè¿˜æä¾›äº†å…¶ä»–å¾ˆå¤šé¢éƒ¨ç»†èŠ‚ï¼š1234567891011121314151617181920212223242526272829open var hasLeftEyePosition: Bool &#123; get &#125;open var leftEyePosition: CGPoint &#123; get &#125;open var hasRightEyePosition: Bool &#123; get &#125;open var rightEyePosition: CGPoint &#123; get &#125;open var hasMouthPosition: Bool &#123; get &#125;open var mouthPosition: CGPoint &#123; get &#125;open var hasTrackingID: Bool &#123; get &#125;open var trackingID: Int32 &#123; get &#125;open var hasTrackingFrameCount: Bool &#123; get &#125;open var trackingFrameCount: Int32 &#123; get &#125;open var hasFaceAngle: Bool &#123; get &#125;open var faceAngle: Float &#123; get &#125;open var hasSmile: Bool &#123; get &#125;open var leftEyeClosed: Bool &#123; get &#125;open var rightEyeClosed: Bool &#123; get &#125; ä»£ç Detector å‚è€ƒï¼šFace Detection in iOS Using Core Image]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-21ï¼šæ‰©å±•(Extensions)]]></title>
    <url>%2F2017%2Fswift-21-extensions.html</url>
    <content type="text"><![CDATA[ä¸ºä¸€ä¸ªå·²æœ‰çš„ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»å‹æˆ–è€…åè®®ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ã€‚åŒ…æ‹¬åœ¨æ²¡æœ‰æƒé™è·å–åŸå§‹æºä»£ç çš„æƒ…å†µä¸‹æ‰©å±•ç±»å‹çš„èƒ½åŠ›(å³é€†å‘å»ºæ¨¡)æ‰©å±•å¯ä»¥ä¸ºä¸€ä¸ªç±»å‹æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸èƒ½é‡å†™å·²æœ‰çš„åŠŸèƒ½ã€‚ 1 æ‰©å±•çš„è¯­æ³•(Extension Syntax)1234567extension SomeType &#123; // ä¸º SomeType æ·»åŠ çš„æ–°åŠŸèƒ½å†™åˆ°è¿™é‡Œ&#125;// æ‰©å±•ä¸€ä¸ªå·²æœ‰ç±»å‹ï¼Œä½¿å…¶å®ç°ä¸€äº›åè®®ã€‚extension SomeType: SomeProtocol, AnotherProctocol &#123; // åè®®å®ç°å†™åˆ°è¿™é‡Œ&#125; å¦‚æœä½ é€šè¿‡æ‰©å±•ä¸ºä¸€ä¸ªå·²æœ‰ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ï¼Œé‚£ä¹ˆæ–°åŠŸèƒ½å¯¹è¯¥ç±»å‹çš„æ‰€æœ‰å·²æœ‰å®ä¾‹éƒ½æ˜¯å¯ç”¨çš„ï¼Œå³ä½¿å®ƒä»¬æ˜¯åœ¨è¿™ä¸ªæ‰©å±•å®šä¹‰ä¹‹å‰åˆ›å»ºçš„ã€‚ 2 è®¡ç®—å‹å±æ€§(Computed Properties) 12345678extension Double &#123; var km: Double &#123; return self * 1_000.0 &#125; var m : Double &#123; return self &#125; var cm: Double &#123; return self / 100.0 &#125; var mm: Double &#123; return self / 1_000.0 &#125; var ft: Double &#123; return self / 3.28084 &#125;&#125;let oneInch = 25.4.mm æ‰©å±•å¯ä»¥æ·»åŠ æ–°çš„è®¡ç®—å‹å±æ€§ï¼Œä½†æ˜¯ä¸å¯ä»¥æ·»åŠ å­˜å‚¨å‹å±æ€§ï¼Œä¹Ÿä¸å¯ä»¥ä¸ºå·²æœ‰å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚ 3 æ„é€ å™¨(Initializers)1234567891011121314151617181920struct Size &#123; var width = 0.0, height = 0.0&#125;struct Point &#123; var x = 0.0, y = 0.0&#125;struct Rect &#123; var origin = Point() var size = Size()&#125;let defaultRect = Rect()let memberwiseRect = Rect(origin: Point(x: 2.0, y: 2.0), size: Size(width: 5.0, height: 5.0))extension Rect &#123; init(center: Point, size: Size) &#123; let originX = center.x - (size.width / 2) let originY = center.y - (size.height / 2) self.init(origin: Point(x: originX, y: originY), size: size) &#125;&#125;let centerRect = Rect(center: Point(x: 4.0, y: 4.0), size: Size(width: 3.0, height: 3.0)) 4 æ–¹æ³•(Methods)1234567891011extension Int &#123; func repetitions(task: () -&gt; Void) &#123; // å°†é—­åŒ…ä¸­çš„ä»»åŠ¡æ‰§è¡Œæ•´æ•°å¯¹åº”çš„æ¬¡æ•° for _ in 0..&lt;self &#123; task() &#125; &#125;&#125;5.repetitions(task: &#123; print("Hello!")&#125;) å¯å˜å®ä¾‹æ–¹æ³•(Mutating Instance Methods)1234567extension Int &#123; mutating func square() &#123; self = self * self &#125;&#125;var someInt = 3someInt.square() // ä¸èƒ½ç›´æ¥ç”¨å­—é¢é‡`3.square()` 5 ä¸‹æ ‡(Subscripts)12345678910extension Int &#123; subscript(digitIndex: Int) -&gt;Int &#123; var decimalBase = 1 for _ in 0..&lt;digitIndex &#123; decimalBase *= 10 &#125; return (self/decimalBase) % 10 &#125;&#125;12345678[2] 6 åµŒå¥—ç±»å‹(Nested Types)1234567891011121314151617181920212223242526272829extension Int &#123; enum Kind &#123; case Negative, Zero, Positive &#125; var kind: Kind &#123; switch self &#123; case 0: return .Zero case let x where x &gt; 0: return .Positive default: return .Negative &#125; &#125;&#125;func printIntegerKinds(numbers: [Int]) &#123; for number in numbers &#123; switch number.kind &#123; case .Negative: print("- ", terminator: "") case .Zero: print("0 ", terminator: "") case .Positive: print("+ ", terminator: "") &#125; &#125; print("")&#125;printIntegerKinds(numbers: [3, 19, -27, 0, -6, 0, 7]) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 9 Table Rowçš„åˆ é™¤, UITableViewRowActionå’ŒUIActivityViewControllerçš„ä½¿ç”¨]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-9.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 8 Table Viewå’ŒUIAlertControllerçš„äº¤äº’æ˜¯Table Rowé€‰æ‹©çš„æ“ä½œï¼Œè¿™ä¸€ç¯‡ç»§ç»­ä¸Šä¸€ç¯‡çš„ä»£ç å®ç°åˆ é™¤æ“ä½œã€‚ æ»‘åŠ¨åˆ é™¤ å®ç°UITableViewDataSourceä¸­ç›¸åº”æ–¹æ³•ï¼š123override func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath) &#123; &#125; æ­¤æ—¶æ»‘åŠ¨æœ‰åˆ é™¤æŒ‰é’®ï¼š åˆ é™¤æ•°æ®123456789override func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath) &#123; if editingStyle == .delete &#123; restaurantNames.remove(at: indexPath.row) restaurantLocations.remove(at: indexPath.row) restaurantTypes.remove(at: indexPath.row) restaurantIsVisited.remove(at: indexPath.row) restaurantImages.remove(at: indexPath.row) &#125;&#125; UITableViewCellEditingStyleæœ‰ä¸¤ç§insertå’Œdeleteã€‚è¿è¡Œåå‘ç°åˆ é™¤åŠ¨ä½œåï¼Œç›¸åº”çš„table view rowè¢«æ²¡æœ‰æ¶ˆå¤±ï¼Œå› ä¸ºä¸Šé¢çš„åˆ é™¤åªæ˜¯åˆ é™¤äº†ç›¸åº”æ•°ç»„ä¸­çš„æ•°æ®ï¼Œå¹¶æ²¡æœ‰åœ¨è§†å›¾ä¸Šæ˜¾ç¤ºï¼Œå¦‚è¦é‡æ–°åŠ è½½æ‰ä¼šåˆ é™¤ã€‚ é‡æ–°åŠ è½½UITableViewåœ¨tableView(_:commit:forRowAt:)åæ·»åŠ ï¼štableView.reloadData()å¦å¤–ï¼Œæ›´å¥½çš„åˆ·æ–°table viewçš„æ–¹æ³•æ˜¯ä½¿ç”¨UITableViewçš„deleteRows(at:with:)æ–¹æ³•ï¼Œè¿˜æœ‰åŠ¨ç”»æ•ˆæœï¼štableView.deleteRows(at: [indexPath], with: .fade) ç”¨UITableViewRowActionä¸ºæ»‘åŠ¨äº§ç”Ÿæ›´å¤šåŠ¨ä½œ1234567891011121314151617181920212223override func tableView(_ tableView: UITableView, editActionsForRowAt indexPath: IndexPath) -&gt; [UITableViewRowAction]? &#123; // 1 let shareAction = UITableViewRowAction(style: .default, title: &quot;Share&quot;, handler: &#123; (action, indexPath) -&gt; Void in // 3 let defaultText = &quot;Just checking in at &quot; + self.restaurantNames[indexPath.row] let activityController = UIActivityViewController(activityItems: [defaultText], applicationActivities: nil) self.present(activityController, animated: true, completion: nil) &#125;) // 1 let deleteAction = UITableViewRowAction(style: .default, title: &quot;Delete&quot;, handler: &#123; (action, indexPath) -&gt; Void in self.restaurantNames.remove(at: indexPath.row) self.restaurantLocations.remove(at: indexPath.row) self.restaurantTypes.remove(at: indexPath.row) self.restaurantIsVisited.remove(at: indexPath.row) self.restaurantImages.remove(at: indexPath.row) &#125;) // 2 return [deleteAction, shareAction] &#125; 1 UITableViewRowActionçš„ç”¨æ³•å’ŒUIAlertActionç±»ä¼¼ã€‚styleç›¸åŒï¼Œå…·ä½“åŠŸèƒ½æ˜¯åœ¨å›è°ƒé—­åŒ…ä¸­å®ç°çš„ã€‚ UIActivityViewControllerç»§æ‰¿æ˜¯UIViewControllerï¼Œæä¾›ä¸€äº›æœåŠ¡ï¼Œä¾‹å¦‚æ‹·è´åˆ°å‰ªè´´æ¿ï¼Œåˆ†äº«å†…å®¹åˆ°ç¤¾äº¤åª’ä½“ï¼Œé€šè¿‡Messageså‘é€é¡¹ç›®ç­‰ã€‚ ä¸€æ—¦å®ç°äº†tableView(_:editActionsForRowAt:)æ–¹æ³•ï¼ŒtableView(_:commit:forRowAt:)æ–¹æ³•äº§ç”ŸdeleteæŒ‰é’®å°†ä¸å†äº§ç”Ÿï¼Œæ‰€ä»¥è¦åœ¨tableView(_:commit:forRowAt:)ä¸­æ·»åŠ deleteæŒ‰é’®ã€‚ 2 è¿”å›çš„UITableViewRowActionçš„æ•°ç»„ï¼Œactionçš„æ˜¾ç¤ºé¡ºåºæ˜¯ï¼ŒæŒ‰ç…§æ•°ç»„çš„é¡ºåºåœ¨å±å¹•ä»æœ‰åˆ°å·¦æ˜¾ç¤ºã€‚ 3 defaultTextæ˜¯åˆ†äº«çš„å†…å®¹ï¼Œä¸ä»…å¯ä»¥æ˜¯æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å›¾ç‰‡å¯¹è±¡UIImageã€‚æ­¤å¤„ä»£ç ä¿®æ”¹ä¸€ä¸‹ï¼š12345let defaultText = &quot;Just checking in at &quot; + self.restaurantNames[indexPath.row]if let imageToShare = UIImage(named: self.restaurantImages[indexPath.row]) &#123; let activityController = UIActivityViewController(activityItems: [defaultText, imageToShare], applicationActivities: nil) self.present(activityController, animated: true, completion: nil)&#125; å®šåˆ¶UITableViewRowActionå¯ä»¥ä¿®æ”¹èƒŒæ™¯é¢œè‰²ï¼š1234shareAction.backgroundColor = UIColor(red: 48.0/255.0, green: 173.0/255.0, blue: 99.0/255.0, alpha: 1.0) deleteAction.backgroundColor = UIColor(red: 202.0/255.0, green: 202.0/255.0, blue: 203.0/255.0, alpha: 1.0) ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 8 Table Viewå’ŒUIAlertControllerçš„äº¤äº’]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-8.html</url>
    <content type="text"><![CDATA[ç»§ç»­ä¸Šä¸€éƒ¨åˆ†å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 7 å®šåˆ¶Table Viewsé¡¹ç›®FoodPinçš„ä»£ç ï¼Œæ·»åŠ ä¸¤ä¸ªåŠŸèƒ½ï¼š ç‚¹å‡»cellæ—¶ï¼Œäº§ç”Ÿå¼¹æ¡†ï¼Œå¼¹æ¡†ä¸­æœ‰ä¸¤ä¸ªåŠŸèƒ½é€‰é¡¹ Call å’Œ Check-in å½“ç‚¹å‡»Check-iné€‰é¡¹æ—¶ï¼Œä¸ºcellåŠ ä¸Šå¯¹å· ç†è§£UITableViewDelegateåè®®ä»£ç†æ¨¡å¼åœ¨iOSç¼–ç¨‹ä¸­éå¸¸å¸¸è§çš„ã€‚æ¯ä¸ªä»£ç†è´Ÿè´£ç‰¹å®šçš„è§’è‰²æˆ–ä»»åŠ¡ï¼Œç»´æŒç³»ç»Ÿçš„ç®€å•å’Œå¹²å‡€ã€‚å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦å®Œæˆç‰¹å®šä»»åŠ¡æ—¶ï¼Œå¯ä»¥ä¾é å¦ä¸€ä¸ªå¯¹è±¡å®Œæˆã€‚è¿™åœ¨è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­é€šå¸¸å«åšâ€œseparation of concernsâ€ã€‚UITableViewControllerå°±åº”ç”¨äº†ä»£ç†æ¨¡å¼ã€‚ä¸¤ä¸ªåè®®å®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚UITableViewDataSourceåè®®è´Ÿè´£æä¾›å’Œç®¡ç†tableçš„æ•°æ®ã€‚UITableViewDelegateåè®®è´Ÿè´£è®¾ç½®tableçš„section headings å’Œ footersï¼Œä»¥åŠæ“ä½œcell selectionså’Œcell recordingã€‚ é˜…è¯»æ–‡æ¡£ æ€ä¹ˆçŸ¥é“UITableViewDelegateä¸­æœ‰é‚£äº›æ–¹æ³•å‘¢ï¼Ÿ é˜…è¯»Appleçš„å®˜æ–¹iOSå¼€å‘æ–‡æ¡£(https://developer.apple.com/library/ios/))ã€‚ä½œä¸ºiOSå¼€å‘è€…ï¼Œéœ€è¦ç»å¸¸é˜…è¯»API æ–‡æ¡£ã€‚ç›®å‰æ²¡æœ‰å•ä¸ªçš„ä¹¦ç±å¯è¦†ç›–æ‰€æœ‰iOS SDKã€‚ Xcodeä¸­æä¾›æ–¹ä¾¿çš„æŸ¥çœ‹æ–‡æ¡£çš„æ–¹æ³•ï¼Œåœ¨ç›¸å…³ä»£ç å¤„option+ç‚¹å‡»ï¼Œå‡ºç°å¼¹æ¡†å±•ç¤ºæ–‡æ¡£ç®€ä»‹ï¼Œå†åœ¨å¼¹æ¡†ä¸Šç‚¹å‡»ç›¸å…³ä»£ç å°±ç›´æ¥è¿›å…¥è¯¦ç»†æ–‡æ¡£å¤„ã€‚æ–‡æ¡£å¯¹ä¸åŒæ–¹æ³•è¿›è¡Œäº†åˆ†ç±»ï¼Œæ¯”å¦‚UITableViewDelegateçš„æ–‡æ¡£å°±æœ‰ä¸Šé¢æåˆ°çš„Managing Selectionsï¼š12func tableView(UITableView, willSelectRowAt: IndexPath)func tableView(UITableView, didSelectRowAt: IndexPath) å®ç°åè®®ä¸­ç®¡ç†åˆ—é€‰é¡¹æ–¹æ³• åœ¨RestaurantTableViewControllerç±»ä¸­å®ç°tableView(_:didSelectRowAt:)æ–¹æ³•ï¼š 123456789101112override func tableView(_ tableView: UITableView, didSelectRowAt indexPath:IndexPath) &#123; // 1 let optionMenu = UIAlertController(title: nil, message: &quot;What do you wantto do?&quot;, preferredStyle: .actionSheet) // 2 let cancelAction = UIAlertAction(title: &quot;Cancel&quot;, style: .cancel, handler:nil) optionMenu.addAction(cancelAction) // 3 present(optionMenu, animated: true, completion: nil)&#125; 1 åˆ›å»ºäº†UIAlertControllerã€‚UIAlertControlleræ˜¯ä»iOS8è¢«å¼•å…¥ï¼Œç”¨æ¥æ›¿ä»£ä»¥å‰çš„UIAlertViewå’ŒUIActionSheetï¼Œå‘ç”¨æˆ·å¼¹å‡ºè­¦ç¤ºä¿¡æ¯ï¼›preferredStyleå‚æ•°æœ‰ä¸¤ä¸ªå€¼ï¼š.actionSheet å’Œ .alertï¼Œè¡¨ç¤ºæ›¿ä»£çš„ä¸¤ç§æ ·å¼ã€‚ 2 åˆ›å»ºä¸€ä¸ªcancelæ ·å¼çš„UIAlertActionã€‚UIAlertControllerçš„è­¦ç¤ºå¼¹å‡ºæ¡†ä¸€èˆ¬æ˜¯ç”±æœ€ä¸Šé¢çš„title+messageï¼ˆéƒ½ä¸æ˜¯éå¿…é¡»çš„ï¼‰å’Œä¸€äº›Actionç»„æˆï¼Œcancel actionåœ¨æœ€ä¸‹é¢ã€‚ 3 presentæ˜¯UIViewControllerä¸­çš„æ–¹æ³•ï¼Œç”¨äºå±•ç¤ºã€‚ æ·»åŠ Actionsåˆ°ALert Controllerä¸­ Call action1234567891011let callActionHandler = &#123; (action:UIAlertAction!) -&gt; Void in let alertMessage = UIAlertController(title: &quot;Service Unavailable&quot;, message:&quot;Sorry, the call feature is not available yet. Please retry later.&quot;,preferredStyle: .alert) alertMessage.addAction(UIAlertAction(title: &quot;OK&quot;, style: .default, handler:nil)) self.present(alertMessage, animated: true, completion: nil)&#125;let callAction = UIAlertAction(title: &quot;Call &quot; + &quot;123-000-\(indexPath.row)&quot;,style: .default, handler: callActionHandler)optionMenu.addAction(callAction) callActionHandleræ˜¯swifté—­åŒ…ç»“æ„çš„ä¸€ç§å†™æ³•ï¼Œå…³äºé—­åŒ…å¯æŸ¥çœ‹ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-7ï¼šClosureã€‚è¿™ä¸ªä»£ç å—åœ¨Call actionè¢«ç‚¹å‡»æ˜¯æ‰§è¡Œã€‚ Check-in action12345678// Check-in actionlet checkInAction = UIAlertAction(title: &quot;Check in&quot;, style: .default, handler:&#123; (action:UIAlertAction!) -&gt; Void in let cell = tableView.cellForRow(at: indexPath) cell?.accessoryType = .checkmark&#125;)optionMenu.addAction(checkInAction) å½“ç”¨æˆ·ç‚¹å‡»â€œCheck inâ€actionæ—¶ï¼Œä¸ºé€‰ä¸­çš„cellå¢åŠ ä¸€ä¸ªå¯¹å·ï¼Œè¡¨æ˜æ˜¯ç”¨æˆ·å–œæ¬¢çš„ã€‚accessoryTypeåŒ…æ‹¬disclosureIndicator, detailDisclosureButton, checkmark å’Œ detailButtonã€‚å½“cellè¢«é€‰ä¸­åï¼Œè¿™ä¸ªcellä¼šä¸€ç›´ç°è‰²é«˜äº®ã€‚å»æ‰ï¼štableView.deselectRow(at: indexPath, animated: false) è§£å†³Bugç°åœ¨åº”ç”¨è¿è¡Œåï¼Œcheck-inæŸä¸€cellæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å…¶ä»–cellåŒæ—¶ä¹Ÿè¢«check-inã€‚è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºcellé‡å¤ä½¿ç”¨å¯¼è‡´çš„ã€‚å½“ä¸€ä¸ªå±å¹•æ»šåŠ¨æ—¶ï¼Œæ–°è¿›çš„cellå°±ä¼šåˆ©ç”¨æ»šå‡ºçš„å¾—cellï¼Œä»¥æé«˜æ•ˆç‡ã€‚è§£å†³æ–¹æ³•ï¼šä¸ºæ¯ä¸ªcellåˆ›é€ ä¸€ä¸ªæ˜¯å¦è¢«check-inçš„æ ‡å¿—ã€‚ åœ¨RestaurantTableViewControllerä¸­åˆ›å»ºä¸€ä¸ªBooleanç±»å‹çš„æ•°ç»„ï¼švar restaurantIsVisited = Array(repeating: false, count: 21) check-inåå°±æŠŠå¯¹åº”çš„æ ‡å¿—ä¿®æ”¹ä¸ºtrueï¼š 1234567let checkInAction = UIAlertAction(title: &quot;Check in&quot;, style: .default, handler:&#123; (action:UIAlertAction!) -&gt; Void in let cell = tableView.cellForRow(at: indexPath) cell?.accessoryType = .checkmark self.restaurantIsVisited[indexPath.row] = true&#125; åœ¨æ¯ä¸€æ¬¡ç”Ÿæˆcellæ˜¯ä¹Ÿè¦æ£€æŸ¥æ˜¯å¦check-inï¼Œåœ¨tableView(_:cellForRowAt:)æ”¾çš„return cellä¹‹å‰åŠ å…¥ï¼šcell.accessoryType = restaurantIsVisited[indexPath.row] ? .checkmark : .none ç»ƒä¹ å½“é€‰ä¸­ä¹Ÿè¢«check-inçš„cellæ—¶ï¼Œcheck-in Actionçš„æ–‡æœ¬å˜æˆUndo Check inï¼Œç‚¹å‡»åå–æ¶ˆå…¶å¯¹å·ã€‚ä¿®ä¸€ä¸‹check-inä»£ç ï¼š123456789101112131415161718let cell = tableView.cellForRow(at: indexPath)if cell?.accessoryType == .checkmark &#123; let checkInAction = UIAlertAction(title: &quot;Undo Check in&quot;, style: .default, handler: &#123; (action:UIAlertAction!) -&gt; Void in cell?.accessoryType = .none self.restaurantIsVisited[indexPath.row] = false &#125;) optionMenu.addAction(checkInAction)&#125; else &#123; let checkInAction = UIAlertAction(title: &quot;Check in&quot;, style: .default, handler: &#123; (action:UIAlertAction!) -&gt; Void in cell?.accessoryType = .checkmark self.restaurantIsVisited[indexPath.row] = true &#125;) optionMenu.addAction(checkInAction)&#125; ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-20ï¼šåµŒå¥—ç±»å‹(Nested Types)]]></title>
    <url>%2F2017%2Fswift-20-nested-types.html</url>
    <content type="text"><![CDATA[1 ğŸŒ°1234567891011121314151617181920212223242526272829303132333435363738struct BlackjackCard &#123; // äºŒåä¸€ç‚¹ // nested Suit enumeration enum Suit: Character &#123; // æè¿°æ‰‘å…‹ç‰Œçš„å››ç§èŠ±è‰² case spades = "â™ ", hearts = "â™¡", diamonds = "â™¢", clubs = "â™£" &#125; // nested Rank enumeration enum Rank: Int &#123; case two = 2, three, four, five, six, seven, eight, nine, ten case jack, queen, king, ace struct Values &#123; // ç”¨æ¥åæ˜ Aceçš„ä¸¤ä¸ªæ•°å€¼() let first: Int, second: Int? &#125; var values: Values &#123; switch self &#123; case .ace: return Values(first: 1, second: 11) case .jack, .queen, .king: return Values(first: 10, second: nil) default: return Values(first: self.rawValue, second: nil) &#125; &#125; &#125; // BlackjackCard properties and methods let rank: Rank, suit: Suit var description: String &#123; var output = "suit is \(suit.rawValue)," output += " value is \(rank.values.first)" if let second = rank.values.second &#123; output += " or \(second)" &#125; return output &#125;&#125;let theAceOfSpades = BlackjackCard(rank: .ace, suit: .spades)print("theAceOfSpades: \(theAceOfSpades.description)") 2 å¼•ç”¨åµŒå¥—ç±»å‹let heartsSymbol = BlackjackCard.Suit.hearts.rawValue playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 7 å®šåˆ¶Table Views]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-7.html</url>
    <content type="text"><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 6 åˆ›å»ºç®€å•çš„Table Based Appæ˜¯basicé£æ ¼çš„Tableï¼Œè¿™ä¸€éƒ¨åˆ†å°†ï¼š ä½¿ç”¨UITableViewController ä»£æ›¿ UITableView å±•ç¤ºtable view cellä¸­ä¸åŒçš„å›¾ç‰‡æ˜¾ç¤ºæ–¹å¼ è®¾è®¡å®šåˆ¶çš„table view cellæ¥æ›¿ä»£basicçš„table view cell ä½¿ç”¨UITableViewControlleræ–°å»ºä¸€ä¸ªTable View App æ–°å»ºé¡¹ç›®FoodPinï¼Œæ¨¡æ¿ä¸ºâ€Single View applicationâ€ åˆ é™¤Main.storyboardä¸­çš„ view controllerï¼Œåˆ é™¤ViewController.swift æ‹–åŠ¨ä¸€ä¸ªTable View Controlleråˆ°IBä¸­ï¼Œé€‰ä¸­å…¶Is Initial View Controller æ–°å»ºç±»RestaurantTableViewControllerï¼Œç»§æ‰¿è‡³UITableViewControllerã€‚å°†Table View Controllerçš„Classå±æ€§è®¾ç½®ä¸ºRestaurantTableViewControllerã€‚ åœ¨simpletable-image1.zipå’Œsimpletable-image2.zipå¤„ä¸‹è½½å›¾ç‰‡ï¼Œæ‹–åˆ°asset catalog åœ¨ç±»RestaurantTableViewControllerä¸­æ·»åŠ ä»¥å˜é‡ 1var restaurantNames = [&quot;Cafe Deadend&quot;, &quot;Homei&quot;, &quot;Teakha&quot;, &quot;Cafe Loisl&quot;, &quot;PetiteOyster&quot;, &quot;For Kee Restaurant&quot;, &quot;Po&apos;s Atelier&quot;, &quot;Bourke Street Bakery&quot;, &quot;Haigh&apos;sChocolate&quot;, &quot;Palomino Espresso&quot;, &quot;Upstate&quot;, &quot;Traif&quot;, &quot;Graham Avenue Meats&quot;,&quot;Waffle &amp; Wolf&quot;, &quot;Five Leaves&quot;, &quot;Cafe Lore&quot;, &quot;Confessional&quot;, &quot;Barrafina&quot;,&quot;Donostia&quot;, &quot;Royal Oak&quot;, &quot;CASK Pub and Kitchen&quot;] åœ¨ç±»RestaurantTableViewControllerä¸­æ·»åŠ ä»£ç ï¼š 123456789override func tableView(_ tableView: UITableView, cellForRowAt indexPath:IndexPath) -&gt; UITableViewCell &#123; let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier,for: indexPath) // Configure the cell... cell.textLabel?.text = restaurantNames[indexPath.row] cell.imageView?.image = UIImage(named: &quot;restaurant.jpg&quot;)return cell &#125; æ’å…¥ä»£ç  123456789101112131415161718 override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) // Configure the cell... cell.textLabel?.text = restaurantNames[indexPath.row] cell.imageView?.image = UIImage(named: &quot;restaurant.jpg&quot;) return cell &#125; override func numberOfSections(in tableView: UITableView) -&gt; Int &#123; return 1 &#125; override func tableView(_ tableView: UITableView, numberOfRowsInSectionsection: Int) -&gt; Int &#123; return restaurantNames.count &#125; åœ¨ç±»RestaurantTableViewControllerä¸­åŠ å…¥å›¾ç‰‡åç§°å˜é‡ï¼š 123456var restaurantImages = [&quot;cafedeadend.jpg&quot;, &quot;homei.jpg&quot;, &quot;teakha.jpg&quot;,&quot;cafeloisl.jpg&quot;, &quot;petiteoyster.jpg&quot;, &quot;forkeerestaurant.jpg&quot;, &quot;posatelier.jpg&quot;,&quot;bourkestreetbakery.jpg&quot;, &quot;haighschocolate.jpg&quot;, &quot;palominoespresso.jpg&quot;,&quot;upstate.jpg&quot;, &quot;traif.jpg&quot;, &quot;grahamavenuemeats.jpg&quot;, &quot;wafflewolf.jpg&quot;,&quot;fiveleaves.jpg&quot;, &quot;cafelore.jpg&quot;, &quot;confessional.jpg&quot;, &quot;barrafina.jpg&quot;,&quot;donostia.jpg&quot;, &quot;royaloak.jpg&quot;, &quot;caskpubkitchen.jpg&quot;] å¹¶ä¿®æ”¹å¯¹åº”ä»£ç ï¼šcell.imageView?.image = UIImage(named: restaurantImages[indexPath.row]) å®šåˆ¶Table View Cells ä¿®æ”¹Table View Cellçš„Sytleå˜ä¸ºCustomï¼ŒIdentifierä¸ºCell ä¿®æ”¹Table View çš„Row Heightä¸º80 ç¡®è®¤Table View Cell çš„Customè¢«é€‰æ‹©å’ŒRow Heightä¸º80 æ‹–åŠ¨image viewåˆ°Cellä¸­ æ‹–åŠ¨ä¸‰ä¸ªlabelåˆ°Cellä¸­ï¼Œæ–‡æœ¬åˆ†åˆ«æ˜¯Nameï¼ŒLocationï¼ŒTypeã€‚Name çš„fontä¸ºHeadlineï¼›Locationçš„font styleä¸ºLightï¼Œfont sizeä¸º14ï¼Œfont colorä¸ºDark Grayï¼›Type**font styleä¸ºLightï¼Œfont size**ä¸º13ã€‚ æŠŠä¸‰ä¸ªlabelè®¾ç½®æˆä¸€ä¸ªvertical stack viewï¼Œå…¶spacingä¸º1 æŠŠvertical stack viewå’ŒImage Viewè®¾ç½®æˆä¸€ä¸ªhorizontal stack viewï¼Œå…¶spacingä¸º10 ä¸ºvertical stack viewè®¾ç½®ä¸Šä¸‹å·¦å³è¾¹è·çº¦æŸï¼›ä¸ºå›¾ç‰‡è®¾ç½®å®½å’Œé«˜çš„çº¦æŸ å¤„ç†çº¦æŸé—®é¢˜ ä¸ºCustom Cellåˆ›å»ºç±» åˆ›å»ºç»§æ‰¿è‡³UITableViewCellçš„ç±»RestaurantTableViewCell åœ¨RestaurantTableViewCellä¸­å»ºç«‹å››ä¸ªoutletï¼Œåˆ†åˆ«å¯¹åº”å›¾ç‰‡å’Œä¸‰ä¸ªlabel 1234@IBOutlet var nameLabel: UILabel!@IBOutlet var locationLabel: UILabel!@IBOutlet var typeLabel: UILabel!@IBOutlet var thumbnailImageView: UIImageView! å»ºç«‹ä»£ç ä¸­æ¥å£ä¸storyboardä¹‹é—´çš„è”ç³» ä¿®æ”¹Table View Controllerä»£ç  ç”±äºå·²ç»ä¸ºCustom Cellåˆ›å»ºäº†ç±»RestaurantTableViewCellï¼Œæ‰€ä»¥Table View Controllerä¸­ç”ŸæˆCellçš„å¾…ä¿®æ”¹ä¸ºï¼š 12let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) as! RestaurantTableViewCell ç”±äºCellçš„é£æ ¼ä¸æ˜¯sytleäº†ï¼Œè€Œæ˜¯å®šåˆ¶çš„ï¼Œæ‰€ä»¥æ–‡æœ¬å’Œå›¾ç‰‡ä»£ç è¦åšå‡ºä¿®æ”¹ï¼š 12cell.nameLabel.text = restaurantNames[indexPath.row]cell.thumbnailImageView.image = UIImage(named: restaurantImages[indexPath.row]) å›¾ç‰‡åœ†è§’ å¯é€šè¿‡UIViewçš„layerå±æ€§ï¼ˆCALayerï¼‰ä¿®æ”¹å›¾ç‰‡åœ†è„šï¼ŒcornerRadiusè¡¨ç¤ºåœ†è§’çš„åŠå¾„ï¼Œç”±äºå›¾ç‰‡çš„å°ºå¯¸æ˜¯60*60ï¼Œæ‰€ä»¥åœ†è§’çš„åŠå¾„è®¾ç½®ä¸º30åï¼Œå›¾ç‰‡çœ‹ä¸Šå»æ˜¯ä¸ªåœ†ã€‚12cell.thumbnailImageView.layer.cornerRadius = 30.0cell.thumbnailImageView.clipsToBounds = true ç»ƒä¹  æ·»åŠ â€œTypeâ€å’Œâ€œLocationâ€ã€‚æ·»åŠ å¦‚ä¸‹ä¸¤ä¸ªæ•°ç»„å˜é‡ï¼š1234var restaurantLocations = [&quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Hong Kong&quot;, &quot;Sydney&quot;, &quot;Sydney&quot;, &quot;Sydney&quot;, &quot;NewYork&quot;, &quot;New York&quot;, &quot;New York&quot;, &quot;New York&quot;, &quot;New York&quot;, &quot;New York&quot;, &quot;New York&quot;, &quot;London&quot;, &quot;London&quot;, &quot;London&quot;, &quot;London&quot;] var restaurantTypes = [&quot;Coffee &amp; Tea Shop&quot;, &quot;Cafe&quot;, &quot;Tea House&quot;, &quot;Austrian Causual Drink&quot;, &quot;French&quot;, &quot;Bakery&quot;, &quot;Bakery&quot;, &quot;Chocolate&quot;, &quot;Cafe&quot;, &quot;American Seafood&quot;, &quot;American&quot;, &quot;American&quot;, &quot;Breakfast &amp; Brunch&quot;, &quot;Coffee &amp; Tea&quot;, &quot;Coffee &amp; Tea&quot;, &quot;Latin American&quot;, &quot;Spanish&quot;, &quot;Spanish&quot;, &quot;Spanish&quot;, &quot;British&quot;, &quot;Thai&quot;] ç„¶åå†åœ¨Cellæ—¶èµ‹å€¼å³å¯ï¼š12cell.locationLabel.text = restaurantLocations[indexPath.row] cell.typeLabel.text = restaurantTypes[indexPath.row] é‡æ–°è®¾è®¡ç•Œé¢ï¼š ä¿®æ”¹Table Viewå’ŒTable View Cellçš„Row Heightéƒ½ä¸º300ã€‚ é‡æ–°è®¾è®¡å›¾ç‰‡ä¸labelçš„ä¹‹é—´çš„å±‚æ¬¡ç»“æ„ï¼Œå¹¶ä¿®æ”¹å›¾ç‰‡çš„å¤§å°å’Œå…¶ä»–ä¸€äº›çº¦æŸã€‚ åˆ é™¤å›¾ç‰‡åœ†è§’ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-19ï¼šç±»å‹è½¬æ¢(Type Casting)]]></title>
    <url>%2F2017%2Fswift-19-type-casting.html</url>
    <content type="text"><![CDATA[1 å®šä¹‰ä¸€ä¸ªç±»å±‚æ¬¡ä½œä¸ºä¾‹å­12345678910111213141516171819202122232425262728293031class MediaItem &#123; var name: String init(name: String) &#123; self.name = name &#125;&#125;class Movie: MediaItem &#123; var director: String init(name: String, director: String) &#123; self.director = director super.init(name: name) &#125;&#125;class Song: MediaItem &#123; var artist: String init(name: String, artist: String) &#123; self.artist = artist super.init(name: name) &#125;&#125;let library = [ Movie(name: "Casablanca", director: "Michael Curtiz"), Song(name: "Blue Suede Shoes", artist: "Elvis Presley"), Movie(name: "Citizen Kane", director: "Orson Welles"), Song(name: "The One And Only", artist: "Chesney Hawkes"), Song(name: "Never Gonna Give You Up", artist: "Rick Astley")]// æ•°ç»„ library çš„ç±»å‹è¢«æ¨æ–­ä¸º [MediaItem]for v in library &#123; // v åœ¨æ­¤å¤„æ˜¯ MediaItem ç±»å‹ print(v.name)&#125; 2 æ£€æŸ¥ç±»å‹(Checking Type) is123456789var movieCount = 0var songCount = 0for item in library &#123; if (item is Movie) &#123; movieCount += 1 &#125; else if (item is Song) &#123; songCount += 1 &#125;&#125; 3 å‘ä¸‹è½¬å‹(Downcasting) as? as!æ¡ä»¶å½¢å¼(conditional form) as? è¿”å›ä¸€ä¸ªä½ è¯•å›¾å‘ä¸‹è½¬æˆçš„ç±»å‹çš„å¯é€‰å€¼(optional value) å¼ºåˆ¶å½¢å¼ as! æŠŠè¯•å›¾å‘ä¸‹è½¬å‹å’Œå¼ºåˆ¶è§£åŒ…(force-unwraps)è½¬æ¢ç»“æœç»“åˆä¸ºä¸€ä¸ªæ“ä½œã€‚ 1234567for item in library &#123; if let movie = item as? Movie &#123; print("Movie: '\(movie.name)', dir. \(movie.director)") &#125; else if let song = item as? Song &#123; print("Song: '\(song.name)', by \(song.artist)") &#125;&#125; 4 Anyå’ŒAnyObjectçš„ç±»å‹è½¬æ¢AnyObjectå¯ä»¥è¡¨ç¤ºä»»ä½•ç±»ç±»å‹çš„å®ä¾‹ Anyå¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬å‡½æ•°ç±»å‹ playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Xcodeä¸­Sceneé‡Œçš„åç§°]]></title>
    <url>%2F2017%2Fxcode-scene-name.html</url>
    <content type="text"><![CDATA[é»˜è®¤çš„Sceneåç§° Xcodeä¸­æ–°å»ºä¸€ä¸ªæ§åˆ¶å™¨å¯¹è±¡åä¼šäº§ç”Ÿä¸€ä¸ªSceneï¼Œè€ŒSceneçš„åç§°å°±ä¸å…¶å…³è”çš„æ§åˆ¶å™¨åç§°ç›¸å…³ï¼Œæ¯”å¦‚é»˜è®¤çš„View Controllerçš„å¯¹è±¡çš„Sceneçš„åç§°å°±æ˜¯View Controller Sceneã€‚ å¦‚æœæŠŠæ§åˆ¶å™¨æ”¹æˆSFSafariViewControllerï¼Œé‚£ä¹ˆSceneçš„åå­—å°±ä¼šå˜æˆSafari View Sceneã€‚ å¦‚æœæŠŠæ§åˆ¶å™¨æ”¹æˆè‡ªå»ºçš„ï¼ŒSceneåå­—ä¹Ÿä¼šéšç€å˜åŒ–ï¼Œæ¯”å¦‚ASAndyViewControllerå¯¹åº”çš„Sceneåå­—æ˜¯ Andy View Scene æ€»çš„æ¥è¯´ï¼Œappleåœ¨ç¨‹åºä¸­ä»£ç å‘½åè§„èŒƒï¼Œä¸€èˆ¬æ˜¯å‰é¢è¿ç»­å¤§å†™çš„æ˜¯æ¡†æ¶åç§°ï¼Œç„¶ååé¢ä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚è¦æ˜¾ç¤ºæ—¶å°±æŠŠæ¡†æ¶å‰ç¼€å»æ‰ï¼Œç„¶åæ ¹æ®é©¼å³°å‘½åè§„åˆ™åˆ†éš”æ˜¾ç¤ºã€‚ è‡ªå®šä¹‰Sceneçš„åç§°Sceneçš„åç§°ä¹Ÿæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œåœ¨å…¶å±æ€§æ£€æŸ¥å™¨ä¸­ï¼Œä¿®æ”¹titleå³å¯ï¼Œå½“ç„¶è¿™ç§ä¿®æ”¹åªæ˜¯åœç•™åœ¨IBä¸­ï¼Œä¸ºäº†å¼€å‘æ—¶ä¾¿äºæŸ¥çœ‹ï¼Œä¸å½±å“ä»£ç ä¸­çš„åç§°ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS tutorial 1ï¼š è¯†åˆ«äºŒç»´ç ï¼ˆswift3ï¼‰]]></title>
    <url>%2F2017%2Fios-tutorial-1-arcode.html</url>
    <content type="text"><![CDATA[è¿™æ˜¯ä¸€ç¯‡ä½¿ç”¨AVFoundationæ¡†æ¶è¯†åˆ«äºŒç»´ç çš„æ–‡ç« ï¼ŒåŸæ–‡æä¾›äº†åˆå§‹åŒ–é¡¹ç›®QRCodeReaderStarterï¼Œæˆ‘é‡æ–°å»ºç«‹é¡¹ç›®ï¼Œå›¾ç‰‡æ˜¯ä»åŸæ–‡æä¾›çš„åˆå§‹åŒ–é¡¹ç›®ä¸­copyçš„ã€‚ åˆå§‹åŒ–é¡¹ç›® æ–°å»ºä¸€ä¸ªåä¸ºQRCodeReaderçš„å•é¡µé¡¹ç›® åˆ é™¤ViewController.swiftæ–‡ä»¶ï¼Œåœ¨é¡¹ç›®ç›®å½•å¤„å³å‡»æ–°å»ºæ–‡ä»¶ï¼Œæ–°å»ºä¸€ä¸ªQRCodeViewControllerç±»ç»§æ‰¿è‡ªUIViewControllerã€‚ ç‚¹å‡»Main.storyboardï¼Œé€‰ä¸­View Controllerï¼Œä¿®æ”¹å…¶å±æ€§Classä¸ºQRCodeViewControllerï¼Œä½¿ä¸¤è€…å…³è”ã€‚ å‘Main.storyboardä¸­æ‹–åŠ¨ä¸€ä¸ªView Controllerå¯¹è±¡ï¼Œä»¥1çš„æ–¹æ³•æ–°å»ºä¸€ä¸ªç»§æ‰¿è‡ªUIViewControllerçš„ç±»QRScannerControllerï¼Œç„¶åä¸Main.storyboardä¸­æ–°å»ºçš„View Controllerå…³è”ã€‚ ä¸‹è½½å›¾ç‰‡ã€‚ä»åŸæ–‡çš„åˆå§‹åŒ–é¡¹ç›®QRCodeReaderStarterå¤åˆ¶ã€‚ ä¿®æ”¹Code View Controller Sceneçš„viewèƒŒæ™¯é¢œè‰²åšä¿®æ”¹ï¼›æ·»åŠ ä¸€ä¸ªlabelï¼Œåç§°æ”¹ä¸ºQuick Scanï¼Œå­—ä½“ï¼Œå’Œå­—ä½“å¤§å°ä¹Ÿåšä¿®æ”¹ï¼›æ·»åŠ buttonï¼Œåˆ é™¤æ–‡æœ¬ï¼Œå¤§å°ä¸º150*150ï¼ŒTypeä¸ºSystemï¼Œimageä¸ºfocusï¼ŒTintä¸ºé»„è‰²ï¼›æ·»åŠ ä¸€äº›çº¦æŸã€‚ Scanner Controller Sceneï¼š åœ¨é¡¶éƒ¨æ·»åŠ ä¸€ä¸ªViewï¼Œåœ¨è¿™ä¸ªViewä¸­æ·»åŠ ä»¥labelå’Œbuttonï¼Œbuttonçš„imageä¸ºcrossï¼›åœ¨é¡¶éƒ¨æ·»åŠ ä¸€ä¸ªlabelï¼›æ·»åŠ ä¸€äº›çº¦æŸã€‚ æ„å»º segue ç”¨control-dragä»Code View Controller Sceneä¸­çš„buttonåˆ°Scanner Controller Sceneï¼Œé€‰æ‹©Present Modally åœ¨QRCodeViewControllerä¸­æ·»åŠ ä»£ç ï¼š 1234@IBAction func unwindToHomeScreen(segue: UIStoryboardSegue) &#123; //å»é™¤æ¨¡æ€è§†å›¾ dismiss(animated: true, completion: nil) &#125; åœ¨Scanner Controller Scene ä¸­ï¼Œç”¨control-dragä»buttonåˆ°Exitï¼Œé€‰æ‹©unwindToHomeScreenWithSegue: 6å’Œ7ä¸­æ ·å¼å’Œçº¦æŸï¼Œåˆé€‚å³å¯ã€‚ åŠ è½½ AVFoundation æ¡†æ¶ åœ¨QRScannerController.swiftæ–‡ä»¶ä¸­å¼•å…¥AVFoundation Frameworkï¼šimport AVFoundation QRScannerControllerå®ç°AVCaptureMetadataOutputObjectsDelegateåè®®ï¼šclass QRScannerController: UIViewController, AVCaptureMetadataOutputObjectsDelegate {è¡¨ç¤ºå½“æ•è·çš„å…ƒæ•°æ®äº§ç”Ÿæ—¶ï¼Œéœ€è¦ä¸€äº›å›è°ƒæ–¹æ³•ã€‚ QRScannerControllerä¸­æ·»åŠ ä¸‰ä¸ªå˜é‡ï¼š123var captureSession: AVCaptureSession?var videoPreviewLayer: AVCaptureVideoPreviewLayer?var qrCodeFrameView: UIView? å®ç°è§†é¢‘æ•è· åœ¨QRScannerControllerçš„viewDidLoadä¸­æ·»åŠ ä»£ç ï¼š 123456789101112131415161718192021222324252627// 1let captureDevice = AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo)do &#123; // 2 let input = try AVCaptureDeviceInput(device: captureDevice) // 3 captureSession = AVCaptureSession() // 4 captureSession?.addInput(input) // 5 let captureMetadataOutput = AVCaptureMetadataOutput() captureSession?.addOutput(captureMetadataOutput) // 6 captureMetadataOutput.setMetadataObjectsDelegate(self, queue: DispatchQueue.main) captureMetadataOutput.metadataObjectTypes = [AVMetadataObjectTypeQRCode] videoPreviewLayer = AVCaptureVideoPreviewLayer(session: captureSession) videoPreviewLayer?.videoGravity = AVLayerVideoGravityResizeAspectFill videoPreviewLayer?.frame = view.layer.bounds view.layer.addSublayer(videoPreviewLayer!) captureSession?.startRunning()&#125; catch &#123; print(error) return&#125; 1 åˆå§‹åŒ–AVCaptureDeviceï¼Œå®ƒè¡¨ç¤ºç‰©ç†æ•è·è®¾å¤‡ï¼›AVMediaTypeVideoæ˜¯Media typesï¼Œè¡¨ç¤ºè§†é¢‘ç±»å‹ï¼Œè¿˜æœ‰AVMediaTypeAudioï¼ŒAVMediaTypeTextç­‰å…¶ä»–ç±»å‹ 2 æ ¹æ®AVCaptureDeviceåˆå§‹åŒ–æ•è·è®¾å¤‡çš„è¾“å…¥æ•°æ®å¯¹è±¡AVCaptureDeviceInputã€‚è¿™è¾¹çš„tryæ˜¯swiftä¸­é”™è¯¯å¤„ç†çš„æ ‡è¯†ï¼Œå¯¹åº”public init(device: AVCaptureDevice!) throwsã€‚ 3 AVCaptureSession ç”¨äºåè°ƒè¾“å…¥ä¸è¾“å‡ºä¹‹é—´çš„æ•°æ®æµã€‚ 4 ä¸ºAVCaptureSession æ·»åŠ è¾“å…¥æ•°æ® 5 å®šä¹‰è¾“å‡ºæ•°æ®å¯¹è±¡AVCaptureMetaDataOutputï¼Œå¹¶æŠŠå®ƒæ·»åŠ ç»™AVCaptureSession 6 è®¾ç½®selfä¸ºè¾“å‡ºæ•°æ®å¯¹è±¡çš„ä»£ç†ï¼Œè¿™å°±å¯¹åº”äº†QRScannerControllerç±»å®ç°AVCaptureMetadataOutputObjectsDelegateåè®®ã€‚metadataObjectTypesæ˜¯è¯†åˆ«çš„å…ƒæ•°æ®ç±»å‹ï¼ŒAVMetadataObjectTypeQRCodeè¡¨ç¤ºäºŒç»´ç ç±»å‹ã€‚ åœ¨Info.plistä¸­æ·»åŠ keyä¸ºNSCameraUsageDescriptionæˆ–â€Privacy â€“ Camera Usage Descriptionâ€ï¼Œå€¼ä¸º ä¸ºäº†æ‰«æäºŒç»´ç ï¼Œéœ€è¦ä½¿ç”¨ä½ çš„ç›¸æœºã€‚ è¿è¡Œåº”ç”¨æ—¶ï¼Œç‚¹å‡»scan buttonåï¼Œä½¿ç”¨äº†ç›¸æœºï¼Œä½†messageLabelå’Œtapbaræ²¡æœ‰äº†ï¼Œå› ä¸ºè¢«AVCaptureVideoPreviewLayerè¦†ç›–äº†ï¼ŒåŠ å…¥ä¸¤è¡Œä»£ç å°±å¯ä»¥æ˜¾ç¤ºäº†ï¼š12view.bringSubview(toFront: messageLabel)view.bringSubview(toFront: topbar) å®ç°äºŒç»´ç è¯»å–å½“æ£€æµ‹åˆ°äºŒç»´ç æ—¶ï¼Œç”¨ç»¿è‰²æ¡†é«˜äº®ï¼›ç„¶åäºŒç»´ç è¢«è§£ç æˆæ–‡æœ¬ä¿¡æ¯å±•ç¤ºåœ¨messagelabelä¸­ã€‚ åˆå§‹åŒ–ç»¿è‰²æ¡†ã€‚ç»§ç»­åœ¨ä¸Šè¿°ä»£ç åæ·»åŠ :12345678qrCodeFrameView = UIView() if let qrCodeFrameView = qrCodeFrameView &#123; qrCodeFrameView.layer.borderColor = UIColor.green.cgColor qrCodeFrameView.layer.borderWidth = 2 view.addSubview(qrCodeFrameView) view.bringSubview(toFront: qrCodeFrameView)&#125; ç”±äºqrCodeFrameViewæ²¡æœ‰è®¾ç½®å¤§å°ï¼Œé»˜è®¤æ˜¯0ï¼Œæ‰€ä»¥ä¸ä¼šæ˜¾ç¤ºï¼Œå½“ä¹‹åå‘ç°äºŒç»´ç æ—¶å†è®©å®ƒæ˜¾ç¤ºã€‚ è§£ç äºŒç»´ç å½“AVCaptureMetadataOutputè¯†åˆ«å‡ºäºŒç»´ç æ—¶ï¼ŒAVCaptureMetadataOutputObjectsDelegateä¸­çš„ä»£ç†æ–¹æ³•å°†è¢«è°ƒç”¨ï¼šâ€‹ optional public func captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [Any]!, from connection: AVCaptureConnection!)å›è°ƒæ–¹æ³•å®šä¹‰ï¼š func captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [Any]!, from connection: AVCaptureConnection!) { â€‹ if metadataObjects == nil || metadataObjects.count == 0 { qrCodeFrameView?.frame = CGRect.zero messageLabel.text = â€œæ²¡æœ‰äºŒç»´ç /æ¡å½¢ç â€ return } let metadataObj = metadataObjects[0] as! AVMetadataMachineReadableCodeObject if metadataObj.type == AVMetadataObjectTypeQRCode { // 1 let barCodeObject = videoPreviewLayer?.transformedMetadataObject(for: metadataObj) qrCodeFrameView?.frame = barCodeObject!.bounds if metadataObj.stringValue != nil { // 2 messageLabel.text = metadataObj.stringValue } } } ç¬¬äºŒä¸ªå‚æ•°metadataObjectsæ˜¯ä¸ªæ•°ç»„ï¼Œå°±æ˜¯æ‰€æœ‰è¢«è¯†åˆ«å‡ºæ¥çš„å…ƒæ•°æ®å¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªå‚æ•°ä¸ºnilæˆ–æ•°ç»„ä¸ºç©ºæ•°ç»„ï¼Œå°±è¡¨ç¤ºæ²¡æœ‰è¯†åˆ«å‡ºå¯¹è±¡ã€‚ 1 é€šè¿‡transformedMetadataObjectæ–¹æ³•è·å¾—AVMetadataObjectå¯¹è±¡ï¼Œæ›´åŠ è¿™ä¸ªå¯¹è±¡å¯ä»¥è·å¾—äºŒç»´ç çš„ä½ç½®ï¼Œç„¶åæ˜¾ç¤ºç»¿æ¡†ã€‚ 2 æŠŠäºŒç»´ç ä¿¡æ¯æ˜¾ç¤ºåœ¨messagelabelä¸Šã€‚ è¯†åˆ«æ¡å½¢ç é™¤äº†è¯†åˆ«äºŒç»´ç ä»¥å¤–ï¼Œè¿˜å¯ä»¥è¯†åˆ«æ¡å½¢ç ã€‚åªè¦åœ¨captureMetadataOutput.metadataObjectTypes = [AVMetadataObjectTypeQRCode]æ·»åŠ æ›´å¤šçš„å…ƒæ•°æ®ç±»å‹ã€‚ï¼Œç„¶åå›è°ƒæ–¹æ³•ä¸­ä¿®æ”¹æ£€æµ‹ç±»å‹å°±å¯ä»¥ã€‚ 123456789101112131415161718192021222324let supportedCodeTypes = [AVMetadataObjectTypeUPCECode, AVMetadataObjectTypeCode39Code, AVMetadataObjectTypeCode39Mod43Code, AVMetadataObjectTypeCode93Code, AVMetadataObjectTypeCode128Code, AVMetadataObjectTypeEAN8Code, AVMetadataObjectTypeEAN13Code, AVMetadataObjectTypeAztecCode, AVMetadataObjectTypePDF417Code, AVMetadataObjectTypeQRCode ]captureMetadataOutput.metadataObjectTypes = supportedCodeTypes// ....if supportedCodeTypes.contains(metadataObj.type) &#123; let barCodeObject = videoPreviewLayer?.transformedMetadataObject(for: metadataObj) qrCodeFrameView?.frame = barCodeObject!.bounds if metadataObj.stringValue != nil &#123; messageLabel.text = metadataObj.stringValue &#125;&#125; ä»£ç QRCodeReader]]></content>
      <categories>
        <category>iOS</category>
        <category>iOS tutorial</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSåº”ç”¨ç¨‹åºçš„çŠ¶æ€]]></title>
    <url>%2F2017%2Fios-application-status.html</url>
    <content type="text"><![CDATA[iOSåº”ç”¨ç¨‹åºä¸€å…±æœ‰äº”ç§çŠ¶æ€ï¼š Not Running ç¨‹åºè¿˜æ²¡è¿è¡Œ Inactive ç¨‹åºè¿è¡Œåœ¨foregroundä½†æ²¡æœ‰æ¥æ”¶äº‹ä»¶ Active ç¨‹åºè¿è¡Œåœ¨foregroundæ¥æ”¶äº‹ä»¶ Background ç¨‹åºè¿è¡Œåœ¨backgroundæ­£åœ¨æ‰§è¡Œä»£ç  Suspended ç¨‹åºè¿è¡Œåœ¨backgroundæ²¡æœ‰æ‰§è¡Œä»£ç  iOSåº”ç”¨ç¨‹åºçŠ¶æ€å˜åŒ–ä¼šå›è°ƒAPPDelegateä¸­çš„æ–¹æ³•ï¼Œä½†ä¸æ˜¯æ¯ä¸€ç§çŠ¶æ€å˜åŒ–éƒ½ä¼šæœ‰å¯¹åº”çš„æ–¹æ³•(ä¸Šå›¾çš„çº¢æ¡†çš„ä¸¤ä¸ªå˜åŒ–å°±æ²¡æœ‰å¯¹åº”çš„æ–¹æ³•) application:didFinishLaunchingWithOptions: Not Running -&gt; Inactive applicationDidBecomeActive: Inactive -&gt; Active applicationWillResignActive: Active -&gt; Inactive applicationDidEnterBackground: Background -&gt; Suspended applicationWillEnterForeground: Background -&gt; Inactive applicationWillTerminate: Suspended -&gt; Not Running å¸¸è§çš„åº”ç”¨çŠ¶æ€å˜åŒ–åœºæ™¯ ç¨‹åºç¬¬ä¸€æ¬¡å¯åŠ¨ï¼ˆæˆ–è€…è¢«æ€æ‰ä»¥åå¯åŠ¨ï¼‰ï¼š Not Running -&gt; Inactive -&gt; Active ç‚¹å‡»Homeé”®ï¼ˆæ²¡æœ‰åœ¨Inof.plistä¸­è®¾ç½®Application does not run in backgroundï¼‰ï¼š Active -&gt; Inactive -&gt; Background -&gt; Suspended ç‚¹å‡»Homeé”®ï¼ˆåœ¨Inof.plistä¸­è®¾ç½®Application does not run in backgroundä¸ºYESï¼Œåº”ç”¨ä¸èƒ½è¿è¡Œåœ¨åå°ï¼Œè¿›å…¥åå°åä¼šç«‹å³è¿›å…¥Not Runningï¼‰ï¼š Active -&gt; Inactive -&gt; Background -&gt; Suspended -&gt; Not Running æŒ‚èµ·é‡æ–°è¿è¡Œ Suspended -&gt; Background -&gt; Inactive -&gt; Active å†…å­˜æ¸…é™¤ï¼ˆæ€æ‰åº”ç”¨æˆ–åˆ é™¤åº”ç”¨ï¼‰ Suspended -&gt; Not Running åº”ç”¨ä¹‹é—´çš„åˆ‡æ¢ Active -&gt; Inactive Inactive -&gt; Active ç‚¹å‡»Homeé”®ï¼ˆåœ¨Inof.plistä¸­è®¾ç½®Application does not run in backgroundä¸ºYESï¼Œåº”ç”¨ä¸èƒ½è¿è¡Œåœ¨åå°ï¼Œè¿›å…¥åå°åä¼šç«‹å³è¿›å…¥Not Runningï¼‰ï¼š Active -&gt; Inactive -&gt; Background -&gt; Suspended -&gt; Not Running å¯é€šè¿‡åœ¨APPDelegateçš„å›è°ƒæ–¹æ³•ä¸­æ‰“å°æ•°æ®ï¼Œæ¥æŸ¥çœ‹åº”ç”¨çŠ¶æ€å˜åŒ– 123456789101112131415161718192021222324252627282930func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool &#123; print("`application:didFinishLaunchingWithOptions:` Not Running -&gt; Inactive") return true&#125;func applicationWillResignActive(_ application: UIApplication) &#123; print("`applicationWillResignActive:` Active -&gt; Inactive")&#125;func applicationDidEnterBackground(_ application: UIApplication) &#123; print("`applicationDidEnterBackground:` Background -&gt; Suspended")&#125;func applicationWillEnterForeground(_ application: UIApplication) &#123; print("`applicationWillEnterForeground:` Background -&gt; Inactive")&#125;func applicationDidBecomeActive(_ application: UIApplication) &#123; print("`applicationDidBecomeActive:` Inactive -&gt; Active")&#125;func applicationWillTerminate(_ application: UIApplication) &#123; print("`applicationWillTerminate:` Suspended -&gt; Not Running")&#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 6 åˆ›å»ºç®€å•çš„Table Based App]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-6.html</url>
    <content type="text"><![CDATA[table viewåº”è¯¥æ˜¯iOSåº”ç”¨ä¸­æœ€å¸¸ç”¨çš„UI elementã€‚æœ€å¥½çš„ä¾‹å­å°±æ˜¯iPhoneè‡ªå¸¦çš„ä¸€äº›åº”ç”¨ï¼Œå¦‚ç”µè¯ï¼Œé‚®ä»¶ï¼Œè®¾ç½®ç­‰ã€‚TEDï¼ŒGoogle+ï¼ŒAirbnbï¼Œå¾®ä¿¡ç­‰ç­‰éƒ½æ˜¯å¾ˆå¥½ä¾‹å­ã€‚ åˆ›å»ºä¸€ä¸ªé¡¹ç›® é¡¹ç›®åç§°ä¸ºSimpleTableï¼Œæ¨¡æ¿ä¸ºâ€Single View applicationâ€ è®¾è®¡UI é€‰ä¸­Main.storyboardï¼Œä»Object libraryä¸­æ‹–åŠ¨Table Viewè¿›å…¥è§†å›¾ æ”¹å˜Table Viewçš„å¤§å°è‡³æ•´ä¸ªviewï¼Œä¿®æ”¹å±æ€§Prototype Cellsä¸º1 é€‰ä¸­Table View Cellï¼Œä¿®æ”¹Styleä¸ºBasicï¼ŒIdentifierä¸ºCellã€‚table view cellçš„æ ‡å‡†ç±»å‹æœ‰ basicã€right detailã€left detail å’Œ subtitleï¼Œå½“ç„¶è¿˜æœ‰å®šåˆ¶ç±»å‹customã€‚ é€‰ä¸­Table Viewï¼Œè®¾ç½®å››ä¸ªspacingçº¦æŸï¼Œä¸Šä¸‹å·¦å³çš„è·ç¦»éƒ½è®¾ç½®ä¸º0 ä¸ºUITableViewæ·»åŠ ä¸¤ä¸ªåè®® Object libraryä¸­çš„æ¯ä¸€UI componentéƒ½æ˜¯å¯¹åº”ä¸€ä¸ªclassï¼Œå¦‚ Table Viewå°±æ˜¯å¯¹åº”UITableViewã€‚å¯ä»¥é€šè¿‡ç‚¹å‡»å¹¶æ‚¬åœåœ¨UI componentä¸ŠæŸ¥çœ‹å¯¹åº”çš„classå’Œä»‹ç»ã€‚ åœ¨ViewController.swiftæ–‡ä»¶çš„UIViewControlleråï¼Œæ·»åŠ ä»£ç , UITableViewDataSource, UITableViewDelegateï¼Œè¡¨ç¤ºViewControllerç±»å®ç°äº†UITableViewDataSourceï¼ŒUITableViewDelegateä¸¤ä¸ªåè®®ã€‚å‡ºç°çº¢è‰²æ„Ÿå¹å·ï¼Œè¿™æ˜¯xcodeçš„é—®é¢˜æç¤ºï¼Œç‚¹å‡»å‚çœ‹é—®é¢˜æè¿°ï¼š Type â€˜ViewControllerâ€™ does not conform to protocolâ€˜UITableViewDataSourceâ€™ é—®é¢˜æè¿°ä¸ºViewControllerä¸ç¬¦åˆåè®®UITableViewDataSourceã€‚é€šè¿‡command+ç‚¹å‡» ï¼ˆæœ€æ–°çš„xcode9å˜æˆäº†command+option+ç‚¹å‡»ï¼‰åˆ°UITableViewDataSourceä¸­çœ‹çœ‹ä½ ï¼š1234567891011121314151617181920212223242526272829303132public protocol UITableViewDataSource : NSObjectProtocol &#123; @available(iOS 2.0, *) public func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int // Row display. Implementers should *always* try to reuse cells by setting each cell&apos;s reuseIdentifier and querying for available reusable cells with dequeueReusableCellWithIdentifier: // Cell gets various attributes set automatically based on table (separators) and data source (accessory views, editing controls) @available(iOS 2.0, *) public func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell @available(iOS 2.0, *) optional public func numberOfSections(in tableView: UITableView) -&gt; Int // Default is 1 if not implemented @available(iOS 2.0, *) optional public func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? // fixed font style. use custom view (UILabel) if you want something different @available(iOS 2.0, *) optional public func tableView(_ tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? // Editing // Individual rows can opt out of having the -editing property set for them. If not implemented, all rows are assumed to be editable. @available(iOS 2.0, *) optional public func tableView(_ tableView: UITableView, canEditRowAt indexPath: IndexPath) -&gt; Bool ... UITableViewDataSourceåè®®ä¸­å®šä¹‰äº†å¾ˆå¤šæ–¹æ³•ï¼Œé™¤äº†å‰ä¸¤ä¸ªæ–¹æ³•æ²¡æœ‰optionalå…¶å®ƒéƒ½æœ‰ï¼Œæœ‰çš„è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä¸ä¸€å®šè¦å®ç°ï¼Œæ²¡æœ‰çš„å°±ä¸€å®šè¦å®ç°ï¼ŒæŠŠè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•å®ç°äº†ï¼Œé—®é¢˜æç¤ºå°±ä¼šæ¶ˆå¤±ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ä»åå­—å’Œè¿”å›å€¼ç±»å‹ä¹Ÿå¤§æ¦‚èƒ½çŸ¥é“åšäº†ä»€ä¹ˆï¼š public func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int ä¸€ä¸ªsectionæœ‰å‡ è¡Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªsectionæœ‰å‡ ä¸ªUITableViewCellï¼Œ sectionå°±æ˜¯ä¸€ç»„UITableViewCellçš„æ„æ€ï¼ŒTable Viewå¯ä»¥å®šä¹‰å¤šä¸ªsectionï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªã€‚ public func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell è¿”å›æ¯ä¸€è¡Œçš„ UITableViewCell åœ¨ViewController.swiftä¸­å®šä¹‰ä¸€ä¸ªå˜é‡restaurantNamesï¼Œç±»å‹æ˜¯æ•°ç»„ï¼Œè¡¨ç¤ºä¸€ç³»åˆ—é¤é¦†çš„åå­—ã€‚ 1var restaurantNames = [&quot;Cafe Deadend&quot;, &quot;Homei&quot;, &quot;Teakha&quot;, &quot;Cafe Loisl&quot;, &quot;PetiteOyster&quot;, &quot;For Kee Restaurant&quot;, &quot;Po&apos;s Atelier&quot;, &quot;Bourke Street Bakery&quot;, &quot;Haigh&apos;sChocolate&quot;, &quot;Palomino Espresso&quot;, &quot;Upstate&quot;, &quot;Traif&quot;, &quot;Graham Avenue Meats AndDeli&quot;, &quot;Waffle &amp; Wolf&quot;, &quot;Five Leaves&quot;, &quot;Cafe Lore&quot;, &quot;Confessional&quot;,&quot;Barrafina&quot;, &quot;Donostia&quot;, &quot;Royal Oak&quot;, &quot;CASK Pub and Kitchen&quot;] å®šä¹‰UITableViewDataSourceçš„ä¸¤ä¸ªæ–¹æ³•ï¼š 12345678910111213141516func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; // 1 return restaurantNames.count &#125; func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; // 2 let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) // 3 cell.textLabel?.text = restaurantNames[indexPath.row] return cell &#125; 1 é¤é¦†çš„æ•°ç›®å°±æ˜¯sectionçš„è¡Œæ•° 2 â€œCellâ€ä¸ä¹‹å‰å®šä¹‰çš„UITableViewCellçš„Identifierå±æ€§æ˜¯å¯¹åº”çš„ã€‚dequeueReusableCellæ–¹æ³•æ˜¯äº§ç”Ÿä¸€ä¸ªUITableViewCellã€‚ 3 UITableViewCellä¸­æœ‰å¯ç®—å±æ€§textLabelï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªUILabelï¼Œç”±äºæ˜¯å¯é€‰å±æ€§ï¼Œè°ƒç”¨æ—¶ä¹Ÿç”¨å¯é€‰é“¾å¼è°ƒç”¨cell.textLabel?.text è¿æ¥ DataSource å’Œ Delegateè¿è¡Œappï¼Œæ²¡æœ‰æ•°æ®æ˜¾ç¤ºã€‚å°½ç®¡ä¸Šé¢å·²ç»åœ¨ä»£ç ä¸­è®©ViewControllerç»§æ‰¿äº†UITableViewDataSource, UITableViewDelegateï¼Œä½†storyboardå¹¶ä¸çŸ¥é“ã€‚ åœ¨document outlineä¸­é€‰æ‹©Table Viewï¼Œä½¿ç”¨control-dragåˆ°View Controllerï¼Œåœ¨å¼¹å‡ºæ¡†ä¸­é€‰æ‹©dataSourceã€‚åŒæ ·çš„æ–¹æ³•é€‰æ‹©delegate ç¡®è®¤è¿æ¥æ˜¯å¦æˆåŠŸã€‚é€‰ä¸­Table Viewï¼Œåœ¨connetionæ£€æŸ¥å™¨ä¸­æŸ¥çœ‹ï¼›æˆ–è€…ç›´æ¥åœ¨document outlineä¸­å³å‡»Table View è¿è¡Œapp æ·»åŠ å›¾ç‰‡åˆ°Table View ä»simpletable-image1.zipä¸‹è½½å›¾ç‰‡ï¼Œè§£å‹åä¸€èµ·æ‹–åˆ°asset catalog åœ¨ViewController.swiftçš„tableView(_:cellForRowAtIndexPath:)æ–¹æ³•çš„return cellå‰æ·»åŠ ä»£ç cell.imageView?.image = UIImage(named: &quot;restaurant&quot;)ã€‚ä½¿æ¯ä¸ªUITableViewCellçš„imageéƒ½æ˜¯ä¸€æ ·çš„ã€‚ éšè—çŠ¶æ€æ é¡¶éƒ¨çŠ¶æ€æ¥å’Œtable view æ•°æ®é‡å äº†ï¼Œåªè¦åœ¨ViewControlleråŠ ä¸€æ®µä»£ç å°±å¯ä»¥ï¼š123override var prefersStatusBarHidden: Bool &#123; return true&#125; prefersStatusBarHiddenæ˜¯çˆ¶ç±»UIViewControllerä¸­çš„å±æ€§ï¼Œæ‰€ä»¥è¦åŠ  overrideï¼Œè¡¨ç¤ºé‡å†™äº†ã€‚ ä¸åŒçš„Cellå¯¹åº”ä¸åŒçš„å›¾ç‰‡ ä»simpletable-image2.zipä¸‹è½½å›¾ç‰‡ï¼Œè§£å‹åä¸€èµ·æ‹–åˆ°asset catalog ä¿®æ”¹ViewController.swiftçš„tableView(_:cellForRowAtIndexPath:)ä¸ºï¼š 12345678910111213141516171819func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cellIdentifier = &quot;Cell&quot; let cell = tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath) // Configure the cell... let restaurantName = restaurantNames[indexPath.row] cell.textLabel?.text = restaurantName // 1 let imageName = restaurantName.lowercased().replacingOccurrences(of: &quot; &quot;, with: &quot;&quot;) if let image = UIImage(named: imageName) &#123; cell.imageView?.image = image &#125; else &#123; cell.imageView?.image = UIImage(named: &quot;restaurant&quot;) &#125; return cell &#125; 1 æŠŠèœé¦†åå­—å­—ç¬¦ä¸²å…ˆä¿®æ”¹æˆå°å†™ï¼Œç„¶åå»ç©ºæ ¼ æœ€ç»ˆç»“æœ ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-18ï¼šé”™è¯¯å¤„ç†(Error handling)]]></title>
    <url>%2F2017%2Fswift-18-error-handling.html</url>
    <content type="text"><![CDATA[é”™è¯¯å¤„ç†(Error handling)æ˜¯å“åº”é”™è¯¯ä»¥åŠä»é”™è¯¯ä¸­æ¢å¤çš„è¿‡ç¨‹ã€‚ 1 è¡¨ç¤ºå¹¶æŠ›å‡ºé”™è¯¯ Errorç©ºåè®®è¡¨æ˜è¯¥ç±»å‹å¯ä»¥ç”¨äºé”™è¯¯å¤„ç† 123456enum VendingMachineError: Error &#123; case InvalidSelection //é€‰æ‹©æ— æ•ˆ case InsufficientFunds(coinsNeeded: Int) //é‡‘é¢ä¸è¶³ case OutOfStock //ç¼ºè´§&#125;throw VendingMachineError.InsufficientFunds(coinsNeeded: 5) 2 å¤„ç†é”™è¯¯ ä¸ºäº†æ ‡è¯†å‡ºä»£ç ä¸­å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯çš„åœ°æ–¹ï¼Œåœ¨è°ƒç”¨ä¸€ä¸ªèƒ½æŠ›å‡ºé”™è¯¯çš„å‡½æ•°ã€æ–¹æ³•æˆ–è€…æ„é€ å™¨ä¹‹å‰ï¼ŒåŠ ä¸Š try å…³é”®å­—ï¼Œæˆ–è€… try? æˆ– try!è¿™ç§å˜ä½“ã€‚ å››ä¸ªå¤„ç†é”™è¯¯çš„æ–¹å¼: ç”¨throwingå‡½æ•°ä¼ é€’é”™è¯¯ throwingå‡½æ•°: åœ¨å‡½æ•°å£°æ˜çš„å‚æ•°åˆ—è¡¨ä¹‹ååŠ ä¸Š throws å…³é”®å­—ï¼Œä¸ºäº†è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨å¯ä»¥æŠ›å‡ºé”™è¯¯ã€‚12func canThrowErrors() throws -&gt; Stringfunc cannotThrowErrors() -&gt; String ä¸€ä¸ª throwing å‡½æ•°å¯ä»¥åœ¨å…¶å†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œå¹¶å°†é”™è¯¯ä¼ é€’åˆ°å‡½æ•°è¢«è°ƒç”¨æ—¶çš„ä½œç”¨åŸŸã€‚ åªæœ‰ throwing å‡½æ•°å¯ä»¥ä¼ é€’é”™è¯¯ã€‚ä»»ä½•åœ¨æŸä¸ªéthrowingå‡½æ•°å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å¤„ç†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748struct Item &#123; var price: Int var count: Int&#125;class VendingMachine &#123; var inventory = [ "Candy Bar": Item(price: 12, count: 7), "Chips": Item(price: 10, count: 4), "Pretzels": Item(price: 7, count: 11) ] var coinsDeposited = 0 func dispenseSnack(snack: String) &#123; print("Dispensing \(snack)") &#125; func vend(itemNamed name: String) throws &#123; guard let item = inventory[name] else &#123; throw VendingMachineError.InvalidSelection &#125; guard item.count &gt; 0 else &#123; throw VendingMachineError.OutOfStock &#125; guard item.price &lt;= coinsDeposited else &#123; throw VendingMachineError.InsufficientFunds(coinsNeeded: item.price - coinsDeposited) &#125; coinsDeposited -= item.price var newItem = item newItem.count -= 1 inventory[name] = newItem dispenseSnack(snack: name) &#125;&#125;let favoriteSnacks = [ "Alice": "Chips", "Bob": "Licorice", "Eve": "Pretzels",]func buyFavoriteSnack(person: String, vendingMachine: VendingMachine) throws &#123; let snackName = favoriteSnacks[person] ?? "Candy Bar" try vendingMachine.vend(itemNamed: snackName)&#125;// throwingæ„é€ å™¨èƒ½åƒthrowingå‡½æ•°ä¸€æ ·ä¼ é€’é”™è¯¯ã€‚struct PurchasedSnack &#123; let name: String init(name: String, vendingMachine: VendingMachine) throws &#123; try vendingMachine.vend(itemNamed: name) self.name = name &#125;&#125; ç”¨ Do-Catch å¤„ç†é”™è¯¯ 123456789101112var vendingMachine = VendingMachine()vendingMachine.coinsDeposited = 8do &#123; try buyFavoriteSnack(person: "Alice", vendingMachine: vendingMachine)&#125; catch VendingMachineError.InvalidSelection &#123; print("Invalid Selection.")&#125; catch VendingMachineError.OutOfStock &#123; print("Out of Stock.")&#125; catch VendingMachineError.InsufficientFunds(let coinsNeeded) &#123; print("Insufficient funds. Please insert an additional \(coinsNeeded) coins.")&#125;// æ‰“å° â€œInsufficient funds. Please insert an additional 2 coins.â€ å°†é”™è¯¯è½¬æ¢æˆå¯é€‰å€¼ å¦‚æœ someThrowingFunction() æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œ x å’Œ y çš„å€¼æ˜¯ nilï¼Œå¦åˆ™ x å’Œ y çš„å€¼å°±æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼ã€‚æ— è®º someThrowingFunction() çš„è¿”å›å€¼ç±»å‹æ˜¯ä»€ä¹ˆç±»å‹ï¼Œ x å’Œ y éƒ½æ˜¯è¿™ä¸ªç±»å‹çš„å¯é€‰ç±»å‹ã€‚xï¼Œyçš„ä¸¤ç§å½¢å¼ç±»ä¼¼ï¼Œtry? æ›´ç®€æ´ã€‚ 1234567891011func someThrowingFunction() throws -&gt; Int &#123; // ... return 0&#125;let x = try? someThrowingFunction()let y: Int?do &#123; y = try someThrowingFunction()&#125; catch &#123; y = nil&#125; ç¦ç”¨é”™è¯¯ä¼ é€’ try! ç¦æ­¢é”™è¯¯ä¼ é€’ï¼Œå¦‚çœŸæœ‰é”™è¯¯æŠ›å‡ºï¼Œå°±å‡ºç°è¿è¡Œé”™è¯¯ã€‚ let photo = try! loadImage(&quot;./Resources/John Appleseed.jpg&quot;) 3 æŒ‡å®šæ¸…ç†æ“ä½œ playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 4 ç”¨Stack Viewè®¾è®¡UI]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-4.html</url>
    <content type="text"><![CDATA[å‰ä¸€ç¯‡å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 3 ä»‹ç»Auto Layoutä¸­æåˆ°Auto Layoutå·¥å…·æ æœ‰ä¸ªstackæŒ‰é’®ï¼Œè¿™æ˜¯Stack ViewåŠŸèƒ½ã€‚ä¸ºäº†è§£å†³å¤æ‚UIæ—¶å¸ƒå±€çº¦æŸå®šä¹‰å›°éš¾ï¼ŒAppleä»iOS 9å¼€å§‹å¼•å…¥Stack Viewã€‚è¿™ç¯‡æ–‡ç« å°†å­¦ä¹ åˆ°ï¼š ç”¨Stack Viewå¸ƒå±€UIã€‚ ç”¨image viewså±•ç¤ºå›¾ç‰‡ã€‚ ç”¨å†…å»ºçš„asset catalogç®¡ç†å›¾ç‰‡ã€‚ ç”¨Size Classesé€‚é…Stack View Stack Viewæ˜¯ä»€ä¹ˆStack Viewä¸ºåœ¨çºµå‘æˆ–æ¨ªå‘å¸ƒç½®ä¸€ä¸ªè§†å›¾çš„é›†åˆï¼Œæä¾›äº†ä¸€ä¸ªæµçº¿å‹ç•Œé¢ã€‚å¯ä»¥ç”¨stack viewå°†å¾ˆå¤šUIå¯¹è±¡åˆæˆä¸€ä¸ªã€‚è§†å›¾åµŒå…¥ä¸€ä¸ªstack viewé‡Œä»¥å,å°±ä¸å†éœ€è¦å®šä¹‰è‡ªåŠ¨å¸ƒå±€çº¦æŸ. Stack Viewç®¡ç†å®ƒå­è§†å›¾çš„å¸ƒå±€,ç„¶åè‡ªåŠ¨æä¾›å¸ƒå±€çº¦æŸã€‚è¿™æ„å‘³ç€å­è§†å›¾å·²ç»å‡†å¤‡å¥½å»é€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸ã€‚æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥åµŒå…¥ä¸€ä¸ªstack viewåˆ°å¦ä¸€ä¸ªstack viewæ¥æ„å»ºæ›´å¤æ‚çš„ç”¨æˆ·ç•Œé¢ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ä¸éœ€è¦å¤„ç†è‡ªåŠ¨å¸ƒå±€ã€‚ä»ç„¶éœ€è¦å®šä¹‰stack viewçš„å¸ƒå±€ã€‚è¿™æ ·ä¸ä»…èƒ½å¤ŸèŠ‚çº¦åœ¨åˆ›ä½œæ¯ä¸ªUIå…ƒç´ çš„çº¦æŸçš„æ—¶é—´ï¼Œä¹Ÿå¯ä»¥è½»æ¾çš„ä»å¸ƒå±€é‡Œæ¥æ·»åŠ /ç§»é™¤è§†å›¾ã€‚ Xcodeæä¾›ä¸¤ç§æ–¹æ³•ä½¿ç”¨Stack Viewï¼š ç›´æ¥ä»Object libraryä¸­æ‹–å‡ºstack viewï¼ˆçºµå‘æˆ–æ¨ªå‘ï¼‰ï¼Œç„¶åæŠŠå…¶ä»–è§†å›¾æ‹–åŠ¨stack view é€‰ä¸­ä¸€äº›è§†å›¾ï¼Œç„¶åç‚¹å‡»Interface Builder editorå³ä¸‹è§’ä¸€ç»„æŒ‰é’®ä¸­çš„stackæŒ‰é’® ä¸€ä¸ªå°ç¨‹åº æ–°å»ºé¡¹ç›® StackViewDemo å‘Xcodeä¸­æ·»åŠ å›¾ç‰‡ ä»å›¾ç‰‡ä¸‹è½½æ‰€éœ€å›¾ç‰‡ï¼ŒåŠ å‹åæœ‰3ç»„9å¼ å›¾ç‰‡ï¼Œæ¯ç»„æœ‰3å¼ ä¸åŒç±»å‹çš„å›¾ç‰‡ï¼Œé’ˆå¯¹ä¸åŒç±»å‹çš„è®¾å¤‡ï¼š user1.png ï¼ˆ non-Retinaçš„ä¸€äº›è€è®¾å¤‡ï¼‰ user1@2x.png ï¼ˆiPhone 4/4s/5/5s/6ï¼‰ user1@3x.png ï¼ˆiPhone 6 Plusç­‰é«˜åˆ†è¾¨çš„ï¼‰ æ‹–åŠ¨å›¾ç‰‡ç«Ÿç„¶xcodeçš„asset catalogä¸­ï¼Œxcodeä¼šè‡ªåŠ¨ç»„ç»‡è¿™äº›æœ‰è§„å¾‹çš„å›¾ç‰‡ï¼Œä½¿ç”¨æ—¶ç›´æ¥ç”¨user1,ä¸éœ€è¦é åé¢çš„@2æˆ–@3ã€‚ ç”¨Stack Viewå¸ƒå±€titleçš„label é€‰æ‹©Main.storyboardï¼Œä»Object libraryä¸­æ‹–å‡ºVertical Stack Viewåˆ°storyboardä¸­ æ‹–å‡ºä¸€ä¸ªlabelåˆ°stack viewä¸­ã€‚ä¸€æ—¦labelè¿›å…¥stack viewä¸­ï¼Œå®ƒå°±è‡ªåŠ¨è°ƒæ•´å¤§å°ä»¥é€‚åº”label ä¿®æ”¹labelçš„titleä¸ºâ€œInstant Developerâ€ï¼Œå­—ä½“å¤§å°ä¸º40 pointsï¼Œfont styleä¸ºmediumï¼Œå­—ä½“é¢œè‰²ä¸ºçº¢è‰² å¦å¤–æ‹–å‡ºä¸€ä¸ªlabelåˆ°stack viewä¸­ï¼Œä¿®æ”¹labelçš„titleä¸ºâ€œGet help from experts in 15 minutesâ€ é€‰æ‹©stack viewï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ä¿®æ”¹Alignmentå‚æ•°ä¸ºcenterï¼Œè¿™æ ·ä½¿stack viewä¸­çš„labelæ°´å¹³å±…ä¸­å¯¹é½ã€‚ å¤šä¸ªè§†å›¾åœ¨ä¸€èµ·ä¸æ–¹ä¾¿é€‰æ‹©æ—¶ï¼Œå¯ä»¥ç”¨ shift + å³å‡»ï¼šstack viewçš„å‡ ä¸ªå±æ€§ï¼š axis stack viewä¸­å¯¹è±¡æ˜¯æ°´å¹³æ”¾ç½®è¿˜æ˜¯å‚ç›´æ”¾ç½®ï¼Œä¹Ÿå°±æ˜¯Vertical Stack Viewå’ŒHorizontal Stack Viewä¹‹é—´çš„åˆ‡æ¢ alignment stack viewä¸­å¯¹è±¡çš„å¯¹é½æ–¹å¼ distribution ç”¨StackæŒ‰é’®å¸ƒå±€å¤šä¸ªå›¾ç‰‡ æ‹–åŠ¨ä¸€ä¸ªimage viewå¯¹è±¡ï¼Œå¹¶ä¿®æ”¹å…¶imageå±æ€§ä¸ºuser1 åŒæ ·çš„æ–¹æ³•å†æ·»åŠ ä¸¤ä¸ªimage viewå¯¹è±¡ï¼Œimageå±æ€§åˆ†åˆ«ä¸ºuser2ï¼Œuser3ã€‚ç²—ç•¥è°ƒæ•´å›¾ç‰‡çš„å¸¦ä¸‹ï¼Œæ”¾åœ¨ä¸€ä¸ªæ°´å¹³ï¼Œå¤§æ¦‚å¦‚ä¸‹ï¼š é€‰ä¸­ä¸‰ä¸ªimage viewï¼Œå‡»Interface Builder editorå³ä¸‹è§’ä¸€ç»„æŒ‰é’®ä¸­çš„stackæŒ‰é’®ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªæ–°çš„horizontal stack viewã€‚ ä¿®æ”¹æ–°ç”Ÿæˆçš„horizontal stack viewçš„å±æ€§ï¼Œspacingä¸º 10ï¼Œè¡¨ç¤ºå›¾ç‰‡ä¹‹é—´çš„é—´è·ï¼ŒDistributionä¸ºFill Equally åŒæ—¶é€‰ä¸­ä¸¤ä¸ªstack viewï¼Œç‚¹å‡»stack æŒ‰é’®ï¼Œå†ç”Ÿæˆä¸€ä¸ªæ–°çš„å¤§vertical stack view ä¸ºstack viewæ·»åŠ å¸ƒå±€çº¦æŸ é€‰ä¸­å¤§çš„stack viewï¼Œæ·»åŠ space constraintsï¼Œä¸Šï¼Œå·¦å³ï¼Œåˆ†åˆ«ä¸º70ï¼Œ0ï¼Œ0æ·»åŠ çº¦æŸåï¼Œå¦‚æœå‡ºç°å¸ƒå±€é—®é¢˜ï¼Œå¯é€šè¿‡issue indicatorè§£å†³ï¼Œå¯å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« ã€‚ çœ‹é¢„è§ˆassistant editorï¼ŒæŸ¥çœ‹å…¶å®ƒè®¾å¤‡ä¼šå‘ç°ä¸¤ä¸ªé—®é¢˜ï¼š Instant Developer labelæ–‡æœ¬åœ¨å°å±å¹•è®¾å¤‡è¢«æˆªæ–­ å›¾ç‰‡çš„å®½é«˜æ¯”æ”¹å˜äº† é€‰æ‹©Instant Developer labelï¼Œä¿®æ”¹Autoshrinkå±æ€§ä¸ºMinimum Font Sizeï¼Œå€¼ä¸º20ï¼Œè¿™æ ·å°±è®¾ç½®äº†labelçš„å­—ä½“å¯ä»¥å˜åŒ–ï¼Œæœ€å°å€¼ä¸º20 ï¼Œå°å±å¹•å°±ä¸ä¼šè¢«æˆªæ–­äº†ã€‚ æ¨ªå‘control-dragå›¾ç‰‡çš„stack viewï¼Œé€‰æ‹©Aspect Ratioï¼Œä½¿å›¾ç‰‡çš„å®½é«˜æ¯”ä¸å˜åŒ–ã€‚ åœ¨å›¾ç‰‡stack viewä¸‹æ·»åŠ ä¸€ä¸ªlabel æ‹–åŠ¨ä¸€ä¸ªlabelåˆ°å›¾ç‰‡ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªè“è‰²çº¿åæ¾å¼€ æ”¹å˜labelçš„æ–‡æœ¬ï¼šNeed help with your coding problems? Weâ€™ll find you the right developer who can help you in 15 minutes. labelçš„å±æ€§linesæ”¹ä¸º0ï¼Œè¡¨ç¤ºä¸é™åˆ¶è¡Œæ•° é€‰æ‹©å¤§stack viewï¼Œä¿®æ”¹é—´è·sapcingä¸º10ï¼Œä¿®æ”¹Alignmentä¸ºå±…ä¸­ ç”¨stack viewå¸ƒå±€Buttons æ·»åŠ ä¸¤ä¸ªButtonï¼šâ€Sign inâ€ å’Œ â€œSign up with Facebookâ€ ä¿®æ”¹ç™½å­—ä½“ï¼Œçº¢èƒŒæ™¯ï¼Œå®½åº¦ä¸º200 é€‰æ‹©ä¸¤ä¸ªButtonç”Ÿæˆvertical stack viewï¼Œspacingä¸º10 ä¸ºvertical stack viewæ·»åŠ ä¸¤ä¸ªçº¦æŸï¼Œæ°´å¹³å±…ä¸­å’Œåº•è¾¹è·20 å½“æŠŠä¸¤ä¸ªbuttonèšåˆæˆstack viewæ—¶ï¼Œbuttonçš„å¤§å°ä¼šè‡ªåŠ¨è°ƒèŠ‚åˆ°é€‚å®œå¤§å°ï¼Œä¹Ÿå°±æ˜¯â€Sign up with Facebookâ€çš„å®½åº¦å˜ä¸º155 ã€‚éœ€è¦å†æ·»åŠ ä¸€ä¸ªå®½åº¦çº¦æŸï¼Œä¿®æ”¹Constantå€¼ä¸º200 ã€‚ ç”¨Size Classesæ¥è°ƒèŠ‚Stack view landscape orientation vs portrait orientationç›´è¯‘å°±æ˜¯é£æ™¯ç”»æ–¹å‘å’Œè‚–åƒç”»æ–¹å‘ï¼Œå…¶å®å°±æ˜¯æŒ‡æ¨ªå±å’Œç«–å± ä¸Šé¢è®¾è®¡çš„UIçœ‹ä¸Šå»ä»¥ä¸é”™äº†ï¼Œä½†ä¸€ç›´æ²¡æœ‰è€ƒè™‘çš„æ¨ªå±çš„æƒ…å†µã€‚å› ä¸ºæ¨ªå±ä¸Šä¸‹é«˜åº¦å˜å°ï¼ŒåŸæœ¬åœ¨ç«–å±ä¸‹é€‚å®œçš„stack viewä¸Šè¾¹è·ï¼Œå°±æœ‰ç‚¹å¤§äº†ï¼Œéœ€è¦å°ä¸€ç‚¹ã€‚è¿™ä¹Ÿå¯¼è‡´äº†ï¼Œä»iOS 8å¼€å§‹å¼•å…¥äº†ä¸€ä¸ªæ–°çš„UIè®¾è®¡æ¦‚å¿µAdaptive Layoutï¼ˆè‡ªé€‚åº”å¸ƒå±€ï¼‰ï¼Œä¸ºæ­¤ï¼ŒAppleå¼•å…¥äº†Size Classesã€‚é€šè¿‡Size Classes å’Œ auto layoutä¸€èµ·è®¾è®¡è‡ªé€‚åº”UIã€‚Size Classesä»…ä»…æ˜¯å¯¹å±å¹•è¿›è¡Œäº†åˆ†ç±», å®é™…ä¸Šçš„å¸ƒå±€è¿˜æ˜¯äº¤ç»™autolayout Size Classesæœ‰ä¸¤ç§ç±»å‹ï¼šregular å’Œ compactï¼ˆå¯ä»¥ç†è§£ä¸ºå¤§[R] å’Œ å°[C]ï¼‰ã€‚è€Œè¿™ä¸¤ç§ç±»å‹åº”ç”¨åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šï¼švertical (height) å’Œ horizontal (width) ï¼Œå°±å¯¹åº”ä¸åŒç±»å‹çš„è®¾å¤‡ï¼šRegular width-Regular Height, Regular width-Compact Height, Compact width-Regular Height and Compact width-Compact Height æœ€æ–°ç‰ˆæœ¬çš„Xcodeå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸åŒè®¾å¤‡å’Œæ–¹å‘çš„Size ClassesæŸ¥çœ‹ï¼š é€‰æ‹©ä¸Šè¾¹è·çº¦æŸã€‚åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ï¼Œç‚¹å‡»Constantå‰é¢çš„+å·ï¼Œå¼¹æ¡†ä¸­åˆ†åˆ«é€‰æ‹©ï¼šWidthï¼šAnyï¼ŒHeightï¼šCompactï¼ŒGamuntï¼šAnyï¼Œåé¢çš„å€¼ä¸º0ï¼Œè¡¨ç¤ºåªæœ‰åœ¨Compact heightä¸‹ä¸Šè¾¹è·ä¸º0 ä¸ºäº†æ›´åŠ ç®€æ´ä¹Ÿå¯ä»¥åœ¨æœ‰äº›å±å¹•çŠ¶æ€ä¸‹æŠŠâ€Need help with your â€¦â€ labeléšè—æ‰ï¼Œå°±æ˜¯heightä¸º0ã€‚ä¹Ÿå°±æ˜¯ä¸ºlabelæ·»åŠ ä¸€ä¸ªåªæœ‰åœ¨Widthï¼šAnyï¼ŒHeightï¼šCompactï¼ŒGamuntï¼šAnyè¿™ä¸ªSize Classesä¸‹ï¼Œçš„heightçº¦æŸã€‚ç”¨control-dragæ–¹æ³•æ·»åŠ heightçº¦æŸï¼š é€‰æ‹©ç°ä»·çš„heightçº¦æŸï¼Œä¿®æ”¹Constantä¸º0ï¼›å»é™¤é€‰ä¸­Installedï¼Œç‚¹å‡»Installedå‰çš„+ï¼Œå¼¹å‡ºæ¡†é€‰æ‹©Widthï¼šAnyï¼ŒHeightï¼šCompactï¼ŒGamuntï¼šAnyï¼Œå¹¶é€‰æ‹©æ–°åŠ çš„Installedï¼ˆheightçº¦æŸé¢œè‰²å˜æµ…äº†ï¼Œè¯´æ˜è¿™ä¸ªçº¦æŸä¸æ˜¯åœ¨ä»»ä½•çŠ¶æ€ä¸‹éƒ½æœ‰æ•ˆçš„ï¼‰ï¼š ç»ƒä¹ è¿˜æœ‰è€ƒè™‘ç‰¹æ®Šçš„ä¸€äº›è®¾å¤‡çš„æƒ…å†µï¼Œæ·»åŠ ä¸€äº›ç‰¹æ®Šçš„çº¦æŸï¼š åœ¨wR hRæ—¶ï¼Œä¿®æ”¹ä¸¤ä¸ªæŒ‰é’®çš„å®½åº¦ä¸º300 åœ¨iphone 6/7 å’Œä¸€äº›è€çš„iphoneç­‰è®¾å¤‡ç«–å±æ—¶ï¼Œä¿®æ”¹â€Need help with â€¦â€ label å­—ä½“ä¸º15 åœ¨wR hRæ—¶ï¼Œä¿®æ”¹å›¾åƒstack viewçš„ä¸Šä¸‹ç©ºé—´ä¸º30 ä»£ç Beginning-iOS-Programming-with-Swift è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-17ï¼šå¯é€‰é“¾å¼è°ƒç”¨(Optional Chaining)]]></title>
    <url>%2F2017%2Fswift-17-optional-chaining.html</url>
    <content type="text"><![CDATA[ä¸€ç§å¯ä»¥åœ¨å½“å‰å€¼å¯èƒ½ä¸ºnilçš„å¯é€‰å€¼ä¸Šè¯·æ±‚å’Œè°ƒç”¨å±æ€§ã€æ–¹æ³•åŠä¸‹æ ‡çš„æ–¹æ³• 1 ä½¿ç”¨å¯é€‰é“¾å¼è°ƒç”¨ä»£æ›¿å¼ºåˆ¶å±•å¼€å¯é€‰é“¾å¼è°ƒç”¨çš„è¿”å›ç»“æœä¸åŸæœ¬çš„è¿”å›ç»“æœå…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œä½†æ˜¯è¢«åŒ…è£…æˆäº†ä¸€ä¸ªå¯é€‰å€¼ã€‚ 123456789101112131415161718class Person &#123; var residence: Residence?&#125;class Residence &#123; var numberOfRooms = 1&#125;let john = Person()if let roomCount = john.residence?.numberOfRooms &#123; print("John's residence has \(roomCount) room(s).")&#125; else &#123; print("Unable to retrieve the number of rooms.")&#125;john.residence = Residence()if let roomCount = john.residence?.numberOfRooms &#123; print("John's residence has \(roomCount) room(s).")&#125; else &#123; print("Unable to retrieve the number of rooms.")&#125; 2 ä¸ºå¯é€‰é“¾å¼è°ƒç”¨å®šä¹‰æ¨¡å‹ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546class Person2 &#123; var residence: Residence2?&#125;class Residence2 &#123; var rooms = [Room]() var numberOfRooms: Int &#123; return rooms.count &#125; subscript(i: Int) -&gt; Room &#123; get &#123; return rooms[i] &#125; set &#123; rooms[i] = newValue &#125; &#125; func printNumberOfRooms() &#123; print("The number of rooms is \(numberOfRooms)") &#125; var address: Address?&#125;class Room &#123; let name: String init(name: String) &#123; self.name = name &#125;&#125;class Address &#123; var buildingName: String? var buildingNumber: String? var street: String? func buildingIdentifier() -&gt; String? &#123; if buildingName != nil &#123; return buildingName &#125; else if buildingNumber != nil &amp;&amp; street != nil &#123; return "\(buildingNumber) \(street)" &#125; else &#123; return nil &#125; &#125;&#125;func createAddress() -&gt; Address &#123; print("Function was called.") let someAddress = Address() someAddress.buildingNumber = "29" someAddress.street = "Acacia Road" return someAddress&#125; 3 é€šè¿‡å¯é€‰é“¾å¼è°ƒç”¨è®¿é—®å±æ€§12let andy = Person2()andy.residence?.address = createAddress() // andy.residenceç»“æœä¸ºnilï¼Œå¯é€‰é“¾å¼è°ƒç”¨å¤±è´¥æ—¶ï¼Œç­‰å·å³ä¾§çš„ä»£ç ä¸ä¼šè¢«æ‰§è¡Œã€‚ 4 é€šè¿‡å¯é€‰é“¾å¼è°ƒç”¨è°ƒç”¨æ–¹æ³•1234567891011121314if let firstRoomName = andy.residence?[0].name &#123; print("The first room name is \(firstRoomName).")&#125; else &#123; print("Unable to retrieve the first room name.")&#125;let andyHouse = Residence2()andyHouse.rooms.append(Room(name: "Living Room"))andyHouse.rooms.append(Room(name: "Kitchen"))andy.residence = andyHouseif let firstRoomName = andy.residence?[0].name &#123; print("The first room name is \(firstRoomName).")&#125; else &#123; print("Unable to retrieve the first room name.")&#125; 5 è®¿é—®å¯é€‰ç±»å‹çš„ä¸‹æ ‡1234var testScores = ["Dave": [86, 82, 84], "Bev": [79, 94, 81]]testScores["Dave"]?[0] = 91testScores["Bev"]?[0] += 1testScores["Brian"]?[0] = 72 6 è¿æ¥å¤šå±‚å¯é€‰é“¾å¼è°ƒç”¨1234567891011121314if let andyStreet = andy.residence?.address?.street &#123; print("John's street name is \(andyStreet).")&#125; else &#123; print("Unable to retrieve the address.")&#125;let andyAddress = Address()andyAddress.buildingName = "ä¸œæ–¹æ˜ç "andyAddress.street = "å—äº¬ä¸œè·¯100å·"andy.residence?.address = andyAddressif let andyStreet = andy.residence?.address?.street &#123; print("John's street name is \(andyStreet).")&#125; else &#123; print("Unable to retrieve the address.")&#125; 7 åœ¨æ–¹æ³•çš„å¯é€‰è¿”å›å€¼ä¸Šè¿›è¡Œå¯é€‰é“¾å¼è°ƒç”¨1234567891011if let buildingIdentifier = andy.residence?.address?.buildingIdentifier() &#123; print("John's building identifier is \(buildingIdentifier).")&#125;if let beginsWithThe = andy.residence?.address?.buildingIdentifier()?.hasPrefix("ä¸œ") &#123; if beginsWithThe &#123; print("John's building identifier begins with \"ä¸œ\".") &#125; else &#123; print("John's building identifier does not begin with \"ä¸œ\".") &#125;&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-16ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°(Automatic Reference Counting, ARC)]]></title>
    <url>%2F2017%2Fswift-16-automatic-reference-counting.html</url>
    <content type="text"><![CDATA[å¼•ç”¨è®¡æ•°ä»…ä»…åº”ç”¨äºç±»çš„å®ä¾‹ 1 è‡ªåŠ¨å¼•ç”¨è®¡æ•°çš„å·¥ä½œæœºåˆ¶æ¯æ¬¡åˆ›å»ºä¸€ä¸ªç±»çš„æ–°çš„å®ä¾‹çš„æ—¶å€™ï¼ŒARCä¼šåˆ†é…ä¸€å—å†…å­˜æ¥å‚¨å­˜è¯¥å®ä¾‹ä¿¡æ¯(åŒ…å«å®ä¾‹çš„ç±»å‹ä¿¡æ¯ï¼Œä»¥åŠè¿™ä¸ªå®ä¾‹æ‰€æœ‰ç›¸å…³çš„å­˜å‚¨å‹å±æ€§çš„å€¼)ã€‚ ARCä¼šè·Ÿè¸ªå’Œè®¡ç®—æ¯ä¸€ä¸ªå®ä¾‹æ­£åœ¨è¢«å¤šå°‘å±æ€§ï¼Œå¸¸é‡å’Œå˜é‡æ‰€å¼•ç”¨ã€‚ å¼•ç”¨æ•°ä¸º0æ—¶ï¼Œå†…å­˜é‡Šæ”¾ã€‚ 2 ğŸŒ°12345678910111213141516171819class Person &#123; let name: String init(name: String) &#123; self.name = name print("\(name) is being initialized") &#125; deinit &#123; print("\(name) is being deinitialized") &#125;&#125;var reference1: Person?var reference2: Person?var reference3: Person?reference1 = Person(name: "John Appleseed")reference2 = reference1reference3 = reference1reference1 = nilreference2 = nilreference3 = nil 3 ç±»å®ä¾‹ä¹‹é—´çš„å¾ªç¯å¼ºå¼•ç”¨123456789101112131415161718192021class Person2 &#123; let name: String init(name: String) &#123; self.name = name &#125; var apartment: Apartment2? deinit &#123; print("\(name) is being deinitialized") &#125;&#125;class Apartment2 &#123; let unit: String init(unit: String) &#123; self.unit = unit &#125; var tenant: Person2? deinit &#123; print("Apartment \(unit) is being deinitialized") &#125;&#125;var andy: Person2?var unit4A: Apartment2?andy = Person2(name: "Andy Ron")unit4A = Apartment2(unit: "4A")andy!.apartment = unit4Aunit4A!.tenant = andyandy = nilunit4A = nil// johnå’Œunit4Aä¸¤ä¸ªå˜é‡è™½ç„¶å·²ç»è¢«èµ‹å€¼ä¸ºnilï¼Œä½†ä¹‹å‰å®ƒä»¬å¼•ç”¨ä¸¤ä¸ªå®ä¾‹ä¹‹é—´çš„å¼ºå¼•ç”¨å…³ç³»ä¿ç•™äº†ä¸‹æ¥å¹¶ä¸”ä¸ä¼šè¢«æ–­å¼€ 4 è§£å†³å®ä¾‹ä¹‹é—´çš„å¾ªç¯å¼ºå¼•ç”¨å¼±å¼•ç”¨(weak reference)å’Œæ— ä¸»å¼•ç”¨(unowned reference)å…è®¸å¾ªç¯å¼•ç”¨ä¸­çš„ä¸€ä¸ªå®ä¾‹å¼•ç”¨å¦å¤–ä¸€ä¸ªå®ä¾‹è€Œä¸ä¿æŒå¼ºå¼•ç”¨ã€‚ 4.1 å¼±å¼•ç”¨:å¼±å¼•ç”¨å¿…é¡»è¢«å£°æ˜ä¸ºå˜é‡ï¼Œè¡¨æ˜å…¶å€¼èƒ½åœ¨è¿è¡Œæ—¶è¢«ä¿®æ”¹ã€‚weak 12345678910111213141516171819202122232425262728class Person3 &#123; let name: String init(name: String) &#123; self.name = name &#125; var apartment: Apartment3? deinit &#123; print("\(name) is being deinitialized") &#125;&#125;class Apartment3 &#123; let unit: String init(unit: String) &#123; self.unit = unit &#125; weak var tenant: Person3? deinit &#123; print("Apartment \(unit) is being deinitialized") &#125;&#125;var andy3: Person3?var unit5A: Apartment3?andy3 = Person3(name: "Andy Ron3")unit5A = Apartment3(unit: "5A")andy3!.apartment = unit5Aunit5A!.tenant = andy3andy3 = nil // Person3çš„å®ä¾‹è¢«é”€æ¯ï¼Œè™½ç„¶tenantè¿˜å¼•ç”¨å®ƒï¼Œä½†å› ä¸ºæ—¶å¼±å¼•ç”¨åœ¨ARCè®¡æ•°èŒƒå›´å†…ã€‚unit5A = nil 4.2 æ— ä¸»å¼•ç”¨ unowned å’Œå¼±å¼•ç”¨ä¸åŒçš„æ˜¯ï¼Œæ— ä¸»å¼•ç”¨æ˜¯æ°¸è¿œæœ‰å€¼çš„ã€‚Customeræ˜¯å®¢æˆ·ï¼ŒCreditCardæ˜¯ä¿¡ç”¨å¡ã€‚å®¢æˆ·å¯ä»¥æœ‰æˆ–äº”ä¿¡ç”¨å¡ï¼Œä½†ä¿¡ç”¨å¡å¿…é¡»æœ‰å¯¹åº”çš„ç”¨æˆ·ã€‚ 1234567891011121314151617181920212223class Customer &#123; let name: String var card: CreditCard? init(name: String) &#123; self.name = name &#125; deinit &#123; print("\(name) is being deinitialized") &#125;&#125;class CreditCard &#123; let number: UInt64 unowned let customer: Customer init(number: UInt64, customer: Customer) &#123; self.number = number self.customer = customer &#125; deinit &#123; print("Card #\(number) is being deinitialized") &#125;&#125;var john: Customer?john = Customer(name: "John Appleseed")john!.card = CreditCard(number: 1234_5678_9012_3456, customer: john!)john = nil // å®¢æˆ·è¢«é”€æ¯ï¼Œå¯¹åº”çš„ä¿¡ç”¨å¡ä¹Ÿè¦è¢«é”€æ¯ã€‚// æ‰“å° â€œJohn Appleseed is being deinitializedâ€// æ‰“å° â€Card #1234567890123456 is being deinitializedâ€ 4.3 æ— ä¸»å¼•ç”¨ä»¥åŠéšå¼è§£æå¯é€‰å±æ€§ 123456789101112131415161718class Country &#123; let name: String var capitalCity: City! init(name: String, capitalName: String) &#123; self.name = name self.capitalCity = City(name: capitalName, country: self) &#125;&#125;class City &#123; let name: String unowned let country: Country init(name: String, country: Country) &#123; self.name = name self.country = country &#125;&#125;var country = Country(name: "Canada", capitalName: "Ottawa")print("\(country.name)'s capital city is called \(country.capitalCity.name)") 5 é—­åŒ…å¼•èµ·çš„å¾ªç¯å¼ºå¼•ç”¨6 è§£å†³é—­åŒ…å¼•èµ·çš„å¾ªç¯å¼ºå¼•ç”¨ playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</tag>
        <tag>ARC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-15ï¼š(ç±»çš„)ææ„è¿‡ç¨‹(Deinitialization)]]></title>
    <url>%2F2017%2Fswift-15-deinitialization.html</url>
    <content type="text"><![CDATA[1 ææ„è¿‡ç¨‹åŸç†æ¯ä¸ªç±»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªææ„å™¨ï¼Œè€Œä¸”ææ„å™¨ä¸å¸¦ä»»ä½•å‚æ•° ææ„å™¨æ˜¯åœ¨å®ä¾‹é‡Šæ”¾å‘ç”Ÿå‰è¢«è‡ªåŠ¨è°ƒç”¨ã€‚ä¸èƒ½ä¸»åŠ¨è°ƒç”¨ææ„å™¨ã€‚ å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„ææ„å™¨ï¼Œå¹¶ä¸”åœ¨å­ç±»ææ„å™¨å®ç°çš„æœ€åï¼Œçˆ¶ç±»çš„ææ„å™¨ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚ 2 ææ„å™¨å®è·µ 12345678910111213141516171819202122232425262728293031323334class Bank &#123; static var coinsInBank = 10_000 static func vendCoins(numberOfCoinsRequested: Int) -&gt; Int &#123; let numberOfCoinsToVend = min(numberOfCoinsRequested, coinsInBank) coinsInBank -= numberOfCoinsToVend return numberOfCoinsToVend &#125; static func receiveCoins(coins: Int) &#123; coinsInBank += coins &#125;&#125;class Player &#123; var coinsInPurse: Int init(coins: Int) &#123; coinsInPurse = Bank.vendCoins(numberOfCoinsRequested: coins) &#125; func winCoins(coins: Int) &#123; coinsInPurse += Bank.vendCoins(numberOfCoinsRequested: coins) &#125; deinit &#123; Bank.receiveCoins(coins: coinsInPurse) &#125;&#125;var playerOne: Player? = Player(coins: 100)print("A new player has joined the game with \(playerOne!.coinsInPurse) coins")print("There are now \(Bank.coinsInBank) coins left in the bank")playerOne!.winCoins(coins: 2_000)print("PlayerOne won 2000 coins &amp; now has \(playerOne!.coinsInPurse) coins")print("The bank now only has \(Bank.coinsInBank) coins left")playerOne = nilprint("PlayerOne has left the game")print("The bank now has \(Bank.coinsInBank) coins") playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>ææ„è¿‡ç¨‹</tag>
        <tag>Deinitialization</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-14ï¼šæ„é€ è¿‡ç¨‹(Initialization)]]></title>
    <url>%2F2017%2Fswift-14-initialization.html</url>
    <content type="text"><![CDATA[æ„é€ è¿‡ç¨‹æ˜¯ä½¿ç”¨ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ç±»å‹çš„å®ä¾‹ä¹‹å‰çš„å‡†å¤‡è¿‡ç¨‹é€šè¿‡å®šä¹‰æ„é€ å™¨( Initializers )æ¥å®ç°æ„é€ è¿‡ç¨‹ 1 å­˜å‚¨å±æ€§çš„åˆå§‹èµ‹å€¼ç±»å’Œç»“æ„ä½“åœ¨åˆ›å»ºå®ä¾‹æ—¶ï¼Œå¿…é¡»ä¸ºæ‰€æœ‰å­˜å‚¨å‹å±æ€§è®¾ç½®åˆé€‚çš„åˆå§‹å€¼ã€‚ å½“ä½ ä¸ºå­˜å‚¨å‹å±æ€§è®¾ç½®é»˜è®¤å€¼æˆ–è€…åœ¨æ„é€ å™¨ä¸­ä¸ºå…¶èµ‹å€¼æ—¶ï¼Œå®ƒä»¬çš„å€¼æ˜¯è¢«ç›´æ¥è®¾ç½®çš„ï¼Œä¸ä¼šè§¦å‘ä»»ä½•å±æ€§è§‚å¯Ÿè€…ã€‚ 2 è‡ªå®šä¹‰æ„é€ è¿‡ç¨‹ 12345678910111213141516171819202122232425262728struct Celsius &#123; var temperatureInCelsius: Double init(fromFahrenheit fahrenheit: Double) &#123; temperatureInCelsius = (fahrenheit - 32.0) / 1.8 &#125; init(fromKelvin kelvin: Double) &#123; temperatureInCelsius = kelvin - 273.15 &#125;&#125;let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)// boilingPointOfWater.temperatureInCelsius æ˜¯ 100.0let freezingPointOfWater = Celsius(fromKelvin: 273.15)// freezingPointOfWater.temperatureInCelsius æ˜¯ 0.0struct Color &#123; let red, green, blue: Double init(red: Double, green: Double, blue: Double) &#123; self.red = red self.green = green self.blue = blue &#125; init(white: Double) &#123; red = white green = white blue = white &#125;&#125;let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)let halfGray = Color(white: 0.5) ä¸å¸¦å¤–éƒ¨åçš„æ„é€ å™¨å‚æ•°123456789101112struct Celsius2 &#123; var temperatureInCelsius: Double init(fromFahrenheit fahrenheit: Double) &#123; temperatureInCelsius = (fahrenheit - 32.0) / 1.8 &#125; init(fromKelvin kelvin: Double) &#123; temperatureInCelsius = kelvin - 273.15 &#125; init(_ celsius: Double)&#123; temperatureInCelsius = celsius &#125;&#125; å¯é€‰å±æ€§ç±»å‹12345678910class SurveyQuestion &#123; var text: String var response: String? init(text: String) &#123; self.text = text &#125; func ask() &#123; print(text) &#125;&#125; å¯¹äºç±»çš„å®ä¾‹æ¥è¯´ï¼Œå®ƒçš„å¸¸é‡å±æ€§åªèƒ½åœ¨å®šä¹‰å®ƒçš„ç±»çš„æ„é€ è¿‡ç¨‹ä¸­ä¿®æ”¹;ä¸èƒ½åœ¨å­ç±»ä¸­ä¿®æ”¹ã€‚ 12345678910class SurveyQuestion2 &#123; let text: String var response: String? init(text: String) &#123; self.text = text &#125; func ask() &#123; print(text) &#125;&#125; 3 é»˜è®¤æ„é€ å™¨å¦‚æœç»“æ„ä½“æˆ–ç±»çš„æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼Œç›¸å½“äºæœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å™¨ 123456class ShoppingListItem &#123; var name: String? var quantity = 1 var purchased = false&#125;var item = ShoppingListItem() ç»“æ„ä½“çš„é€ä¸€æˆå‘˜æ„é€ å™¨ 1234struct Size &#123; var width = 0.0, height = 0.0&#125;let twoByTwo = Size(width: 2.0, height: 2.0) 4 å€¼ç±»å‹(ç»“æ„ä½“å’Œæšä¸¾ç±»å‹)çš„æ„é€ å™¨ä»£ç†(è°ƒç”¨å…¶å®ƒæ„é€ å™¨æ¥å®Œæˆå®ä¾‹çš„éƒ¨åˆ†æ„é€ è¿‡ç¨‹)1234567891011121314151617struct Point &#123; var x = 0.0, y = 0.0&#125;struct Rect &#123; var origin = Point() var size = Size() init() &#123;&#125; // åŠŸèƒ½ä¸Šä¸æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼çš„é»˜è®¤æ„é€ å™¨ç±»ä¼¼ init(origin: Point, size: Size) &#123; // åŠŸèƒ½ä¸Šä¸ç»“æ„ä½“çš„é€ä¸€æˆå‘˜æ„é€ å™¨ç±»ä¼¼ self.origin = origin self.size = size &#125; init(center: Point, size: Size) &#123; let originX = center.x - (size.width / 2) let originY = center.y - (size.height / 2) self.init(origin: Point(x: originX, y: originY), size: size) &#125;&#125; 5 ç±»çš„ç»§æ‰¿å’Œæ„é€ è¿‡ç¨‹ æŒ‡å®šæ„é€ å™¨(designated initializers)ï¼šä¸»è¦ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªã€‚ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å°†åˆå§‹åŒ–ç±»ä¸­æä¾›çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶æ ¹æ®çˆ¶ç±»é“¾å¾€ä¸Šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨æ¥å®ç°çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚ 123init(parameters) &#123; statements&#125; ä¾¿åˆ©æ„é€ å™¨(convenience initializers)ï¼šæ¬¡è¦ï¼Œè¾…åŠ©ã€‚ 123convenience init(parameters) &#123; statements&#125; ç±»çš„æ„é€ å™¨ä»£ç†è§„åˆ™ æŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å…¶ç›´æ¥çˆ¶ç±»çš„çš„æŒ‡å®šæ„é€ å™¨ã€‚ ä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨åŒä¸€ç±»ä¸­å®šä¹‰çš„å…¶å®ƒæ„é€ å™¨ã€‚ ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æœ€ç»ˆå¯¼è‡´ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨è¢«è°ƒç”¨ã€‚ ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹ ç¬¬ä¸€é˜¶æ®µï¼šæ¯ä¸ªå­˜å‚¨å‹å±æ€§è¢«å¼•å…¥å®ƒä»¬çš„ç±»æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼ ç¬¬äºŒé˜¶æ®µï¼šç»™æ¯ä¸ªç±»ä¸€æ¬¡æœºä¼šï¼Œåœ¨æ–°å®ä¾‹å‡†å¤‡ä½¿ç”¨ä¹‹å‰è¿›ä¸€æ­¥å®šåˆ¶å®ƒä»¬çš„å­˜å‚¨å‹å±æ€§ 4ç§æœ‰æ•ˆçš„å®‰å…¨æ£€æŸ¥(ç¡®ä¿ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹èƒ½ä¸å‡ºé”™åœ°å®Œæˆ) æŒ‡å®šæ„é€ å™¨å¿…é¡»ä¿è¯å®ƒæ‰€åœ¨ç±»å¼•å…¥çš„æ‰€æœ‰å±æ€§éƒ½å¿…é¡»å…ˆåˆå§‹åŒ–å®Œæˆï¼Œä¹‹åæ‰èƒ½å°†å…¶å®ƒæ„é€ ä»»åŠ¡å‘ä¸Šä»£ç†ç»™çˆ¶ç±»ä¸­çš„æ„é€ å™¨ã€‚(ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜åªæœ‰åœ¨å…¶æ‰€æœ‰å­˜å‚¨å‹å±æ€§ç¡®å®šä¹‹åæ‰èƒ½å®Œå…¨åˆå§‹åŒ–) æŒ‡å®šæ„é€ å™¨å¿…é¡»å…ˆå‘ä¸Šä»£ç†è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œç„¶åå†ä¸ºç»§æ‰¿çš„å±æ€§è®¾ç½®æ–°å€¼ã€‚å¦‚æœæ²¡è¿™ä¹ˆåšï¼ŒæŒ‡å®šæ„é€ å™¨èµ‹äºˆçš„æ–°å€¼å°†è¢«çˆ¶ç±»ä¸­çš„æ„é€ å™¨æ‰€è¦†ç›–ã€‚ ä¾¿åˆ©æ„é€ å™¨å¿…é¡»å…ˆä»£ç†è°ƒç”¨åŒä¸€ç±»ä¸­çš„å…¶å®ƒæ„é€ å™¨ï¼Œç„¶åå†ä¸ºä»»æ„å±æ€§èµ‹æ–°å€¼ã€‚å¦‚æœæ²¡è¿™ä¹ˆåšï¼Œä¾¿åˆ©æ„é€ å™¨èµ‹äºˆçš„æ–°å€¼å°†è¢«åŒä¸€ç±»ä¸­å…¶å®ƒæŒ‡å®šæ„é€ å™¨æ‰€è¦†ç›–ã€‚ æ„é€ å™¨åœ¨ç¬¬ä¸€é˜¶æ®µæ„é€ å®Œæˆä¹‹å‰ï¼Œä¸èƒ½è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½è¯»å–ä»»ä½•å®ä¾‹å±æ€§çš„å€¼ï¼Œä¸èƒ½å¼•ç”¨selfä½œä¸ºä¸€ä¸ªå€¼ã€‚ æ„é€ å™¨çš„ç»§æ‰¿å’Œé‡å†™ 123456789101112131415class Vehicle &#123; var numberOfWheels = 0 var description: String &#123; return "\(numberOfWheels) wheel(s)" &#125;&#125;class Bicycle: Vehicle &#123; override init() &#123; super.init() // ç¡®ä¿`Bicycle`åœ¨ä¿®æ”¹`Vehicle`çš„å±æ€§ä¹‹å‰ï¼Œå®ƒæ‰€ç»§æ‰¿çš„å±æ€§`numberOfWheels`èƒ½è¢«`Vehicle`åˆå§‹åŒ– numberOfWheels = 2 &#125;&#125;let bicycle = Bicycle()bicycle.numberOfWheels// æ³¨ï¼šå­ç±»å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä¿®æ”¹ç»§æ‰¿æ¥çš„å˜é‡å±æ€§ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹ç»§æ‰¿æ¥çš„å¸¸é‡å±æ€§ã€‚ æ„é€ å™¨çš„è‡ªåŠ¨ç»§æ‰¿ è§„åˆ™1ï¼šå¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ã€‚ è§„åˆ™2ï¼šå¦‚æœå­ç±»æä¾›äº†æ‰€æœ‰çˆ¶ç±»æŒ‡å®šæ„é€ å™¨çš„å®ç°â€”â€”æ— è®ºæ˜¯é€šè¿‡è§„åˆ™1ç»§æ‰¿è¿‡æ¥çš„ï¼Œè¿˜æ˜¯æä¾›äº†è‡ªå®šä¹‰å®ç°â€”â€”å®ƒå°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚ æŒ‡å®šæ„é€ å™¨å’Œä¾¿åˆ©æ„é€ å™¨å®è·µ 1234567891011121314151617181920212223242526272829303132333435363738394041424344class Food &#123; var name: String init(name: String) &#123; self.name = name &#125; convenience init() &#123; self.init(name: "[Unnamed]") &#125;&#125;let namedMeat = Food(name: "Bacon")let mysteryMeat = Food()class RecipeIngredient: Food &#123; // é£Ÿè°±ä¸­çš„ä¸€é¡¹åŸæ–™ var quantity: Int init(name: String, quantity: Int) &#123; self.quantity = quantity super.init(name: name) &#125; override convenience init(name: String) &#123; self.init(name: name, quantity: 1) &#125;&#125;let oneMysteryItem = RecipeIngredient()oneMysteryItem.quantity// `RecipeIngredient()`ä½¿ç”¨ä»`Food`è‡ªåŠ¨ç»§æ‰¿çš„ä¾¿åˆ©æ„é€ å™¨`convenience init()`ï¼Œå¹¶åœ¨è¿™ä¸ªä¾¿åˆ©æ„é€ å™¨è°ƒç”¨è‡ªèº«çš„`override convenience init(name: String)`let oneBacon = RecipeIngredient(name: "Bacon")let sixEggs = RecipeIngredient(name: "Eggs", quantity: 6)class ShoppingListItem2: RecipeIngredient &#123; // è´­ç‰©å•ä¸­å‡ºç°çš„æŸä¸€ç§é£Ÿè°±åŸæ–™ var purchased = false var description: String &#123; var output = "\(quantity) x \(name)" output += purchased ? " æœ‰" : " æ— " return output &#125;&#125;var breakfastList = [ ShoppingListItem2(), ShoppingListItem2(name: "Bacon"), ShoppingListItem2(name: "Eggs", quantity: 6),]breakfastList[0].name = "Orange juice"breakfastList[0].purchased = truefor item in breakfastList &#123; print(item.description)&#125; 6 å¯å¤±è´¥æ„é€ å™¨ init?1234567891011121314151617181920212223242526struct Animal &#123; let species: String init?(species: String) &#123; if species.isEmpty &#123; return nil &#125; self.species = species &#125;&#125;let someCreature = Animal(species: "Giraffe") // someCreatureçš„ç±»å‹æ˜¯å¯é€‰ç±»å‹Animal?ï¼Œè€Œä¸æ˜¯Animalif let giraffe = someCreature &#123; print("An animal was initialized with a species of \(giraffe.species)")&#125;enum TemperatureUnit &#123; case Kelvin, Celsius, Fahrenheit init?(symbol: Character) &#123; switch symbol &#123; case "K": self = .Kelvin case "C": self = .Celsius case "F": self = .Fahrenheit default: return nil &#125; &#125;&#125; å¸¦åŸå§‹å€¼çš„æšä¸¾ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨å¸¦åŸå§‹å€¼çš„æšä¸¾ç±»å‹ä¼šè‡ªå¸¦ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ init?(rawValue:)1234enum TemperatureUnit2: Character &#123; case Kelvin = "K", Celsius = "C", Fahrenheit = "F"&#125;let fahrenheitUnit = TemperatureUnit2(rawValue: "X") æ„é€ å¤±è´¥çš„ä¼ é€’ ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾çš„å¯å¤±è´¥æ„é€ å™¨å¯ä»¥æ¨ªå‘ä»£ç†åˆ°ç±»å‹ä¸­çš„å…¶ä»–å¯å¤±è´¥æ„é€ å™¨ã€‚ ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨è§¦å‘æ„é€ å¤±è´¥ï¼Œæ•´ä¸ªæ„é€ è¿‡ç¨‹å°†ç«‹å³ç»ˆæ­¢ã€‚12345678910111213141516171819202122232425class Product &#123; let name: String init?(name: String) &#123; if name.isEmpty &#123; return nil &#125; self.name = name &#125;&#125;class CartItem: Product &#123; let quantity: Int init?(name: String, quantity: Int) &#123; if quantity &lt; 1 &#123; return nil &#125; self.quantity = quantity super.init(name: name) &#125;&#125;if let zeroShirts = CartItem(name: "shirt", quantity: 0) &#123; print("Item: \(zeroShirts.name), quantity: \(zeroShirts.quantity)")&#125; else &#123; print("Unable to initialize zero shirts")&#125;if let oneUnnamed = CartItem(name: "", quantity: 1) &#123; print("Item: \(oneUnnamed.name), quantity: \(oneUnnamed.quantity)")&#125; else &#123; print("Unable to initialize one unnamed product")&#125; å¯ä»¥ç”¨éå¯å¤±è´¥æ„é€ å™¨é‡å†™å¯å¤±è´¥æ„é€ å™¨ï¼Œä½†ä¸å¯åè¿‡æ¥ã€‚init!ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨æ„é€ å¤±è´¥ï¼Œä¼šè§¦å‘æ–­è¨€ã€‚ 7 å¿…è¦æ„é€ å™¨åœ¨ç±»çš„æ„é€ å™¨å‰æ·»åŠ requiredä¿®é¥°ç¬¦è¡¨æ˜æ‰€æœ‰è¯¥ç±»çš„å­ç±»éƒ½å¿…é¡»å®ç°è¯¥æ„é€ å™¨åœ¨é‡å†™çˆ¶ç±»ä¸­å¿…è¦çš„æŒ‡å®šæ„é€ å™¨æ—¶ï¼Œä¸éœ€è¦æ·»åŠ  override ä¿®é¥°ç¬¦ 8 é€šè¿‡é—­åŒ…æˆ–å‡½æ•°è®¾ç½®å±æ€§çš„é»˜è®¤å€¼åœ¨é—­åŒ…æ‰§è¡Œæ—¶ï¼Œå®ä¾‹çš„å…¶å®ƒéƒ¨åˆ†éƒ½è¿˜æ²¡æœ‰åˆå§‹åŒ–ã€‚ä¹Ÿå°±è¯´ä¸èƒ½åœ¨é—­åŒ…é‡Œè®¿é—®å…¶å®ƒå±æ€§ï¼Œå³ä½¿è¿™äº›å±æ€§æœ‰é»˜è®¤å€¼ã€‚åŒæ ·ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨éšå¼çš„selfå±æ€§ï¼Œæˆ–è€…è°ƒç”¨ä»»ä½•å®ä¾‹æ–¹æ³•ã€‚ 1234567891011121314151617struct Checkerboard &#123; // è¥¿æ´‹è·³æ£‹æ£‹ç›˜ï¼ŒboardColorsæ˜¯æ£‹ç›˜é¢œè‰²æ•°ç»„(8*8) let boardColors: [Bool] = &#123; var temporaryBoard = [Bool]() var isBlack = false for i in 1...8 &#123; for j in 1...8 &#123; temporaryBoard.append(isBlack) isBlack = !isBlack &#125; isBlack = !isBlack &#125; return temporaryBoard &#125;() func squareIsBlackAtRow(row: Int, column: Int) -&gt; Bool &#123; return boardColors[(row * 8) + column] &#125;&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>æ„é€ è¿‡ç¨‹</tag>
        <tag>Initialization</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-13ï¼šç»§æ‰¿(Inheritance)]]></title>
    <url>%2F2017%2Fswift-13-inheritance.html</url>
    <content type="text"><![CDATA[ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿(inherit)å¦ä¸€ä¸ªç±»çš„æ–¹æ³•(methods)ï¼Œå±æ€§(properties)å’Œå…¶å®ƒç‰¹æ€§ç±»å¯ä»¥è°ƒç”¨å’Œè®¿é—®è¶…ç±»çš„æ–¹æ³•ï¼Œå±æ€§å’Œä¸‹æ ‡(subscripts)ï¼Œå¹¶ä¸”å¯ä»¥é‡å†™(override)è¿™äº›æ–¹æ³•ï¼Œå±æ€§å’Œä¸‹æ ‡æ¥ä¼˜åŒ–æˆ–ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºã€‚å¯ä»¥ä¸ºç±»ä¸­ç»§æ‰¿æ¥çš„å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨(property observers) 1 åŸºç±»(base class)12345678910class Vehicle &#123; var currentSpeed = 0.0 var description: String &#123; return "traveling at \(currentSpeed) miles per hour" &#125; func makeNoise() &#123; // ä»€ä¹ˆä¹Ÿä¸åš-å› ä¸ºè½¦è¾†ä¸ä¸€å®šä¼šæœ‰å™ªéŸ³ &#125;&#125;let someVehicle = Vehicle() 2 å­ç±»ç”Ÿæˆ(Subclassing) 1234567891011class Bicycle: Vehicle &#123; var hasBasket = false&#125;let bicycle = Bicycle()bicycle.hasBasket = truebicycle.currentSpeed = 15.0print("Bicycle: \(bicycle.description)")class Tandem: Bicycle &#123; var currentNumberOfPassengers = 0&#125; 3 é‡å†™(Overriding)ä»»ä½•ç¼ºå°‘overrideå…³é”®å­—çš„é‡å†™éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶è¢«è¯Šæ–­ä¸ºé”™è¯¯ã€‚ è®¿é—®è¶…ç±»çš„æ–¹æ³•ï¼Œå±æ€§åŠä¸‹æ ‡ã€‚ super 1234567891011121314151617181920class Train: Vehicle &#123; override func makeNoise() &#123; print("Choo Choo") &#125;&#125;let train = Train()train.makeNoise()class Car: Vehicle &#123; var gear = 1 override var description: String &#123; return super.description + " in gear \(gear)" &#125;&#125;class AutomaticCar: Car &#123; override var currentSpeed: Double &#123; didSet &#123; gear = Int(currentSpeed / 10.0) + 1 &#125; &#125;&#125; 4 é˜²æ­¢é‡å†™final var final func final class func final subscript playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>ç»§æ‰¿</tag>
        <tag>Inheritance</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-12ï¼šä¸‹æ ‡(Subscripts)]]></title>
    <url>%2F2017%2Fswift-12-subscripts.html</url>
    <content type="text"><![CDATA[ä¸‹æ ‡ (subscripts)å¯ä»¥å®šä¹‰åœ¨ç±»(class)ã€ç»“æ„ä½“(structure)å’Œæšä¸¾(enumeration)ä¸­ï¼Œæ˜¯è®¿é—®é›†åˆ(collection)ï¼Œåˆ—è¡¨(list)æˆ–åºåˆ—(sequence)ä¸­å…ƒç´ çš„å¿«æ·æ–¹å¼ã€‚ä¸€ä¸ªç±»å‹å¯ä»¥å®šä¹‰å¤šä¸ªä¸‹æ ‡ï¼Œé€šè¿‡ä¸åŒç´¢å¼•ç±»å‹è¿›è¡Œé‡è½½ã€‚ 1 ä¸‹æ ‡è¯­æ³•12345678struct TimesTable &#123; let multiplier: Int subscript(index: Int) -&gt; Int &#123; return multiplier * index &#125;&#125;let threeTimesTable = TimesTable(multiplier: 3)print("six times three is \(threeTimesTable[6])") 2 ä¸‹æ ‡ç”¨æ³•å­—å…¸é€šè¿‡ä¸‹æ ‡è¿”å›æ˜¯å¯é€‰ç±»å‹ 12var numberOfLegs = ["spider": 8, "ant": 6, "cat": 4]numberOfLegs["bird"] = 2 3 ä¸‹æ ‡é€‰é¡¹ä¸‹æ ‡å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å…¥å‚ï¼Œå¹¶ä¸”è¿™äº›å…¥å‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ä¸‹æ ‡å¯ä»¥ä½¿ç”¨å˜é‡å‚æ•°å’Œå¯å˜å‚æ•°ï¼Œä½†ä¸èƒ½ä½¿ç”¨è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œä¹Ÿä¸èƒ½ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚ 12345678910111213141516171819202122232425// ä¸€ä¸ª Double ç±»å‹çš„äºŒç»´çŸ©é˜µstruct Matrix &#123; let rows: Int, columns: Int var grid: [Double] init(rows: Int, columns: Int) &#123; self.rows = rows self.columns = columns grid = Array(repeating: 0.0, count: rows * columns) &#125; func indexIsValidForRow(row: Int, column: Int) -&gt; Bool &#123; return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns &#125; subscript(row: Int, column: Int) -&gt; Double &#123; get &#123; assert(indexIsValidForRow(row: row, column: column), "Index out of range") return grid[(row * columns) + column] &#125; set &#123; assert(indexIsValidForRow(row: row, column: column), "Index out of range") grid[(row * columns) + column] = newValue &#125; &#125;&#125;var matrix = Matrix(rows: 2, columns: 3)matrix[1, 2] = 2 playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>ä¸‹æ ‡</tag>
        <tag>Subscripts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 2 Hello Worldï¼ç¬¬ä¸€ä¸ªSwift APP]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-2.html</url>
    <content type="text"><![CDATA[â€œHello,Worldâ€å·²ç»æˆä¸ºç¼–ç¨‹ä¸–ç•Œé‡Œå¼€å§‹çš„æƒ¯ä¾‹ã€‚ å¼€å§‹ï¼šå…ˆåŠ¨èµ·æ¥ï¼Œå¿˜è®°ä»£ç  æ‰“å¼€Xcodeï¼Œé€‰æ‹©â€Create a new Xcode projectâ€ é€‰æ‹© iOS &gt; Single View Application and click Next å¡«å†™é¡¹ç›®çš„ä¸€äº›é€‰é¡¹: Product Name: HelloWorld - appçš„åå­— Team - Apple ID Organization Name: andyron - è¿™ä¸€èˆ¬æ˜¯ç»„ç»‡çš„åå­—ï¼Œæˆ–ä¸ªäººç”¨æˆ·çš„åå­—ï¼›å°½é‡ä¿æŒä¸ä¸åˆ«äººé‡å¤ Organization Identifier: cn.andyron Bundle Identifier: com.andyron.HelloWorld - æ ¹æ®Organization Identifierå’ŒProduct Nameè‡ªåŠ¨ç»„åˆè€Œæˆ Language: Swift Devices: iPhone Use Core Data: [unchecked] Include Unit Tests: [unchecked] Include UI Tests: [unchecked] é€‰æ‹©ä¸€ä¸ªé¡¹ç›®ä¿æŒä½ç½®ï¼Œç„¶åç”Ÿæˆé¡¹ç›® ç†Ÿæ‚‰Xcodeç•Œé¢Xcode Helpä¸­è¯¦ç»†ä»‹ç»äº†Xcodeï¼Œä¸»ç•Œé¢å¦‚ä¸‹ï¼š ä¸»è¦åˆ†å…­ä¸ªåŒºåŸŸï¼š Toolbar(å·¥å…·æ ) Tab bar(ä¾¿ç­¾é¡µæ )ï¼šç±»ä¼¼æµè§ˆå™¨çš„æ ‡ç­¾é¡µï¼Œå¿«æ·é”®ä¹Ÿå’Œå¤§éƒ¨åˆ†è½¯ä»¶çš„ç›¸åŒ(âŒ˜+Tæ–°å»ºï¼ŒâŒ˜+Wå…³é—­)ï¼Œå•ä¸ªæ ‡ç­¾é¡µæ—¶æ˜¯éšè—çš„ Navigator area(å¯¼èˆªåŒºåŸŸ)è¿™ä¸ªåŒºåŸŸæœ€ä¸Šé¢æœ‰å…«ä¸ªå›¾æ ‡ï¼ˆå¿«æ·é”®åˆ†åˆ«å¯¹åº”âŒ˜+1 ~ âŒ˜+8ï¼‰ï¼š project navigator(æºä»£ç æ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶ã€æ•°æ®æ¨¡å‹ã€å±æ€§åˆ—è¡¨ç­‰) symbol navigator(ç¼–è¯‘å™¨èƒ½è¯†åˆ«çš„ï¼šOCç±»ã€æšä¸¾ç±»å‹ã€ç»“æ„ä½“ã€å…¨å±€å˜é‡) find navigator issues navigator test navigator debug navigator breakpoint navigator log navigator Editor areaï¼ˆç¼–è¾‘åŒºï¼‰è¿™ä¸ªåŒºåŸŸæœ€ä¸Šé¢æ˜¯jump bar(è·³è½¬æ ) Debug area Utilities areaï¼ˆå®ç”¨å·¥å…·é¢æ¿ï¼‰åˆ†ä¸Šä¸‹ä¸¤å—ï¼š Inspector pane(æ£€æŸ¥å™¨)ï¼šé€‰æ‹©ä¸åŒæ–‡ä»¶ä¼šæœ‰ä¸åŒä¸ªæ•°çš„æ£€æŸ¥å™¨ï¼Œæœ€å¤šå…­ä¸ª(å¿«æ·é”®åˆ†åˆ«å¯¹åº”âŒ˜+option+1 ~ âŒ˜+option+6)ã€‚ Library pane(åº“é¢ç‰ˆ, å¿«æ·é”®åˆ†åˆ«å¯¹åº”âŒ˜+option+control+1 ~ âŒ˜+option+control+4) æ–‡ä»¶åº“æ¨¡æ¿(File Template Library) : ç®¡ç†æ–‡ä»¶æ¨¡æ¿, å¯ä»¥å¿«é€Ÿåˆ›å»ºæŒ‡å®šç±»å‹æ–‡ä»¶, å¯ä»¥ç›´æ¥æ‹–å…¥é¡¹ç›®ä¸­; ä»£ç ç‰‡æ®µåº“(Code Snippet Library) : ç®¡ç†å„ç§ä»£ç ç‰‡æ®µ, å¯ä»¥ç›´æ¥æ‹–å…¥æºä»£ç ä¸­; å¯¹è±¡åº“(Object Library) : ç•Œé¢ç»„ä»¶, å¯ä»¥ç›´æ¥æ‹–å…¥ æ•…äº‹æ¿ä¸­; åª’ä½“åº“(Media Library) : ç®¡ç†å„ç§ å›¾ç‰‡, éŸ³é¢‘ ç­‰å¤šåª’ä½“èµ„æº; ç¬¬ä¸€æ¬¡è¿è¡ŒAppRunå’ŒStopåˆ†åˆ«å¯¹åº” âŒ˜+Rå’ŒâŒ˜+.ï¼ŒSimulatorç”¨äºé€‰æ‹©æ¨¡æ‹Ÿå™¨æˆ–çœŸå®è®¾å¤‡ å¿«é€Ÿäº†è§£Interface Builderï¼ˆIBï¼‰åœ¨project navigatorä¸­é€‰æ‹©main.storyboardThe Interface Builder editorä¸ºåˆ›é€ å’Œè®¾è®¡appçš„UIæé«˜äº†ä¸€ä¸ªå¯è§†åŒ–çš„æ–¹æ³•ã€‚åœ¨è¿™é‡Œæ—¢å¯ä»¥è®¾è®¡å•ä¸ªé¡µé¢ï¼Œä¹Ÿå¯ä»¥è®¾è®¡å¤šä¸ªé¡µé¢ã€‚å¯ä»¥ç›´æ¥ä»å³ä¸‹è§’Object libraryæ‹–åŠ¨å¯ç”¨å¯¹è±¡åˆ°IBä¸­ã€‚å½“å¼€å§‹æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©äº†Single View Applicationæ¨¡æ¿æ—¶ï¼ŒXcodeé»˜è®¤åœ¨storyboardä¸­ç”Ÿæˆä¸€ä¸ªview controller sceneï¼Œå¯¹åº”ä¸€ä¸ªview controllerã€‚é€šå¸¸appçš„æ¯ä¸€ä¸ªscreenä»£è¡¨ä¸€ä¸ªview controllerã€‚The Document Outline viewåœ¨é€‰æ‹©storyboardç‰¹å®šå¯¹è±¡æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚ è®¾è®¡UI æ‹–åŠ¨ä¸€ä¸ªButtonåˆ°IBä¸­ åŒå‡»Buttonæˆ–åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ä¿®æ”¹nameä¸ºâ€Hello World** æ ¹æ®è“è‰²è™šçº¿è¾…åŠ©çº¿å¯ä»¥æŠŠButtonæ‹–åˆ°ä¸­å¿ƒä½ç½® å†™ä»£ç  é€‰æ‹©main.storyboardï¼Œç‚¹å‡»å·¥å…·æ å³ä¾§çš„Assistant editor(option+âŒ˜+return)ï¼Œç¼–è¾‘åŒºå‡ºç°ä¸¤éƒ¨åˆ†ï¼ŒCtrlæ‹–åŠ¨æŒ‰é’®åˆ°å³ä¾§ViewControllerç±»ä¸­ï¼š ç„¶åå†™ä¸‹å¦‚ä¸‹ä»£ç ï¼š1234567@IBAction func showMessage() &#123; let alertController = UIAlertController(title: &quot;Welcome to My First App&quot;,message: &quot;Hello World&quot;, preferredStyle: UIAlertControllerStyle.alert) alertController.addAction(UIAlertAction(title: &quot;OK&quot;, style:UIAlertActionStyle.default, handler: nil)) present(alertController, animated: true, completion: nil)&#125; ä¸Šé¢çš„æ–¹æ³•æ˜¯å…ˆè¿æ¥å…³ç³»ï¼Œç„¶åå†™ä»£ç ï¼›ä¹Ÿå¯ä»¥å…ˆå†™å¥½ä»£ç ï¼Œç„¶åå»ºç«‹å…³ç³»ï¼š@IBActionè¡¨ç¤ºä¸€ä¸ªActionçš„æ ‡è¯†ç¬¦ï¼Œæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œå½“å»ºç«‹å¥½å…³ç³»åï¼Œ@IBActionå³ä¾§ä¼šå‡ºç°ä¸€ä¸ªå®å¿ƒçš„ç‚¹ï¼Œç‚¹å‡»ä¼šå‡ºç°ä¼šå‡ºç°ä»¥ä¸ªå¼¹æ¡†è¡¨ç¤ºè¿æ¥çš„åœ°æ–¹ï¼š ä¿®æ”¹æŒ‰é’®çš„é¢œè‰²ã€‚é€‰ä¸­æŒ‰é’®ï¼Œåœ¨å±æ€§æ£€æŸ¥å™¨ä¸­ä¿®æ”¹å¯¹åº”å±æ€§ æµ‹è¯•åº”ç”¨é€‰æ‹©ç‰¹å®šçš„æ¨¡æ‹Ÿå™¨æˆ–è®¾å¤‡ï¼ŒâŒ˜+R Hello world åº”ç”¨ä¸­äº‹ä»¶æµ æ›´è¿‘ä¸€æ­¥ åŒä¸Šçš„æ–¹æ³•æ·»åŠ å‡ ä¸ªæŒ‰é’®ï¼Œå¹¶ä¿®æ”¹buttonçš„nameä¸ºä¸€äº›emojiè¡¨æƒ…ï¼ˆcontrol+âŒ˜+spaceï¼‰ æ·»åŠ @IBActionæ–¹æ³•ä»£ç  é€šè¿‡å…ˆå†™å¥½ä»£ç ç„¶åå»ºç«‹å…³ç³»çš„æ–¹æ³•ï¼ŒæŠŠå‡ ä¸ªbuttonéƒ½ä¸åŒä¸€ä¸ª@IBActionæ–¹æ³•å»ºç«‹å…³ç³» ä»£ç HelloWorldHelloWordExercise è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¼€å§‹ç”¨Swiftå¼€å‘iOS 10 - 3 ä»‹ç»Auto Layout]]></title>
    <url>%2F2017%2Fbeginning-ios-swift-3.html</url>
    <content type="text"><![CDATA[Auto layoutæ˜¯ä¸€ç§åŸºäºçº¦æŸçš„ï¼Œæè¿°æ€§çš„å¸ƒå±€ç³»ç»Ÿã€‚ iPhoneå°ºå¯¸ ä¸ºä»€ä¹ˆä½¿ç”¨Auto Layoutå‰é¢çš„ä¸€éƒ¨åˆ†çš„é¡¹ç›®HelloWorldé»˜è®¤æ˜¯è¿è¡Œçš„iPhone 7(iPhone 6)çš„ç«–å±ä¸‹çš„ï¼Œbuttonæ˜¯åœ¨å±å¹•ä¸­é—´çš„ï¼Œä½†æ˜¯å¦‚æœå…¶ä»–å±å¹•å¤§å°æˆ–ä¸åŒæ–¹ä½å°±ä¸ä¸€å®šäº†ã€‚æŒ‰ç…§åœ¨é»˜è®¤iPhone 7çš„æ¡ä»¶ä¸‹ï¼Œbuttonçš„å·¦ä¸Šè§’çš„åæ ‡æ˜¯(147,318)ï¼Œå…¶ä»–å°ºå¯¸çš„è®¾å¤‡å’Œä¸åŒæ–¹ä½æ˜¾ç¤ºæ—¶ä¹Ÿä¼šæŒ‰ç…§è¿™ç§åæ ‡æ˜¾ç¤ºï¼Œå°±ä¸ä¼šåœ¨ä¸­é—´äº†ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨Auto Layoutã€‚ Auto Layoutå°±æ˜¯å…³äºæ‰€æœ‰çº¦æŸå…³äºâ€œHello Worldâ€æŒ‰é’®çš„ä½ç½®ä¿¡æ¯çš„æè¿°å¯èƒ½æ¯”è¾ƒå¥½çš„æ˜¯ï¼š æ— è®ºå±å¹•çš„åˆ†è¾¨ç‡å’Œæ–¹ä½ï¼Œè¿™ä¸ªæŒ‰é’®åœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘éƒ½åº”è¯¥æ˜¯å±…ä¸­çš„ è¿™å®é™…å°±å®šä¹‰äº†ä¸¤ä¸ªçº¦æŸï¼š æ°´å¹³å±…ä¸­ å‚ç›´å±…ä¸­ åœ¨Auto Layoutä¸­çº¦æŸéƒ½è¢«æè¿°æˆæ•°å­¦è¡¨ç¤ºï¼Œä¾‹å¦‚ä¸Šè¿°ä¸¤ä¸ªé™åˆ¶å°±ä¼šè¢«è¡¨ç¤ºæˆï¼š Hello World.centerX = centerX ï¼Œ Hello World.centerY = centerYã€‚å½“ç„¶æˆ‘ä»¬ä¸éœ€è¦ç›´æ¥å¤„ç†è¿™ç§æ•°å­¦å…¬å¼ï¼ŒXcodeä¼šå¸®æˆ‘ä»¬å¤„ç†ã€‚ ä½¿ç”¨Auto Layoutä½¿Buttonåˆ°ä¸­å¤®Xcodeæä¾›äº†ä¸¤ç§æ–¹æ³•å®šä¹‰Auto Layoutçš„çº¦æŸï¼š Auto Layoutå·¥å…·æ  Control-drag Auto Layoutå·¥å…·æ æä¾›äº†å››ä¸ªæŒ‰é’®ï¼š Stack - ç»„åˆviewså˜æˆä¸€ä¸ªstack view Align - æ„å»ºå¯¹é½çº¦æŸ Pin - æ„å»ºç©ºé—´çº¦æŸï¼Œä¾‹å¦‚UIçš„å®½åº¦ï¼Œé«˜åº¦ï¼Œè¾¹è·ç­‰ Issues - è§£å†³å¸ƒå±€é—®é¢˜ ä½¿ç”¨Alignæ¥å®šä¹‰ä¸¤ä¸ªçº¦æŸï¼šæ°´å¹³å±…ä¸­ å’Œ å‚ç›´å±…ä¸­ã€‚å¼¹çª—ä¸­â€Horizontal in containerâ€åçš„æ•°å­—è¡¨ç¤ºbuttonä¸­å¿ƒç‚¹çš„xåæ ‡ä¸çˆ¶è§†å›¾ä¸­å¿ƒç‚¹çš„xåæ ‡çš„ç›¸å·®æ•°ï¼Œ â€œVertically in containerâ€åçš„æ•°å­—è¡¨ç¤ºbuttonä¸­å¿ƒç‚¹çš„yåæ ‡ä¸çˆ¶è§†å›¾ä¸­å¿ƒç‚¹çš„yåæ ‡çš„ç›¸å·®æ•°ã€‚å¦‚æœéƒ½ä¸ºé›¶å°±è¡¨ç¤ºbuttonçš„ä¸­å¿ƒå’Œçˆ¶è§†å›¾çš„ä¸­å¿ƒæ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´buttonæ°´å¹³å’Œå‚ç›´æ–¹å‘éƒ½å±…ä¸­ã€‚ ç‚¹å‡» â€œAdd 2 Constraintsâ€ åï¼Œä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µã€‚åœ¨document outlineä¸­å‡ºç°ä¸¤ä¸ªçº¦æŸé€‰é¡¹ï¼Œåœ¨è§†å›¾ä¸­å‡ºç°å‚ç›´ä¸¤æ¡è“è‰²çš„å®çº¿ï¼Œåœ¨sizeæ£€æŸ¥å™¨ä¸­ä¹Ÿèƒ½çœ‹åˆ°çº¦æŸã€‚ å¦‚æœç‚¹å‡»æ¯ä¸ªçº¦æŸï¼Œåœ¨sizeæ£€æŸ¥å™¨ä¸­è¿˜èƒ½çœ‹åˆ°æ¯ä¸ªçº¦æŸçš„å…·ä½“ä¿¡æ¯ï¼Œä¹Ÿèƒ½åœ¨æ­¤ä¿®æ”¹çº¦æŸã€‚ è§£å†³å¸ƒå±€çº¦æŸé—®é¢˜Xcodeå¯ä»¥éå¸¸æ™ºèƒ½çš„æ£€æµ‹çš„å¸ƒå±€çº¦æŸæ–¹é¢çš„é—®é¢˜ã€‚å½“åˆ›å»ºäº†æ¨¡æ£±ä¸¤å¯æˆ–å†²çªçš„çº¦æŸæ—¶å°±ä¼šå‡ºç°å¸ƒå±€é—®é¢˜ã€‚è¯•ç€å°†buttonæ‹–åŠ¨å·¦ä¸‹è§’ï¼Œè§†å›¾ä¸­åŸæœ¬çš„è“è‰²å®çº¿å˜æˆäº†é»„è‰²å®çº¿ï¼Œå¹¶ä¸”çº¿ä¸Šè¿˜æœ‰æ•°å­—ï¼Œè¿™äº›æ•°å­—è¡¨ç¤ºbuttonç°åœ¨çš„ä½ç½®åç¦»çº¦æŸçš„è·ç¦»ï¼Œdocument outlineå³ä¸Šè§’å‡ºç°ä¸€ä¸ªé»„è‰²ç®­å¤´(disclosure arrow)ã€‚ ç‚¹å‡»disclosure arrowï¼Œå‡ºç°å¸ƒå±€é—®é¢˜åˆ—è¡¨ï¼Œçº¢è‰²æ¡†ä¸­çš„Expectedè¡¨ç¤ºç°åœ¨çº¦æŸæ‰€æœŸæœ›çš„ä½ç½®ä¹Ÿå°±æ˜¯å±…ä¸­ä½ç½®ï¼ŒActualè¡¨ç¤ºç°åœ¨å®é™…ä½ç½®ã€‚æ¯ä¸ªé—®é¢˜å³ä¾§æœ‰ä¸ªindicator iconï¼Œç‚¹å‡»å®ƒå‡ºç°ä¸€ä¸ªå¼¹æ¡†ï¼Œé€‰æ‹©Update Frameç„¶åç‚¹å‡»Fix Misplacementï¼ŒæŒ‰é’®å›åˆ°åŸæ¥ä¸­å¤®ä½ç½®ï¼›é€‰æ‹©Update constraintsè¡¨ç¤ºbuttonçš„ä½ç½®ä¸å˜ï¼Œæ›´æ–°åˆ°æœ€æ–°ä½ç½®çš„çº¦æŸã€‚ å®é™…ä¸Šï¼Œç‚¹å‡»Auto Layoutå·¥å…·æ æœ€å³ä¾§çš„issueï¼Œä¹Ÿä¼šå‡ºç°ç±»ä¼¼çš„åŠŸèƒ½ï¼š ä¸åŒè®¾å¤‡åŒæ—¶é¢„è§ˆXcodeæä¾›äº†ä¸€ä¸ªåŒæ—¶é¢„è§ˆä¸åŒè®¾å¤‡ä¸‹è§†å›¾çš„ç•Œé¢ã€‚æŒ‰ä½optionï¼Œç„¶åæŒ‰menu &gt; Preview(1) &gt; Main.storyboard (Preview)ï¼Œå°±èƒ½æ‰“å¼€ç”¨äºé¢„è§ˆçš„assistant editorã€‚ è¿™ä¸ªé¢„è§ˆçª—å£å¯ä»¥é¢„è§ˆç›®å‰æ‰€æœ‰iOSè®¾å¤‡ã€‚ æ·»åŠ ä¸€ä¸ªLabel æ·»åŠ ä¸€ä¸ªâ€Welcome to Auto Layoutâ€çš„æ ‡ç­¾åœ¨å³ä¸‹è§’ï¼Œå¹¶æ‰“å¼€é¢„è§ˆçª—å£æŸ¥çœ‹ï¼Œå‘ç°å‡ºæ¥é™¤äº†é»˜è®¤çš„iPhone 7ï¼Œå…¶ä»–è®¾å¤‡è¦ä¸åç¦»äº†ï¼Œè¦ä¸ä¸è§äº†ã€‚ ç”¨control+dragæ–¹æ³•æ¥æ·»åŠ spacing constraintã€‚æŒ‰ä½controlï¼Œä»labelä¸Šå‘å³æ‹–åŠ¨ï¼Œæ‹–å‡ºlabelåˆ°è§†å›¾åæ¾å¼€ï¼Œå‡ºç°å¼¹æ¡†ï¼Œé€‰æ‹© â€œTrailing space to container marginâ€ ï¼Œè¡¨ç¤ºè®¾ç½®å³è¾¹è·çš„çº¦æŸã€‚ ç±»ä¼¼2çš„æ–¹æ³•ï¼Œå‘ä¸‹æ‹–åŠ¨æ¾å¼€ï¼Œé€‰æ‹©å¼¹æ¡†ä¸­çš„â€Vertical Spacing to Bottom Layout Guideâ€ï¼Œè¡¨ç¤ºè®¾ç½®äº†ä¸‹è¾¹è·çº¦æŸã€‚æ‰€æœ‰çº¦æŸçº¿å˜æˆäº†è“è‰²å®çº¿ï¼Œè“è‰²å®çº¿è¡¨ç¤ºçº¦æŸæ­£å¸¸ã€‚ document outlineä¸Šåˆå‡ºç°ä¸¤ä¸ªçº¦æŸï¼š æ­¤æ—¶å¦‚æœç”¨é¢„è§ˆçª—å£æŸ¥çœ‹ï¼Œå‘ç°labelåœ¨ä¸åŒçš„è®¾å¤‡ä¸Šéƒ½åœ¨å³ä¸‹è§’äº†ï¼š ç¼–è¾‘çº¦æŸå‰é¢ä¹Ÿæåˆ°çº¦æŸæœ¬èº«å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹çš„ï¼Œé€‰æ‹©çº¦æŸï¼Œç„¶ååœ¨sizeæ£€æŸ¥å™¨ä¸­ä¿®æ”¹ã€‚é»˜è®¤labelçš„â€trailingMarginâ€çº¦æŸçš„constantå€¼æ˜¯0ï¼Œå¯ä»¥è¯•ç€ä¿®æ”¹ã€‚ ç»ƒä¹  æ·»åŠ æ–°çš„labelï¼Œä¿®æ”¹æ–‡æœ¬ä¸ºLearn Swift æŠŠå­—ä½“å¤§å°æ”¹ä¸º30 pointï¼Œè°ƒæ•´labelä¸ºé€‚å®œå¤§å° æ·»åŠ ä¸¤ä¸ªçº¦æŸ labelçš„ä¸Šè¾¹è·ä¸º40point labelæ°´å¹³å±…ä¸­ ä»£ç HelloWorldAutoLayoutHelloWorldAutoLayoutExercise è¯´æ˜æ­¤æ–‡æ˜¯å­¦ä¹ appcodeç½‘ç«™å‡ºçš„ä¸€æœ¬ä¹¦ ã€ŠBeginning iOS 10 Programming with Swiftã€‹ çš„ä¸€ç¯‡è®°å½•]]></content>
      <categories>
        <category>Beginning_iOS_Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-11ï¼šæ–¹æ³•(Methods)]]></title>
    <url>%2F2017%2Fswift-11-methods.html</url>
    <content type="text"><![CDATA[æ–¹æ³•æ˜¯ä¸æŸäº›ç‰¹å®šç±»å‹ç›¸å…³è”çš„å‡½æ•°å®ä¾‹æ–¹æ³•ä¸ºç»™å®šç±»å‹çš„å®ä¾‹å°è£…äº†å…·ä½“çš„ä»»åŠ¡ä¸åŠŸèƒ½ç±»ã€ç»“æ„ä½“ã€æšä¸¾éƒ½å¯ä»¥å®šä¹‰å®ä¾‹æ–¹æ³•ï¼Œä¹Ÿéƒ½å¯ä»¥å®šä¹‰ç±»å‹æ–¹æ³•åœ¨OCä¸­ï¼Œç±»æ˜¯å”¯ä¸€èƒ½å®šä¹‰æ–¹æ³•çš„ç±»å‹ 1 å®ä¾‹æ–¹æ³• (Instance Methods) å®ä¾‹æ–¹æ³•åªèƒ½è¢«å®ƒæ‰€å±çš„ç±»çš„æŸä¸ªç‰¹å®šå®ä¾‹è°ƒç”¨ 123456789101112class Counter &#123; var count = 0 func increment() &#123; count += 1 &#125; func incrementBy(amount: Int) &#123; count += amount &#125; func reset() &#123; count = 0 &#125;&#125; æ–¹æ³•çš„å±€éƒ¨å‚æ•°åç§°å’Œå¤–éƒ¨å‚æ•°åç§° (Local and External Parameter Names for Methods) 12345678class Counter2 &#123; var count: Int = 0 func incrementBy(amount: Int, numberOfTimes: Int) &#123; count += amount * numberOfTimes &#125;&#125;let counter = Counter2()counter.incrementBy(amount: 5, numberOfTimes: 3) self å±æ€§(The self Property)ï¼šselfå®Œå…¨ç­‰åŒäºè¯¥å®ä¾‹æœ¬èº«ã€‚ æ¶ˆé™¤æ–¹æ³•å‚æ•° x å’Œå®ä¾‹å±æ€§ x ä¹‹é—´çš„æ­§ä¹‰: 123456struct Point &#123; var x = 0.0, y = 0.0 func isToTheRightOfX(x: Double) -&gt; Bool &#123; return self.x &gt; x &#125;&#125; åœ¨å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹å€¼ç±»å‹(Modifying Value Types from Within Instance Methods)ç»“æ„ä½“å’Œæšä¸¾çš„å±æ€§ä¸èƒ½åœ¨å®ƒçš„å®ä¾‹æ–¹æ³•ä¸­è¢«ä¿®æ”¹(å› ä¸ºç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹)ï¼Œä½†å¯é€šè¿‡mutatingï¼ˆå¯å˜æ–¹æ³•ï¼‰ä¿®æ”¹ã€‚ 123456789struct Point2 &#123; var x = 0.0, y = 0.0 mutating func moveByX(_ deltaX: Double, y deltaY: Double) &#123; x += deltaX y += deltaY &#125;&#125;var somePoint = Point2(x: 1.0, y: 1.0)somePoint.moveByX(2.0, y: 3.0) åœ¨å¯å˜æ–¹æ³•ä¸­ç»™ self èµ‹å€¼(Assigning to self Within a Mutating Method) 12345678910111213141516171819struct Point3 &#123; var x = 0.0, y = 0.0 mutating func moveByX(_ deltaX: Double, y deltaY: Double) &#123; self = Point3(x: x + deltaX, y: y + deltaY) &#125;&#125;enum TriStateSwitch &#123; case Off, Low, High mutating func next() &#123; switch self &#123; case .Off: self = .Low case .Low: self = .High case .High: self = .Off &#125; &#125;&#125; 2 ç±»å‹æ–¹æ³• (Type Methods)static classåœ¨ç±»å‹æ–¹æ³•çš„æ–¹æ³•ä½“(body)ä¸­ï¼ŒselfæŒ‡å‘è¿™ä¸ªç±»å‹æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»å‹çš„æŸä¸ªå®ä¾‹ã€‚ 1234567891011121314151617181920212223242526272829struct LevelTracker &#123; static var highestUnlockedLevel = 1 static func unlockLevel(level: Int) &#123; if level &gt; highestUnlockedLevel &#123; highestUnlockedLevel = level &#125; &#125; static func levelIsUnlocked(level: Int) -&gt; Bool &#123; return level &lt;= highestUnlockedLevel &#125; var currentLevel = 1 mutating func advanceToLevel(level: Int) -&gt; Bool &#123; if LevelTracker.levelIsUnlocked(level: level) &#123; currentLevel = level return true &#125; else &#123; return false &#125; &#125;&#125;class Player &#123; var tracker = LevelTracker() let playerName: String func completedLevel(level: Int) &#123; LevelTracker.unlockLevel(level: level + 1) tracker.advanceToLevel(level: level + 1) &#125; init(name: String) &#123; playerName = name &#125;&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>æ–¹æ³•</tag>
        <tag>Methods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-10ï¼šå±æ€§(Properties)]]></title>
    <url>%2F2017%2Fswift-10-properties.html</url>
    <content type="text"><![CDATA[1 å­˜å‚¨å±æ€§ Stored Properties ï¼ˆåªèƒ½ç”¨äºç±»å’Œç»“æ„ä½“ï¼‰12345678910111213// æè¿°æ•´æ•°çš„èŒƒå›´ï¼Œä¸”è¿™ä¸ªèŒƒå›´å€¼åœ¨è¢«åˆ›å»ºåä¸èƒ½è¢«ä¿®æ”¹.struct FixedLengthRange &#123; var firstValue: Int let length: Int&#125;// è¯¥åŒºé—´è¡¨ç¤ºæ•´æ•°0ï¼Œ1ï¼Œ2var rangeOfThreeItems = FixedLengthRange(firstValue: 0, length: 3)// è¯¥åŒºé—´ç°åœ¨è¡¨ç¤ºæ•´æ•°6ï¼Œ7ï¼Œ8rangeOfThreeItems.firstValue = 6// å¸¸é‡ç»“æ„çš„å±æ€§ä¸èƒ½ä¿®æ”¹let rangeOfFourItems = FixedLengthRange(firstValue: 0, length: 4)// å°½ç®¡ firstValue æ˜¯ä¸ªå˜é‡å±æ€§ï¼Œè¿™é‡Œè¿˜æ˜¯ä¼šæŠ¥é”™//rangeOfFourItems.firstValue = 6 å»¶è¿Ÿå­˜å‚¨å±æ€§: ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè®¡ç®—å…¶åˆå§‹å€¼ã€‚ lazy var (å¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ï¼Œå› æ­¤æ— æ³•å£°æ˜æˆå»¶è¿Ÿå±æ€§)12345678910111213141516class DataImporter &#123; /* DataImporter æ˜¯ä¸€ä¸ªè´Ÿè´£å°†å¤–éƒ¨æ–‡ä»¶ä¸­çš„æ•°æ®å¯¼å…¥çš„ç±»ã€‚ è¿™ä¸ªç±»çš„åˆå§‹åŒ–ä¼šæ¶ˆè€—ä¸å°‘æ—¶é—´ã€‚ */ var fileName = "data.txt" // è¿™é‡Œä¼šæä¾›æ•°æ®å¯¼å…¥åŠŸèƒ½&#125;class DataManager &#123; lazy var importer = DataImporter() var data = [String]() // è¿™é‡Œä¼šæä¾›æ•°æ®ç®¡ç†åŠŸèƒ½&#125;let manager = DataManager() // DataImporter å®ä¾‹çš„ importer å±æ€§è¿˜æ²¡æœ‰è¢«åˆ›å»ºmanager.data.append("Some data")manager.data.append("Some more data")manager.importer.fileName 2 è®¡ç®—å±æ€§Computed Properties (å¯ç”¨äºç±»ï¼Œç»“æ„ä½“å’Œæšä¸¾)ä¸ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªgetterå’Œä¸€ä¸ªå¯é€‰çš„setter,æ¥é—´æ¥è·å–å’Œè®¾ç½®å…¶ä»–å±æ€§æˆ–å˜é‡çš„å€¼ã€‚ 12345678910111213141516171819202122232425262728293031323334struct Point &#123; var x = 0.0, y = 0.0&#125;struct Size &#123; var width = 0.0, height = 0.0&#125;struct Rect &#123; var origin = Point() var size = Size() var center: Point &#123; get &#123; let centerX = origin.x + (size.width / 2) let centerY = origin.y + (size.height / 2) return Point(x: centerX, y: centerY) &#125; set(newCenter) &#123; origin.x = newCenter.x - (size.width / 2) origin.y = newCenter.y - (size.height / 2) &#125; &#125;&#125;var square = Rect(origin: Point(x: 0.0, y: 0.0), size: Size(width: 10.0, height: 10.0))let initialSquareCenter = square.centersquare.center = Point(x: 15.0, y: 15.0)print("square.origin is now at (\(square.origin.x), \(square.origin.y))")// è¾“å‡º "square.origin is now at (10.0, 10.0)â€// åªè¯»è®¡ç®—å±æ€§struct Cuboid &#123; var width = 0.0, height = 0.0, depth = 0.0 var volume: Double &#123; // åªç”¨getæ—¶å¯ç®€å†™ return width*height*depth &#125;&#125; 3 å±æ€§è§‚å¯Ÿå™¨(Property Observers)è®¾ç½®å±æ€§æ—¶ï¼ˆå°±ç®—å€¼ä¸å˜ï¼‰ï¼Œå°±ä¼šè°ƒç”¨willSetï¼Œ didSet 123456789101112131415161718192021class StepCounter &#123; var totalSteps: Int = 0 &#123; willSet &#123; print("è®¾ç½®æˆ\(newValue)") &#125;// willSet(newTotalSteps) &#123;// print("About to set totalSteps to \(newTotalSteps)")// &#125; didSet &#123; if totalSteps &gt; oldValue &#123; print("Added \(totalSteps - oldValue) steps") &#125; &#125;// didSet(old) &#123;// print(old)// &#125; &#125;&#125;let stepCounter = StepCounter()stepCounter.totalSteps = 1stepCounter.totalSteps = 20 4 å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡(Global and Local Variables)è®¡ç®—å±æ€§å’Œå±æ€§è§‚å¯Ÿå™¨æ‰€æè¿°çš„åŠŸèƒ½ä¹Ÿå¯ä»¥ç”¨äºå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ 5 ç±»å‹å±æ€§(Type Properties)ï¼šç”¨äºæŸä¸ªç±»å‹æ‰€æœ‰å®ä¾‹å…±äº«çš„æ•°æ®ã€‚(ç±»ä¼¼äºå…¶ä»–è¯­è¨€çš„é™æ€å±æ€§)å­˜å‚¨å‹ç±»å‹å±æ€§æ˜¯å»¶è¿Ÿåˆå§‹åŒ–çš„ã€‚ æ ‡è¯†ç¬¦staticå¯ç”¨åœ¨ç±»ã€ç»“æ„ä½“ã€æšä¸¾ã€åè®®ï¼Œclassåªç”¨åœ¨ç±»ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647struct SomeStructure &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 1 &#125;&#125;enum SomeEnumeration &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 6 &#125;&#125;class SomeClass &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 27 &#125; class var overrideableComputedTypeProperty: Int &#123; return 107 &#125;&#125;SomeStructure.storedTypePropertyprotocol MyProtocol &#123; static func foo() -&gt; String&#125;// å£°é“æ¨¡å‹struct AudioChannel &#123; static let thresholdLevel = 10 // éŸ³é‡çš„æœ€å¤§ ä¸Šé™é˜ˆå€¼ static var maxInputLevelForAllChannels = 0 // å®ä¾‹çš„æœ€å¤§ éŸ³é‡ var currentLevel: Int = 0 &#123; didSet &#123; if currentLevel &gt; AudioChannel.thresholdLevel &#123; // å°†å½“å‰éŸ³é‡é™åˆ¶åœ¨é˜€å€¼ä¹‹å†… currentLevel = AudioChannel.thresholdLevel &#125; if currentLevel &gt; AudioChannel.maxInputLevelForAllChannels &#123; // å­˜å‚¨å½“å‰éŸ³é‡ä½œä¸ºæ–°çš„æœ€å¤§è¾“å…¥éŸ³é‡ AudioChannel.maxInputLevelForAllChannels = currentLevel &#125; &#125; &#125;&#125;var leftChannel = AudioChannel()var rightChannel = AudioChannel()leftChannel.currentLevel = 7print(leftChannel.currentLevel)print(AudioChannel.maxInputLevelForAllChannels) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>å±æ€§</tag>
        <tag>Properties</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-9ï¼šç±»å’Œç»“æ„ä½“(Classes and Structures)]]></title>
    <url>%2F2017%2Fswift-9-structures-classes.html</url>
    <content type="text"><![CDATA[ä¸€ä¸ªå•ä¸€æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªç±»æˆ–è€…ç»“æ„ä½“ï¼Œç³»ç»Ÿå°†ä¼šè‡ªåŠ¨ç”Ÿæˆé¢å‘å…¶å®ƒä»£ç çš„å¤–éƒ¨æ¥å£ã€‚ ç±»å’Œç»“æ„ä½“çš„å¼‚åŒ ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹ï¼š å®šä¹‰å±æ€§ç”¨äºå­˜å‚¨å€¼ å®šä¹‰æ–¹æ³•ç”¨äºæä¾›åŠŸèƒ½ å®šä¹‰ä¸‹æ ‡æ“ä½œä½¿å¾—å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å®ä¾‹æ‰€åŒ…å«çš„å€¼ å®šä¹‰æ„é€ å™¨ç”¨äºç”Ÿæˆåˆå§‹åŒ–å€¼ é€šè¿‡æ‰©å±•ä»¥å¢åŠ é»˜è®¤å®ç°çš„åŠŸèƒ½ å®ç°åè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½ ç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½ï¼š ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾ ç±»å‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®ä¾‹çš„ç±»å‹ ææ„å™¨å…è®¸ä¸€ä¸ªç±»å®ä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æº å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨ ç»“æ„ä½“æ€»æ˜¯é€šè¿‡è¢«å¤åˆ¶çš„æ–¹å¼åœ¨ä»£ç ä¸­ä¼ é€’ï¼Œä¸ä½¿ç”¨å¼•ç”¨è®¡æ•°ã€‚ æ–°ç±»æˆ–ç»“æ„ä½“å‘½åç”¨UpperCamelCaseï¼ˆSwiftç±»å‹çš„å‘½åè§„èŒƒï¼‰ å±æ€§å’Œæ–¹æ³•å‘½åç”¨lowerCamelCase 12345678910struct Resolution &#123; var width = 0 var height = 0&#125;class VideoMode &#123; var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String?&#125; ç±»å’Œç»“æ„ä½“å®ä¾‹ ç»“æ„ä½“å’Œç±»éƒ½ä½¿ç”¨æ„é€ å™¨è¯­æ³•æ¥ç”Ÿæˆæ–°çš„å®ä¾‹ï¼Œ ()æ˜¯æœ€ç®€å•çš„æ„é€ å™¨è¯­æ³•ã€‚ 12let someResolution = Resolution()let someVideoMode = VideoMode() ç»“æ„ä½“çš„æˆå‘˜é€ä¸€æ„é€ å™¨ 1let hd = Resolution(width: 1920, height: 1080) ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹ã€‚æ‰€æœ‰çš„åŸºæœ¬ç±»å‹:æ•´æ•°(Integer)ã€æµ® ç‚¹æ•°(floating-point)ã€å¸ƒå°”å€¼(Boolean)ã€å­—ç¬¦ä¸²(string)ã€æ•°ç»„(array)å’Œå­—å…¸(dictionary)ï¼Œéƒ½æ˜¯ å€¼ç±»å‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼æ‰€å®ç°ã€‚ 123var cinema = hdcinema.width = 2048print("hd is still \(hd.width) pixels wide") ç±»æ˜¯å¼•ç”¨ç±»å‹ 12345678910let tenEighty = VideoMode()tenEighty.resolution = hdtenEighty.interlaced = truetenEighty.name = "1080i"tenEighty.frameRate = 25.0let alsoTenEighty = tenEightyalsoTenEighty.frameRate = 30.0tenEighty.frameRate// æ’ç­‰è¿ç®—ç¬¦:åˆ¤å®šä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹tenEighty === alsoTenEighty å»ºè®®é€‰æ‹©ç»“æ„ä½“çš„æƒ…å†µï¼š è¯¥æ•°æ®ç»“æ„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ã€‚ æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æ„çš„å®ä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚ è¯¥æ•°æ®ç»“æ„ä¸­å‚¨å­˜çš„å€¼ç±»å‹å±æ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚ è¯¥æ•°æ®ç»“æ„ä¸éœ€è¦å»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»å‹çš„å±æ€§æˆ–è€…è¡Œä¸ºã€‚ 12345678910111213struct Shape &#123; var width: Double = 1.0 var height: Double = 1.0&#125;struct Path &#123; var start: Int var length: Int&#125;struct Point &#123; var x: Double var y: Double var z: Double&#125; Swiftä¸­çš„Stringï¼ŒArrayå’ŒDictionaryæ˜¯å€¼ç±»å‹ï¼ŒOCä¸­çš„NSStringï¼Œ NSArrayå’ŒNSDictionaryæ˜¯å¼•ç”¨ç±»å‹ playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>ç±»</tag>
        <tag>ç»“æ„ä½“</tag>
        <tag>Classes</tag>
        <tag>Structures</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-8ï¼šæšä¸¾(Enumerations)]]></title>
    <url>%2F2017%2Fswift-8-enumerations.html</url>
    <content type="text"><![CDATA[ä¸€ç­‰(first-class)ç±»å‹æ¯ä¸ªæšä¸¾å®šä¹‰äº†ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚ä»¥å¤§å†™å­—æ¯å¼€å¤´æˆå‘˜å€¼(æˆ–æˆå‘˜) åŸå§‹å€¼ å…³è”å€¼ä¸ä¼šè¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤çš„æ•´å‹å€¼ 1 æšä¸¾è¯­æ³•1234567891011enum CompassPoint &#123; case North case South case East case West&#125;enum Planet &#123; case Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune&#125;var directionToHead = CompassPoint.WestdirectionToHead = .East 2 Switch è¯­å¥åŒ¹é…æšä¸¾å€¼ 12345678910switch directionToHead &#123; case .North: print("Lots of planets have a north") case .South: print("Watch out for penguins") case .East: print("Where the sun rises") case .West: print("Where the skies are blue")&#125; 3 å…³è”å€¼(Associated Values) ä»»æ„ç±»å‹ï¼Œå¯ä»¥å„ä¸ç›¸åŒâ€œå®šä¹‰ä¸€ä¸ªåä¸º Barcode çš„æšä¸¾ç±»å‹ï¼Œå®ƒçš„ä¸€ä¸ªæˆå‘˜å€¼æ˜¯å…·æœ‰ (Intï¼ŒIntï¼ŒIntï¼ŒInt) ç±»å‹å…³è”å€¼çš„ UPCA ï¼Œå¦ä¸€ä¸ªæˆå‘˜å€¼æ˜¯å…·æœ‰ String ç±»å‹å…³è”å€¼çš„ QRCode ã€‚â€ 123456789101112enum Barcode &#123; case UPCA(Int, Int, Int, Int) case QRCode(String)&#125;var productBarcode = Barcode.UPCA(8, 85909, 51226, 3)productBarcode = .QRCode("ABCDEFGHIJKLMNOP")switch productBarcode &#123;case .UPCA(let numberSystem, let manufacturer, let product, let check): print("UPC-A: \(numberSystem), \(manufacturer), \(product), \(check).")case .QRCode(let productCode): print("QR code: \(productCode).")&#125; 4 åŸå§‹å€¼(Raw Values)5 é€’å½’æšä¸¾(Recursive Enumerations) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>æšä¸¾</tag>
        <tag>Enumerations</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-7ï¼šé—­åŒ…(Closure)]]></title>
    <url>%2F2017%2Fswift-7-closure.html</url>
    <content type="text"><![CDATA[é—­åŒ…æ˜¯è‡ªåŒ…å«çš„å‡½æ•°ä»£ç å—ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­è¢«ä¼ é€’å’Œä½¿ç”¨ã€‚Swift ä¸­çš„é—­åŒ…ä¸ C å’Œ Objective-C ä¸­çš„ä»£ç å—(blocks)ä»¥åŠå…¶ä»–ä¸€äº›ç¼–ç¨‹è¯­è¨€ä¸­çš„åŒ¿åå‡½æ•°æ¯”è¾ƒç›¸ä¼¼ã€‚é—­åŒ…å¯ä»¥æ•è·å’Œå­˜å‚¨å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡ä¸­ä»»æ„å¸¸é‡å’Œå˜é‡çš„å¼•ç”¨ã€‚ 1 é—­åŒ…è¡¨è¾¾å¼(Closure Expressions)1234567// sorted æ–¹æ³•(The Sorted Method)// åŸæ•°ç»„ä¸ä¼šè¢« sorted(by:) æ–¹æ³•ä¿®æ”¹ã€‚let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella", "Andy", "Amni"]func backward(_ s1: String, _ s2: String) -&gt; Bool &#123; return s1 &gt; s2&#125;var reversedNames = names.sorted(by: backward) é—­åŒ…è¡¨è¾¾å¼è¯­æ³•:1234&#123; (parameters) -&gt; returnType instatements&#125;å…³é”®å­—`in`è¡¨ç¤ºé—­åŒ…çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹å®šä¹‰å·²ç»å®Œæˆï¼Œé—­åŒ…å‡½æ•°ä½“å³å°†å¼€å§‹ã€‚ 1var reversedNames2 = names.sorted(by: &#123;(s1:String, s2:String) -&gt; Bool in return s1&gt;s2&#125;) æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹(Inferring Type From Context) 1var reversedNames3 = names.sorted(by: &#123;(s1, s2)-&gt;Bool in return s1&gt;s2&#125;) æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹(Inferring Type From Context) çœç•¥ return å’Œ è¿”å›å€¼ 1var reversedNames4 = names.sorted(by: &#123;(s1, s2) in s1&gt;s2&#125;) å‚æ•°åç§°ç¼©å†™(Shorthand Argument Names)ï¼šç›´æ¥é€šè¿‡ $0 ï¼Œ $1 ï¼Œ $2 æ¥é¡ºåºè°ƒç”¨é—­åŒ…çš„å‚æ•° 1var reversedNames5 = names.sorted(by: &#123;$0&gt;$1&#125;) è¿ç®—ç¬¦æ–¹æ³•(Operator Methods) 1var reversedNames6 = names.sorted(by: &gt;) 2 å°¾éšé—­åŒ…(Trailing Closures):å°†ä¸€ä¸ªå¾ˆé•¿çš„é—­åŒ…è¡¨è¾¾å¼ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å‡½æ•°ä¸ä½¿ç”¨å°¾éšé—­åŒ…è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼š 123func someFunctionThatTakesAClosure(closure: &#123;// é—­åŒ…ä¸»ä½“éƒ¨åˆ† &#125;) ä½¿ç”¨å°¾éšé—­åŒ…è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼š 123func someFunctionThatTakesAClosure() &#123;// é—­åŒ…ä¸»ä½“éƒ¨åˆ† &#125; 1234567891011121314151617var reversedNames7 = names.sorted()&#123;$0&gt;$1&#125;var reversedNames8 = names.sorted&#123;$0&gt;$1&#125; // å½“é—­åŒ…è¡¨è¾¾å¼æ˜¯å”¯ä¸€å‚æ•°æ—¶ï¼Œ ()å¯çœç•¥let digitNames = [ 0: "Zero", 1: "One", 2: "Two", 3: "Three", 4: "Four", 5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"]let numbers = [16, 58, 510]let strings = numbers.map &#123; (number) -&gt; String in var number = number var output = "" repeat &#123; output = digitNames[number%10]! + output // å­—å…¸ä¸‹æ ‡è¿”å›ä¸€ä¸ªå¯é€‰å€¼(optional value) number /= 10 &#125; while number &gt; 0 return output&#125; 3 å€¼æ•è·(Capturing Values)é—­åŒ…å¯ä»¥åœ¨å…¶è¢«å®šä¹‰çš„ä¸Šä¸‹æ–‡ä¸­æ•è·å¸¸é‡æˆ–å˜é‡ã€‚å³ä½¿å®šä¹‰è¿™äº›å¸¸é‡å’Œå˜é‡çš„åŸä½œç”¨åŸŸå·²ç»ä¸å­˜åœ¨ï¼Œé—­åŒ…ä»ç„¶å¯ä»¥åœ¨é—­åŒ…å‡½æ•°ä½“å†…å¼•ç”¨å’Œä¿®æ”¹è¿™äº›å€¼ã€‚ åµŒå¥—å‡½æ•° æ˜¯ æ•è·å€¼çš„é—­åŒ…çš„æœ€ç®€å•å½¢å¼ 1234567891011121314func makeIncrementer(forIncrement amount: Int) -&gt; () -&gt; Int &#123; var runningTotal = 0 func incrementer() -&gt; Int &#123; runningTotal += amount return runningTotal &#125; return incrementer&#125;var funcby10 = makeIncrementer(forIncrement: 10)var funcby50 = makeIncrementer(forIncrement: 50)// æ–°ç”Ÿæˆçš„incrementerå‡½æ•°ï¼Œéƒ½ä¼šå„è‡ªè·å¾—ç±»ä¼¼å…¨å±€å˜é‡çš„ amountå’ŒruningTotalfuncby50()funcby50()funcby10() 4 é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹(Closures Are Reference Types)// å‡½æ•°å’Œé—­åŒ…éƒ½æ˜¯å¼•ç”¨ç±»å‹// æ— è®ºå°†å‡½æ•°æˆ–é—­åŒ…èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡è¿˜æ˜¯å˜é‡ï¼Œå®é™…ä¸Šéƒ½æ˜¯å°†å¸¸é‡æˆ–å˜é‡çš„å€¼è®¾ç½®ä¸ºå¯¹åº”å‡½æ•°æˆ–é—­åŒ…çš„å¼•ç”¨ã€‚ 12let funcbyTen = funcby10funcbyTen() é€ƒé€¸é—­åŒ…(Escaping Closures) è‡ªåŠ¨é—­åŒ…(Autoclosures) playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
        <tag>Closure</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-6ï¼šå‡½æ•°(Functions)]]></title>
    <url>%2F2017%2Fswift-6-functions.html</url>
    <content type="text"><![CDATA[1 å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨ (Defining and Calling Functions)å‚æ•°ï¼Œparametersè¿”å›ç±»å‹ï¼Œreturn typeå®å‚ï¼Œarguments 123func greet(person: String) -&gt; String &#123; return "Hello, " + person + "!"&#125; 2 å‡½æ•°å‚æ•°ä¸è¿”å›å€¼ (Function Parameters and Return Values)æ— å‚æ•°å‡½æ•° (Functions Without Parameters) 123func sayHelloWorld() -&gt; String &#123; return "hello, world"&#125; å¤šå‚æ•°å‡½æ•° (Functions With Multiple Parameters) 1234567func greet(person: String, alreadyGreeted: Bool) -&gt; String &#123; if alreadyGreeted &#123; return "Hello, " + person + " again!" &#125; else &#123; return "Hello, " + person + "!" &#125;&#125; æ— è¿”å›å€¼å‡½æ•° (Functions Without Return Values)ï¼šæ²¡æœ‰å®šä¹‰è¿”å›ç±»å‹çš„å‡½æ•°ä¼š è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„Voidå€¼ã€‚å®ƒå…¶å®æ˜¯ä¸€ä¸ªç©ºçš„å…ƒç»„(tuple)ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œå¯ä»¥å†™æˆ()ã€‚ 123func greet(person: String) &#123; print("Hello, \(person)!")&#125; å¤šä¸ªè¿”å›å€¼å‡½æ•° (Functions with Multiple Return Values) 1234567891011121314func minMax(array: [Int]) -&gt; (min: Int, max: Int) &#123; var currentMin = array[0] var currentMax = array[0] for value in array[1..&lt;array.count] &#123; if value &lt; currentMin &#123; currentMin = value &#125; else if value &gt; currentMax &#123; currentMax = value &#125; &#125; return (currentMin, currentMax)&#125;let bounds = minMax(array: [8, -6, 2, 109, 3, 71])print("min is \(bounds.min) and max is \(bounds.max)") å¯é€‰å…ƒç»„è¿”å›ç±»å‹ (Optional Tuple Return Types) 12345678910111213141516func minMax2(array: [Int]) -&gt; (min: Int, max: Int)? &#123; if array.isEmpty &#123; return nil &#125; var currentMin = array[0] var currentMax = array[0] for value in array[1..&lt;array.count] &#123; if value &lt; currentMin &#123; currentMin = value &#125; else if value &gt; currentMax &#123; currentMax = value &#125; &#125; return (currentMin, currentMax)&#125;if let bounds = minMax2(array: [8, -6, 2, 109, 3, 71]) &#123; print("min is \(bounds.min) and max is \(bounds.max)")&#125; 3 å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°åç§° (Function Argument Labels and Parameter Names)æ¯ä¸ªå‡½æ•°å‚æ•°éƒ½æœ‰ä¸€ä¸ªå‚æ•°æ ‡ç­¾( argument label )ä»¥åŠä¸€ä¸ªå‚æ•°åç§°( parameter name )ã€‚å‚æ•°æ ‡ç­¾åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä½¿ç”¨;è°ƒç”¨çš„æ—¶å€™éœ€è¦å°†å‡½æ•°çš„å‚æ•°æ ‡ç­¾å†™åœ¨å¯¹åº”çš„å‚æ•°å‰é¢ã€‚å‚æ•°åç§°åœ¨å‡½æ•°çš„å®ç°ä¸­ä½¿ç”¨ã€‚ 12func someFunction(argumentLabel parameterName: Int) &#123;&#125; å¿½ç•¥å‚æ•°æ ‡ç­¾(Omitting Argument Labels)é»˜è®¤å‚æ•°å€¼ (Default Parameter Values) å¯å˜å‚æ•° (Variadic Parameters) ä¸€ä¸ªå‡½æ•°æœ€å¤šåªèƒ½æ‹¥æœ‰ä¸€ä¸ªå¯å˜å‚æ•° 123456789func arithmeticMean(_ numbers: Double...) -&gt; Double &#123; var total: Double = 0 for number in numbers &#123; total += number &#125; return total / Double(numbers.count)&#125;print(arithmeticMean(1,2,3))print(arithmeticMean(1.2,3.45,5,6,3.12)) è¾“å…¥è¾“å‡ºå‚æ•°(In-Out Parameters)å‡½æ•°å‚æ•°é»˜è®¤æ˜¯å¸¸é‡ã€‚è¾“å…¥è¾“å‡ºå‚æ•°å¯ä»¥åœ¨å‡½æ•°ä¸­ä¿®æ”¹å‚æ•°ï¼Œå¹¶ä¸”åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä»ç„¶å­˜åœ¨ã€‚åªèƒ½ä¼ é€’å˜é‡ç»™è¾“å…¥è¾“å‡ºå‚æ•°è¾“å…¥è¾“å‡ºå‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼ï¼Œè€Œä¸”å¯å˜å‚æ•°ä¸èƒ½ç”¨inoutæ ‡è®°ã€‚ 123456789func swapTwoInts(_ a: inout Int, _ b: inout Int) &#123; let temporaryA = a a = b b = temporaryA&#125;var someInt = 3var anotherInt = 107swapTwoInts(&amp;someInt, &amp;anotherInt)print("someInt is now \(someInt), and anotherInt is now \(anotherInt)") 4 å‡½æ•°ç±»å‹ (Function Types)123456func addTwoInts(_ a: Int, _ b: Int) -&gt; Int &#123; // `(Int, Int) -&gt; Int` return a + b&#125;func printHelloWorld() &#123; // `() -&gt; Void` print("hello, world")&#125; ä½¿ç”¨å‡½æ•°ç±»å‹ (Using Function Types) 12var mathFunction: (Int, Int) -&gt; Int = addTwoIntsprint("Result: \(mathFunction(2, 3))") å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ç±»å‹ (Function Types as Parameter Types) 1234func printMathResult(_ mathFunction: (Int, Int) -&gt; Int, _ a: Int, _ b: Int) &#123; print("Result: \(mathFunction(a, b))")&#125;printMathResult(addTwoInts, 3, 5) å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›ç±»å‹ (Function Types as Return Types)123456789func stepForward(_ input: Int) -&gt; Int &#123; return input + 1&#125;func stepBackward(_ input: Int) -&gt; Int &#123; return input - 1&#125;func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int &#123; return backward ? stepBackward : stepForward&#125; 5 åµŒå¥—å‡½æ•° (Nested Functions)12345func chooseStepFunction2(backward: Bool) -&gt; (Int) -&gt; Int &#123; func stepForward(input: Int) -&gt; Int &#123; return input + 1 &#125; func stepBackward(input: Int) -&gt; Int &#123; return input - 1 &#125; return backward ? stepBackward : stepForward&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>å‡½æ•°</tag>
        <tag>Functions</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-5ï¼šæ§åˆ¶æµ(Control Flow)]]></title>
    <url>%2F2017%2Fswift-5-control-flow.html</url>
    <content type="text"><![CDATA[1 for infor in å¯ç”¨æ¥éå† Array Dictionary Set Range String 1234567891011121314for index in 1...5 &#123;&#125;for _ in 1...5 &#123;&#125;for v in [1,2,3] &#123;&#125;let numberOfLegs = ["spider": 8, "ant": 6, "cat": 4]for (animalName, legCount) in numberOfLegs &#123;&#125;let countrys:Set = ["China", "USA", "Japan"]for country in countrys &#123;&#125;for s in "andyron" &#123;&#125; 2 while 12345678910var i = 1while i &gt; 10 &#123; // ... i += 1&#125;// repeat-while ç±»ä¼¼å…¶ä»–è¯­è¨€çš„ do-while repeat &#123; // ... i += 1&#125; while i &gt; 10 3 if12345678var temperatureInFahrenheit = 30if temperatureInFahrenheit &lt;= 32 &#123; print("It's very cold. Consider wearing a scarf.")&#125; else if temperatureInFahrenheit &gt;= 86 &#123; print("It's really warm. Don't forget to wear sunscreen.")&#125; else &#123; print("It's not that cold. Wear a t-shirt.")&#125; 4 switchä¸å­˜åœ¨éšå¼çš„è´¯ç©¿(No Implicit Fallthrough)ï¼Œä¸éœ€è¦break 1234567let anotherCharacter: Character = "a"switch anotherCharacter &#123;case "a", "A": print("The letter A")default: print("Not the letter A")&#125; åŒºé—´åŒ¹é…1234567891011121314151617let approximateCount = 62let countedThings = "moons orbiting Saturn"var naturalCount: Stringswitch approximateCount &#123;case 0: naturalCount = "no"case 1..&lt;5: naturalCount = "a few"case 5..&lt;12: naturalCount = "several"case 12..&lt;100: naturalCount = "dozens of"case 100..&lt;1000: naturalCount = "hundreds of"default: naturalCount = "many"&#125; å…ƒç»„åŒ¹é…12345678910111213let somePoint = (1, 1)switch somePoint &#123;case (0, 0): print("(0, 0) is at the origin")case (_, 0): print("(\(somePoint.0), 0) is on the x-axis")case (0, _): print("(0, \(somePoint.1)) is on the y-axis")case (-2...2, -2...2): print("(\(somePoint.0), \(somePoint.1)) is inside the box")default: print("(\(somePoint.0), \(somePoint.1)) is outside of the box")&#125; å€¼ç»‘å®š(Value Bindings)123456789let anotherPoint = (2, 0)switch anotherPoint &#123;case (let x, 0): print("on the x-axis with an x value of \(x)")case (0, let y): print("on the y-axis with a y value of \(y)")case let (x, y): print("somewhere else at (\(x), \(y))")&#125; caseåˆ†å¥ä¸­ä½¿ç”¨where123456789let yetAnotherPoint = (1, -1)switch yetAnotherPoint &#123;case let (x, y) where x == y: print("(\(x), \(y)) is on the line x == y")case let (x, y) where x == -y: print("(\(x), \(y)) is on the line x == -y")case let (x, y): print("(\(x), \(y)) is just some arbitrary point")&#125; å¤åˆåŒ¹é…å½“å¤šä¸ªæ¡ä»¶å¯ä»¥ä½¿ç”¨åŒä¸€ç§æ–¹å¼æ¥å¤„ç†æ—¶ï¼Œå¯ä»¥å°†è¿™å‡ ç§å¯èƒ½æ”¾åœ¨åŒä¸€ä¸ªcaseåé¢ï¼Œå¹¶ä¸”ç”¨é€—å·éš”å¼€ã€‚ 1234567let stillAnotherPoint = (9, 0)switch stillAnotherPoint &#123;case (let distance, 0), (0, let distance): print("On an axis, \(distance) from the origin")default: print("Not on an axis")&#125; 5 æ§åˆ¶è½¬ç§»è¯­å¥(Control Transfer Statements): continue break fallthrough return throwè´¯ç©¿(Fallthrough) æ‰§è¡Œå®Œä¸€ä¸ªcaseåï¼Œç»§ç»­å‘ä¸‹æ‰§è¡Œ 123456789let integerToDescribe = 5var description = "The number \(integerToDescribe) is"switch integerToDescribe &#123;case 2, 3, 5, 7, 11, 13, 17, 19: description += " a prime number, and also" fallthroughdefault: description += " an integer."&#125; 6 guard ä¸ ifåŠŸèƒ½ç±»ä¼¼ã€‚åŒºåˆ«ï¼š1 guardå‡å°‘åµŒå¥—ï¼Œä¼šç®€æ´ 2 è§£åŒ…æ—¶ï¼Œguardçš„ç»“æœä½œç”¨åŸŸä¸é™äºæœ¬èº«ã€‚ 12345678910111213141516171819202122232425262728// greet(person: ["name": "Jane", "location": "Cupertino"])func greet(person: [String: String]) &#123; if let name = person["name"] &#123; print("Hello \(name)!") if let location = person["location"] &#123; print("I hope the weather is nice in \(location).") &#125; else &#123; print("I hope the weather is nice near you.") &#125; &#125; else &#123; print("Hello stranger!") &#125;// print(name) //nameçš„ä½œç”¨äºåªé™äºifä¸­&#125;func greet2(person: [String: String]) &#123; guard let name = person["name"] else &#123; print("Hello stranger!") return &#125; print("Hello \(name)!") guard let location = person["location"] else &#123; print("I hope the weather is nice near you.") return &#125; print("I hope the weather is nice in \(location).")&#125; 7 æ£€æµ‹ API å¯ç”¨æ€§12345if #available(iOS 10, macOS 10.12, *) &#123; // åœ¨ iOS ä½¿ç”¨ iOS 10 çš„ API, åœ¨ macOS ä½¿ç”¨ macOS 10.12 çš„ API&#125; else &#123; // ä½¿ç”¨å…ˆå‰ç‰ˆæœ¬çš„ iOS å’Œ macOS çš„ API&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
      <tags>
        <tag>æ§åˆ¶æµ</tag>
        <tag>Control Flow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-4ï¼šé›†åˆç±»å‹(Collection Type)]]></title>
    <url>%2F2017%2Fswift-4-cellection-types.html</url>
    <content type="text"><![CDATA[Collection åˆ†ä¸º Arrays, Sets, Dictionaries(Collectionï¼ŒSetsæœ‰æ—¶éƒ½ç¿»è¯‘æˆé›†åˆ) 1 æ•°ç»„(Arrays)æ˜¯æœ‰åºæ•°æ®çš„é›†ã€‚ä¸€ä¸ªæ•°ç»„ä¸­åªèƒ½æœ‰ä¸€ç§æ•°æ®ç±»å‹ 123456789101112131415161718192021222324252627282930313233343536373839404142var someInts = [Int]() // åˆ›å»ºä¸€ä¸ªç”±ç‰¹å®šæ•°æ®ç±»å‹æ„æˆçš„ç©ºæ•°ç»„someInts = [] // someInts ç°åœ¨æ˜¯ç©ºæ•°ç»„ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ [Int] ç±»å‹çš„ã€‚let unmutableArray = [2, 3, 5] // å®šä¹‰ä¸ºletï¼Œæ•°ç»„å†…å®¹å’Œæ•°é‡å°±ä¸èƒ½å˜åŒ–var threeDoubles = [Double](repeating:0.0, count: 3) // `Array`åˆ›å»ºç‰¹å®šå¤§å°å¹¶ä¸”æ‰€æœ‰æ•°æ®éƒ½æœ‰ç›¸åŒé»˜è®¤å€¼çš„æ„é€ æ–¹æ³•var anotherThreeDoubles = [Double](repeating: 2.5, count: 3)var sixDoubles = threeDoubles + anotherThreeDoubles // æ•°ç»„ç›¸åŠ sixDoubles.countsixDoubles.isEmptysixDoubles.append(2.6)sixDoubles += [3.2, 3.3]sixDoubles[0]sixDoubles[4...6] // é€šè¿‡åŒºé—´è·å–å¤šä¸ªæ•°ç»„é¡¹ç»„æˆçš„æ–°æ•°ç»„ï¼Œæ³¨æ„åŒºé—´å¤§å°ä¸èƒ½è¶…è¿‡æ•°ç»„çš„ä¸‹æ ‡sixDoubles.insert(4.4, at: 2)sixDoubles.remove(at: 0)sixDoubles.removeLast()sixDoubles.removeAll()// æ•°ç»„éå†var shoppingList = ["Eggs", "Milk"]for item in shoppingList &#123; print("\(item)")&#125;for (index, value) in shoppingList.enumerated() &#123; // enumerated()æŠŠæ•°ç»„çš„ç´¢å¼•å’Œå€¼ç”Ÿæˆsequenceç”¨äºéå† print("\(index): \(value)")&#125;// æ•°ç»„ç‰¹æ®Šæ“ä½œ //var a = (1...10)var arr = [1,3,7,11]var arr2 = arr.map&#123;$0 * 2&#125;var sum = arr.reduce(0,+)// éªŒè¯tweetä¸­æ˜¯å¦åŒ…å«é€‰å®šçš„è‹¥å¹²å…³é”®å­—ä¸­çš„ä¸€ä¸ªlet words = ["Swift","iOS","cocoa","OSX","tvOS"]let tweet = "This is an example tweet larking about Swift"//words.contains(tweet.containsString)//words.filter(&#123;tweet.containsString($0)&#125;)tweet.split(separator: " ") .lazy .map(String.init) .contains(where: Set(words).contains)let name = "andyron"(1...4).forEach&#123;print("Happy Birthday " + (($0 == 3) ? "dear \(name)":"to You"))&#125;// åˆ›å»ºé‡å¤å›ºå®šé•¿åº¦æ•°ç»„let arr3 = [Int?](repeating: nil, count: 20) 2 é›†åˆ(Sets)æ˜¯æ— åºæ— é‡å¤æ•°æ®çš„é›†ã€‚å­˜åœ¨é›†åˆçš„ä¸­æ•°æ®ç±»å‹å¿…é¡»æ˜¯ å¯å“ˆå¸ŒåŒ–ï¼ˆå¿…é¡»æä¾›ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—å®ƒçš„å“ˆå¸Œå€¼ï¼Œ ç›¸ç­‰çš„å¯¹è±¡å“ˆå¸Œå€¼å¿…é¡»ç›¸åŒï¼Œ a.hashValue == b.hashValueï¼‰Swiftçš„æ‰€æœ‰åŸºæœ¬ç±»å‹(æ¯”å¦‚String , Int , Double å’Œ Bool)é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸ŒåŒ–çš„åœ¨Swiftå†…éƒ¨å¯å“ˆå¸ŒåŒ–çš„ç±»å‹éƒ½æ¥è§¦äº†Hashableåè®®ï¼Œå®ƒæé«˜äº†ä¸€ä¸ªå±æ€§hashValue 123456789101112131415161718192021222324252627282930313233var letters = Set&lt;Character&gt;() // åˆ›å»ºå’Œæ„é€ ä¸€ä¸ªç©ºçš„ç±»å‹ä¸º`Set&lt;Character&gt;`çš„é›†åˆletters.insert("a")letters = []var favoriteGenres: Set&lt;String&gt; = ["Rock", "Classical", "Hip hop"]var favoriteGenres2: Set = ["Rock", "Classical", "Hip hop"]favoriteGenres.insert("Jazz")favoriteGenres.countfavoriteGenres.remove("Classical") // æœ‰æˆå‘˜å°±è¿”å›æ­¤æˆå‘˜ï¼Œå¦åˆ™è¿”å›`nil`//favoriteGenres.removeAll()favoriteGenres.contains("Rock")// éå†é›†åˆfor genre in favoriteGenres &#123; print(genre)&#125;for genre in favoriteGenres.sorted() &#123; print(genre)&#125;// é›†åˆæ“ä½œfavoriteGenres = ["Rock", "Classical", "Hip hop"]favoriteGenres2 = ["Hip hop", "R&amp;B", "rap"]favoriteGenres.intersection(favoriteGenres2) // äº¤é›†favoriteGenres.symmetricDifference(favoriteGenres2) // å¯¹ç§°å·®é›†favoriteGenres.union(favoriteGenres2) // å¹¶é›†favoriteGenres.subtracting(favoriteGenres2) // å·®é›†favoriteGenres2.subtracting(favoriteGenres) // å·®é›†favoriteGenres.subtract(favoriteGenres2) // åŒºåˆ«äºsubtractingï¼Œæ²¡æœ‰è¿”å›å€¼ç›´æ¥ä¿®æ”¹favoriteGenresvar fg3: Set = ["rap"]favoriteGenres == favoriteGenres2favoriteGenres2.isSubset(of: fg3) // favoriteGenres2ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦åœ¨fg3ä¸­favoriteGenres2.isSuperset(of: fg3) // favoriteGenres2æ˜¯å¦åŒ…æ‹¬fg3ä¸­æ‰€æœ‰å…ƒç´ favoriteGenres2.isStrictSubset(of: fg3) // favoriteGenres2ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦åœ¨fg3ä¸­ï¼Œå¹¶ä¸”ä¸¤è€…ä¸ç›¸åŒfavoriteGenres2.isStrictSuperset(of: fg3) // favoriteGenres2æ˜¯å¦åŒ…æ‹¬fg3ä¸­æ‰€æœ‰å…ƒç´ ï¼Œå¹¶ä¸”ä¸¤è€…ä¸ç›¸åŒfavoriteGenres.isDisjoint(with: fg3) // favoriteGenresä¸fg3æ˜¯å¦æ²¡æœ‰äº¤é›† 3 å­—å…¸(Dictionaries)æ˜¯æ— åºçš„é”®å€¼å¯¹çš„é›†ã€‚12345678910111213141516171819var namesOfIntegers = [Int: String]()namesOfIntegers[16] = "sixteen"namesOfIntegers = [:]var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]var airports2 = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]airports.countairports.isEmptyairports["hongqiao"] = "shanghai"airports.updateValue("nanjing", forKey: "jichang")airports["jichang"] = nil; //airports.remove(at: "jichang")//airports.keys//airports.values// éå†for (code, name) in airports &#123; print("\(code): \(name)")&#125;for code in airports.keys &#123; print("\(code)")&#125; playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-3ï¼šå­—ç¬¦ä¸²å’Œå­—ç¬¦(Strings and Characters)]]></title>
    <url>%2F2017%2Fswift-3-strings-characters.html</url>
    <content type="text"><![CDATA[1 å­—ç¬¦ä¸²å­—é¢é‡(String Literals)â€œSome string literal valueâ€ 2 åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸² (Initializing an Empty String)12345var emptyString = ""var anotherEmptyString = String()if emptyString.isEmpty &#123; print("Nothing to see here")&#125; 3 å­—ç¬¦ä¸²å¯å˜æ€§(String Mutability)1234var variableString = "Horse"variableString += " and carriage"//let constantString = "Highlander"//constantString += " and another Highlander" 4 å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹(Strings Are Value Types)åœ¨å®é™…ç¼–è¯‘æ—¶ï¼ŒSwift ç¼–è¯‘å™¨ä¼šä¼˜åŒ–å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œä½¿å®é™…çš„å¤åˆ¶åªå‘ç”Ÿåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€æ‚¨å°†å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»å‹çš„åŒæ—¶å¯ä»¥è·å¾—æé«˜çš„æ€§èƒ½ã€‚ 5 ä½¿ç”¨å­—ç¬¦(Working with Characters)123456for character in "Dog!?ğŸ¶" &#123; print(character)&#125;let exclamationMark: Character = "!" // `Character`æ˜¯å­—ç¬¦ï¼ˆæ³¨æ„ä¹Ÿæ˜¯åŒå¼•å·ï¼Œä¸æ˜¯å•å¼•å·ï¼‰let catCharacters: [Character] = ["C", "a", "t", "!", "?"]let catString = String(catCharacters) // å­—ç¬¦æ•°ç»„ç”Ÿæˆå­—ç¬¦ä¸² 6 è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦ (Concatenating Strings and Characters)12345let string1 = "Hello"let string2 = " there"var welcome0 = string1 + string2welcome0 += string1welcome0.append(exclamationMark) 7 å­—ç¬¦ä¸²æ’å€¼ (String Interpolation)æ’å€¼å­—ç¬¦ä¸²ä¸­å†™åœ¨æ‹¬å·ä¸­çš„è¡¨è¾¾å¼ä¸èƒ½åŒ…å«éè½¬ä¹‰åŒå¼•å· (â€œ) å’Œåæ–œæ  ()ï¼Œå¹¶ä¸”ä¸èƒ½åŒ…å«å›è½¦æˆ–æ¢è¡Œç¬¦ã€‚ 12let multiplier = 3let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)" // message is "3 times 2.5 is 7.5" 8 Unicode12345// Swiftçš„Stringå’ŒCharacterç±»å‹æ˜¯å®Œå…¨å…¼å®¹Unicodeæ ‡å‡†çš„ã€‚let dollarSign = "\u&#123;24&#125;" // Unicode æ ‡é‡ U+0024let blackHeart = "\u&#123;2665&#125;" // Unicode æ ‡é‡ U+2665let sparklingHeart = "\u&#123;1F496&#125;" // Unicode æ ‡é‡ U+1F496// å¯æ‰©å±•çš„å­—å½¢ç¾¤é›†(Extended Grapheme Clusters) 9 è®¡ç®—å­—ç¬¦æ•°é‡ (Counting Characters)welcome0.count 10 è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸² (Accessing and Modifying a String)12345678910111213141516let greeting = "Guten Tag!"greeting[greeting.startIndex] // Ggreeting[greeting.index(before: greeting.endIndex)] // !greeting[greeting.index(after: greeting.startIndex)] // ulet index = greeting.index(greeting.startIndex, offsetBy: 6) // ä»æŸä¸ªç´¢å¼•å¼€å§‹å‘åoffsetByçš„ç´¢å¼•greeting[index]for index in greeting.indices &#123; print("\(greeting[index]) ", terminator: "")&#125;// Inserting and Removingvar welcome = "hello"welcome.insert("!", at: welcome.endIndex) // welcome now equals "hello!"welcome.insert(contentsOf:" there", at: welcome.index(before: welcome.endIndex)) // welcome now equals "hello there!welcome.remove(at: welcome.index(before: welcome.endIndex)) // welcome now equals "hello there"let range = welcome.index(welcome.endIndex, offsetBy: -6) ..&lt; welcome.endIndexwelcome.removeSubrange(range) // welcome now equals "hello" 11 æ¯”è¾ƒå­—ç¬¦ä¸² (Comparing Strings)12 å­—ç¬¦ä¸²çš„ Unicode è¡¨ç¤ºå½¢å¼(Unicode Representations of Strings)13 Stringçš„å¸¸è§æ–¹æ³•å’Œå±æ€§1234567891011//welcome.characters // `String`æ²¡æœ‰ç»§æ‰¿`Sequence`ï¼Œä¸èƒ½ç›´æ¥éå†ï¼Œç”¨ `String.characters`welcome.countfor c in welcome &#123;&#125;welcome.isEmptywelcome.startIndexwelcome.hashValuewelcome.hasPrefix("he") // æ˜¯å¦æœ‰å‰ç¼€welcome.hasSuffix("!") // æ˜¯å¦æœ‰åç¼€welcome.lowercased() // å˜æˆå°å†™welcome.uppercased() // å˜æˆå¤§å†™ playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-2ï¼šåŸºç¡€è¿ç®—ç¬¦(Basic Operators)]]></title>
    <url>%2F2017%2Fswift-2-basic-operators.html</url>
    <content type="text"><![CDATA[1 èµ‹å€¼è¿ç®—ç¬¦(Assignment Operator) èµ‹å€¼æ“ä½œå¹¶ä¸è¿”å›ä»»ä½•å€¼123let b = 10var c = 5let (x, y) = (2, 5) 2 ç®—æœ¯è¿ç®—ç¬¦(Arithmetic Operators)1234567891011121 + 25 - 32 * 310.0 / 2.5"hello, " + "world"// æº¢å‡ºè¿ç®—(å¦‚ a &amp;+ b )// æ±‚ä½™è¿ç®—ç¬¦(Remainder Operator)// a % b a = (b Ã— å€æ•°) + ä½™æ•° å€æ•°æ˜¯æ•´æ•°ï¼Œå¯ä»¥æ˜¯è´Ÿæ•°9 % 4 // 1 9 = 4*2 + 1-9 % 4 // -1 -9 = 4*-2 + (-1)// è‡ªå¢å’Œè‡ªå‡è¿ç®— (æœ€æ–°ç‰ˆçš„swiftå·²ç»å»æ‰)// ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦/ä¸€å…ƒæ­£å·è¿ç®—ç¬¦ 3 å¤åˆèµ‹å€¼(Compound Assignment Operators)å¤åˆèµ‹å€¼è¿ç®—æ²¡æœ‰è¿”å›å€¼ 12var a = 1a += 2 4 æ¯”è¾ƒè¿ç®—ç¬¦(Comparsion Operators)123456789101112131 == 11 &lt;= 22 &gt;= 11 &lt; 11 &gt; 2class A &#123; &#125;var obja = A()var objb = A()var objc = objaobja === objb // false æ’ç­‰ === å’Œä¸æ’ç­‰ !== åªç”¨æ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹obja !== objc // false 5 ä¸‰ç›®è¿ç®—ç¬¦(Ternary Conditional Operator)1true ? "true" : "false" 6 ç©ºåˆè¿ç®—ç¬¦(Nil Coalescing Operator)123var e: String?var f = "æˆ‘æ˜¯fuck"e ?? f // `e != nil ? e! : f` ï¼Œ å¯é€‰ç±»å‹`e`ä¸æ˜¯`nil`æ—¶ï¼Œå°±`e!`,å¦åˆ™ä¸º`f`ã€‚ï¼ˆæ³¨æ„`??`å‰åè¦ç©ºæ ¼ï¼‰ 7 åŒºé—´è¿ç®—ç¬¦(Range Operators)123456for index in 1...5 &#123; print("\(index) * 5 = \(index * 5)")&#125;for index in 1..&lt;5 &#123; print("\(index) * 5 = \(index * 5)")&#125; 8 é€»è¾‘è¿ç®—(Logical Operators) æ“ä½œå¯¹è±¡æ˜¯é€»è¾‘å¸ƒå°”å€¼12345var mybool = falsevar youbool = true!myboolmybool &amp;&amp; youboolmybool || youbool playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»¥æ’¸ä»£ç çš„å½¢å¼å­¦ä¹ Swift-1ï¼šåŸºç¡€(The Basics)]]></title>
    <url>%2F2017%2Fswift-1-the-basics.html</url>
    <content type="text"><![CDATA[1 å¸¸é‡å’Œå˜é‡(Constants and Variables)12345678910111213141516171819// å£°æ˜ï¼šå¸¸é‡ let å˜é‡ varlet constants = 10var variables = 0// å¤šä¸ªå£°æ˜var x = 0.0, y = 0.0, z = 0.0// ç±»å‹æ ‡æ³¨(type annotation)var welcomeMessage: String// å¸¸é‡å’Œå˜é‡çš„å‘½å// å¸¸é‡ä¸å˜é‡åä¸èƒ½åŒ…å«æ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œä¿ç•™çš„(æˆ–è€…éæ³•çš„)Unicode ç ä½ï¼Œè¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚// å¸¸é‡ä¸å˜é‡ä¸èƒ½ä¿®æ”¹ç±»å‹ä¹Ÿä¸èƒ½äº’æ¢// ä½¿ç”¨åå¼•å·ï¼ˆ`ï¼‰æ¥ä½¿ç”¨ä¿ç•™å…³é”®å­—let Ï€ = 3.14159let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"let `let` = "hihi"// è¾“å‡ºå¸¸é‡å’Œå˜é‡ `func print(_ items: Any..., separator: String = default, terminator: String = default)` ä¸‰ç§å‚æ•°ï¼šè¾“å‡ºé¡¹ã€åˆ†éš”ç¬¦ã€ç»“æŸç¬¦print(1,`let`, separator: ",", terminator: "&lt;br/&gt;")print(x, y, z, `let`)// å­—ç¬¦ä¸²æ’å€¼(string interpolation)print("The current value of constants is \(constants)") 2 æ³¨é‡Š(Comment)123456// å•è¡Œæ³¨é‡Š/* /* å¤šè¡Œæ³¨é‡Šå¯ä»¥åµŒå¥—åœ¨å…¶å®ƒçš„å¤šè¡Œæ³¨é‡Šä¹‹ä¸­ */ */ 3 åˆ†å·(Semicolons)å•è¡Œå•æŒ‘è¯­å¥ä¸ä¸€å®šéœ€è¦ï¼Œå•è¡Œå¤šæ¡è¯­å¥å¿…é¡» let cat = &quot;?&quot;; print(cat) 4 æ•´æ•°(Integers)Uä»£è¡¨æ— ç¬¦å·Intç±»å‹ä¸å½“å‰ç³»ç»Ÿçš„ä½æ•°ç›¸åŒ 12345678UInt8.maxUInt8.minInt8.maxInt32.maxUInt32.maxInt64.maxUInt64.maxInt.max 5 æµ®ç‚¹æ•°(Floating-Point Numbers)12Double(11.1) // 64ä½Float(11.1) // 32ä½ 6 ç±»å‹å®‰å…¨(type safe)å’Œç±»å‹æ¨æ–­(type inference)12let meaningOfLife = 42 // meaningOfLife ä¼šè¢«æ¨æµ‹ä¸º Int ç±»å‹let pi = 3.14159 // pi ä¼šè¢«æ¨æµ‹ä¸º Double ç±»å‹(ä¼˜å…ˆé€‰æ‹© Double è€Œä¸æ˜¯ Float ) 7 æ•°å€¼å‹å­—é¢é‡(Numeric Literals)123456789101112// æ•´æ•°å­—é¢é‡150b1111 // äºŒè¿›åˆ¶150o17 // å…«è¿›åˆ¶150xf // åå…­è¿›åˆ¶15// æµ®ç‚¹å­—é¢é‡1.025e2 // 1.025*10^21.025e-2 // 1.025*10^-20xbp3 // 11*2^30xbp-3 // 11*2^-30xC.3p0 // (12+3/16)*2^0100_000 // _å¢å¼ºå¯è¯»æ€§ 8 æ•°å€¼å‹ç±»å‹è½¬æ¢(Numeric Type Conversion)12345678910// æ•´æ•°è½¬æ¢let twoThousand: UInt16 = 2_000let one: UInt8 = 1let twoThousandAndOne = twoThousand + UInt16(one) // `UInt16`æœ‰ä¸€ä¸ªæ„é€ å™¨ï¼Œæ¥å—`UInt8`ç±»å‹çš„å‚æ•°ç”Ÿæˆ`UInt16`// æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢let three = 3let pointOneFourOneFiveNine = 0.14159let pi2 = Double(three) + pointOneFourOneFiveNinelet integerPi = Int(pi2)let pi3 = 3 + 0.14159 // å­—é¢é‡æ²¡æœ‰ç‰¹å®šçš„ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç›¸åŠ  9 ç±»å‹åˆ«å(type aliases)12typealias AudioSample = UInt16AudioSample.max 10 å¸ƒå°”å€¼12truefalse 11 å…ƒç»„(tuples)æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ 1234567// å…ƒç»„åœ¨ä¸´æ—¶ç»„ç»‡å€¼çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯å¹¶ä¸é€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚let http404Error = (404, "Not Found") // ä¸€ä¸ªç±»å‹ä¸º (Int, String) çš„å…ƒç»„ï¼Œ ç”¨äºæè¿° HTTP çŠ¶æ€ç let (statusCode, statusMessage) = http404Error // å…ƒç»„çš„å†…å®¹åˆ†è§£(decompose)let (justTheStatusCode, _) = http404Errorhttp404Error.0 // ä¸‹æ ‡è®¿é—®let http200Status = (statusCode: 200, description: "OK") // ç»™å…ƒç»„å…ƒç´ å‘½åhttp200Status.description 12 å¯é€‰ç±»å‹(optionals)1234567891011121314151617181920212223242526272829// å£°æ˜ä¸€ä¸ªå¯é€‰å¸¸é‡æˆ–è€…å˜é‡ä½†æ˜¯æ²¡æœ‰èµ‹å€¼ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨è¢«è®¾ç½®ä¸º nilvar optionalString: String? // optionalStringçš„ç±»å‹è¦ä¹ˆæ˜¯Stringï¼Œè¦ä¹ˆæ˜¯nillet possibleNumber = "123"let convertedNumber = Int(possibleNumber) // convertedNumber è¢«æ¨æµ‹ä¸ºå¯é€‰çš„`Int`// if è¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ// ä½¿ç”¨ if è¯­å¥å’Œ nil æ¯”è¾ƒæ¥åˆ¤æ–­ä¸€ä¸ªå¯é€‰å€¼æ˜¯å¦åŒ…å«å€¼if convertedNumber != nil &#123; print("convertedNumber has an integer value of \(convertedNumber!).") // `!`ç§°ä¸ºå¯é€‰å€¼çš„å¼ºåˆ¶è§£æ(forced unwrapping)&#125;// optionalString! æŠ¥é”™ï¼Œ ä½¿ç”¨!æ¥å¼ºåˆ¶è§£æå€¼ä¹‹å‰ï¼Œä¸€å®šè¦ç¡®å®šå¯é€‰åŒ…å«ä¸€ä¸ªénil çš„å€¼ã€‚// å¯é€‰ç»‘å®š(optional binding)if let actualNumber = Int(possibleNumber) &#123; // å¦‚æœ`Int(possibleNumber)`å¼ºåˆ¶è§£æçš„å€¼ä¸æ˜¯nilï¼Œå°±èµ‹å€¼ç»™actualNumberï¼Œå¹¶ä¸”è¯­å¥ä¸ºture print("\'\(possibleNumber)\' has an integer value of \(actualNumber)")&#125; else &#123; print("\'\(possibleNumber)\' could not be converted to an integer")&#125;var someOptional: String? = "some"var someOtherOptional: String?if let constantName = someOptional, let anotherConstantName = someOtherOptional&#123; print("å¤šä¸ªå¯é€‰ç»‘å®šå¯ä»¥ç”¨é€—å·åˆ†éš”, éœ€è¦æ¯ä¸€ä¸ªè¯­å¥éƒ½ä¸ºtrue")&#125;// éšå¼è§£æå¯é€‰ç±»å‹(implicitly unwrapped optionals): ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨è§£æçš„å¯é€‰ç±»å‹let possibleString: String? = "An optional string."let forcedString: String = possibleString! // éœ€è¦æƒŠå¹å·æ¥è·å–å€¼let assumedString: String! = "An implicitly unwrapped optional string."let implicitString: String = assumedString // ä¸éœ€è¦æ„Ÿå¹å·if assumedString != nil &#123; print(assumedString)&#125; 13 é”™è¯¯å¤„ç†1234567891011121314151617181920212223func canThrowAnErrow() throws &#123; // è¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯&#125;do &#123; try canThrowAnErrow() // æ²¡æœ‰é”™è¯¯æ¶ˆæ¯æŠ›å‡º&#125; catch &#123; // æœ‰ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯æŠ›å‡º&#125;enum myError: Error &#123; case OutOfCleanDishes case MissingIngredients&#125;func makeASandwich() throws &#123; // ... throw myError.OutOfCleanDishes&#125;do &#123; try makeASandwich()&#125; catch myError.OutOfCleanDishes &#123; // washDishes()&#125; catch myError.MissingIngredients&#123; // buyGroceries&#125; 14 æ–­è¨€(assertion)12let age = -3//assert(age &gt;= 0, "A person's age cannot be less than zero") playgroundæ–‡ä»¶åœ¨andyRon/LearnSwift]]></content>
      <categories>
        <category>swift</category>
      </categories>
  </entry>
</search>
